/* VimeoPlayer - v4.43.10 - 2025-08-18 - https://player.vimeo.com/NOTICE.txt */
!function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var i=n((function(t,n){
/*!
     * @overview es6-promise - a tiny implementation of Promises/A+.
     * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
     * @license   Licensed under MIT license
     *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
     * @version   v4.2.6+9869a4bc
     */
t.exports=function(){function t(t){return"function"==typeof t}var n;n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var i=n,r=0,o=void 0,s=void 0,a=function(t,e){p[r]=t,p[r+1]=e,2===(r+=2)&&(s?s(v):_())};var u="undefined"!=typeof window?window:void 0,l=u||{},c=l.MutationObserver||l.WebKitMutationObserver,d="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<r;t+=2)(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0;r=0}var _=void 0;function m(t,e){var n=this,i=new this.constructor(g);void 0===i[y]&&P(i);var r=n._;if(r){var o=arguments[r-1];a((function(){return R(r,i,o,n.C)}))}else I(n,i,t,e);return i}function b(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(g);return A(e,t),e}_=d?function(){return process.nextTick(v)}:c?function(){var t=0,e=new c(v),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():h?function(){var t=new MessageChannel;return t.port1.onmessage=v,function(){return t.port2.postMessage(0)}}():void 0===u?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(v)}:f()}catch(t){return f()}}():f();var y=Math.random().toString(36).substring(2);function g(){}var w=void 0,T=1,C=2,E={error:null};function k(t){try{return t.then}catch(t){return E.error=t,E}}function S(e,n,i){n.constructor===e.constructor&&i===m&&n.constructor.resolve===b?function(t,e){e._===T?M(t,e.C):e._===C?O(t,e.C):I(e,void 0,(function(e){return A(t,e)}),(function(e){return O(t,e)}))}(e,n):i===E?(O(e,E.error),E.error=null):void 0===i?M(e,n):t(i)?function(t,e,n){a((function(t){var i=!1,r=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(n,e,(function(n){i||(i=!0,e!==n?A(t,n):M(t,n))}),(function(e){i||(i=!0,O(t,e))}),t.S);!i&&r&&(i=!0,O(t,r))}),t)}(e,n,i):M(e,n)}function A(t,e){t===e?O(t,new TypeError("You cannot resolve a promise with itself")):function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}(e)?S(t,e,k(e)):M(t,e)}function N(t){t.N&&t.N(t.C),L(t)}function M(t,e){t._===w&&(t.C=e,t._=T,0!==t.M.length&&a(L,t))}function O(t,e){t._===w&&(t._=C,t.C=e,a(N,t))}function I(t,e,n,i){var r=t.M,o=r.length;t.N=null,r[o]=e,r[o+T]=n,r[o+C]=i,0===o&&t._&&a(L,t)}function L(t){var e=t.M,n=t._;if(0!==e.length){for(var i=void 0,r=void 0,o=t.C,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?R(n,i,r,o):r(o);t.M.length=0}}function R(e,n,i,r){var o=t(i),s=void 0,a=void 0,u=void 0,l=void 0;if(o){if((s=function(t,e){try{return t(e)}catch(t){return E.error=t,E}}(i,r))===E?(l=!0,a=s.error,s.error=null):u=!0,n===s)return void O(n,new TypeError("A promises callback cannot return that same promise."))}else s=r,u=!0;n._!==w||(o&&u?A(n,s):l?O(n,a):e===T?M(n,s):e===C&&O(n,s))}var x=0;function P(t){t[y]=x++,t._=void 0,t.C=void 0,t.M=[]}var D=function(){function t(t,e){this.O=t,this.promise=new t(g),this.promise[y]||P(this.promise),i(e)?(this.length=e.length,this.I=e.length,this.C=new Array(this.length),0===this.length?M(this.promise,this.C):(this.length=this.length||0,this.L(e),0===this.I&&M(this.promise,this.C))):O(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype.L=function(t){for(var e=0;this._===w&&e<t.length;e++)this.R(t[e],e)},t.prototype.R=function(t,e){var n=this.O,i=n.resolve;if(i===b){var r=k(t);if(r===m&&t._!==w)this.P(t._,e,t.C);else if("function"!=typeof r)this.I--,this.C[e]=t;else if(n===B){var o=new n(g);S(o,t,r),this.D(o,e)}else this.D(new n((function(e){return e(t)})),e)}else this.D(i(t),e)},t.prototype.P=function(t,e,n){var i=this.promise;i._===w&&(this.I--,t===C?O(i,n):this.C[e]=n),0===this.I&&M(i,this.C)},t.prototype.D=function(t,e){var n=this;I(t,void 0,(function(t){return n.P(T,e,t)}),(function(t){return n.P(C,e,t)}))},t}();var B=function(){function e(t){this[y]=x++,this.C=this._=void 0,this.M=[],g!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){A(t,e)}),(function(e){O(t,e)}))}catch(e){O(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this,i=n.constructor;return t(e)?n.then((function(t){return i.resolve(e()).then((function(){return t}))}),(function(t){return i.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();return B.prototype.then=m,B.all=function(t){return new D(this,t).promise},B.race=function(t){var e=this;return i(t)?new e((function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},B.resolve=b,B.reject=function(t){var e=new this(g);return O(e,t),e},B.B=function(t){s=t},B.$=function(t){a=t},B.V=a,B.polyfill=function(){var t=void 0;if(void 0!==e)t=e;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var i=null;try{i=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===i&&!n.cast)return}t.Promise=B},B.Promise=B,B}()}));const r=window.Promise||i;r.allSettled||(r.allSettled=t=>r.all(t.map((t=>t.then((t=>({status:"fulfilled",value:t}))).catch((t=>({status:"rejected",reason:t})))))));let o=window.Array.from;const s=[1];"function"==typeof o&&o(s)===s&&(o=!1);const a=o||function(t){return[].slice.call(t,0)};var u,l,c,d,h={object:!0,symbol:!0},f=function(t){return null!=t},p=Object.keys,v=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}()?Object.keys:function(t){return p(f(t)?Object(t):t)},_=Math.max,m=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}()?Object.assign:function(t,e){var n,i,r,o=_(arguments.length,2);for(t=Object(function(t){if(!f(t))throw new TypeError("Cannot use null or undefined");return t}(t)),r=function(i){try{t[i]=e[i]}catch(t){n||(n=t)}},i=1;i<o;++i)v(e=arguments[i]).forEach(r);if(void 0!==n)throw n;return t},b=Array.prototype.forEach,y=Object.create,g=function(t){var e=y(null);return b.call(arguments,(function(t){f(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)})),e},w=function(t){return"function"==typeof t},T="razdwatrzy",C=String.prototype.indexOf,E="function"==typeof T.contains&&!0===T.contains("dwa")&&!1===T.contains("foo")?String.prototype.contains:function(t){return C.call(this,t,arguments[1])>-1},k=n((function(t){var e;e=t.exports=function(t,e){var n,i,r,o,s;return arguments.length<2||"string"!=typeof t?(o=e,e=t,t=null):o=arguments[2],null==t?(n=r=!0,i=!1):(n=E.call(t,"c"),i=E.call(t,"e"),r=E.call(t,"w")),s={value:e,configurable:n,enumerable:i,writable:r},o?m(g(o),s):s},e.gs=function(t,e,n){var i,r,o,s;return"string"!=typeof t?(o=n,n=e,e=t,t=null):o=arguments[3],null==e?e=void 0:w(e)?null==n?n=void 0:w(n)||(o=n,n=void 0):(o=e,e=n=void 0),null==t?(i=!0,r=!1):(i=E.call(t,"c"),r=E.call(t,"e")),s={get:e,set:n,configurable:i,enumerable:r},o?m(g(o),s):s}})),S=function(t){if(!function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&"Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag])}(t))throw new TypeError(t+" is not a symbol");return t},A=Object.create,N=Object.defineProperties,M=Object.defineProperty,O=Object.prototype,I=A(null);if("function"==typeof Symbol){u=Symbol;try{String(u()),d=!0}catch(t){}}var L=function(){var t=A(null);return function(e){for(var n,i,r=0;t[e+(r||"")];)++r;return t[e+=r||""]=!0,M(O,n="@@"+e,k.gs(null,(function(t){i||(i=!0,M(this,n,k(t)),i=!1)}))),n}}();c=function(t){if(this instanceof c)throw new TypeError("TypeError: Symbol is not a constructor");return l(t)};var R=l=function t(e){var n;if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");return d?u(e):(n=A(c.prototype),e=void 0===e?"":String(e),N(n,{H:k("",e),F:k("",L(e))}))};N(l,{for:k((function(t){return I[t]?I[t]:I[t]=l(String(t))})),keyFor:k((function(t){var e;for(e in S(t),I)if(I[e]===t)return e})),hasInstance:k("",u&&u.hasInstance||l("hasInstance")),isConcatSpreadable:k("",u&&u.isConcatSpreadable||l("isConcatSpreadable")),iterator:k("",u&&u.iterator||l("iterator")),match:k("",u&&u.match||l("match")),replace:k("",u&&u.replace||l("replace")),search:k("",u&&u.search||l("search")),species:k("",u&&u.species||l("species")),split:k("",u&&u.split||l("split")),toPrimitive:k("",u&&u.toPrimitive||l("toPrimitive")),toStringTag:k("",u&&u.toStringTag||l("toStringTag")),unscopables:k("",u&&u.unscopables||l("unscopables"))}),N(c.prototype,{constructor:k(l),toString:k("",(function(){return this.F}))}),N(l.prototype,{toString:k((function(){return"Symbol ("+S(this).H+")"})),valueOf:k((function(){return S(this)}))}),M(l.prototype,l.toPrimitive,k("",(function(){var t=S(this);return"symbol"==typeof t?t:t.toString()}))),M(l.prototype,l.toStringTag,k("c","Symbol")),M(c.prototype,l.toStringTag,k("c",l.prototype[l.toStringTag])),M(c.prototype,l.toPrimitive,k("c",l.prototype[l.toPrimitive]));var x=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!h[typeof Symbol.iterator]&&!!h[typeof Symbol.toPrimitive]&&!!h[typeof Symbol.toStringTag]}()?Symbol:R;if(function(){for(var t=["webkit","moz"],e=0;e<t.length&&!window.requestAnimationFrame;++e){var n=t[e];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]}!/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)&&window.requestAnimationFrame&&window.cancelAnimationFrame||(window.requestAnimationFrame=function(t){return setTimeout(t,0)},window.cancelAnimationFrame=clearTimeout)}(),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),"undefined"!=typeof DOMTokenList&&!function(){const t=document.createElement("div");return t.classList.toggle("test-class",!1),!t.classList.contains("test-class")}()){const t=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,n){!0!==n?!1!==n?t.call(this,e):this.remove(e):this.add(e)}}"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){for(var e=Object(this),n=e.length>>>0,i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return o;r++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){for(var e=Object(this),n=e.length>>>0,i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return r;r++}return-1}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;var r=0|e,o=Math.max(r>=0?r:i-Math.abs(r),0);function s(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}for(;o<i;){if(s(n[o],t))return!0;o++}return!1}}),String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Object.values||(Object.values=t=>Object.keys(t).map((e=>t[e]))),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.slice(e||0,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t}),Number.isNaN=Number.isNaN||function(t){return"number"==typeof t&&t!=t},void 0===Number.parseFloat&&(Number.parseFloat=window.parseFloat),void 0===Number.parseInt&&(Number.parseInt=window.parseInt),void 0===Number.isFinite&&(Number.isFinite=function(t){return"number"==typeof t&&isFinite(t)}),Array.prototype.entries||(Array.prototype.entries=function(){var t,e=this,n=0;function i(){}return i.prototype.next=function(){return n>e.length-1&&(t=!0),t?{value:void 0,done:!0}:{value:[n,e[n++]],done:!1}},i.prototype[x.iterator]=function(){return this},new i}),Array.prototype[x.iterator]||(Array.prototype[x.iterator]=function(){var t,e=this,n=0;function i(){}return i.prototype.next=function(){return n>e.length-1&&(t=!0),t?{value:void 0,done:!0}:{value:e[n++],done:!1}},i.prototype[x.iterator]=function(){return this},new i}),Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,i=new Array(n);n--;)i[n]=[e[n],t[e[n]]];return i}),Object.is||Object.defineProperty(Object,"is",{value:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}}),"classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){var t=this;return{contains:function(e){return-1!==t.className.baseVal.split(" ").indexOf(e)},add:function(e){var n=(t.getAttribute("class")+" "+e).trim();return t.setAttribute("class",n)},remove:function(e){var n=t.getAttribute("class")||"",i=new RegExp("(?:^|\\s)"+e+"(?!\\S)","g");n=n.replace(i,"").trim(),t.setAttribute("class",n)},toggle:function(t){this.contains(t)?this.remove(t):this.add(t)}}}});const P={MANIFEST:"manifest",SEGMENT:"segment"},D={method:"GET",async:!0,retry:0,throwHttpErrors:!0,headers:{},hooks:{beforeRequest:[],beforeRetry:[],afterResponse:[]},validateStatus:function(t){return t>=200&&t<300},retryStatus:function(t){return[408,413,429].includes(t)||t>=500&&t<600}};function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function $(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function V(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function j(t,e){return t.get($(t,e))}function H(t,e,n){V(t,e),e.set(t,n)}function F(t,e,n){return t.set($(t,e),n),n}function U(t,e){V(t,e),e.add(t)}function z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,nt(i.key),i)}}function X(t,e,n){return e&&z(t.prototype,e),n&&z(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function G(t,e,n){return(e=nt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function q(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tt(t,e)}function Y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Y=function(){return!!t})()}function K(t){if(null==t)throw new TypeError("Cannot destructure "+t)}function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function J(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tt(t,e){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tt(t,e)}function et(t){return function(t){if(Array.isArray(t))return B(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||it(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}function it(t,e){if(t){if("string"==typeof t)return B(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(t,e):void 0}}function rt(t){var e="function"==typeof Map?new Map:void 0;return rt=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(Y())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(t.bind.apply(t,i));return n&&tt(r,n.prototype),r}(t,arguments,W(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),tt(n,t)},rt(t)}function ot(t){return(e,...n)=>(n.forEach((n=>{for(const i in n){const r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,Object.assign(r,t))}})),e)}const st=ot({enumerable:!1,configurable:!0,writeable:!1}),at=ot({enumerable:!1,configurable:!1,writeable:!1}),ut=ot({enumerable:!0,configurable:!0,writeable:!1}),lt=t=>new r((e=>setTimeout(e,t)));let ct="";const dt={defer:!0,async:!0};function ht(t,e={}){e=Object.assign({},dt,e);let n=window.vpimport__=window.vpimport__||{cache:{}};if(n.cache[t])return n.cache[t]._promise;const i=new r((function(i,r){const o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.src=ct+t,s.defer=e.defer,s.async=e.async,s.onload=()=>{const e=Object.keys(n).filter((t=>"cache"!==t))[0];n.cache[t]._module=n[e],delete n[e],i(n.cache[t]._module),o.removeChild(s)},s.onerror=function(e){r(e),delete n.cache[t],o.removeChild(s)},o.appendChild(s)}));return n.cache[t]={_promise:i},i}const ft=t=>Math.pow(t,2),pt=t=>Math.sqrt(t),vt=(t,e)=>{const n=(n,...i)=>{[`%c${t}`,e].concat(i)},i=t=>(...e)=>{n.apply(void 0,[t].concat(e))},r=i("log"),o=(...t)=>{r.apply(void 0,t)};return Object.assign(o,{log:r,warn:i("warn"),error:i("error")}),o};function _t(t,...e){return e.reduce(((t,e)=>(Object.keys(e||{}).forEach((n=>{const i=t[n],r=e[n];i&&void 0===r||(Array.isArray(r)?t[n]=(i||[]).concat(r):(t=>t&&"object"==typeof t)(r)?t[n]=_t({},i,r):t[n]=r)})),t)),t)}const mt=(t=!1)=>t?window.MediaSource:bt,bt=void 0!==window.ManagedMediaSource?window.ManagedMediaSource:window.MediaSource,yt=navigator.userAgent.toLowerCase(),gt=["googlebot","google-inspectiontool"],wt=["bingbot","bingpreview","yandex","slurp","facebookexternalhit","msnbot","feedly","parse.ly"];function Tt(t){t=t.toLowerCase();const e=new RegExp(t).test(yt);return"safari"===t?e&&new RegExp("version").test(yt):e}function Ct(t){const e=document.createElement("div"),n=t.charAt(0).toUpperCase()+t.slice(1),i=(t+" "+["Webkit","Moz","O","ms"].join(n+" ")+n).split(" ");for(let t in i){const n=i[t];if(void 0!==e.style[n])return n}return t}const Et=!!Tt("android")&&(parseFloat(yt.replace(/^.* android (\d+)\.(\d+).*$/,"$1.$2"))||!0),kt=window.devicePixelRatio||1,St=!(!Tt("windows phone")&&!Tt("iemobile"))&&(parseFloat(yt.replace(/^.* windows phone (os )?(\d+)\.(\d+).*$/,"$2.$3"))||!0),At=!!Tt("msie")&&parseFloat(yt.replace(/^.*msie (\d+).*$/,"$1")),Nt=!!Tt("trident")&&parseFloat(yt.replace(/^.*trident\/(\d+)\.(\d+).*$/,"$1.$2"))+4,Mt=Tt("ipad;")||Tt("iphone;")||Tt("ipod touch;")?parseFloat(yt.replace(/^.* os (\d+)_(\d+).*$/,"$1.$2")):navigator.userAgent.includes("Mac")&&"ontouchend"in document,Ot=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/i.test(navigator.userAgent),It="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,Lt=Tt("opera")||Tt("opr"),Rt=/^Mozilla\/5\.0 \(.* Mac OS X.*\(KHTML, like Gecko\)(?: Mobile\/[\S]*|)$/i.test(yt),xt=(Tt("safari")||Ot)&&Tt("apple")&&!Tt("chrome")&&!Tt("android");function Pt(t){if(!xt)return!1;const e=t.split("."),n=function(){if(!Tt("safari"))return[];const t=yt.split(" ").find((function(t){return/version\//.test(t)}));return t?t.replace("version/","").split(".").map((function(t){return parseInt(t,10)})):[]}();for(let t=0;t<3;t++){const i=parseInt(e[t],10)||0,r=n[t]||0;if(i<r)return!0;if(i>r)return!1}return!0}const Dt={autoplayPolicy:Pt("11"),hevc:Pt("11"),dolbyVision:Pt("14.1"),spatial:Pt("11.0.2"),fullscreenRequiresDataLoaded:Pt("17.2")},Bt={airPlay:"WebKitPlaybackTargetAvailabilityEvent"in window,android:Et,appleMail:Rt,hasAutoplayPolicy:Et||Mt||Dt.autoplayPolicy||function(){if(!Tt("chrome"))return[];const t=yt.split(" ").find((function(t){return Mt?/CriOS\//.test(t):/chrome\//.test(t)}));return t?t.replace("chrome/","").split(".").map((function(t){return parseInt(t,10)})):[]}()[0]>=66,iOS:Mt,iPadOS:It,mobileAndroid:Et&&Tt("mobile"),browser:{bb10:Tt("bb10"),chrome:Tt("chrome"),firefox:Tt("firefox"),ie:At||Nt,edge:Tt("edge"),opera:Lt,safari:xt,chromium:"chrome"in window&&!Tt("crios"),webKit:xt||Tt("crios")},mse:bt,devicePixelRatio:kt,iPhone:Tt("iphone;")||Tt("ipod touch;")||Tt("ipod;"),iPad:Tt("ipad;"),iPadNonRetina:Tt("ipad;")&&kt<2,mac:Tt("mac os"),navigatorConnection:window.navigator.connection,pictureInPictureSupportType:function(){if("pictureInPictureEnabled"in document)return"pip-api";const t=document.createElement("video");return!("function"!=typeof t.webkitSetPresentationMode||!t.webkitSupportsPresentationMode("picture-in-picture"))&&"webkit-presentation-mode"}(),pointerEvents:window.navigator.pointerEnabled||window.navigator.msPointerEnabled||!1,passiveEvents:function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(t){}return t}(),svg:!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||Tt("windows phone")||window.navigator.maxTouchPoints>1||window.navigator.msMaxTouchPoints||!1,transformProperty:Ct("transform"),transitionProperty:Ct("transition"),webp:function(){const t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}(),windowsPhone:St,mediaCapabilities:"mediaCapabilities"in navigator,webShare:"canShare"in navigator&&"share"in navigator,isGoogleBot:(()=>{const t=yt.toLowerCase();return gt.some((e=>t.includes(e)))})(),isCrawler:(()=>{const t=yt.toLowerCase();return wt.some((e=>t.includes(e)))})(),storageAccessAPI:"requestStorageAccess"in document&&"hasStorageAccess"in document,clipboardAPI:"clipboard"in navigator&&"write"in navigator.clipboard,videoContentPreload:!Tt("iphone"),intersectionObserver:"IntersectionObserver"in window},$t=/mac os x 10_13/.test(yt),Vt=Bt.iOS&&Bt.iOS>=11,jt="undefined"!=typeof matchMedia&&(matchMedia("(color-gamut: p3)").matches&&screen.pixelDepth>24||matchMedia("(dynamic-range: high), (video-dynamic-range: high)").matches);Bt.hevc=function(t="hvc1"){return void 0!==bt?bt.isTypeSupported(`video/mp4; codecs="${t}"`):Dt.hevc&&($t||Vt)}("hvc1.2.4.H150.90"),Bt.hdr=jt,Bt.dolbyVision=function(){const t='video/mp4; codecs="dvh1"';let e=void 0!==bt&&bt.isTypeSupported(t);if(!e){const n=document.createElement("video");"canPlayType"in n&&(e="probably"===n.canPlayType(t))}return!((It||Bt.iOS)&&!Dt.dolbyVision)&&e}(),Bt.vp9hdr=(window.matchMedia("(color-gamut: p3)").matches||window.matchMedia("(color-gamut: rec2020)").matches)&&screen.colorDepth>=48&&(bt.isTypeSupported('video/webm; codecs="vp09.02.10.10.01.09.16.09.00"')||bt.isTypeSupported('video/webm; codecs="vp09.02.10.10.01.09.16.09.01"')||bt.isTypeSupported('video/webm; codecs="vp09.02.10.10.01.09.18.09.00"')||bt.isTypeSupported('video/webm; codecs="vp09.02.10.10.01.09.18.09.01"')),Bt.av1=void 0!==bt&&bt.isTypeSupported('video/mp4; codecs="av01.0.31M.08.0.110.01.01.01.0"'),Bt.webvr=!(!window.navigator||!("getVRDisplays"in window.navigator)),Bt.webxr=!!(window.navigator&&"xr"in window.navigator&&"supportsSession"in window.navigator.xr),Bt.spatialPlayback=!!Bt.mse,Bt.stereoscopic=Bt.spatialPlayback&&Bt.mobileAndroid,Bt.fullscreenRequiresDataLoaded=Bt.iOS>=17||Bt.iPadOS&&Dt.fullscreenRequiresDataLoaded;const Ht=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(t){return new r((e=>{const{cleanup:n}=Ft(t,(t=>{t&&(e(),n())}))}))}));function Ft(t,e){let n=!0,i=!0;function r(){return i=n&&"visible"===document.visibilityState,i}if(!Bt.intersectionObserver)return null==e||e(!0),{cleanup:()=>{},isInView:!0};const o=new IntersectionObserver((t=>{const[o]=t;n=!(null==o||!o.isIntersecting),r(),null==e||e(i)}),{threshold:.5});o.observe(t);const s=()=>{r(),null==e||e(i)};return document.addEventListener("visibilitychange",s),{cleanup:()=>{o.disconnect(),document.removeEventListener("visibilitychange",s)},get isInView(){return i}}}function Ut(){let t,e,n=new r(((n,i)=>{t=n,e=i}));return Object.assign(n,{resolve:t,reject:e}),n}function zt(t,e){if(!e||!e.length)return 0;if(1===e.length&&e.end(0)-e.start(0)<1e-6)return 0;let n=0;for(let i=e.length-1;i>=0&&e.end(i)>t;--i)n+=e.end(i)-Math.max(e.start(i),t);return n}function Xt(t,e){let n=t;for(let i=0;i<e.length;i++)if(e.start(i)<=t&&e.end(i)>=t){n=e.end(i);break}return n-t}function Gt(){return void 0!==window.performance&&"function"==typeof window.performance.now?window.performance.now():Date.now()}function Wt(){return Math.trunc(Gt()/1e3)}function qt(t){return Wt()-t}function Yt(t){return Gt()-t}function Kt(t){try{const e=new URLSearchParams;return Object.entries(t).forEach((([t,n])=>{void 0!==n&&e.append(t,String(n))})),e.toString()}catch(t){return""}}function Zt(t){if("string"!=typeof t)return{};try{const e=new URLSearchParams(t),n={};return e.forEach(((t,e)=>{n[e]=t})),n}catch(t){return{}}}const Qt=(t,e,n=!1)=>{try{const i=new URL(t);return Object.entries(e).forEach((([t,e])=>{n&&void 0===e||i.searchParams.set(t,(null==e?void 0:e.toString())??"")})),i.toString()}catch(e){return t}},Jt=t=>{try{const{username:e,password:n,host:i}=new URL(t);return i?e||n?`${e}:${n}@${i}`:i:null}catch(t){return null}};function te(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^16*Math.random()>>t/4).toString(16)))}const ee=()=>{const t=Bt.navigatorConnection;return t?1e3*(null==t?void 0:t.downlink)*1e3:null};function ne(t,e){this.headers={},this.perfTimings={},_t(this,e),this.ok=2==(this.status/100|0),this.body=t,this.text=()=>r.resolve(t),this.json=()=>r.resolve(JSON.parse(t)),this.blob=()=>r.resolve(new Blob([t])),this.arrayBuffer=()=>r.resolve(t),this.clone=()=>new ne(t,this),this.isVimeoResponse=!0}let ie=function(t){function e(){var e;return(e=t.call(this,"The operation was aborted.")||this).name="AbortError",e}return q(e,t),e}(rt(Error)),re=function(t){function e(e){var n;return(n=t.call(this,e.statusText)||this).name="HTTPError",n.response=e,n}return q(e,t),e}(rt(Error)),oe=function(t){function e(){var e;return(e=t.call(this,"A network error occurred.")||this).name="NetworkError",e}return q(e,t),e}(rt(Error)),se=function(t){function e(e){var n;return(n=t.call(this,"Request timed out.")||this).name="TimeoutError",n.timeoutMs=e,n}return q(e,t),e}(rt(Error));function ae(t,e){let{url:n,method:i,body:o,onDownloadProgress:s}=t,a=100;return new r((function(r,u){const l=e?new e:new XMLHttpRequest,c=window.performance;l.open(i.toUpperCase(),n,t.async),t.timeout&&(l.timeout=t.timeout),l.onload=function(){if(0===l.status&&(!l.responseURL||0!==l.responseURL.indexOf("file:")))return;const t={};l.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,((e,n,i)=>{t[n]=t[n]?`${t[n]},${i}`:i}));let e={};if(window.performance&&void 0!==window.performance.getEntriesByType){const t=window.performance.getEntriesByType("resource");if(t.length&&t.length>=a&&("function"==typeof c.clearResourceTimings&&c.clearResourceTimings(),"function"==typeof c.setResourceTimingBufferSize&&(c.setResourceTimingBufferSize(500),a=500)),t.length){const n=t.filter((t=>t.name===l.responseURL)).sort(((t,e)=>t.connectStart-e.connectStart));n.length&&(e=n[n.length-1].toJSON())}}r(new ne(l.response,{headers:t,statusText:l.statusText,status:l.status,url:l.responseURL,perfTimings:e}))},l.onabort=function(){u(new ie)},l.onerror=function(){u(new oe)},l.ontimeout=function(){u(new se(t.timeout))},"function"==typeof s&&l.addEventListener("progress",s);for(let e in t.headers)l.setRequestHeader(e,t.headers[e]);t.withCredentials&&(l.withCredentials=!0),t.responseType&&(l.responseType=t.responseType),t.abort=l.abort.bind(l),l.send(o||null)}))}function ue(){}function le(t,e,n){if(!t.s){if(n instanceof ce){if(!n.s)return void(n.o=le.bind(null,t,e));1&e&&(e=n.s),n=n.v}if(n&&n.then)return void n.then(le.bind(null,t,e),le.bind(null,t,2));t.s=e,t.v=n;const i=t.o;i&&i(t)}}const ce=function(){function t(){}return t.prototype.then=function(e,n){const i=new t,r=this.s;if(r){const t=1&r?e:n;if(t){try{le(i,1,t(this.v))}catch(t){le(i,2,t)}return i}return this}return this.o=function(t){try{const r=t.v;1&t.s?le(i,1,e?e(r):r):n?le(i,1,n(r)):le(i,2,r)}catch(t){le(i,2,t)}},i},t}();function de(t){return t instanceof ce&&1&t.s}function he(t){const e=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(i){return function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}(i,(function(o){let s=!1;const a=function(e){if(!t.retryAbortErrors&&e instanceof ie)return 0;if(e instanceof se)return 0;if(n>=t.retry)return 0;if(e instanceof re){if(!t.retryStatus(e.response.status))return 0;const n=function(t){const e="retry-after".toLowerCase();for(const n in t)if(n.toLowerCase()===e)return t[n];return null}(e.response.headers);if(n&&t.retryStatus(e.response.status)){let t=Number(n);return isNaN(t)?t=Date.parse(n)-Date.now():t*=1e3,t}if(413===e.response.status)return 0}return.3*2**(n-1)*1e3}(o);return n++,function(u,l){var c=function(){if(0!==a&&n>0)return function(t,e){return void 0?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}(lt(a),(function(){var a;const u=(null==t||null==(a=t.hooks)?void 0:a.beforeRetry)||[];return function(t,e){return t&&t.then?t.then(e):e(t)}(function(t,e,n){var i,r,o=-1;return function s(a){try{for(;++o<t.length&&(!n||!n());)if((a=e(o))&&a.then){if(!de(a))return void a.then(s,r||(r=le.bind(null,i=new ce,2)));a=a.v}i?le(i,1,a):i=a}catch(t){le(i||(i=new ce),2,t)}}(),i}(u,(function(e){return function(t){if(!void 0)return t&&t.then?t.then(ue):r.resolve()}((0,u[e])(t,o,n))})),(function(){const t=e(i);return s=!0,t}))}))}();return c&&c.then?c.then(l):l(c)}(0,(function(e){if(s)return e;if(t.throwHttpErrors)throw o}))}))}));let n=0;return e}function fe(t,e){const n=t.then.bind(t);return Object.assign(t,{abort:e,then:(...t)=>fe(n.apply(void 0,t),e)})}function pe(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function ve(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function _e(t,e,n){if(!t.s){if(n instanceof me){if(!n.s)return void(n.o=_e.bind(null,t,e));1&e&&(e=n.s),n=n.v}if(n&&n.then)return void n.then(_e.bind(null,t,e),_e.bind(null,t,2));t.s=e,t.v=n;const i=t.o;i&&i(t)}}const me=function(){function t(){}return t.prototype.then=function(e,n){const i=new t,r=this.s;if(r){const t=1&r?e:n;if(t){try{_e(i,1,t(this.v))}catch(t){_e(i,2,t)}return i}return this}return this.o=function(t){try{const r=t.v;1&t.s?_e(i,1,e?e(r):r):n?_e(i,1,n(r)):_e(i,2,r)}catch(t){_e(i,2,t)}},i},t}();function be(t){return t instanceof me&&1&t.s}function ye(t,e,n){var i,r,o=-1;return function s(a){try{for(;++o<t.length&&(!n||!n());)if((a=e(o))&&a.then){if(!be(a))return void a.then(s,r||(r=_e.bind(null,i=new me,2)));a=a.v}i?_e(i,1,a):i=a}catch(t){_e(i||(i=new me),2,t)}}(),i}function ge(t,e){return t&&t.then?t.then(e):e(t)}const we=["get","post","put","patch","head","delete"],Te={json:"application/json",text:"text/plain",arrayBuffer:"*/*",blob:"*/*"},Ce=["get"];function Ee(t,e){const n=ve((function(){let t=!1,n=!1;const i=e.hooks.beforeRequest||[];return ge(ye(i,(function(o){return pe((0,i[o])(e),(function(i){if(i instanceof ke)return e=i,void(n=!0);if(null!=i&&i.isVimeoResponse){const n=r.resolve(i).then(Se(e));return t=!0,n}}))}),(function(){return n||t})),(function(n){return t?n:ae(e).then(Se(e))}))}));e=new ke(t,e);const{method:i,json:o,jwt:s,searchParams:a}=e;o&&(e.headers["Content-Type"]=Te.json,e.body=JSON.stringify(o)),s&&(e.headers.Authorization=`jwt ${s}`),a&&(e.url=Qt(e.url,a));const u=-1!==Ce.indexOf(i.toLowerCase())?he(e)(n):n();for(const t in Te)u[t]=ve((function(){return e.headers["Content-Type"]=Te[t],pe(u,(function(e){return e.clone()[t]()}))}));return fe(u,(()=>e.abort()))}function ke(t,e){_t(this,D,t="string"==typeof t?{url:t}:t,e)}function Se(t){const{validateStatus:e,throwHttpErrors:n,hooks:i}=t;return ve((function(r){const o=i.afterResponse||[];return ge(ye(o,(function(e){return pe((0,o[e])(t,r.clone()),(function(t){t instanceof ne&&(r=t)}))})),(function(){if(!e||e(r.status))return r;if(n)throw new re(r);return r}))}))}we.forEach((function(t){return Ee[t]=(e,n)=>Ee(e,Q({method:t},n)),Ee[t]}));const{get:Ae,post:Ne,put:Me,patch:Oe,head:Ie}=Ee,Le={ARRAY_BUFFER:"arraybuffer"};var Re=Object.freeze({__proto__:null,ContentTypes:P,defaults:D,requestMethods:we,responseTypes:Te,retryMethods:Ce,request:Ee,Request:ke,get:Ae,post:Ne,put:Me,patch:Oe,head:Ie,Response:ne,ResponseTypes:Le,AbortError:ie,HTTPError:re,NetworkError:oe,TimeoutError:se,xhr:ae});const xe=window.Map||function(){let t,e,n;const i=()=>{e=[],n=[]},r=n=>-1<(t=e.indexOf(n));return i(),{get size(){return e.length},has:r,clear:i,get:t=>n[e.indexOf(t)],keys:()=>e.slice(),values:()=>n.slice(),entries:()=>e.map(((t,e)=>[t,n[e]])),delete:i=>r(i)&&e.splice(t,1)&&!!n.splice(t,1),forEach(t,i){n.forEach(((n,r)=>t.call(i,n,e[r],this)))},set(i,o){return r(i)?n[t]=o:n[e.push(i)-1]=o,this}}};var Pe=Array.isArray,De="object"==typeof global&&global&&global.Object===Object&&global,Be="object"==typeof self&&self&&self.Object===Object&&self,$e=De||Be||Function("return this")(),Ve=$e.Symbol,je=Object.prototype,He=je.hasOwnProperty,Fe=je.toString,Ue=Ve?Ve.toStringTag:void 0,ze=Object.prototype.toString,Xe=Ve?Ve.toStringTag:void 0;function Ge(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Xe&&Xe in Object(t)?function(t){var e=He.call(t,Ue),n=t[Ue];try{t[Ue]=void 0;var i=!0}catch(t){}var r=Fe.call(t);return i&&(e?t[Ue]=n:delete t[Ue]),r}(t):function(t){return ze.call(t)}(t)}function We(t){return null!=t&&"object"==typeof t}function qe(t){return"symbol"==typeof t||We(t)&&"[object Symbol]"==Ge(t)}var Ye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ke=/^\w*$/;function Ze(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Qe(t){if(!Ze(t))return!1;var e=Ge(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var Je=$e["U"],tn=function(){var t=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),en=Function.prototype.toString;function nn(t){if(null!=t){try{return en.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var rn=/^\[object .+?Constructor\]$/,on=Function.prototype,sn=Object.prototype,an=on.toString,un=sn.hasOwnProperty,ln=RegExp("^"+an.call(un).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cn(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Ze(t)||function(t){return!!tn&&tn in t}(t))&&(Qe(t)?ln:rn).test(nn(t))}(n)?n:void 0}var dn=cn(Object,"create"),hn=Object.prototype.hasOwnProperty,fn=Object.prototype.hasOwnProperty;function pn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function vn(t,e){return t===e||t!=t&&e!=e}function _n(t,e){for(var n=t.length;n--;)if(vn(t[n][0],e))return n;return-1}pn.prototype.clear=function(){this.X=dn?dn(null):{},this.size=0},pn.prototype.delete=function(t){var e=this.has(t)&&delete this.X[t];return this.size-=e?1:0,e},pn.prototype.get=function(t){var e=this.X;if(dn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return hn.call(e,t)?e[t]:void 0},pn.prototype.has=function(t){var e=this.X;return dn?void 0!==e[t]:fn.call(e,t)},pn.prototype.set=function(t,e){var n=this.X;return this.size+=this.has(t)?0:1,n[t]=dn&&void 0===e?"__lodash_hash_undefined__":e,this};var mn=Array.prototype.splice;function bn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}bn.prototype.clear=function(){this.X=[],this.size=0},bn.prototype.delete=function(t){var e=this.X,n=_n(e,t);return!(n<0||(n==e.length-1?e.pop():mn.call(e,n,1),--this.size,0))},bn.prototype.get=function(t){var e=this.X,n=_n(e,t);return n<0?void 0:e[n][1]},bn.prototype.has=function(t){return _n(this.X,t)>-1},bn.prototype.set=function(t,e){var n=this.X,i=_n(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};var yn=cn($e,"Map");function gn(t,e){var n=t.X;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Tn(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(Tn.Cache||wn),n}wn.prototype.clear=function(){this.size=0,this.X={hash:new pn,map:new(yn||bn),string:new pn}},wn.prototype.delete=function(t){var e=gn(this,t).delete(t);return this.size-=e?1:0,e},wn.prototype.get=function(t){return gn(this,t).get(t)},wn.prototype.has=function(t){return gn(this,t).has(t)},wn.prototype.set=function(t,e){var n=gn(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Tn.Cache=wn;var Cn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,En=/\\(\\)?/g,kn=function(){var t=Tn((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Cn,(function(t,n,i,r){e.push(i?r.replace(En,"$1"):n||t)})),e}),(function(t){return 500===e.size&&e.clear(),t})),e=t.cache;return t}(),Sn=Ve?Ve.prototype:void 0,An=Sn?Sn.toString:void 0;function Nn(t){if("string"==typeof t)return t;if(Pe(t))return function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}(t,Nn)+"";if(qe(t))return An?An.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Mn(t){return null==t?"":Nn(t)}function On(t,e){return Pe(t)?t:function(t,e){if(Pe(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!qe(t))||Ke.test(t)||!Ye.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:kn(Mn(t))}function In(t){if("string"==typeof t||qe(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ln(t,e){for(var n=0,i=(e=On(e,t)).length;null!=t&&n<i;)t=t[In(e[n++])];return n&&n==i?t:void 0}function Rn(t,e,n){var i=null==t?void 0:Ln(t,e);return void 0===i?n:i}var xn="object"==typeof global&&global&&global.Object===Object&&global,Pn="object"==typeof self&&self&&self.Object===Object&&self,Dn=(xn||Pn||Function("return this")()).Symbol,Bn=Object.prototype,$n=Bn.hasOwnProperty,Vn=Bn.toString,jn=Dn?Dn.toStringTag:void 0,Hn=Object.prototype.toString,Fn=Dn?Dn.toStringTag:void 0;var Un=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object),zn=Function.prototype,Xn=Object.prototype,Gn=zn.toString,Wn=Xn.hasOwnProperty,qn=Gn.call(Object),Yn=function(){var t,e=("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()).Symbol;return"function"==typeof e?e.observable?t=e.observable:(t=e("observable"),e.observable=t):t="@@observable",t}(),Kn="@@redux/INIT";function Zn(t,e,n){var i;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(Zn)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var r=t,o=e,s=[],a=s,u=!1;function l(){a===s&&(a=s.slice())}function c(){return o}function d(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return l(),a.push(t),function(){if(e){e=!1,l();var n=a.indexOf(t);a.splice(n,1)}}}function h(t){if(!function(t){if(!function(t){return null!=t&&"object"==typeof t}(t)||"[object Object]"!=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Fn&&Fn in Object(t)?function(t){var e=$n.call(t,jn),n=t[jn];try{t[jn]=void 0;var i=!0}catch(t){}var r=Vn.call(t);return i&&(e?t[jn]=n:delete t[jn]),r}(t):function(t){return Hn.call(t)}(t)}(t))return!1;var e=Un(t);if(null===e)return!0;var n=Wn.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Gn.call(n)==qn}(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,o=r(o,t)}finally{u=!1}for(var e=s=a,n=0;n<e.length;n++)(0,e[n])();return t}return h({type:Kn}),(i={dispatch:h,subscribe:d,getState:c,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");r=t,h({type:Kn})}})[Yn]=function(){var t,e=d;return(t={subscribe:function(t){if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(c())}return n(),{unsubscribe:e(n)}}})[Yn]=function(){return this},t},i}function Qn(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}var Jn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function ti(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,i,r){var o,s=t(n,i,r),a=s.dispatch,u={getState:s.getState,dispatch:function(t){return a(t)}};return o=e.map((function(t){return t(u)})),a=Qn.apply(void 0,o)(s.dispatch),Jn({},s,{dispatch:a})}}}
/**
   * @license
   *
   * Portions of this polyfill are a derivative work of the Polymer project, which requires the following licence notice:
   *
   * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
   */var ei=window.WeakMap||function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+e+++"__"};return n.prototype.set=function(e,n){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Invalid value used as weak map key");var i=e[this.name];return i&&i[0]===e?i[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},n.prototype.get=function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},n.prototype.delete=function(t){var e=t[this.name];return!(!e||e[0]!==t||(e[0]=e[1]=void 0,0))},n.prototype.has=function(t){var e=t[this.name];return!!e&&e[0]===t},n}(),ni=new ei,ii=new ei;let ri=function(){function t(){H(this,ni,Object.create(null)),H(this,ii,void 0),G(this,"eventNames",(()=>Object.keys(j(ni,this)))),G(this,"fire",((t,...e)=>{if(!t)throw new Error("Tried to fire an undefined event.");if(t in j(ni,this)){const n=j(ni,this)[t].slice(0);for(let t=0,i=n.length;t<i;t++)if(n[t].apply(this,e),j(ii,this)){F(ii,this,!1);break}}return this})),G(this,"halt",(()=>(F(ii,this,!0),this))),G(this,"on",((t,e,n)=>{const i=[].concat(t);for(let t=0,r=i.length;t<r;t++){const r=i[t];if(!r)throw new Error("Tried to listen for an undefined event.");j(ni,this)[r]||(j(ni,this)[r]=[]),n?j(ni,this)[r].unshift(e):j(ni,this)[r].push(e)}return this})),G(this,"once",((t,e,n)=>{const i=(...n)=>{this.off(t,i),e.apply(this,n)};return i.handler=e,this.on(t,i,n)})),G(this,"off",((t,e)=>{if(!t)return F(ni,this,Object.create(null)),this;const n=[].concat(t);for(let t=0,i=n.length;t<i;t++){const i=n[t];if(!i)throw new Error("Tried to remove an undefined event.");if(i in j(ni,this)){const t=j(ni,this)[i];if(e){let n=t.indexOf(e);if(-1===n)for(let i=0,r=t.length;i<r;i++)if(t[i].handler===e){n=i;break}if(-1===n)return this;t.splice(n,1),0===t.length&&delete j(ni,this)[i]}else delete j(ni,this)[i]}}return this})),G(this,"prependOn",((t,e)=>this.on(t,e,!0)))}return t.extend=function(e){return Object.assign(e,new t),e},t}();function oi(t){var e=this.X=new bn(t);this.size=e.size}oi.prototype.clear=function(){this.X=new bn,this.size=0},oi.prototype.delete=function(t){var e=this.X,n=e.delete(t);return this.size=e.size,n},oi.prototype.get=function(t){return this.X.get(t)},oi.prototype.has=function(t){return this.X.has(t)},oi.prototype.set=function(t,e){var n=this.X;if(n instanceof bn){var i=n.X;if(!yn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.X=new wn(i)}return n.set(t,e),this.size=n.size,this};var si=function(){try{var t=cn(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function ai(t,e,n){"__proto__"==e&&si?si(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ui=Object.prototype.hasOwnProperty;function li(t,e,n){var i=t[e];ui.call(t,e)&&vn(i,n)&&(void 0!==n||e in t)||ai(t,e,n)}function ci(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=i?i(n[a],t[a],a,n,t):void 0;void 0===u&&(u=t[a]),r?ai(n,a,u):li(n,a,u)}return n}function di(t){return We(t)&&"[object Arguments]"==Ge(t)}var hi=Object.prototype,fi=hi.hasOwnProperty,pi=hi.propertyIsEnumerable,vi=di(function(){return arguments}())?di:function(t){return We(t)&&fi.call(t,"callee")&&!pi.call(t,"callee")},_i="object"==typeof t&&t&&!t.nodeType&&t,mi=_i&&"object"==typeof module&&module&&!module.nodeType&&module,bi=mi&&mi.exports===_i?$e.Buffer:void 0,yi=(bi?bi.isBuffer:void 0)||function(){return!1},gi=/^(?:0|[1-9]\d*)$/;function wi(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&gi.test(t))&&t>-1&&t%1==0&&t<e}function Ti(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var Ci={};function Ei(t){return function(e){return t(e)}}Ci["[object Float32Array]"]=Ci["[object Float64Array]"]=Ci["[object Int8Array]"]=Ci["[object Int16Array]"]=Ci["[object Int32Array]"]=Ci["[object Uint8Array]"]=Ci["[object Uint8ClampedArray]"]=Ci["[object Uint16Array]"]=Ci["[object Uint32Array]"]=!0,Ci["[object Arguments]"]=Ci["[object Array]"]=Ci["[object ArrayBuffer]"]=Ci["[object Boolean]"]=Ci["[object DataView]"]=Ci["[object Date]"]=Ci["[object Error]"]=Ci["[object Function]"]=Ci["[object Map]"]=Ci["[object Number]"]=Ci["[object Object]"]=Ci["[object RegExp]"]=Ci["[object Set]"]=Ci["[object String]"]=Ci["[object WeakMap]"]=!1;var ki="object"==typeof t&&t&&!t.nodeType&&t,Si=ki&&"object"==typeof module&&module&&!module.nodeType&&module,Ai=Si&&Si.exports===ki&&De.process,Ni=function(){try{return Si&&Si.require&&Si.require("util").types||Ai&&Ai.binding&&Ai.binding("util")}catch(t){}}(),Mi=Ni&&Ni.isTypedArray,Oi=Mi?Ei(Mi):function(t){return We(t)&&Ti(t.length)&&!!Ci[Ge(t)]},Ii=Object.prototype.hasOwnProperty;function Li(t,e){var n=Pe(t),i=!n&&vi(t),r=!n&&!i&&yi(t),o=!n&&!i&&!r&&Oi(t),s=n||i||r||o,a=s?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],u=a.length;for(var l in t)!e&&!Ii.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||wi(l,u))||a.push(l);return a}var Ri=Object.prototype;function xi(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ri)}function Pi(t,e){return function(n){return t(e(n))}}var Di=Pi(Object.keys,Object),Bi=Object.prototype.hasOwnProperty;function $i(t){if(!xi(t))return Di(t);var e=[];for(var n in Object(t))Bi.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Vi(t){return null!=t&&Ti(t.length)&&!Qe(t)}function ji(t){return Vi(t)?Li(t):$i(t)}var Hi=Object.prototype.hasOwnProperty;function Fi(t){return Vi(t)?Li(t,!0):function(t){if(!Ze(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=xi(t),n=[];for(var i in t)("constructor"!=i||!e&&Hi.call(t,i))&&n.push(i);return n}(t)}var Ui="object"==typeof t&&t&&!t.nodeType&&t,zi=Ui&&"object"==typeof module&&module&&!module.nodeType&&module,Xi=zi&&zi.exports===Ui?$e.Buffer:void 0,Gi=Xi?Xi.allocUnsafe:void 0;function Wi(t,e){if(e)return t.slice();var n=t.length,i=Gi?Gi(n):new t.constructor(n);return t.copy(i),i}function qi(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}function Yi(){return[]}var Ki=Object.prototype.propertyIsEnumerable,Zi=Object.getOwnPropertySymbols,Qi=Zi?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s)&&(o[r++]=s)}return o}(Zi(t),(function(e){return Ki.call(t,e)})))}:Yi;function Ji(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var tr=Pi(Object.getPrototypeOf,Object),er=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Ji(e,Qi(t)),t=tr(t);return e}:Yi;function nr(t,e,n){var i=e(t);return Pe(t)?i:Ji(i,n(t))}function ir(t){return nr(t,ji,Qi)}function rr(t){return nr(t,Fi,er)}var or=cn($e,"DataView"),sr=cn($e,"Promise"),ar=cn($e,"Set"),ur=cn($e,"WeakMap"),lr="[object Map]",cr="[object Promise]",dr="[object Set]",hr="[object WeakMap]",fr="[object DataView]",pr=nn(or),vr=nn(yn),_r=nn(sr),mr=nn(ar),br=nn(ur),yr=Ge;(or&&yr(new or(new ArrayBuffer(1)))!=fr||yn&&yr(new yn)!=lr||sr&&yr(sr.resolve())!=cr||ar&&yr(new ar)!=dr||ur&&yr(new ur)!=hr)&&(yr=function(t){var e=Ge(t),n="[object Object]"==e?t.constructor:void 0,i=n?nn(n):"";if(i)switch(i){case pr:return fr;case vr:return lr;case _r:return cr;case mr:return dr;case br:return hr}return e});var gr=yr,wr=Object.prototype.hasOwnProperty,Tr=$e.Uint8Array;function Cr(t){var e=new t.constructor(t.byteLength);return new Tr(e).set(new Tr(t)),e}var Er=/\w*$/,kr=Ve?Ve.prototype:void 0,Sr=kr?kr.valueOf:void 0;function Ar(t,e){var n=e?Cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Nr=Object.create,Mr=function(){function t(){}return function(e){if(!Ze(e))return{};if(Nr)return Nr(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Or(t){return"function"!=typeof t.constructor||xi(t)?{}:Mr(tr(t))}var Ir=Ni&&Ni.isMap,Lr=Ir?Ei(Ir):function(t){return We(t)&&"[object Map]"==gr(t)},Rr=Ni&&Ni.isSet,xr=Rr?Ei(Rr):function(t){return We(t)&&"[object Set]"==gr(t)},Pr="[object Arguments]",Dr="[object Function]",Br="[object Object]",$r={};function Vr(t,e,n,i,r,o){var s,a=1&e,u=2&e,l=4&e;if(n&&(s=r?n(t,i,r,o):n(t)),void 0!==s)return s;if(!Ze(t))return t;var c=Pe(t);if(c){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&wr.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!a)return qi(t,s)}else{var d=gr(t),h=d==Dr||"[object GeneratorFunction]"==d;if(yi(t))return Wi(t,a);if(d==Br||d==Pr||h&&!r){if(s=u||h?{}:Or(t),!a)return u?function(t,e){return ci(t,er(t),e)}(t,function(t,e){return t&&ci(e,Fi(e),t)}(s,t)):function(t,e){return ci(t,Qi(t),e)}(t,function(t,e){return t&&ci(e,ji(e),t)}(s,t))}else{if(!$r[d])return r?t:{};s=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return Cr(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,e){var n=e?Cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ar(t,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,Er.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return function(t){return Sr?Object(Sr.call(t)):{}}(t)}}(t,d,a)}}o||(o=new oi);var f=o.get(t);if(f)return f;o.set(t,s),xr(t)?t.forEach((function(i){s.add(Vr(i,e,n,i,t,o))})):Lr(t)&&t.forEach((function(i,r){s.set(r,Vr(i,e,n,r,t,o))}));var p=c?void 0:(l?u?rr:ir:u?Fi:ji)(t);return function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n););}(p||t,(function(i,r){p&&(i=t[r=i]),li(s,r,Vr(i,e,n,r,t,o))})),s}function jr(t){return Vr(t,5)}function Hr(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Fr(t){return t}$r[Pr]=$r["[object Array]"]=$r["[object ArrayBuffer]"]=$r["[object DataView]"]=$r["[object Boolean]"]=$r["[object Date]"]=$r["[object Float32Array]"]=$r["[object Float64Array]"]=$r["[object Int8Array]"]=$r["[object Int16Array]"]=$r["[object Int32Array]"]=$r["[object Map]"]=$r["[object Number]"]=$r[Br]=$r["[object RegExp]"]=$r["[object Set]"]=$r["[object String]"]=$r["[object Symbol]"]=$r["[object Uint8Array]"]=$r["[object Uint8ClampedArray]"]=$r["[object Uint16Array]"]=$r["[object Uint32Array]"]=!0,$r["[object Error]"]=$r[Dr]=$r["[object WeakMap]"]=!1;var Ur=Math.max;function zr(t,e,n){return e=Ur(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=Ur(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(s),Hr(t,this,a)}}function Xr(t){return function(){return t}}var Gr=si?function(t,e){return si(t,"toString",{configurable:!0,enumerable:!1,value:Xr(e),writable:!0})}:Fr,Wr=Date.now,qr=function(t){var e=0,n=0;return function(){var i=Wr(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Gr);function Yr(t,e){return qr(zr(t,e,Fr),t+"")}function Kr(t,e,n){(void 0!==n&&!vn(t[e],n)||void 0===n&&!(e in t))&&ai(t,e,n)}var Zr=function(t,e,n){for(var i=-1,r=Object(t),o=n(t),s=o.length;s--;){var a=o[++i];if(!1===e(r[a],a,r))break}return t},Qr=Function.prototype,Jr=Object.prototype,to=Qr.toString,eo=Jr.hasOwnProperty,no=to.call(Object);function io(t){if(!We(t)||"[object Object]"!=Ge(t))return!1;var e=tr(t);if(null===e)return!0;var n=eo.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&to.call(n)==no}function ro(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function oo(t,e,n,i,r){t!==e&&Zr(e,(function(o,s){if(r||(r=new oi),Ze(o))!function(t,e,n,i,r,o,s){var a=ro(t,n),u=ro(e,n),l=s.get(u);if(l)Kr(t,n,l);else{var c=o?o(a,u,n+"",t,e,s):void 0,d=void 0===c;if(d){var h=Pe(u),f=!h&&yi(u),p=!h&&!f&&Oi(u);c=u,h||f||p?Pe(a)?c=a:function(t){return We(t)&&Vi(t)}(a)?c=qi(a):f?(d=!1,c=Wi(u,!0)):p?(d=!1,c=Ar(u,!0)):c=[]:io(u)||vi(u)?(c=a,vi(a)?c=function(t){return ci(t,Fi(t))}(a):Ze(a)&&!Qe(a)||(c=Or(u))):d=!1}d&&(s.set(u,c),r(c,u,i,o,s),s.delete(u)),Kr(t,n,c)}}(t,e,s,n,oo,i,r);else{var a=i?i(ro(t,s),o,s+"",t,e,r):void 0;void 0===a&&(a=o),Kr(t,s,a)}}),Fi)}function so(t,e,n,i,r,o){return Ze(t)&&Ze(e)&&(o.set(e,t),oo(t,e,void 0,so,o),o.delete(e)),t}function ao(t){return Yr((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,s&&function(t,e,n){if(!Ze(n))return!1;var i=typeof e;return!!("number"==i?Vi(n)&&wi(e,n.length):"string"==i&&e in n)&&vn(n[e],t)}(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e}))}var uo=ao((function(t,e,n,i){oo(t,e,n,i)})),lo=Yr((function(t){return t.push(void 0,so),Hr(uo,void 0,t)}));const co={h264:"video/mp4",hls:"application/vnd.apple.mpegurl",hlsLive:"application/x-mpegURL",dash:"application/vnd.vimeo.dash+json",dashMpd:"video/vnd.mpeg.dash.mpd",vp6:"video/x-flv",vp8:"video/webm",webm:"video/webm",hds:"application/f4m"};let ho=function(t){function e(e){var n;return(n=t.call(this)||this).G=!1,n.W=!1,n.Y=e,n}q(e,t);var n=e.prototype;return n.showPicker=function(){},n.getFile=function(){var t;const e=this.constructor.displayName.replace("ExternalDisplay","");if(null!=(t=this.Y.externalDisplayFiles)&&t[e])return this.Y.externalDisplayFiles[e];const n=this.constructor.supportedVideoTypes,i=this.Y.files.filter((t=>-1!==n.indexOf(t.mime))).sort(((t,e)=>t.mime===e.mime?t.priority-e.priority:n.indexOf(t.mime)-n.indexOf(e.mime)));if(!i.length)throw new Error(`No files available for ${this.constructor.displayName} external display.`);return i[0]},X(e,[{key:"active",get:function(){return this.W}},{key:"available",get:function(){return this.G}},{key:"element",get:function(){return document.createElement("div")}}],[{key:"displayName",get:function(){return"ExternalDisplay"}},{key:"supported",get:function(){return!1}},{key:"supportedVideoTypes",get:function(){return[]}}])}(ri);const fo={ABORT:"abort",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",DURATION_CHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",ENTER_PICTURE_IN_PICTURE:"enterpictureinpicture",LEAVE_PICTURE_IN_PICTURE:"leavepictureinpicture",ERROR:"error",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOAD_START:"loadstart",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATE_CHANGE:"ratechange",RESIZE:"resize",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",WAITING:"waiting",WEBKIT_BEGIN_FULLSCREEN:"webkitbeginfullscreen",WEBKIT_END_FULLSCREEN:"webkitendfullscreen",WEBKIT_PRESENTATION_MODE_CHANGED:"webkitpresentationmodechanged"},po={ADD_TRACK:"addtrack",REMOVE_TRACK:"removetrack",CHANGE:"change"},vo={AVAILABLE:"externaldisplayavailable",UNAVAILABLE:"externaldisplayunavailable",ACTIVATED:"externaldisplayactivated",DEACTIVATED:"externaldisplaydeactivated"},_o={AIRPLAY_AVAILABLE:"available",AIRPLAY_UNAVAILABLE:"unavailable",AIRPLAY_ACTIVATED:"activated",AIRPLAY_DEACTIVATED:"deactivated"},mo={SCANNER_CHANGE:"scannerchange",SCANNER_ERROR:"scannererror",FILE_ERROR:"fileerror",FILE_SRC_UPDATE:"filesrcupdate",DOWNLOAD_START:"downloadstart",DOWNLOAD_END:"downloadend",DOWNLOAD_ERROR:"downloaderror",DOWNLOAD_TIMEOUT:"downloadtimeout",DRM_AUTH_FAILURE:"drmauthfailure",DRM_AUTH_SUCCESS:"drmauthsuccess",DRM_CDM_CHANGE:"drmcdmchange",DRM_FAILURE:"drmfailure",DRM_KEY_SWITCH:"drmkeyswitch",DRM_OUTPUT_RESTRICTED:"drmoutputrestricted",EME_UNSUPPORTED:"emeunsupported",NO_SUPPORTED_CDM:"nosupportedcdm",CURRENT_FILE_CHANGE:"currentfilechange",MEDIA_URL_EXPIRED:"mediaurlexpired",MEDIA_URL_BAD_REQUEST:"mediaurlbadrequest",STREAM_CHANGE:"streamchange",STREAM_CHANGE_START:"streamchangestart",STREAM_UPDATED:"streamupdated",STREAM_BUFFER_START:"streambufferstart",STREAM_BUFFER_END:"streambufferend",AVAILABLE_STREAMS_CHANGED:"availablestreamschanged",MEDIA_CAPABILITY_STREAMS_UNSUPPORTED:"mediacapabilitystreamsunsupported",DROPPED_FRAMES:"droppedframes",BANDWIDTH:"bandwidth",STREAM_TARGET_CHANGE:"streamtargetchange",CUE_POINT:"cuepoint",BUFFER_OCCUPANCY:"bufferoccupancy",MANIFEST_TIMEOUT:"manifesttimeout",MANIFEST_LOADED:"manifestloaded",STREAMS_LOADED:"streamsloaded",TEXT_SRC_UPDATE:"texttracksrcupdate",TEXT_TRACKS_AVAILABLE:"texttracksavailable",AV_DURATION_MISMATCH:"avdurationmismatch",BUFFER_STARTED:"bufferstarted",BUFFER_ENDED:"bufferended",QUOTA_EXCEEDED_ERROR:"quotaexceedederror",CHAPTER_CUES_UPDATED:"chaptercuesupdated",APPEND_BUFFER_END:"appendbufferend",DROPPED_FRAME_PERCENT_EXCEEDED:"droppedframepercentexceeded",LOAD_SEGMENT_FAILED:"loadsegmentfailed",AUDIO_TRACK_CHANGED:"audiotrackchanged",SEGMENT_CUES_LOADED:"segmentcuesloaded"},bo={STREAM_ONLINE:"livestreamonline",STREAM_OFFLINE:"livestreamoffline",BUFFER_GAP_JUMP:"livebuffergapjump",BUFFER_GAP_JUMP_PREVENT:"livebuffergapjumpprevent",STALL_JUMP:"livestalljump",LATENCY_UPDATED:"latencyupdated"},yo={CAMERA_UPDATE:"cameraupdate",CAMERA_CHANGE:"camerachange",MOTION_START:"motionstart",MOTION_END:"motionend",SPATIAL_UNSUPPORTED:"spatialunsupported",WEBVR_ENTER:"entervr",WEBVR_EXIT:"exitvr",WEBVR_HARDWARE_AVAILABLE:"webvrhardwareavailable",AMBISONIC_UNSUPPORTED:"ambisonicunsupported"},go={MEDIASESSION_PLAY:"mediasessionplay",MEDIASESSION_PAUSE:"mediasessionpause",MEDIASESSION_SEEK_FORWARD:"mediasessionseekforward",MEDIASESSION_SEEK_TO:"mediasessionseekto",MEDIASESSION_SEEK_BACKWARD:"mediasessionseekbackward"},wo=Object.assign({},fo,po,vo,_o,mo,yo,bo,go);var To=n((function(t,e){
/*! For license information please see hls-parser.min.js.LICENSE.txt */
self,t.exports=function(){return t={851:(t,e,n)=>{var i=n(771),r=i.getOptions,o=i.setOptions,s=n(463),a=n(367),u=n(890);t.exports={parse:s,stringify:a,types:u,getOptions:r,setOptions:o}},463:(t,e,n)=>{function i(t,e){var n;if(void 0===x||null==t[x.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=t[x.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(void 0!==x&&x.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[x.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?a(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var u=n(771),l=n(890),c=l.Rendition,d=l.Variant,h=l.SessionData,f=l.Key,p=l.MediaInitializationSection,v=l.DateRange,_=l.SpliceInfo,m=l.MasterPlaylist,b=l.MediaPlaylist,y=l.Segment,g=l.PartialSegment,w=l.RenditionReport;function T(t){return u.trim(t,'"')}function C(t){var e=u.splitAt(t,",");return{duration:u.toNumber(e[0]),title:decodeURIComponent(escape(e[1]))}}function E(t){var e=u.splitAt(t,"@");return{length:u.toNumber(e[0]),offset:e[1]?u.toNumber(e[1]):-1}}function k(t,e){e.IV&&t.compatibleVersion<2&&(t.compatibleVersion=2),(e.KEYFORMAT||e.KEYFORMATVERSIONS)&&t.compatibleVersion<5&&(t.compatibleVersion=5)}function S(t){var e=u.splitByCommaWithPreservingQuotes(t),n={};return e.forEach((function(t){var e,i,o=r(u.splitAt(t,"="),2),s=o[0],a=o[1],l=T(a);switch(s){case"URI":n[s]=l;break;case"START-DATE":case"END-DATE":n[s]=new Date(l);break;case"IV":n[s]=(e=l,16!==(i=u.hexToByteSequence(e)).length&&u.INVALIDPLAYLIST("IV must be a 128-bit unsigned integer"),i);break;case"BYTERANGE":n[s]=E(l);break;case"RESOLUTION":n[s]=function(t){var e=u.splitAt(t,"x");return{width:u.toNumber(e[0]),height:u.toNumber(e[1])}}(l);break;case"END-ON-NEXT":case"DEFAULT":case"AUTOSELECT":case"FORCED":case"PRECISE":case"CAN-BLOCK-RELOAD":case"INDEPENDENT":case"GAP":n[s]="YES"===l;break;case"DURATION":case"PLANNED-DURATION":case"BANDWIDTH":case"AVERAGE-BANDWIDTH":case"FRAME-RATE":case"TIME-OFFSET":case"CAN-SKIP-UNTIL":case"HOLD-BACK":case"PART-HOLD-BACK":case"PART-TARGET":case"BYTERANGE-START":case"BYTERANGE-LENGTH":case"LAST-MSN":case"LAST-PART":case"SKIPPED-SEGMENTS":n[s]=u.toNumber(l);break;default:s.startsWith("SCTE35-")?n[s]=u.hexToByteSequence(l):s.startsWith("X-")?n[s]=function(t){return t.startsWith('"')?T(t):t.startsWith("0x")||t.startsWith("0X")?u.hexToByteSequence(t):u.toNumber(t)}(a):n[s]=l}})),n}function A(){u.INVALIDPLAYLIST("The file contains both media and master playlist tags.")}function N(t,e,n){var r,o=(r=e.attributes,new c({type:r.TYPE,uri:r.URI,groupId:r["GROUP-ID"],language:r.LANGUAGE,assocLanguage:r["ASSOC-LANGUAGE"],name:r.NAME,isDefault:r.DEFAULT,autoselect:r.AUTOSELECT,forced:r.FORCED,instreamId:r["INSTREAM-ID"],characteristics:r.CHARACTERISTICS,channels:r.CHANNELS})),s=t[u.camelify(n)],a=function(t,e){var n,r=!1,o=i(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s.name===e.name)return"All EXT-X-MEDIA tags in the same Group MUST have different NAME attributes.";s.isDefault&&(r=!0)}}catch(t){o.e(t)}finally{o.f()}return r&&e.isDefault?"EXT-X-MEDIA A Group MUST NOT have more than one member with a DEFAULT attribute of YES.":""}(s,o);a&&u.INVALIDPLAYLIST(a),s.push(o),o.isDefault&&(t.currentRenditions[u.camelify(n)]=s.length-1)}function M(t,e,n,r,o){var s,a=new d({uri:n,bandwidth:e.BANDWIDTH,averageBandwidth:e["AVERAGE-BANDWIDTH"],codecs:e.CODECS,resolution:e.RESOLUTION,frameRate:e["FRAME-RATE"],hdcpLevel:e["HDCP-LEVEL"]}),l=i(t);try{for(l.s();!(s=l.n()).done;){var c=s.value;if("EXT-X-MEDIA"===c.name){var h=c.attributes,f=h.TYPE;if(f&&h["GROUP-ID"]||u.INVALIDPLAYLIST("EXT-X-MEDIA TYPE attribute is REQUIRED."),e[f]===h["GROUP-ID"]&&(N(a,c,f),"CLOSED-CAPTIONS"===f)){var p,v=i(a.closedCaptions);try{for(v.s();!(p=v.n()).done;){var _=p.value.instreamId;if(_&&_.startsWith("SERVICE")&&o.compatibleVersion<7){o.compatibleVersion=7;break}}}catch(t){v.e(t)}finally{v.f()}}}}}catch(t){l.e(t)}finally{l.f()}return function(t,e,n){["AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(i){"CLOSED-CAPTIONS"===i&&"NONE"===t[i]?(n.isClosedCaptionsNone=!0,e.closedCaptions=[]):t[i]&&!e[u.camelify(i)].find((function(e){return e.groupId===t[i]}))&&u.INVALIDPLAYLIST("".concat(i," attribute MUST match the value of the GROUP-ID attribute of an EXT-X-MEDIA tag whose TYPE attribute is ").concat(i,"."))}))}(e,a,o),a.isIFrameOnly=r,a}function O(t,e){if(t.method!==e.method)return!1;if(t.uri!==e.uri)return!1;if(t.iv){if(!e.iv)return!1;if(t.iv.length!==e.iv.length)return!1;for(var n=0;n<t.iv.length;n++)if(t.iv[n]!==e.iv[n])return!1}else if(e.iv)return!1;return t.format===e.format&&t.formatVersion===e.formatVersion}function I(t,e,n,i,r,o,s){for(var a=new y({uri:e,mediaSequenceNumber:r,discontinuitySequence:o}),l=!1,c=!1,d=function(e){var n=t[e],i=n.name,r=n.value,o=n.attributes;if("EXTINF"===i)!Number.isInteger(r.duration)&&s.compatibleVersion<3&&(s.compatibleVersion=3),Math.round(r.duration)>s.targetDuration&&u.INVALIDPLAYLIST("EXTINF duration, when rounded to the nearest integer, MUST be less than or equal to the target duration"),a.duration=r.duration,a.title=r.title;else if("EXT-X-BYTERANGE"===i)s.compatibleVersion<4&&(s.compatibleVersion=4),a.byterange=r;else if("EXT-X-DISCONTINUITY"===i)a.parts.length>0&&u.INVALIDPLAYLIST("EXT-X-DISCONTINUITY must appear before the first EXT-X-PART tag of the Parent Segment."),a.discontinuity=!0;else if("EXT-X-KEY"===i)a.parts.length>0&&u.INVALIDPLAYLIST("EXT-X-KEY must appear before the first EXT-X-PART tag of the Parent Segment."),k(s,o),a.key=new f({method:o.METHOD,uri:o.URI,iv:o.IV,format:o.KEYFORMAT,formatVersion:o.KEYFORMATVERSIONS});else if("EXT-X-MAP"===i)a.parts.length>0&&u.INVALIDPLAYLIST("EXT-X-MAP must appear before the first EXT-X-PART tag of the Parent Segment."),s.compatibleVersion<5&&(s.compatibleVersion=5),s.hasMap=!0,a.map=new p({uri:o.URI,byterange:o.BYTERANGE});else if("EXT-X-PROGRAM-DATE-TIME"===i)a.programDateTime=r;else if("EXT-X-DATERANGE"===i){var d={};Object.keys(o).forEach((function(t){(t.startsWith("SCTE35-")||t.startsWith("X-"))&&(d[t]=o[t])})),a.dateRange=new v({id:o.ID,classId:o.CLASS,start:o["START-DATE"],end:o["END-DATE"],duration:o.DURATION,plannedDuration:o["PLANNED-DURATION"],endOnNext:o["END-ON-NEXT"],attributes:d})}else if("EXT-X-CUE-OUT"===i)a.markers.push(new _({type:"OUT",duration:r}));else if("EXT-X-CUE-IN"===i)a.markers.push(new _({type:"IN"}));else if("EXT-X-CUE-OUT-CONT"===i||"EXT-X-CUE"===i||"EXT-OATCLS-SCTE35"===i||"EXT-X-ASSET"===i||"EXT-X-SCTE35"===i)a.markers.push(new _({type:"RAW",tagName:i,value:r}));else if("EXT-X-PRELOAD-HINT"!==i||o.TYPE)if("EXT-X-PRELOAD-HINT"===i&&"PART"===o.TYPE&&c)u.INVALIDPLAYLIST("Servers should not add more than one EXT-X-PRELOAD-HINT tag with the same TYPE attribute to a Playlist.");else if("EXT-X-PART"!==i&&"EXT-X-PRELOAD-HINT"!==i||o.URI){if("EXT-X-PRELOAD-HINT"===i&&"MAP"===o.TYPE)l&&u.INVALIDPLAYLIST("Servers should not add more than one EXT-X-PRELOAD-HINT tag with the same TYPE attribute to a Playlist."),l=!0,s.hasMap=!0,a.map=new p({hint:!0,uri:o.URI,byterange:{length:o["BYTERANGE-LENGTH"],offset:o["BYTERANGE-START"]||0}});else if("EXT-X-PART"===i||"EXT-X-PRELOAD-HINT"===i&&"PART"===o.TYPE){"EXT-X-PART"!==i||o.DURATION||u.INVALIDPLAYLIST("EXT-X-PART: DURATION attribute is mandatory"),"EXT-X-PRELOAD-HINT"===i&&(c=!0);var h=new g({hint:"EXT-X-PRELOAD-HINT"===i,uri:o.URI,byterange:"EXT-X-PART"===i?o.BYTERANGE:{length:o["BYTERANGE-LENGTH"],offset:o["BYTERANGE-START"]||0},duration:o.DURATION,independent:o.INDEPENDENT,gap:o.GAP});a.parts.push(h)}}else u.INVALIDPLAYLIST("EXT-X-PART / EXT-X-PRELOAD-HINT: URI attribute is mandatory");else u.INVALIDPLAYLIST("EXT-X-PRELOAD-HINT: TYPE attribute is mandatory")},h=n;h<=i;h++)d(h);return a}function L(t,e,n,i,r){var o=e.discontinuity,s=e.key,a=e.map,l=e.byterange,c=e.uri;if(o&&(e.discontinuitySequence=n+1),s||(e.key=i),a||(e.map=r),l&&-1===l.offset){var d=t.segments;if(d.length>0){var h=d[d.length-1];h.byterange&&h.uri===c?l.offset=h.byterange.offset+h.byterange.length:u.INVALIDPLAYLIST("If offset of EXT-X-BYTERANGE is not present, a previous Media Segment MUST be a sub-range of the same media resource")}else u.INVALIDPLAYLIST("If offset of EXT-X-BYTERANGE is not present, a previous Media Segment MUST appear in the Playlist file")}return t.segments.push(e),[e.discontinuitySequence,e.key,e.map]}function R(t,e){var n=r(function(t){var e=t.indexOf(":");return-1===e?[t.slice(1).trim(),null]:[t.slice(1,e).trim(),t.slice(e+1).trim()]}(t),2),i=n[0],o=n[1],s=function(t){switch(t){case"EXTM3U":case"EXT-X-VERSION":return"Basic";case"EXTINF":case"EXT-X-BYTERANGE":case"EXT-X-DISCONTINUITY":case"EXT-X-KEY":case"EXT-X-MAP":case"EXT-X-PROGRAM-DATE-TIME":case"EXT-X-DATERANGE":case"EXT-X-CUE-OUT":case"EXT-X-CUE-IN":case"EXT-X-CUE-OUT-CONT":case"EXT-X-CUE":case"EXT-OATCLS-SCTE35":case"EXT-X-ASSET":case"EXT-X-SCTE35":case"EXT-X-PART":case"EXT-X-PRELOAD-HINT":return"Segment";case"EXT-X-TARGETDURATION":case"EXT-X-MEDIA-SEQUENCE":case"EXT-X-DISCONTINUITY-SEQUENCE":case"EXT-X-ENDLIST":case"EXT-X-PLAYLIST-TYPE":case"EXT-X-I-FRAMES-ONLY":case"EXT-X-SERVER-CONTROL":case"EXT-X-PART-INF":case"EXT-X-RENDITION-REPORT":case"EXT-X-SKIP":return"MediaPlaylist";case"EXT-X-MEDIA":case"EXT-X-STREAM-INF":case"EXT-X-I-FRAME-STREAM-INF":case"EXT-X-SESSION-DATA":case"EXT-X-SESSION-KEY":return"MasterPlaylist";case"EXT-X-INDEPENDENT-SEGMENTS":case"EXT-X-START":return"MediaorMasterPlaylist";default:return"Unknown"}}(i);if(function(t,e){if("Segment"===t||"MediaPlaylist"===t)return void 0===e.isMasterPlaylist?void(e.isMasterPlaylist=!1):void(e.isMasterPlaylist&&A());if("MasterPlaylist"===t){if(void 0===e.isMasterPlaylist)return void(e.isMasterPlaylist=!0);!1===e.isMasterPlaylist&&A()}}(s,e),"Unknown"===s)return null;"MediaPlaylist"===s&&"EXT-X-RENDITION-REPORT"!==i&&(e.hash[i]&&u.INVALIDPLAYLIST("There MUST NOT be more than one Media Playlist tag of each type in any Media Playlist"),e.hash[i]=!0);var a=r(function(t,e){switch(t){case"EXTM3U":case"EXT-X-DISCONTINUITY":case"EXT-X-ENDLIST":case"EXT-X-I-FRAMES-ONLY":case"EXT-X-INDEPENDENT-SEGMENTS":case"EXT-X-CUE-IN":return[null,null];case"EXT-X-VERSION":case"EXT-X-TARGETDURATION":case"EXT-X-MEDIA-SEQUENCE":case"EXT-X-DISCONTINUITY-SEQUENCE":case"EXT-X-CUE-OUT":return[u.toNumber(e),null];case"EXT-X-KEY":case"EXT-X-MAP":case"EXT-X-DATERANGE":case"EXT-X-MEDIA":case"EXT-X-STREAM-INF":case"EXT-X-I-FRAME-STREAM-INF":case"EXT-X-SESSION-DATA":case"EXT-X-SESSION-KEY":case"EXT-X-START":case"EXT-X-SERVER-CONTROL":case"EXT-X-PART-INF":case"EXT-X-PART":case"EXT-X-PRELOAD-HINT":case"EXT-X-RENDITION-REPORT":case"EXT-X-SKIP":return[null,S(e)];case"EXTINF":return[C(e),null];case"EXT-X-BYTERANGE":return[E(e),null];case"EXT-X-PROGRAM-DATE-TIME":return[new Date(e),null];default:return[e,null]}}(i,o),2);return{name:i,category:s,value:a[0],attributes:a[1]}}function P(t,e){var n;return e.isMasterPlaylist?n=function(t,e){var n,o=new m,s=i(t.entries());try{for(s.s();!(n=s.n()).done;){var a=r(n.value,2),l=a[0],c=a[1],d=c.name,p=c.value,v=c.attributes;if("EXT-X-VERSION"===d)o.version=p;else if("EXT-X-STREAM-INF"===d){var _=t[l+1];("string"!=typeof _||_.startsWith("#EXT"))&&u.INVALIDPLAYLIST("EXT-X-STREAM-INF must be followed by a URI line");var b=M(t,v,_,!1,e);b&&o.variants.push(b)}else if("EXT-X-I-FRAME-STREAM-INF"===d){var y=M(t,v,v.URI,!0,e);y&&o.variants.push(y)}else"EXT-X-SESSION-DATA"===d?function(){var t=new h({id:v["DATA-ID"],value:v.VALUE,uri:v.URI,language:v.LANGUAGE});o.sessionDataList.find((function(e){return e.id===t.id&&e.language===t.language}))&&u.INVALIDPLAYLIST("A Playlist MUST NOT contain more than one EXT-X-SESSION-DATA tag with the same DATA-ID attribute and the same LANGUAGE attribute."),o.sessionDataList.push(t)}():"EXT-X-SESSION-KEY"===d?function(){"NONE"===v.METHOD&&u.INVALIDPLAYLIST("EXT-X-SESSION-KEY: The value of the METHOD attribute MUST NOT be NONE");var t=new f({method:v.METHOD,uri:v.URI,iv:v.IV,format:v.KEYFORMAT,formatVersion:v.KEYFORMATVERSIONS});o.sessionKeyList.find((function(e){return O(e,t)}))&&u.INVALIDPLAYLIST("A Master Playlist MUST NOT contain more than one EXT-X-SESSION-KEY tag with the same METHOD, URI, IV, KEYFORMAT, and KEYFORMATVERSIONS attribute values."),k(e,v),o.sessionKeyList.push(t)}():"EXT-X-INDEPENDENT-SEGMENTS"===d?(o.independentSegments&&u.INVALIDPLAYLIST("EXT-X-INDEPENDENT-SEGMENTS tag MUST NOT appear more than once in a Playlist"),o.independentSegments=!0):"EXT-X-START"===d&&(o.start&&u.INVALIDPLAYLIST("EXT-X-START tag MUST NOT appear more than once in a Playlist"),"number"!=typeof v["TIME-OFFSET"]&&u.INVALIDPLAYLIST("EXT-X-START: TIME-OFFSET attribute is REQUIRED"),o.start={offset:v["TIME-OFFSET"],precise:v.PRECISE||!1})}}catch(t){s.e(t)}finally{s.f()}if(e.isClosedCaptionsNone){var g,w=i(o.variants);try{for(w.s();!(g=w.n()).done;)g.value.closedCaptions.length>0&&u.INVALIDPLAYLIST("If there is a variant with CLOSED-CAPTIONS attribute of NONE, all EXT-X-STREAM-INF tags MUST have this attribute with a value of NONE")}catch(t){w.e(t)}finally{w.f()}}return o}(t,e):!(n=function(t,e){var n,o=new b,s=-1,a=0,l=!1,c=0,d=null,h=null,f=!1,p=i(t.entries());try{for(p.s();!(n=p.n()).done;){var v=r(n.value,2),_=v[0],m=v[1],y=m.name,g=m.value,T=m.attributes;if("Segment"!==m.category){if("EXT-X-VERSION"===y)void 0===o.version?o.version=g:u.INVALIDPLAYLIST("A Playlist file MUST NOT contain more than one EXT-X-VERSION tag.");else if("EXT-X-TARGETDURATION"===y)o.targetDuration=e.targetDuration=g;else if("EXT-X-MEDIA-SEQUENCE"===y)o.segments.length>0&&u.INVALIDPLAYLIST("The EXT-X-MEDIA-SEQUENCE tag MUST appear before the first Media Segment in the Playlist."),o.mediaSequenceBase=a=g;else if("EXT-X-DISCONTINUITY-SEQUENCE"===y)o.segments.length>0&&u.INVALIDPLAYLIST("The EXT-X-DISCONTINUITY-SEQUENCE tag MUST appear before the first Media Segment in the Playlist."),l&&u.INVALIDPLAYLIST("The EXT-X-DISCONTINUITY-SEQUENCE tag MUST appear before any EXT-X-DISCONTINUITY tag."),o.discontinuitySequenceBase=c=g;else if("EXT-X-ENDLIST"===y)o.endlist=!0;else if("EXT-X-PLAYLIST-TYPE"===y)o.playlistType=g;else if("EXT-X-I-FRAMES-ONLY"===y)e.compatibleVersion<4&&(e.compatibleVersion=4),o.isIFrame=!0;else if("EXT-X-INDEPENDENT-SEGMENTS"===y)o.independentSegments&&u.INVALIDPLAYLIST("EXT-X-INDEPENDENT-SEGMENTS tag MUST NOT appear more than once in a Playlist"),o.independentSegments=!0;else if("EXT-X-START"===y)o.start&&u.INVALIDPLAYLIST("EXT-X-START tag MUST NOT appear more than once in a Playlist"),"number"!=typeof T["TIME-OFFSET"]&&u.INVALIDPLAYLIST("EXT-X-START: TIME-OFFSET attribute is REQUIRED"),o.start={offset:T["TIME-OFFSET"],precise:T.PRECISE||!1};else if("EXT-X-SERVER-CONTROL"===y)T["CAN-BLOCK-RELOAD"]||u.INVALIDPLAYLIST("EXT-X-SERVER-CONTROL: CAN-BLOCK-RELOAD=YES is mandatory for Low-Latency HLS"),o.lowLatencyCompatibility={canBlockReload:T["CAN-BLOCK-RELOAD"],canSkipUntil:T["CAN-SKIP-UNTIL"],holdBack:T["HOLD-BACK"],partHoldBack:T["PART-HOLD-BACK"]};else if("EXT-X-PART-INF"===y)T["PART-TARGET"]||u.INVALIDPLAYLIST("EXT-X-PART-INF: PART-TARGET attribute is mandatory"),o.partTargetDuration=T["PART-TARGET"];else if("EXT-X-RENDITION-REPORT"===y)T.URI||u.INVALIDPLAYLIST("EXT-X-RENDITION-REPORT: URI attribute is mandatory"),0===T.URI.search(/^[a-z]+:/)&&u.INVALIDPLAYLIST("EXT-X-RENDITION-REPORT: URI must be relative to the playlist uri"),o.renditionReports.push(new w({uri:T.URI,lastMSN:T["LAST-MSN"],lastPart:T["LAST-PART"]}));else if("EXT-X-SKIP"===y)T["SKIPPED-SEGMENTS"]||u.INVALIDPLAYLIST("EXT-X-SKIP: SKIPPED-SEGMENTS attribute is mandatory"),e.compatibleVersion<9&&(e.compatibleVersion=9),o.skip=T["SKIPPED-SEGMENTS"],a+=o.skip;else if("string"==typeof m){-1===s&&u.INVALIDPLAYLIST("A URI line is not preceded by any segment tags"),o.targetDuration||u.INVALIDPLAYLIST("The EXT-X-TARGETDURATION tag is REQUIRED");var C=I(t,m,s,_-1,a++,c,e);if(C){var E=r(L(o,C,c,d,h),3);c=E[0],d=E[1],h=E[2],!f&&C.parts.length>0&&(f=!0)}s=-1}}else-1===s&&(s=_),"EXT-X-DISCONTINUITY"===y&&(l=!0)}}catch(t){p.e(t)}finally{p.f()}if(-1!==s){var k=I(t,"",s,t.length-1,a++,c,e);if(k){var S=k.parts;S.length>0&&!o.endlist&&!S[S.length-1].hint&&u.INVALIDPLAYLIST("If the Playlist contains EXT-X-PART tags and does not contain an EXT-X-ENDLIST tag, the Playlist must contain an EXT-X-PRELOAD-HINT tag with a TYPE=PART attribute"),L(o,k,d,h),!f&&k.parts.length>0&&(f=!0)}}return function(t){for(var e=new xe,n=new xe,r=!1,o=!1,s=t.length-1;s>=0;s--){var a=t[s],l=a.programDateTime,c=a.dateRange;if(l&&(o=!0),c&&c.start){r=!0,c.endOnNext&&(c.end||c.duration)&&u.INVALIDPLAYLIST("An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.");var d=c.start.getTime(),h=c.duration||0;c.end&&c.duration&&d+1e3*h!==c.end.getTime()&&u.INVALIDPLAYLIST("END-DATE MUST be equal to the value of the START-DATE attribute plus the value of the DURATION"),c.endOnNext&&(c.end=e.get(c.classId)),e.set(c.classId,c.start);var f=c.end?c.end.getTime():c.start.getTime()+1e3*(c.duration||0),p=n.get(c.classId);if(p){var v,_=i(p);try{for(_.s();!(v=_.n()).done;){var m=v.value;(m.start<=d&&m.end>d||m.start>=d&&m.start<f)&&u.INVALIDPLAYLIST("DATERANGE tags with the same CLASS should not overlap")}}catch(t){_.e(t)}finally{_.f()}p.push({start:d,end:f})}else n.set(c.classId,[{start:d,end:f}])}}r&&!o&&u.INVALIDPLAYLIST("If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.")}(o.segments),o.lowLatencyCompatibility&&function(t,e){var n=t.lowLatencyCompatibility,o=t.targetDuration,s=t.partTargetDuration,a=t.segments,l=t.renditionReports,c=n.canSkipUntil,d=n.holdBack,h=n.partHoldBack;if(c<6*o&&u.INVALIDPLAYLIST("The Skip Boundary must be at least six times the EXT-X-TARGETDURATION."),d<3*o&&u.INVALIDPLAYLIST("HOLD-BACK must be at least three times the EXT-X-TARGETDURATION."),e){void 0===s&&u.INVALIDPLAYLIST("EXT-X-PART-INF is required if a Playlist contains one or more EXT-X-PART tags"),void 0===h&&u.INVALIDPLAYLIST("EXT-X-PART: PART-HOLD-BACK attribute is mandatory"),h<s&&u.INVALIDPLAYLIST("PART-HOLD-BACK must be at least PART-TARGET");var f,p=i(a.entries());try{for(p.s();!(f=p.n()).done;){var v=r(f.value,2),_=v[0],m=v[1].parts;m.length>0&&_<a.length-3&&u.INVALIDPLAYLIST("Remove EXT-X-PART tags from the Playlist after they are greater than three target durations from the end of the Playlist.");var b,y=i(m.entries());try{for(y.s();!(b=y.n()).done;){var g=r(b.value,2),w=g[0],T=g[1].duration;void 0!==T&&(T>s&&u.INVALIDPLAYLIST("PART-TARGET is the maximum duration of any Partial Segment"),w<m.length-1&&T<.85*s&&u.INVALIDPLAYLIST("All Partial Segments except the last part of a segment must have a duration of at least 85% of PART-TARGET"))}}catch(t){y.e(t)}finally{y.f()}}}catch(t){p.e(t)}finally{p.f()}}var C,E=i(l);try{for(E.s();!(C=E.n()).done;){var k=C.value,S=a[a.length-1];k.lastMSN||(k.lastMSN=S.mediaSequenceNumber),!k.lastPart&&S.parts.length>0&&(k.lastPart=S.parts.length-1)}}catch(t){E.e(t)}finally{E.f()}}(o,f),o}(t,e)).isIFrame&&e.hasMap&&e.compatibleVersion<6&&(e.compatibleVersion=6),e.compatibleVersion>1&&(!n.version||n.version<e.compatibleVersion)&&u.INVALIDPLAYLIST("EXT-X-VERSION needs to be ".concat(e.compatibleVersion," or higher.")),n}t.exports=function(t){var e={version:void 0,isMasterPlaylist:void 0,hasMap:!1,targetDuration:0,compatibleVersion:1,isClosedCaptionsNone:!1,hash:{}},n=P(function(t,e){var n=[];return t.split("\n").forEach((function(t){var i=t.trim();if(i)if(i.startsWith("#")){if(i.startsWith("#EXT")){var r=R(i,e);return void(r&&n.push(r))}}else n.push(i)})),0!==n.length&&"EXTM3U"===n[0].name||u.INVALIDPLAYLIST("The EXTM3U tag MUST be the first line."),n}(t,e),e);return n.source=t,n}},367:(t,e,n)=>{function i(t){return(i="function"==typeof x&&"symbol"==typeof x.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof x&&t.constructor===x&&t!==x.prototype?"symbol":typeof t})(t)}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(void 0!==x&&x.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[x.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){var n;if(void 0===x||null==t[x.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[x.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?a(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){var e="function"==typeof xe?new xe:void 0;return(d=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return h(t,arguments,v(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),p(i,t)})(t)}function h(t,e,n){return(h=f()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&p(r,n.prototype),r}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=n(771),m=["#EXTINF","#EXT-X-BYTERANGE","#EXT-X-DISCONTINUITY","#EXT-X-STREAM-INF","#EXT-X-CUE-OUT","#EXT-X-CUE-IN","#EXT-X-KEY","#EXT-X-MAP"],b=["#EXT-X-MEDIA"],y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(o,t);var e,n,i,r=(e=o,n=f(),function(){var t,i=v(e);if(n){var r=v(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return c(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).baseUri=t,e}return(i=[{key:"push",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=function(){var e=a[s];if(!e.startsWith("#"))return l(v(o.prototype),"push",t).call(t,e),"continue";if(m.some((function(t){return e.startsWith(t)})))return l(v(o.prototype),"push",t).call(t,e),"continue";if(t.includes(e)){if(b.some((function(t){return e.startsWith(t)})))return"continue";_.INVALIDPLAYLIST("Redundant item (".concat(e,")"))}l(v(o.prototype),"push",t).call(t,e)},s=0,a=n;s<a.length;s++)r()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(o.prototype,i),o}(d(Array));function g(t,e){var n=1e3;e&&(n=Math.pow(10,e));var i=Math.round(t*n)/n;return e?i.toFixed(e):i}function w(t){var e=['DATA-ID="'.concat(t.id,'"')];return t.language&&e.push('LANGUAGE="'.concat(t.language,'"')),t.value?e.push('VALUE="'.concat(t.value,'"')):t.uri&&e.push('URI="'.concat(t.uri,'"')),"#EXT-X-SESSION-DATA:".concat(e.join(","))}function T(t,e){var n=e?"#EXT-X-SESSION-KEY":"#EXT-X-KEY",i=["METHOD=".concat(t.method)];return t.uri&&i.push('URI="'.concat(t.uri,'"')),t.iv&&(16!==t.iv.length&&_.INVALIDPLAYLIST("IV must be a 128-bit unsigned integer"),i.push("IV=".concat(_.byteSequenceToHex(t.iv)))),t.format&&i.push('KEYFORMAT="'.concat(t.format,'"')),t.formatVersion&&i.push('KEYFORMATVERSIONS="'.concat(t.formatVersion,'"')),"".concat(n,":").concat(i.join(","))}function C(t,e){var n=e.isIFrameOnly?"#EXT-X-I-FRAME-STREAM-INF":"#EXT-X-STREAM-INF",i=["BANDWIDTH=".concat(e.bandwidth)];if(e.averageBandwidth&&i.push("AVERAGE-BANDWIDTH=".concat(e.averageBandwidth)),e.isIFrameOnly&&i.push('URI="'.concat(e.uri,'"')),e.codecs&&i.push('CODECS="'.concat(e.codecs,'"')),e.resolution&&i.push("RESOLUTION=".concat(e.resolution.width,"x").concat(e.resolution.height)),e.frameRate&&i.push("FRAME-RATE=".concat(g(e.frameRate,3))),e.hdcpLevel&&i.push("HDCP-LEVEL=".concat(e.hdcpLevel)),e.audio.length>0){i.push('AUDIO="'.concat(e.audio[0].groupId,'"'));var r,s=o(e.audio);try{for(s.s();!(r=s.n()).done;){var a=r.value;t.push(E(a))}}catch(t){s.e(t)}finally{s.f()}}if(e.video.length>0){i.push('VIDEO="'.concat(e.video[0].groupId,'"'));var u,l=o(e.video);try{for(l.s();!(u=l.n()).done;){var c=u.value;t.push(E(c))}}catch(t){l.e(t)}finally{l.f()}}if(e.subtitles.length>0){i.push('SUBTITLES="'.concat(e.subtitles[0].groupId,'"'));var d,h=o(e.subtitles);try{for(h.s();!(d=h.n()).done;){var f=d.value;t.push(E(f))}}catch(t){h.e(t)}finally{h.f()}}if(_.getOptions().allowClosedCaptionsNone&&0===e.closedCaptions.length)i.push("CLOSED-CAPTIONS=NONE");else if(e.closedCaptions.length>0){i.push('CLOSED-CAPTIONS="'.concat(e.closedCaptions[0].groupId,'"'));var p,v=o(e.closedCaptions);try{for(v.s();!(p=v.n()).done;){var m=p.value;t.push(E(m))}}catch(t){v.e(t)}finally{v.f()}}t.push("".concat(n,":").concat(i.join(","))),e.isIFrameOnly||t.push("".concat(e.uri))}function E(t){var e=["TYPE=".concat(t.type),'GROUP-ID="'.concat(t.groupId,'"'),'NAME="'.concat(t.name,'"')];return void 0!==t.isDefault&&e.push("DEFAULT=".concat(t.isDefault?"YES":"NO")),void 0!==t.autoselect&&e.push("AUTOSELECT=".concat(t.autoselect?"YES":"NO")),void 0!==t.forced&&e.push("FORCED=".concat(t.forced?"YES":"NO")),t.language&&e.push('LANGUAGE="'.concat(t.language,'"')),t.assocLanguage&&e.push('ASSOC-LANGUAGE="'.concat(t.assocLanguage,'"')),t.instreamId&&e.push('INSTREAM-ID="'.concat(t.instreamId,'"')),t.characteristics&&e.push('CHARACTERISTICS="'.concat(t.characteristics,'"')),t.channels&&e.push('CHANNELS="'.concat(t.channels,'"')),t.uri&&e.push('URI="'.concat(t.uri,'"')),"#EXT-X-MEDIA:".concat(e.join(","))}function k(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=!1;if(e.byterange&&t.push("#EXT-X-BYTERANGE:".concat(S(e.byterange))),e.discontinuity&&t.push("#EXT-X-DISCONTINUITY"),e.key){var s=T(e.key);s!==n&&(t.push(s),n=s)}if(e.map){var a=function(t){var e=['URI="'.concat(t.uri,'"')];return t.byterange&&e.push('BYTERANGE="'.concat(S(t.byterange),'"')),"#EXT-X-MAP:".concat(e.join(","))}(e.map);a!==i&&(t.push(a),i=a)}if(e.programDateTime&&t.push("#EXT-X-PROGRAM-DATE-TIME:".concat(_.formatDate(e.programDateTime))),e.dateRange&&t.push(function(t){var e=['ID="'.concat(t.id,'"')];return t.start&&e.push('START-DATE="'.concat(_.formatDate(t.start),'"')),t.end&&e.push('END-DATE="'.concat(t.end,'"')),t.duration&&e.push("DURATION=".concat(t.duration)),t.plannedDuration&&e.push("PLANNED-DURATION=".concat(t.plannedDuration)),t.classId&&e.push('CLASS="'.concat(t.classId,'"')),t.endOnNext&&e.push("END-ON-NEXT=YES"),Object.keys(t.attributes).forEach((function(n){n.startsWith("X-")?"number"==typeof t.attributes[n]?e.push("".concat(n,"=").concat(t.attributes[n])):e.push("".concat(n,'="').concat(t.attributes[n],'"')):n.startsWith("SCTE35-")&&e.push("".concat(n,"=").concat(_.byteSequenceToHex(t.attributes[n])))})),"#EXT-X-DATERANGE:".concat(e.join(","))}(e.dateRange)),e.markers.length>0&&A(t,e.markers),e.parts.length>0&&(o=N(t,e.parts)),o)return[n,i];var u=r<3?Math.round(e.duration):g(e.duration,function(t){var e=t.toString(10),n=e.indexOf(".");return-1===n?0:e.length-n-1}(e.duration));return t.push("#EXTINF:".concat(u,",").concat(unescape(encodeURIComponent(e.title||"")))),Array.prototype.push.call(t,"".concat(e.uri)),[n,i]}function S(t){var e=t.offset,n=t.length;return"".concat(n,"@").concat(e)}function A(t,e){var n,i=o(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if("OUT"===r.type)t.push("#EXT-X-CUE-OUT:".concat(r.duration));else if("IN"===r.type)t.push("#EXT-X-CUE-IN");else if("RAW"===r.type){var s=r.value?":".concat(r.value):"";t.push("#".concat(r.tagName).concat(s))}}}catch(t){i.e(t)}finally{i.f()}}function N(t,e){var n,i=!1,r=o(e);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(s.hint){var a=[];if(a.push("TYPE=PART"),a.push('URI="'.concat(s.uri,'"')),s.byterange){var u=s.byterange,l=u.offset,c=u.length;a.push("BYTERANGE-START=".concat(l)),c&&a.push("BYTERANGE-LENGTH=".concat(c))}t.push("#EXT-X-PRELOAD-HINT:".concat(a.join(","))),i=!0}else{var d=[];d.push("DURATION=".concat(s.duration)),d.push('URI="'.concat(s.uri,'"')),s.byterange&&d.push("BYTERANGE=".concat(S(s.byterange))),s.independent&&d.push("INDEPENDENT=YES"),s.gap&&d.push("GAP=YES"),t.push("#EXT-X-PART:".concat(d.join(",")))}}}catch(t){r.e(t)}finally{r.f()}return i}t.exports=function(t){_.PARAMCHECK(t),_.ASSERT("Not a playlist","playlist"===t.type);var e=new y(t.uri);return e.push("#EXTM3U"),t.version&&e.push("#EXT-X-VERSION:".concat(t.version)),t.independentSegments&&e.push("#EXT-X-INDEPENDENT-SEGMENTS"),t.start&&e.push("#EXT-X-START:TIME-OFFSET=".concat(g(t.start.offset)).concat(t.start.precise?",PRECISE=YES":"")),t.isMasterPlaylist?function(t,e){var n,i=o(e.sessionDataList);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.push(w(r))}}catch(t){i.e(t)}finally{i.f()}var s,a=o(e.sessionKeyList);try{for(a.s();!(s=a.n()).done;){var u=s.value;t.push(T(u,!0))}}catch(t){a.e(t)}finally{a.f()}var l,c=o(e.variants);try{for(c.s();!(l=c.n()).done;)C(t,l.value)}catch(t){c.e(t)}finally{c.f()}}(e,t):function(t,e){var n="",i="";if(e.targetDuration&&t.push("#EXT-X-TARGETDURATION:".concat(e.targetDuration)),e.lowLatencyCompatibility){var s=e.lowLatencyCompatibility,a=s.canBlockReload,u=s.canSkipUntil,l=s.holdBack,c=s.partHoldBack,d=[];d.push("CAN-BLOCK-RELOAD=".concat(a?"YES":"NO")),void 0!==u&&d.push("CAN-SKIP-UNTIL=".concat(u)),void 0!==l&&d.push("HOLD-BACK=".concat(l)),void 0!==c&&d.push("PART-HOLD-BACK=".concat(c)),t.push("#EXT-X-SERVER-CONTROL:".concat(d.join(",")))}e.partTargetDuration&&t.push("#EXT-X-PART-INF:PART-TARGET=".concat(e.partTargetDuration)),e.mediaSequenceBase&&t.push("#EXT-X-MEDIA-SEQUENCE:".concat(e.mediaSequenceBase)),e.discontinuitySequenceBase&&t.push("#EXT-X-DISCONTINUITY-SEQUENCE:".concat(e.discontinuitySequenceBase)),e.playlistType&&t.push("#EXT-X-PLAYLIST-TYPE:".concat(e.playlistType)),e.isIFrame&&t.push("#EXT-X-I-FRAMES-ONLY"),e.skip>0&&t.push("#EXT-X-SKIP:SKIPPED-SEGMENTS=".concat(e.skip));var h,f=o(e.segments);try{for(f.s();!(h=f.n()).done;){var p=r(k(t,h.value,n,i,e.version),2);n=p[0],i=p[1]}}catch(t){f.e(t)}finally{f.f()}e.endlist&&t.push("#EXT-X-ENDLIST");var v,_=o(e.renditionReports);try{for(_.s();!(v=_.n()).done;){var m=v.value,b=[];b.push('URI="'.concat(m.uri,'"')),b.push("LAST-MSN=".concat(m.lastMSN)),void 0!==m.lastPart&&b.push("LAST-PART=".concat(m.lastPart)),t.push("#EXT-X-RENDITION-REPORT:".concat(b.join(",")))}}catch(t){_.e(t)}finally{_.f()}}(e,t),e.join("\n")}},890:(t,e,n)=>{function i(t){return(i="function"==typeof x&&"symbol"==typeof x.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof x&&t.constructor===x&&t!==x.prototype?"symbol":typeof t})(t)}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=n(771),d=function t(e){l(this,t),c.PARAMCHECK(e),this.type=e},h=function(t){r(n,t);var e=s(n);function n(t){var i,r=t.isMasterPlaylist,o=t.uri,s=t.version,a=t.independentSegments,u=void 0!==a&&a,d=t.start,h=t.source;return l(this,n),i=e.call(this,"playlist"),c.PARAMCHECK(r),i.isMasterPlaylist=r,i.uri=o,i.version=s,i.independentSegments=u,i.start=d,i.source=h,i}return n}(d),f=function(t){r(n,t);var e=s(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,n),i.isMasterPlaylist=!0,t=e.call(this,i);var r=i.variants,o=void 0===r?[]:r,s=i.currentVariant,a=i.sessionDataList,u=void 0===a?[]:a,c=i.sessionKeyList,d=void 0===c?[]:c;return t.variants=o,t.currentVariant=s,t.sessionDataList=u,t.sessionKeyList=d,t}return n}(h),p=function(t){r(n,t);var e=s(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,n),i.isMasterPlaylist=!1,t=e.call(this,i);var r=i.targetDuration,o=i.mediaSequenceBase,s=void 0===o?0:o,a=i.discontinuitySequenceBase,u=void 0===a?0:a,c=i.endlist,d=void 0!==c&&c,h=i.playlistType,f=i.isIFrame,p=i.segments,v=void 0===p?[]:p,_=i.lowLatencyCompatibility,m=i.partTargetDuration,b=i.renditionReports,y=void 0===b?[]:b,g=i.skip,w=void 0===g?0:g,T=i.hash;return t.targetDuration=r,t.mediaSequenceBase=s,t.discontinuitySequenceBase=u,t.endlist=d,t.playlistType=h,t.isIFrame=f,t.segments=v,t.lowLatencyCompatibility=_,t.partTargetDuration=m,t.renditionReports=y,t.skip=w,t.hash=T,t}return n}(h),v=function(t){r(n,t);var e=s(n);function n(t){var i,r=t.uri,o=t.mimeType,s=t.data,a=t.duration,u=t.title,c=t.byterange,d=t.discontinuity,h=t.mediaSequenceNumber,f=void 0===h?0:h,p=t.discontinuitySequence,v=void 0===p?0:p,_=t.key,m=t.map,b=t.programDateTime,y=t.dateRange,g=t.markers,w=void 0===g?[]:g,T=t.parts,C=void 0===T?[]:T;return l(this,n),(i=e.call(this,"segment")).uri=r,i.mimeType=o,i.data=s,i.duration=a,i.title=u,i.byterange=c,i.discontinuity=d,i.mediaSequenceNumber=f,i.discontinuitySequence=v,i.key=_,i.map=m,i.programDateTime=b,i.dateRange=y,i.markers=w,i.parts=C,i}return n}(d),_=function(t){r(n,t);var e=s(n);function n(t){var i,r=t.hint,o=void 0!==r&&r,s=t.uri,a=t.duration,u=t.independent,d=t.byterange,h=t.gap;return l(this,n),i=e.call(this,"part"),c.PARAMCHECK(s),i.hint=o,i.uri=s,i.duration=a,i.independent=u,i.duration=a,i.byterange=d,i.gap=h,i}return n}(d);t.exports={Rendition:function t(e){var n=e.type,i=e.uri,r=e.groupId,o=e.language,s=e.assocLanguage,a=e.name,u=e.isDefault,d=e.autoselect,h=e.forced,f=e.instreamId,p=e.characteristics,v=e.channels;l(this,t),c.PARAMCHECK(n,r,a),c.CONDITIONALASSERT(["SUBTITLES"===n,i],["CLOSED-CAPTIONS"===n,f],["CLOSED-CAPTIONS"===n,!i],[h,"SUBTITLES"===n]),this.type=n,this.uri=i,this.groupId=r,this.language=o,this.assocLanguage=s,this.name=a,this.isDefault=u,this.autoselect=d,this.forced=h,this.instreamId=f,this.characteristics=p,this.channels=v},Variant:function t(e){var n=e.uri,i=e.isIFrameOnly,r=void 0!==i&&i,o=e.bandwidth,s=e.averageBandwidth,a=e.codecs,u=e.resolution,d=e.frameRate,h=e.hdcpLevel,f=e.audio,p=void 0===f?[]:f,v=e.video,_=void 0===v?[]:v,m=e.subtitles,b=void 0===m?[]:m,y=e.closedCaptions,g=void 0===y?[]:y,w=e.currentRenditions,T=void 0===w?{audio:0,video:0,subtitles:0,closedCaptions:0}:w;l(this,t),c.PARAMCHECK(n,o),this.uri=n,this.isIFrameOnly=r,this.bandwidth=o,this.averageBandwidth=s,this.codecs=a,this.resolution=u,this.frameRate=d,this.hdcpLevel=h,this.audio=p,this.video=_,this.subtitles=b,this.closedCaptions=g,this.currentRenditions=T},SessionData:function t(e){var n=e.id,i=e.value,r=e.uri,o=e.language;l(this,t),c.PARAMCHECK(n,i||r),c.ASSERT("SessionData cannot have both value and uri, shoud be either.",!(i&&r)),this.id=n,this.value=i,this.uri=r,this.language=o},Key:function t(e){var n=e.method,i=e.uri,r=e.iv,o=e.format,s=e.formatVersion;l(this,t),c.PARAMCHECK(n),c.CONDITIONALPARAMCHECK(["NONE"!==n,i]),c.CONDITIONALASSERT(["NONE"===n,!(i||r||o||s)]),this.method=n,this.uri=i,this.iv=r,this.format=o,this.formatVersion=s},MediaInitializationSection:function t(e){var n=e.hint,i=void 0!==n&&n,r=e.uri,o=e.mimeType,s=e.byterange;l(this,t),c.PARAMCHECK(r),this.hint=i,this.uri=r,this.mimeType=o,this.byterange=s},DateRange:function t(e){var n=e.id,i=e.classId,r=e.start,o=e.end,s=e.duration,a=e.plannedDuration,u=e.endOnNext,d=e.attributes,h=void 0===d?{}:d;l(this,t),c.PARAMCHECK(n),c.CONDITIONALPARAMCHECK([!0===u,i]),c.CONDITIONALASSERT([o,r],[o,r<=o],[s,s>=0],[a,a>=0]),this.id=n,this.classId=i,this.start=r,this.end=o,this.duration=s,this.plannedDuration=a,this.endOnNext=u,this.attributes=h},SpliceInfo:function t(e){var n=e.type,i=e.duration,r=e.tagName,o=e.value;l(this,t),c.PARAMCHECK(n),c.CONDITIONALPARAMCHECK(["OUT"===n,i]),c.CONDITIONALPARAMCHECK(["RAW"===n,r]),this.type=n,this.duration=i,this.tagName=r,this.value=o},Playlist:h,MasterPlaylist:f,MediaPlaylist:p,Segment:v,PartialSegment:_,RenditionReport:function t(e){var n=e.uri,i=e.lastMSN,r=e.lastPart;l(this,t),c.PARAMCHECK(n),this.uri=n,this.lastMSN=i,this.lastPart=r}}},771:t=>{function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(void 0!==x&&x.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[x.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){var n;if(void 0===x||null==t[x.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=t[x.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function i(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?a(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var o={};function s(t){if(o.strictMode)throw t;o.silent}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if("number"==typeof t)return t;var n=10===e?Number.parseFloat(t,e):Number.parseInt(t,e);return Number.isNaN(n)?0:n}t.exports={THROW:s,ASSERT:function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];var a,u=n(r.entries());try{for(u.s();!(a=u.n()).done;){var l=e(a.value,2),c=l[0];l[1]||s(new Error("".concat(t," : Failed at [").concat(c,"]")))}}catch(t){u.e(t)}finally{u.f()}},CONDITIONALASSERT:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var o,a=n(i.entries());try{for(a.s();!(o=a.n()).done;){var u=e(o.value,2),l=u[0],c=e(u[1],2),d=c[0],h=c[1];d&&(h||s(new Error("Conditional Assert : Failed at [".concat(l,"]"))))}}catch(t){a.e(t)}finally{a.f()}},PARAMCHECK:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var o,a=n(i.entries());try{for(a.s();!(o=a.n()).done;){var u=e(o.value,2),l=u[0];void 0===u[1]&&s(new Error("Param Check : Failed at [".concat(l,"]")))}}catch(t){a.e(t)}finally{a.f()}},CONDITIONALPARAMCHECK:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var o,a=n(i.entries());try{for(a.s();!(o=a.n()).done;){var u=e(o.value,2),l=u[0],c=e(u[1],2),d=c[0],h=c[1];d&&void 0===h&&s(new Error("Conditional Param Check : Failed at [".concat(l,"]")))}}catch(t){a.e(t)}finally{a.f()}},INVALIDPLAYLIST:function(t){s(new Error("Invalid Playlist : ".concat(t)))},toNumber:u,hexToByteSequence:function(t){(t.startsWith("0x")||t.startsWith("0X"))&&(t=t.slice(2));for(var e=[],n=0;n<t.length;n+=2)e.push(u(t.slice(n,n+2),16));return Buffer.from(e)},byteSequenceToHex:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length;n<=e&&s(new Error("end must be larger than start : start=".concat(e,", end=").concat(n)));for(var i=[],r=e;r<n;r++)i.push("0".concat((255&t[r]).toString(16).toUpperCase()).slice(-2));return"0x".concat(i.join(""))},tryCatch:function(t,e){try{return t()}catch(t){return e(t)}},splitAt:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=-1,r=0,o=0;r<t.length;r++)if(t[r]===e){if(o++===n)return[t.slice(0,r),t.slice(r+1)];i=r}return-1!==i?[t.slice(0,i),t.slice(i+1)]:[t]},trim:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return t?(t=t.trim()," "===e||(t.startsWith(e)&&(t=t.slice(1)),t.endsWith(e)&&(t=t.slice(0,-1))),t):t},splitByCommaWithPreservingQuotes:function(t){for(var e=[],n=!0,i=0,r=[],o=0;o<t.length;o++){var s=t[o];n&&","===s?(e.push(t.slice(i,o).trim()),i=o+1):'"'!==s&&"'"!==s||(n?(r.push(s),n=!1):s===r[r.length-1]?(r.pop(),n=!0):r.push(s))}return e.push(t.slice(i).trim()),e},camelify:function(t){var e,i=[],r=!1,o=n(t);try{for(o.s();!(e=o.n()).done;){var s=e.value;"-"!==s&&"_"!==s?r?(i.push(s.toUpperCase()),r=!1):i.push(s.toLowerCase()):r=!0}}catch(t){o.e(t)}finally{o.f()}return i.join("")},formatDate:function(t){var e=t.getUTCFullYear(),n=("0"+(t.getUTCMonth()+1)).slice(-2),i=("0"+t.getUTCDate()).slice(-2),r=("0"+t.getUTCHours()).slice(-2),o=("0"+t.getUTCMinutes()).slice(-2),s=("0"+t.getUTCSeconds()).slice(-2),a=("00"+t.getUTCMilliseconds()).slice(-3);return"".concat(e,"-").concat(n,"-").concat(i,"T").concat(r,":").concat(o,":").concat(s,".").concat(a,"Z")},hasOwnProp:function(t,e){return Object.hasOwnProperty.call(t,e)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o=Object.assign(o,t)},getOptions:function(){return Object.assign({},o)}}}},e={},function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}(851);var t,e}()}));const Co={variant:0,audio:0,subtitles:0};To.types.Rendition;To.types.Variant,To.types.MasterPlaylist;const Eo={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/]},ko="avc1.42E01E,mp4a.40.2";const So=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(t){let e=!1;return function(n,i){var o=function(){if(/json=1/.test(t))return function(t,e){return void 0?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}(Ee(t).json(),(function(t){const n=t.url;return e=!0,n}))}();return o&&o.then?o.then(i):i(o)}(0,(function(n){return e?n:t}))}));To.types.MediaPlaylist,To.types.Segment,To.types.PartialSegment,To.setOptions({silent:!0});
/*! (c) Andrea Giammarchi - ISC */
var Ao={};try{Ao.Set=Set}catch(t){!function(t,e){var n=e(i.prototype,{size:{configurable:!0,get:function(){return this.K.length}}});function i(t){e(this,{K:{value:[]}}),t&&t.forEach(this.add,this)}function r(e,n){return-1<(t=e.K.indexOf(n))}function o(t){return[t,t]}n.add=function(t){return r(this,t)||this.K.push(t),this},n.clear=function(){var t=this.K.length;this.K.splice(0,t)},n.delete=function(e){return r(this,e)&&!!this.K.splice(t,1)},n.entries=function(){return this.K.map(o)},n.forEach=function(t,e){this.K.forEach((function(n,i){t.call(e,n,n,this)}),this)},n.has=function(t){return r(this,t)},n.keys=n.values=function(){return this.K.slice(0)},Ao.Set=i}(0,Object.defineProperties)}var No=Ao.Set;function Mo(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}let AirPlayExternalDisplay=function(t){function AirPlayExternalDisplay(e){var n;return(n=t.call(this,e)||this).Z=document.createElement("video"),n.Z.setAttribute("data-airplay",""),n.Z.setAttribute("x-webkit-airplay","allow"),n.addVideoEventListeners(),n}q(AirPlayExternalDisplay,t);var e=AirPlayExternalDisplay.prototype;return e.addVideoEventListeners=function(t=this.Z){t.addEventListener(fo.LOADED_METADATA,(t=>{this.fire(fo.LOADED_METADATA,t)})),t.addEventListener("webkitplaybacktargetavailabilitychanged",(t=>{switch(t.availability){case"available":this.G||(this.G=!0,this.fire(_o.AIRPLAY_AVAILABLE));break;case"not-available":this.G&&(this.G=!1,this.fire(_o.AIRPLAY_UNAVAILABLE))}})),t.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",(t=>{if(t.target.webkitCurrentPlaybackTargetIsWireless)return this.W=!0,void this.fire(_o.AIRPLAY_ACTIVATED);this.W=!1,this.fire(_o.AIRPLAY_DEACTIVATED)}))},e.showPicker=function(){this.Z.webkitShowPlaybackTargetPicker(),this.loadMetadata().then((()=>this.Z.webkitShowPlaybackTargetPicker())).catch((()=>{}))},e.loadMetadata=function(){try{const t=this;return t.Z.readyState>=1?r.resolve():Mo(new r(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(e){return t.Z.addEventListener(fo.LOADED_METADATA,(()=>{e()})),Mo(So(t.getFile().src),(function(e){t.Z.src=e}))}))))}catch(t){return r.reject(t)}},X(AirPlayExternalDisplay,[{key:"element",get:function(){return this.Z},set:function(t){if(!(t instanceof HTMLVideoElement))throw new TypeError("The element for AirPlay must be a <video>.");t!==this.Z&&(this.addVideoEventListeners(t),this.Z=t,this.Z.setAttribute("x-webkit-airplay","allow"))}}],[{key:"displayName",get:function(){return"AirPlayExternalDisplay"}},{key:"supported",get:function(){return"WebKitPlaybackTargetAvailabilityEvent"in window}},{key:"supportedVideoTypes",get:function(){return[co.hls,co.h264]}}])}(ho);const Oo=(()=>{const t=navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\./);return!!t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}})(),Io=function(t){for(let e=0,n=this.length;e<n;e++)if(this[e].id===`${t}`)return this[e];return null};function Lo(t=[]){return t.item=function(t){return this[t]},t.getTrackById=Io,t}function Ro(t){const e=window.atob(t),n=e.length,i=new Uint8Array(n);for(let t=0;t<n;t++)i[t]=e.charCodeAt(t);return i}function xo(t,e,n,i){let r=0,o=0,s=0,a=0;const u=t,l=e,c=n/i;return u/l>=c?(o=l,r=(c*l).toFixed(2)):(r=u,o=(u/c).toFixed(2)),s=Math.max((u-r)/2,0),a=Math.max((l-o)/2,0),{width:r,height:o,left:s,top:a}}function Po(t){if(function(t){return"webkitDisplayingFullscreen"in t&&t.webkitDisplayingFullscreen}(t))return!0;const e=[document.fullscreenElement,document.webkitFullscreenElement,document.webkitCurrentFullScreenElement,document.mozFullScreenElement,document.msFullscreenElement].find((t=>void 0!==t));return Boolean(e)}function Do(t,e){let n=t;return e&&(n+=`;codecs="${e}"`),n}function Bo(t,e=3){if(t=parseFloat(t),isNaN(t))return 0;const n=Math.pow(10,e);return Math.round(t*n)/n}let TelecineError=function(t,e){this.name=t,this.message=e,Object.freeze(this)};const $o=new ei;let Vo=function(){function t(t,e={}){const n=parseFloat(t);if(isNaN(n))throw new TypeError("Time must be a number.");if(n<0)throw new TypeError("Time must be a positive number.");this.time=t,this.data=e,this.id=te();try{const n="undefined"==typeof VTTCue?TextTrackCue:VTTCue;this.vttCue=new n(t,t+.25,JSON.stringify(e)),this.vttCue.id=this.id}catch(t){throw new TelecineError("CuePointsNotSupported","Cue points are not supported in this browser.")}$o.set(this.vttCue,this),Object.freeze(this)}return t.fromVTTCue=function(e){if($o.has(e))return $o.get(e);let n={};try{n=JSON.parse(e.text)}catch(t){}return new t(e.startTime,n)},t}();function jo(t,e,n){let i;try{document.removeChild({})}catch(r){i=Object.create(Object.getPrototypeOf(r),{name:{value:e,configurable:!0,writable:!0},code:{value:t,configurable:!0,writable:!0},message:{value:n,configurable:!0,writable:!0},toString:{value:()=>`${e}: DOM Exception ${t}`,configurable:!0,writable:!0}})}return Object.freeze(i)}const Ho=(t,e)=>{if(!t||void 0===t[e])throw jo(1,"INDEX_SIZE_ERR");return t[e]};function Fo(t=[],e=[]){return Object.freeze({get length(){return t.length},start:e=>Ho(t,e),end:t=>Ho(e,t),[x.iterator]:()=>function(t,e){let n=0;return{[x.iterator](){return this},next:()=>n<t.length?{done:!1,value:e?[t[n],e[n++]]:t[n++]}:{done:!0}}}(t,e)})}Fo.from=function(t){if(!(t instanceof TimeRanges))throw new TypeError("Can only create a TelecineTimeRange from a TimeRanges object.");const e=[],n=[];for(let i=0,r=t.length;i<r;i++)e.push(t.start(i)),n.push(t.end(i));return Fo(e,n)};const Uo="DRMFailure",zo="MediaUnknownError",Xo="MediaUrlBadRequest",Go="PlayInterrupted",Wo="NoSupportedCDM",qo="inline",Yo="picture-in-picture";function Ko(){}const Zo=document.createElement("video"),Qo={"application/vnd.apple.mpegurl":"application/vnd.apple.mpegurl","video/mp4":'video/mp4; codecs="avc1.64001E"',"video/webm":'video/webm; codecs="vp8, vorbis"',"video/x-flv":'video/x-flv; codecs="vp6"'},Jo=function(){const t="undefined"==typeof TextTrack?{}:TextTrack;return{disabled:"DISABLED"in t?t.DISABLED:"disabled",hidden:"HIDDEN"in t?t.HIDDEN:"hidden",showing:"SHOWING"in t?t.SHOWING:"showing"}}();function ts(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const es=function(){const t=document.createElement("track");return"track"in t&&"oncuechange"in t.track}(),ns=new ei;let is=function(t){function e(e,n={}){var i;(i=t.call(this)||this).J=e,i.tt=n,i.et=null,i.nt=null,i.it=[];let r=e.querySelector("video");return r||(r=document.createElement("video"),r.preload="none",i.J.appendChild(r)),r.setAttribute("tabindex","-1"),i.Y=r,n.playRequest&&(i.rt=n.playRequest,i.rt.video=r),n.htmlScanner&&n.htmlScanner.controls&&(i.Y.controls=!0),i.ot=i.handleVideoEvent.bind(i),i.st=i.handleAudioEvent.bind(i),i.addVideoEventListeners(),i.addAudioEventListeners(),i.ut="none",i.lt=!1,i.ct=!1,i.dt=-1,i.ht=!1,i.ft(),i}q(e,t),e.supported=function(){return e.supportedVideoTypes.length>0};var n=e.prototype;return n.deactivate=function(){this.et&&(this.et.off(mo.FILE_SRC_UPDATE),this.et.off("texttracksrcupdate")),this.removeVideoEventListeners(),this.removeAudioEventListeners(),this.ht||this.removeSnapshot(),this.Y.style.display="none",this._t()},n.reactivate=function(){this.addVideoEventListeners(),this.addAudioEventListeners(),this.Y.style.display="",this.ft()},n.addVideoEventListeners=function(t=this.Y){Object.keys(fo).forEach((e=>{const n=fo[e];t.addEventListener(n,this.ot)}))},n.addAudioEventListeners=function(t=this.Y){var e;null!=t&&t.audioTracks&&"function"==typeof(null==(e=t.audioTracks)?void 0:e.addEventListener)&&(t.audioTracks.addEventListener(po.ADD_TRACK,this.st),t.audioTracks.addEventListener(po.REMOVE_TRACK,this.st),t.audioTracks.addEventListener(po.CHANGE,this.st))},n.removeVideoEventListeners=function(t=this.Y){Object.keys(fo).forEach((e=>{const n=fo[e];t.removeEventListener(n,this.ot)}))},n.removeAudioEventListeners=function(t=this.Y){var e;null!=t&&t.audioTracks&&"function"==typeof(null==(e=t.audioTracks)?void 0:e.removeEventListener)&&(t.audioTracks.removeEventListener(po.ADD_TRACK,this.st),t.audioTracks.removeEventListener(po.REMOVE_TRACK,this.st),t.audioTracks.removeEventListener(po.CHANGE,this.st))},n.play=function(t){return this.rt.start(t).catch((t=>{var e;if("sd-fallback"!==(null==(e=this.et.drmHandler)?void 0:e.state)||"AbortError"!==t.name)throw this.yt(t),t}))},n.yt=function(t){this.fire(fo.ERROR,new TelecineError(null==t?void 0:t.name,null==t?void 0:t.message))},n.pause=function(){this.rt.cancel(),this.Y.pause()},n.onpause=function(){},n.ontimeupdate=function(){this.dt=this.currentTime},n.addTextTrack=function(t){let e,n;return t.src?(e=document.createElement("track"),e.kind=t.kind,e.src=t.src,e.id=`telecine-track-${t.id}`,e.srclang=t.language,e.label=t.label,this.Y.appendChild(e),n=e.track):(n=this.Y.addTextTrack(t.kind,t.label,t.language),this.gt=this.gt||{},this.gt[`telecine-track-${t.id}`]=n),this.wt(t,n,e),n},n.wt=function(t,e,n){e.addEventListener("cuechange",(()=>t.dispatchEvent("cuechange"))),this.Y.addEventListener(fo.TIME_UPDATE,(()=>{Po(this.Y)&&(t.mode=e.mode)}));const i=()=>{const n=Bt.iOS&&Po(this.Y);!t.Tt||n?t.mode=e.mode:e.mode=Jo[t.mode]},r=[];if(n?n.addEventListener("load",i):i(),[fo.LOADED_DATA,fo.SEEKING].forEach((t=>{this.Y.addEventListener(t,i),r.push([t,i])})),t.Tt&&(e.mode=Jo[t.mode]),!es){let n=[];const i=()=>{if(e&&"disabled"!==Jo[e.mode]){if(n.length!==e.activeCues.length)return t.dispatchEvent("cuechange"),void(n=a(e.activeCues));for(let i=0,r=e.activeCues.length;i<r;i++)if(e.activeCues[i].startTime!==n[i].startTime)return t.dispatchEvent("cuechange"),void(n=a(t.activeCues))}};this.Y.addEventListener(fo.TIME_UPDATE,i),r.push([fo.TIME_UPDATE,i])}return ns.set(t,r),e},n.removeTextTrack=function(t){const e=this.Y.querySelector(`#telecine-track-${t.id}`);e&&this.Y.removeChild(e);const n=ns.get(t);Array.isArray(n)&&n.forEach((([t,e])=>{this.Y.removeEventListener(t,e)}))},n.getCuesForTrack=function(t){const e=this.getTrackById(`telecine-track-${t.id}`);return e?a(e.cues):[]},n.getActiveCuesForTrack=function(t){const e=this.getTrackById(`telecine-track-${t.id}`);return e&&e.activeCues?a(e.activeCues):[]},n.setModeForTrack=function(t,e){const n=this.getTrackById(`telecine-track-${t.id}`);return n&&n.mode!==Jo[e]&&(n.mode=Jo[e],es||"disabled"===e||t.dispatchEvent("cuechange")),this},n.setSrcForTrack=function(t,e){const n=this.Y.querySelector(`#telecine-track-${t.id}`);return n&&null===n.track.cues&&(n.src=e),this},n.enableAudioTrack=function(t){if(!this.constructor.supportsVideoElementAudioTracks||!this.audioTracks)return null;if(!t)return null;if(!this.audioTracks.getTrackById(t))return null;let e=null;for(let n=0;n<this.audioTracks.length;n++){const i=this.audioTracks[n].id===t;this.audioTracks[n].enabled=i,i&&(e=this.audioTracks[n])}return e},n.Ct=function(t,e,n=null){let i;this.Et||(this.Et=this.Y.addTextTrack("chapters"),this.Et.mode="hidden");const r=t.timecode,o=n?n.timecode:e,s=window.VTTCue||window.TextTrackCue;try{i=new s(r,o,t.title)}catch(t){throw new TelecineError("ChaptersNotSupported","Chapters are not supported in this browser.")}i.size=(o-r)/e,i.id=r,this.Et.addCue(i)},n.addChapter=function(t,e){const n=this.video.chapters,i={timecode:t,title:e};n.push(i),n.sort(((t,e)=>t.timecode-e.timecode));const r=n[n.indexOf(i)+1];this.Ct(i,this.video.duration,r),this.kt(this.Et,this.video.duration)},n.removeChapter=function(t){try{this.Et.removeCue(t)}catch(t){throw new TelecineError("ChaptersNotSupported","Chapters are not supported in this browser.")}const e=this.video.chapters.find((e=>e.timecode===t.timecode));this.video.chapters.splice(e,1),this.kt(this.Et,this.video.duration)},n.kt=function(t,e){for(let n=0;n<t.cues.length;n++){let i=t.cues[n],r=t.cues[n+1];const o=r?r.startTime:e;i.endTime=o,i.size=(o-i.startTime)/e}this.fire(mo.CHAPTER_CUES_UPDATED)},n.addChapters=function(t,e){0!==t.length&&e&&(t=t.filter((t=>this.St(t,e)))).sort(((t,e)=>t.timecode-e.timecode)).forEach(((n,i)=>this.Ct(n,e,t[i+1])))},n.addCuePoint=function(t,e={}){if(this.At||(this.At=this.Y.addTextTrack("metadata"),this.At.mode="hidden",this.At.addEventListener("cuechange",(t=>{a(t.target.activeCues).forEach((t=>{this.fire(mo.CUE_POINT,Vo.fromVTTCue(t))}))})),this.Y.addEventListener(fo.CAN_PLAY,(t=>{this.At.mode="hidden"}))),t=parseFloat(t),isNaN(t))throw new TypeError("Time must be a number.");if(t<0||t>=this.duration)throw new TypeError("Time must be a positive number less than the duration of the video.");const n=new Vo(t,e);return this.At.addCue(n.vttCue),n},n.removeCuePoint=function(t){if(!t)throw new TelecineError("InvalidCuePoint","The specified cue point is not valid.");return this.At.removeCue(t.vttCue),!0},n.removeAllCuePoints=function(){return this.At&&this.At.length&&a(this.At.cues).forEach((t=>{this.At.removeCue(t)})),!0},n.requestPictureInPicture=function(){try{const t=this;return ts(function(e,n){var i=function(){if(t.Y.readyState<1)return function(t){if(!void 0)return t&&t.then?t.then(Ko):r.resolve()}(t.Nt())}();return i&&i.then?i.then(n):n()}(0,(function(){switch(Bt.pictureInPictureSupportType){case"pip-api":return t.Y.requestPictureInPicture();case"webkit-presentation-mode":return t.Y.webkitSetPresentationMode(Yo);default:throw new Error("Picture-in-picture is not supported by this browser")}})))}catch(t){return r.reject(t)}},n.Nt=function(){return this.preload="auto",new r((t=>{this.once(fo.LOADED_METADATA,t)}))},n.exitPictureInPicture=function(){try{const t=this;switch(Bt.pictureInPictureSupportType){case"pip-api":return ts(document.exitPictureInPicture());case"webkit-presentation-mode":return ts(t.Y.webkitSetPresentationMode(qo));default:throw new Error("Picture-in-picture is not supported by this browser")}}catch(t){return r.reject(t)}},n.isInView=function(){var t;return(null==(t=this.Mt)?void 0:t.isInView)??!0},n.onerror=function(){if(!this.Y.error)return!1;switch(this.Y.error.code){case this.Y.error.MEDIA_ERR_SRC_NOT_SUPPORTED:return this.Ot("MediaSrcNotSupportedError","The media was not suitable."),this.It(),!1;case this.Y.error.MEDIA_ERR_DECODE:return-1!==this.dt&&Bt.iOS?(this.Y.load(),this.currentTime=this.dt,this.dt=-1,!1):(this.Ot("MediaDecodeError","The media could not be decoded."),this.It(),!1);case this.Y.error.MEDIA_ERR_NETWORK:return this.Ot("MediaNetworkError","A network error ocurred while fetching the media."),!1;case this.Y.error.MEDIA_ERR_ABORTED:return this.Ot("MediaAbortedError","The user agent aborted the fetching of the media."),!1;default:return this.Ot(zo,"An unknown error occurred."),!1}},n.Ot=function(t,e){this.fire(fo.ERROR,new TelecineError(t,e))},n.onended=function(){if(this.Y.paused||this.Y.pause(),this.currentTime<this.Y.duration)return!1},n.onwaiting=function(){return!1},n.onwebkitbeginfullscreen=function(){this.ct=!0},n.onwebkitendfullscreen=function(){this.Y.webkitPresentationMode===qo&&!0===this.Y.controls&&(this.Y.controls=!1),this.ct=!1},n.onwebkitpresentationmodechanged=function(){this.fire(this.pictureInPictureActive?fo.ENTER_PICTURE_IN_PICTURE:fo.LEAVE_PICTURE_IN_PICTURE)},n.shouldHandleVideoEvent=function(t){return!0},n.handleVideoEvent=function(t){t.target===this.Y&&!1!==this.shouldHandleVideoEvent(t)&&("function"==typeof this[`on${t.type}`]&&!1===this[`on${t.type}`](t)||this.fire(t.type))},n.handleAudioEvent=function(){this.fire(mo.AUDIO_TRACK_CHANGED)},n.swapVideo=function(t,e){const n=t.paused;this.removeVideoEventListeners(t),this.removeAudioEventListeners(t),t.parentElement.replaceChild(e,t),t.pause(),this.rt&&(this.rt.video=e),e.currentTime=t.currentTime,n||e.play(),this.addVideoEventListeners(e),this.addAudioEventListeners(e),this.Y=e},n.onexternaldisplayactivated=function(t){this.lt||(this.Y!==t.element&&(this.Lt=this.Y,this.swapVideo(this.Y,t.element)),this.lt=!0)},n.onexternaldisplaydeactivated=function(t){this.lt&&(this.Lt&&(this.swapVideo(t.element,this.Lt),this.Lt=null),this.lt=!1)},n.setVideoSrc=function(t){this.Y.src=t},n.canSeekTo=function(t){const e=this.duration;if(e&&t>e&&(t=e),this.Y.seekable.length>0)for(let e=0,n=this.Y.seekable.length;e<n;e++)if(this.Y.seekable.start(e)<=t&&this.Y.seekable.end(e)>=t)return!0;return!1},n.seekToTime=function(t){return this.canSeekTo(t)?(this.Y.currentTime=t,r.resolve(this.Y.currentTime)):new r((e=>{const n=()=>{this.canSeekTo(t)&&(Object.keys(fo).forEach((t=>{const e=fo[t];this.Y.removeEventListener(e,n)})),this.Y.currentTime=t,e(this.Y.currentTime))};Object.keys(fo).forEach((t=>{const e=fo[t];this.Y.addEventListener(e,n)}))}))},n.takeSnapshot=function(){let t=this.J.querySelector("[telecine-snapshot]");t||(t=document.createElement("canvas"),t.setAttribute("telecine-snapshot",""),this.J.appendChild(t)),t.setAttribute("width",`${this.J.clientWidth}px`),t.setAttribute("height",`${this.J.clientHeight}px`),t.style.display="";const{width:e,height:n,left:i,top:r}=xo(this.Y.clientWidth,this.Y.clientHeight,this.Y.videoWidth,this.Y.videoHeight);t.style.cssText=`position:absolute;width:${e}px;height:${n}px;left:${i}px;top:${r}px`;const o=t.getContext("2d");t.width>0&&t.height>0&&o.drawImage(this.Y,0,0,t.width,t.height)},n.removeSnapshot=function(){const t=this.J.querySelector("[telecine-snapshot]");t&&(t.style.display="none")},n.getTrackById=function(t){if(this.gt&&this.gt[t])return this.gt[t];if("function"==typeof this.Y.textTracks.getTrackById)return this.Y.textTracks.getTrackById(t);const e=document.getElementById(t);return e?e.track:null},n.initDrm=function(){const t=this.et.drmHandler;t&&t.init(this)},n.showExternalDisplayPicker=function(t){if(!this.it.length)throw new TelecineError("ExternalDisplayUnvailable","No external displays are available.");if(!t)return void this.it[0].showPicker();const e=this.it.filter((e=>e.constructor.displayName.replace("ExternalDisplay","")===t))[0];if(!e)throw new TelecineError("InvalidExternalDisplay","The specified external display is not available.");e.showPicker()},n.setCaptionsShouldDisplay=function(t){},n.setCaptionsShouldLoad=function(t){},n.Rt=function(){if(this.xt.length<1)return null;const t=this.xt.slice(0).sort(((t,e)=>t.priority-e.priority));return t[0]},n.Pt=function(){const t=this.Rt();t?this.currentFile=t:this.fire(mo.SCANNER_ERROR,{reason:"all files failed"})},n.St=function(t,e){return void 0!==t.timecode&&t.timecode>=0&&t.timecode<=e&&void 0!==t.title},n.It=function(){const t=this.xt.indexOf(this.nt);this.xt.splice(t,1),this.Pt()},n._t=function(){var t;null==(t=this.Mt)||t.cleanup()},n.ft=function(){this._t(),this.Mt=Ft(this.J)},X(e,[{key:"audioTracks",get:function(){return this.Y.audioTracks}},{key:"chaptersTrack",get:function(){return this.Et}},{key:"manifest",get:function(){return this.Dt}},{key:"manifestLoaded",get:function(){return!!this.Dt}},{key:"buffered",get:function(){return Fo.from(this.Y.buffered)}},{key:"cuePoints",get:function(){var t,e;return null!=(t=this.At)&&t.cues&&"function"==typeof(null==(e=this.At)?void 0:e.cues[x.iterator])?a(this.At.cues).map((t=>Vo.fromVTTCue(t))):[]}},{key:"currentFile",get:function(){return this.nt},set:function(t){const n=!this.Y.paused,i=this.currentTime,r=!this.nt||t.video.id!==this.nt.video.id;if(r||this.takeSnapshot(),this.nt=t,r&&(this.Y.preload=this.ut),this.constructor===e&&this.Y.readyState>0&&(this.Y.currentTime=0),(Bt.iOS||Bt.android)&&this.nt.video.title){let t=this.nt.video.title;this.nt.video.subtitle&&(t=`${t} ${this.nt.video.subtitle}`),this.Y.setAttribute("title",t)}else this.Y.removeAttribute("title");this.setVideoSrc(this.nt.src,r),this.fire(mo.CURRENT_FILE_CHANGE,t),Bt.iOS&&!r&&this.play().catch(this.yt.bind(this)),this.constructor!==e||r?n&&this.play().catch(this.yt.bind(this)):(this.seekToTime(i).then((t=>(n&&this.play().catch(this.yt.bind(this)),t))).catch((()=>{})),this.once(fo.CAN_PLAY,(()=>this.removeSnapshot())),this.once(fo.PLAYING,(()=>this.removeSnapshot())))}},{key:"currentTime",get:function(){return this.Y.currentTime},set:function(t){this.seekToTime(t)}},{key:"duration",get:function(){return this.Y.duration}},{key:"ended",get:function(){return this.Y.ended}},{key:"externalDisplayAvailable",get:function(){return this.it.some((t=>t.available))}},{key:"externalDisplayActive",get:function(){return this.it.some((t=>t.active))}},{key:"loop",get:function(){return this.Y.loop},set:function(t){this.Y.loop=t}},{key:"isLowerProfileAvailable",get:function(){return null}},{key:"muted",get:function(){return this.Y.muted},set:function(t){this.Y.muted=t}},{key:"playsinline",get:function(){return this.Y.playsinline},set:function(t){this.Y.playsinline=t,t?this.Y.setAttribute("playsinline",""):this.Y.removeAttribute("playsinline")}},{key:"paused",get:function(){return this.Y.paused}},{key:"defaultPlaybackRate",get:function(){return this.Y.defaultPlaybackRate},set:function(t){this.Y.defaultPlaybackRate=t}},{key:"playbackRate",get:function(){return this.Y.playbackRate},set:function(t){this.Y.playbackRate=t}},{key:"played",get:function(){return this.Y.played}},{key:"seekable",get:function(){return this.Y.seekable}},{key:"seeking",get:function(){return this.Y.seeking}},{key:"preload",get:function(){return this.ut},set:function(t){this.Y.preload=t,this.ut=t}},{key:"autoPictureInPicture",get:function(){return this.Y.autoPictureInPicture},set:function(t){this.Y.autoPictureInPicture=t}},{key:"disablePictureInPicture",get:function(){return this.Y.disablePictureInPicture},set:function(t){this.Y.disablePictureInPicture=t}},{key:"pictureInPictureActive",get:function(){return this.Y.webkitPresentationMode===Yo||!!document.pictureInPictureElement}},{key:"isPlayRequestActive",get:function(){var t;return(null==(t=this.rt)?void 0:t.active)??!1}},{key:"pictureInPictureEnabled",get:function(){if(this.disablePictureInPicture)return!1;switch(Bt.pictureInPictureSupportType){case"pip-api":return document.pictureInPictureEnabled;case"webkit-presentation-mode":return!0;default:return!1}}},{key:"video",get:function(){return this.et},set:function(t){if(this.reactivate(),this.et!==t){if(this.et&&(this.et.off(mo.FILE_SRC_UPDATE),this.et.off("texttracksrcupdate")),this.removeAllCuePoints(),this.et=t,this.xt=t.files.filter((t=>-1!==this.constructor.supportedVideoTypes.indexOf(t.mime))),this.et.on(mo.FILE_SRC_UPDATE,(t=>{t===this.nt&&this.Pt()})),this.et.on("texttracksrcupdate",(t=>{this.video.currentScanner&&this.video.currentScanner.setSrcForTrack(t,t.src)})),this.tt.externalDisplays&&this.tt.externalDisplays.length){this.it=[];let e=this.constructor.supportedExternalDisplays;Array.isArray(e)||(e=[]);const n=e.map((t=>t.displayName));this.tt.externalDisplays.filter((t=>t.supported&&-1!==n.indexOf(t.displayName))).forEach((e=>{const n=new e(t),i=e.displayName.replace("ExternalDisplay","");n.on(fo.LOADED_METADATA,(t=>this.fire(fo.LOADED_METADATA,t))),n.on("available",(()=>this.fire(vo.AVAILABLE,{type:i}))),n.on("unavailable",(()=>this.fire(vo.UNAVAILABLE,{type:i}))),n.on("activated",(()=>{"function"==typeof this.onexternaldisplayactivated&&this.onexternaldisplayactivated(n),this.fire(vo.ACTIVATED,{type:i})})),n.on("deactivated",(()=>{"function"==typeof this.onexternaldisplaydeactivated&&this.onexternaldisplaydeactivated(n),this.fire(vo.DEACTIVATED,{type:i})})),this.it.push(n)}))}this.Pt(),Bt.iOS&&this.it.forEach((t=>{"AirPlay"===t.constructor.displayName&&(t.element=this.Y)})),this.initDrm()}}},{key:"videoElement",get:function(){return this.Y}},{key:"videoWidth",get:function(){return this.Y.videoWidth}},{key:"videoHeight",get:function(){return this.Y.videoHeight}},{key:"volume",get:function(){return pt(this.Y.volume)},set:function(t){this.Y.volume=ft(t)}},{key:"readyState",get:function(){return this.Y.readyState}}],[{key:"displayName",get:function(){return"HTMLScanner"}},{key:"supportsMse",get:function(){return!1}},{key:"supportsLive",get:function(){return!1}},{key:"supportedVideoTypes",get:function(){const t=[];if("function"!=typeof Zo.canPlayType)return t;for(const e in Qo){const n=Qo[e];Bt.android&&e===co.hls||(Bt.android&&!Bt.mobileAndroid&&e===co.h264&&Bt.android instanceof String?parseInt(Bt.android.split(".")[0],10)>3&&t.push(e):Zo.canPlayType(n).replace(/^no$/,"")&&t.push(e))}return t}},{key:"supportedAudioTypes",get:function(){return[]}},{key:"supportedExternalDisplays",get:function(){return[AirPlayExternalDisplay]}},{key:"supportsVideoElementAudioTracks",get:function(){return void 0!==Zo.audioTracks&&this.supportedVideoTypes.includes(co.hls)}}])}(ri);function rs(t,e=[]){if(0===t.length)return 0;let n=0,i=0;for(let r=0;r<t.length;r++){const o=e[r]||1;i+=o,n+=t[r]*o}return n/i}function os(t){const e=et(t).sort(((t,e)=>t-e)),n=Math.floor(e.length/2);return e.length%2?e[n]:(e[n-1]+e[n])/2}let ss=function(t){function e(){return t.apply(this,arguments)||this}return q(e,t),e}(rt(Error));function as(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const us=ls((function(t,e){const n=this;return function(t,e){var i=function(){if(!j(ws,n))return as($(Ms,n,Us).call(n),(function(t){F(ws,n,new t({keepOriginalTimestamps:!0}))}))}();return i&&i.then?i.then(e):e()}(0,(function(){return new r((i=>{j(ws,n).on("data",(e=>{j(ws,n).off("data");let r=new Uint8Array(e.initSegment.byteLength+e.data.byteLength);r.set(e.initSegment,0),r.set(e.data,e.initSegment.byteLength),i(t.data.isInitSegmentRequest?e.initSegment:r)})),j(ws,n).push(new Uint8Array(e)),j(ws,n).flush()}))}))}));function ls(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}const cs=ls((function(){const t=this;return function(){var e=function(){if(j(Ts,t))return function(t){if(!void 0)return t&&t.then?t.then(ds):r.resolve()}(j(Ts,t))}();if(e&&e.then)return e.then(ds)}()}));function ds(){}var hs=new ei,fs=new ei,ps=new ei,vs=new ei,_s=new ei,ms=new ei,bs=new ei,ys=new ei,gs=new ei,ws=new ei,Ts=new ei,Cs=new ei,Es=new ei,ks=new ei,Ss=new ei,As=new ei,Ns=new ei,Ms=new WeakSet;let Os=function(t){function e(e={}){var n;U(n=t.call(this)||this,Ms),H(n,hs,void 0),H(n,fs,void 0),H(n,ps,100),H(n,vs,void 0),H(n,_s,void 0),H(n,ms,void 0),H(n,bs,new No),H(n,ys,void 0),H(n,gs,!1),H(n,ws,void 0),H(n,Ts,void 0),H(n,Cs,!1),H(n,Es,[]),H(n,ks,[]),H(n,Ss,[]),H(n,As,[]),H(n,Ns,[]),F(hs,n,vt("Fetcher","color: #586e75"));const{parallel:i=1,retryAbortErrors:r=!0,retryCount:o=3,timeout:s=0}=e;return F(fs,n,i),F(vs,n,r),F(_s,n,o),F(ms,n,s),$(Ms,n,Ls).call(n),n}q(e,t);var n=e.prototype;return n.getPercentileSpeed=function(t=5,e=.8){return function(t,e){if(0===t.length)return 0;const n=et(t).sort(((t,e)=>t-e));if(e<=0)return n[0];if(e>=1)return n[n.length-1];const i=n.length*e,r=Math.floor(i),o=r+1,s=i%1;return o>=n.length?n[r]:n[r]*(1-s)+n[o]*s}(j(Ns,this).slice(-t),e)},n.getAverageSpeed=function(t=5,e=[]){return rs(j(Ns,this).slice(-t),e)},n.getHarmonicAverageSpeed=function(t=5){return function(t){if(0===t.length)return 0;let e=0;for(let n=0;n<t.length;n++)e+=1/t[n];return t.length/e}(j(Ns,this).slice(-t))},n.getMedianSpeed=function(t=5){return os(j(Ns,this).slice(-t))},n.getResponseSpeeds=function(){return j(Ns,this)},n.getProgressSpeeds=function(){return j(As,this)},n.getFailedSegments=function(){return j(ks,this)},n.getSuccessfulSegments=function(){return j(Ss,this)},n.resetResponseSpeeds=function(){j(Ns,this).length=0},n.add=function(t){return new r(((e,n)=>{const i=$(Ms,this,Ps).call(this,t,e,n);$(Ms,this,Rs).call(this,i),j(gs,this)&&!j(Cs,this)&&$(Ms,this,xs).call(this)}))},n.abort=function(t=null){j(Es,this).filter((e=>!t||t===e.stream)).forEach((t=>{t.reject(new ss("Stream manually aborted")),this.fire("downloadabort",t.identifier)})),F(Es,this,j(Es,this).filter((e=>t&&t!==e.stream))),j(bs,this).forEach((e=>{t&&t!==e.stream||e.request.abort()}))},n.start=function(){j(gs,this)||(F(gs,this,!0),$(Ms,this,xs).call(this))},n.stop=function(){F(gs,this,!1)},n.saveResponseSpeeds=function(t,e,n){if(!t.includeWithBandwidthChecks)return;const i=$(Ms,this,js).call(this,t,e,n),r=n<15e4&&Bt.navigatorConnection?Math.max(ee(),i):i;j(Ns,this).push(r),j(Ns,this).length>100&&j(Ns,this).shift()},X(e,[{key:"pendingFetches",get:function(){const t=[];return j(bs,this).forEach((e=>{const n=j(ys,this).get(e);n&&(n.elapsedTime=Gt()-e.data.requestSendTime,t.push(n))})),t}}])}(ri);function Is(t){let e=0;for(;e<j(Es,this).length&&!(j(Es,this)[e].priority>t.priority);e++);j(Es,this).splice(e,0,t)}function Ls(){if(F(ys,this,new ei),window.addEventListener("online",(()=>{this.start(),j(Ts,this)&&(j(Ts,this).resolve(),F(Ts,this,null))})),window.addEventListener("offline",(()=>{this.stop(),this.abort(),F(Ts,this,Ut())})),Bt.navigatorConnection){const t=ee();j(Ns,this).push(t)}}function Rs(t){t.hasOwnProperty("priority")?$(Ms,this,Is).call(this,t):j(Es,this).push(t)}function xs(){if(!j(gs,this))return;F(Cs,this,!0);const t=j(fs,this)-j(bs,this).size;for(let e=0;e<t;e++)$(Ms,this,Bs).call(this)}function Ps(t,e,n){let i=t;return"object"==typeof t&&t.id&&(i=t.id),Object.assign({},t,{identifier:i,resolve:e,reject:n})}function Ds(){0!==j(bs,this).size||0!==j(Es,this).length?j(bs,this).size<j(fs,this)&&$(Ms,this,xs).call(this):F(Cs,this,!1)}function Bs(){if(0===j(Es,this).length)return void F(Cs,this,!1);const t=j(Es,this).shift(),{url:e,byteRange:n,isInitSegmentRequest:i,identifier:r,stream:o,timeout:s}=t,a={stream:o,data:{url:e,isInitSegmentRequest:i,requestSendTime:Gt(),uuid:te()}};let u=j(ms,this);"number"==typeof s&&s>=0&&(u=s);const l={url:e,type:P.SEGMENT,responseType:Le.ARRAY_BUFFER,retry:j(_s,this),hooks:{beforeRetry:[$(Ms,this,cs).bind(this)]},onDownloadProgress:$(Ms,this,$s).call(this,r,a),headers:n&&{Range:`bytes=${n}`},retryAbortErrors:j(vs,this),timeout:u};this.fire("downloadstart",r),a.request=Ee(l).then($(Ms,this,Vs).call(this,a,t)).catch($(Ms,this,Fs).call(this,a,t)),j(bs,this).add(a)}function $s(t,e){let n=0,i=0,r=Gt();return o=>{if(o.lengthComputable){const s=8*(o.loaded-i),a=Gt(),u=a-r,l={startTime:r,length:u,bitrate:s/(u/1e3),index:n};n>0&&(j(As,this).length>=j(ps,this)&&j(As,this).shift(),j(As,this).push(l)),r=a,i=o.loaded,n+=1,j(ys,this).set(e,{bytesTotal:o.total,bytesLoaded:o.loaded,percent:o.loaded/o.total,identifier:t}),this.fire("progress",t)}}}function Vs(t,e){const n=this,i=Gt(),{identifier:r,resolve:o}=e;return ls((function(s){let a=Gt()-i;return as(s.arrayBuffer(),(function(i){return Object.prototype.hasOwnProperty.call(s,"perfTimings")&&Object.prototype.hasOwnProperty.call(s.perfTimings,"responseStart")&&(e.perfTimings=s.perfTimings),t.data.duration=Gt()-t.data.requestSendTime,j(bs,n).delete(t),j(ys,n).delete(t),n.saveResponseSpeeds(e,a,i.byteLength),n.fire("downloadend",r,{request:t,response:s}),j(Ss,n).push({url:t.data.url,status:200,duration:t.data.duration}),as($(Ms,n,Hs).call(n,t,i),(function(t){o(i=t),$(Ms,n,Ds).call(n)}))}))}))}function js(t,e,n){const i=2e5,r=e/1e3,o=t.perfTimings;let s=n/r;const a=o&&n<=16e3;if(t.excludeConnectTime&&n>16e3&&n<=i){const t=(50*Math.max(0,1-n/i)+150)/1e3;s=n/Math.max(.1,r-t)}else if(a){const t=o.fetchStart||o.workerStart||o.requestStart||0;s=n/(r-Math.max(0,o.responseStart-t)/1e3)}return 8*s}function Hs(t,e){return t.data.url&&t.data.url.match(".ts$")?$(Ms,this,us).call(this,t,e):r.resolve(new Uint8Array(e))}function Fs(t,e){const{identifier:n,reject:i,size:r}=e;return e=>{const o=Gt()-t.data.requestSendTime;if(t.data.duration=o,e instanceof ie)j(ks,this).push({url:t.data.url,status:"abort",duration:o}),this.fire("downloadabort",n);else if(e instanceof re){const i=e.response.status;j(ks,this).push({url:t.data.url,status:i,duration:o}),this.fire("downloaderror",n,i)}else if(e instanceof se){if(j(ks,this).push({url:t.data.url,status:"timeout",duration:o}),"number"==typeof r&&r>0&&e.timeoutMs>0){let t=8*r/(e.timeoutMs/1e3);t*=.5,j(hs,this).call(this,"Adding degraded speed of",t,"after timeout of",e.timeoutMs,"ms"),j(Ns,this).push(t)}this.fire("downloadtimeout",n,{timeoutMs:e.timeoutMs})}j(ys,this).delete(t),j(bs,this).delete(t),i(e),$(Ms,this,Ds).call(this)}}function Us(){return ht("module/mux-mp4.js")}var zs=new ei,Xs=new ei,Gs=new ei,Ws=new ei,qs=new ei,Ys=new ei,Ks=new ei,Zs=new ei,Qs=new ei,Js=new ei,ta=new ei,ea=new ei,na=new ei,ia=new ei,ra=new ei,oa=new ei,sa=new ei,aa=new ei,ua=new ei,la=new ei,ca=new ei,da=new ei,ha=new ei,fa=new WeakSet;let pa=function(t){function e(e,n){var i;return U(i=t.call(this)||this,fa),H(i,zs,void 0),H(i,Xs,void 0),H(i,Gs,void 0),H(i,Ws,void 0),H(i,qs,void 0),H(i,Ys,void 0),H(i,Ks,-1),H(i,Zs,!1),H(i,Qs,!1),H(i,Js,{}),H(i,ta,void 0),H(i,ea,!0),H(i,na,null),H(i,ia,!0),H(i,ra,!1),H(i,oa,!1),H(i,sa,void 0),H(i,aa,null),H(i,ua,void 0),H(i,la,null),H(i,ca,[]),H(i,da,void 0),H(i,ha,[]),F(Ys,i,vt("Buffer","color: #586e75")),F(qs,i,n),F(ua,i,e),F(zs,i,$(fa,i,_a).bind(i)),F(Xs,i,$(fa,i,wa).bind(i)),F(Gs,i,$(fa,i,ga).bind(i)),F(Ws,i,$(fa,i,ka).bind(i)),j(ua,i).on("durationset",j(zs,i)),i}q(e,t);var n=e.prototype;return n.addStream=function(t){t.on("segmentadd",j(Ws,this));const e=j(ca,this).push(t)-1;t.index=e,-1===j(Ks,this)&&($(fa,this,ya).call(this,e),F(ra,this,!0))},n.getBufferState=function(){return j(Js,this)},n.setBufferState=function(t){F(Js,this,t)},n.streamIndexAtTime=function(t){if(j(Js,this)[void 0])return this.activeStreamIndex;const e=$(fa,this,va).call(this,t)-1,n=j(Js,this)[e];return(null==n?void 0:n.stream)||-1},n.switchTo=function(t,e=!0,n={}){let i;i="number"==typeof t?t:t.index;let o=j(Ks,this)!==i;const s=o;if(!o&&j(ra,this)&&(o=!0),o){F(ra,this,!1);const t=j(Ks,this),n=j(ca,this)[t];this.fire("streamchangestart",t,i),n&&s&&e&&n.abort(),F(da,this,i),$(fa,this,ya).call(this,i)}return $(fa,this,ka).call(this),new r((t=>{o?F(aa,this,(()=>{j(da,this)===i&&(F(aa,this,null),t(),this.fire("streamchange",i,n))})):t()}))},n.isTimeInBuffer=function(t){if(!j(la,this))return j(Ys,this).warn("SourceBuffer is not set."),!1;for(let e=0;e<j(la,this).buffered.length;e++){const n=j(la,this).buffered.start(e),i=j(la,this).buffered.end(e);if(n<=t&&i>=t)return!0}return!1},n.hasAppendedFinalSegment=function(){return void 0!==j(ta,this)&&this.isTimeInBuffer(j(ta,this))},n.clear=function(){j(ca,this).forEach((t=>t.clear()))},n.remove=function(t,e=j(ua,this).mediaSource.duration){return new r((n=>{j(ha,this).push([t,e,n]),$(fa,this,ka).call(this)}))},n.removeEventListeners=function(){j(la,this)&&(j(la,this).removeEventListener("updateend",j(Gs,this)),$(fa,this,ba).call(this,j(la,this))&&j(la,this).removeEventListener("bufferedchange",j(Xs,this)))},n.removeSorcerer=function(){j(ua,this).off("durationset",j(zs,this)),F(ua,this,null)},X(e,[{key:"activeStream",get:function(){return j(ca,this)[j(Ks,this)]||null}},{key:"activeStreamIndex",get:function(){return j(Ks,this)}},{key:"endTime",get:function(){if(!j(la,this))return void j(Ys,this).warn("SourceBuffer is not set.");const t=j(la,this).buffered;return t.length>0?t.end(t.length-1):void 0}},{key:"sourceBuffer",get:function(){return j(la,this)},set:function(t){F(la,this,t),$(fa,this,ma).call(this),this.fire("sourcebufferattach")}},{key:"streams",get:function(){return j(ca,this)}}])}(ri);function va(t){let e=Math.floor(t/6);return t>6&&t%6>=2?e+=1:t<8&&(e=1),e}function _a(){const t=j(ua,this).mediaSource.duration,e=$(fa,this,va).call(this,t);for(let t=0;t<e;t++)j(Js,this)[t]={segment:t,stream:null,type:j(qs,this)}}function ma(){j(la,this)?(j(la,this).addEventListener("updateend",j(Gs,this)),$(fa,this,ba).call(this,j(la,this))&&j(la,this).addEventListener("bufferedchange",j(Xs,this))):j(Ys,this).warn("SourceBuffer is not set.")}function ba(t){return"undefined"!=typeof ManagedSourceBuffer&&t instanceof ManagedSourceBuffer}function ya(t){F(ia,this,!0),F(Ks,this,t),j(ua,this).setStreamIndex(t)}function ga(){$(fa,this,Ca).call(this),$(fa,this,Ea).call(this),$(fa,this,ka).call(this)}function wa(t){var e;(null==(e=t.removedRanges)?void 0:e.length)>0&&j(Ys,this).call(this,"Browser removed %s buffer:",j(qs,this),(t=>{const e=[];for(let n=0;n<t.length;n++)e.push(`${t.start(n)}-${t.end(n)}`);return e.join(", ")})(t.removedRanges))}function Ta(){if(j(la,this))try{const t=j(la,this).buffered,e=j(ua,this).Y.buffered;if(t.length&&e.length){const n=t.start(0),i=e.start(0);n<i&&j(ua,this).removeBuffer(0,i)}}catch(t){j(Ys,this).error("Error failed to handle mismatch between video and sourceBuffer.")}else j(Ys,this).warn("SourceBuffer is not set.")}function Ca(){if(j(Qs,this)&&this.endTime)return F(Qs,this,!1),F(ta,this,this.endTime),j(ua,this).checkEndOfStream(),void $(fa,this,Ta).call(this);this.activeStream&&!this.activeStream.hasNextSegment()&&void 0!==j(ta,this)&&j(ta,this)>0&&"open"===j(ua,this).readyState&&j(ua,this).checkEndOfStream()}function Ea(){j(na,this)&&(this.fire("appendbufferend",j(na,this)),F(na,this,null),j(aa,this)&&j(aa,this).call(this))}function ka(){if(!j(la,this))return j(Ys,this).log("SourceBuffer is not set. Waiting for sourcebufferattach event."),void this.on("sourcebufferattach",j(Ws,this));this.activeStream&&"closed"!==j(ua,this).readyState&&(j(la,this).updating||(j(ha,this).length?$(fa,this,Sa).call(this):j(oa,this)||j(Zs,this)||(j(ia,this)?$(fa,this,Aa).call(this):$(fa,this,Na).call(this))))}function Sa(){const t=j(la,this),e=j(ha,this).shift();if(!e||!t)return void j(Ys,this).warn("No entries to remove or sourceBuffer is not set.");const[n,i,r]=e,o=()=>{t.removeEventListener("updateend",o),r(),void 0!==j(sa,this)&&clearTimeout(j(sa,this)),F(sa,this,setTimeout((()=>{F(oa,this,!1),$(fa,this,ka).call(this)}),5e3))};t.addEventListener("updateend",o),t.remove(n,i)}function Aa(){F(ia,this,!1),F(Zs,this,!0),this.activeStream?this.activeStream.getInitSegment().then((t=>(F(na,this,null),j(la,this)&&t&&j(la,this).appendBuffer(t),F(Zs,this,!1),t))).catch((t=>{j(Ys,this).error("Error appending init segment to the buffer:",t),F(ia,this,!0),F(Zs,this,!1)})):j(Ys,this).error("No active stream to append init segment.")}function Na(){if(!this.activeStream||!j(la,this))return void j(Ys,this).error("No active stream or sourceBuffer to append segment.");const t=this.activeStream.getNextSegment();if(!t)return;const e=this.activeStream.getIdForSegment(t);this.activeStream.isFinal(t)&&F(Qs,this,!0),F(na,this,e),this.fire("appendbufferstart",e);try{j(la,this).appendBuffer(t),j(Js,this)[e.segment]=e,j(ea,this)&&(F(ea,this,!1),this.fire("initialbufferstart"))}catch(e){if("QuotaExceededError"===e.name){F(oa,this,!0),this.fire("quotaexceedederror",j(la,this).buffered),j(Ys,this).error("Error QuotaExceededError.");const e=6;if(j(ua,this).Y.currentTime>e){const t=0,n=j(ua,this).Y.currentTime-e;j(Ys,this).call(this,`Removing buffer from ${t} to ${n}…`),j(ua,this).removeBuffer(t,n)}this.activeStream.dequeueSegment(t)}}}function Ma(){}var Oa=new ei,Ia=new ei,La=new ei,Ra=new ei,xa=new ei,Pa=new ei,Da=new ei;let Ba=function(t){function e(e,n="",i=new Os){var r;return G(r=t.call(this)||this,"codec",void 0),G(r,"index",NaN),H(r,Oa,void 0),H(r,Ia,new ei),H(r,La,void 0),H(r,Ra,void 0),H(r,xa,!0),H(r,Pa,[]),H(r,Da,{}),F(Oa,r,vt("Stream","color: #586e75")),F(Ra,r,e),r.codec=n,F(La,r,i),j(La,r).start(),r}q(e,t),e.isValidSegmentUrl=function(t){return"string"==typeof t||"object"==typeof t&&"url"in t&&"byteRange"in t&&"string"==typeof t.url&&"string"==typeof t.byteRange};var n=e.prototype;return n.getIdForSegment=function(t){return e.isValidSegmentUrl(t)?j(Da,this)[t]:j(Ia,this).get(t).id},n.getSegmentUrl=function(t){return"object"==typeof t&&"url"in t?t.url:t},n.getSegmentByteRange=function(t){return"object"==typeof t&&"byteRange"in t?t.byteRange:void 0},n.isFinal=function(t){return j(Ia,this).get(t).final},n.addSegment=function(t,{identifier:n=null,isFinalSegment:i=!1,loadOnly:o=!1,priority:s=0,includeWithBandwidthChecks:a=!0,excludeConnectTime:u=!1,timeout:l=null,size:c=null}={}){if(j(xa,this)&&this.getInitSegment(),e.isValidSegmentUrl(t)){j(Da,this)[t]=n||t;const e=this.getIdForSegment(t);return this.fire("queued",e),j(La,this).add({byteRange:this.getSegmentByteRange(t),excludeConnectTime:u,id:e,includeWithBandwidthChecks:a,isInitSegmentRequest:!1,priority:s,size:c,stream:this,timeout:l,url:this.getSegmentUrl(t)}).then((r=>{j(Ia,this).set(r,{id:n||t,final:i}),j(Pa,this).push(r),this.fire("bufferqueueadd",e),o||this.fire("segmentadd")}))}return j(Ia,this).set(t,{id:n,final:i}),j(Pa,this).push(t),this.fire("bufferqueueadd",n),r.resolve()},n.clear=function(){F(Pa,this,[])},n.abort=function(){try{const t=this;return function(t){return t&&t.then||(t=r.resolve(t)),t}(function(e,n){var i=function(){if(j(xa,t))return function(t){if(t&&t.then)return t.then(Ma)}(function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return function(t){if(!void 0)return t&&t.then?t.then(Ma):r.resolve()}(t.getInitSegment())}),(function(e){j(Oa,t).error("Error getting init segment:",e)})))}();return i&&i.then?i.then(n):n()}(0,(function(){j(La,t).abort(t)})))}catch(t){return r.reject(t)}},n.hasNextSegment=function(){return j(Pa,this).length>0},n.getNextSegment=function(){return j(Pa,this).shift()},n.dequeueSegment=function(t){j(Pa,this).unshift(t)},n.getInitSegment=function(){const t=this.getSegmentUrl(j(Ra,this));return t?(F(xa,this,!1),e.isValidSegmentUrl(t)?j(La,this).add({byteRange:this.getSegmentByteRange(j(Ra,this)),id:null,isInitSegmentRequest:!0,priority:0,stream:this,url:t}).then((t=>(F(Ra,this,t),j(Ra,this)))):r.resolve(j(Ra,this))):r.resolve(null)},X(e,[{key:"pendingFetches",get:function(){return j(La,this).pendingFetches}}])}(ri);var $a=new ei,Va=new ei,ja=new ei,Ha=new ei,Fa=new ei,Ua=new ei,za=new ei,Xa=new ei,Ga=new ei,Wa=new ei,qa=new ei,Ya=new WeakSet;let Ka=function(){function t(t,e=-1){U(this,Ya),G(this,"streamIndex",void 0),H(this,$a,void 0),H(this,Va,void 0),H(this,ja,void 0),H(this,Ha,void 0),H(this,Fa,!1),H(this,Ua,void 0),H(this,za,{}),H(this,Xa,{}),H(this,Ga,0),H(this,Wa,0),H(this,qa,!1),F(Ha,this,t),this.streamIndex=e,F($a,this,this.start.bind(this)),F(Va,this,this.stop.bind(this)),F(ja,this,$(Ya,this,tu).bind(this))}var e=t.prototype;return e.init=function(){$(Ya,this,Za).call(this)},e.start=function(){F(Fa,this,!0),$(Ya,this,Ja).call(this)},e.stop=function(){F(Fa,this,!1)},e.destroy=function(){this.stop(),$(Ya,this,Qa).call(this)},e.getDroppedFrameRate=function(t,e=-1,n="average"){const i=j(za,this)[e];if(!i||i.length<t)return 0;const r=i.slice(-t);return"median"===n?os(r):rs(r)},e.getDroppedFrameTotal=function(){return{dropped:$(Ya,this,eu).call(this),total:$(Ya,this,nu).call(this)}},t}();function Za(){j(qa,this)||(j(Ha,this).addEventListener("playing",j($a,this)),j(Ha,this).addEventListener("pause",j(Va,this)),j(Ha,this).addEventListener("ended",j(Va,this)),document.addEventListener("visibilitychange",j(ja,this)),F(qa,this,!0))}function Qa(){j(Ha,this).removeEventListener("playing",j($a,this)),j(Ha,this).removeEventListener("pause",j(Va,this)),j(Ha,this).removeEventListener("ended",j(Va,this)),document.removeEventListener("visibilitychange",j(ja,this)),F(qa,this,!1)}function Ja(){if(!j(Fa,this)||-1===this.streamIndex)return;if(Bt.browser.safari&&(document.hidden||"hidden"===document.visibilityState))return;void 0!==j(Ua,this)&&clearTimeout(j(Ua,this));const t=$(Ya,this,eu).call(this),e=t-j(Ga,this);F(Ga,this,t);const n=$(Ya,this,iu).call(this),i=n-j(Wa,this);F(Wa,this,n),j(za,this)[this.streamIndex]||(j(za,this)[this.streamIndex]=[]),j(Xa,this)[this.streamIndex]||(j(Xa,this)[this.streamIndex]=[]),j(za,this)[this.streamIndex].length>100&&j(za,this)[this.streamIndex].shift(),j(Xa,this)[this.streamIndex].length>100&&j(Xa,this)[this.streamIndex].shift(),j(za,this)[this.streamIndex].push(e),j(Xa,this)[this.streamIndex].push(i),F(Ua,this,setTimeout((()=>{$(Ya,this,Ja).call(this)}),1e3))}function tu(){!Bt.browser.safari||document.hidden&&"hidden"===document.visibilityState||$(Ya,this,Ja).call(this)}function eu(){return"function"==typeof j(Ha,this).getVideoPlaybackQuality?j(Ha,this).getVideoPlaybackQuality().droppedVideoFrames:j(Ha,this).webkitDroppedFrameCount||0}function nu(){return"function"==typeof j(Ha,this).getVideoPlaybackQuality?j(Ha,this).getVideoPlaybackQuality().totalVideoFrames:j(Ha,this).webkitDecodedFrameCount||0}function iu(){if("function"==typeof j(Ha,this).getVideoPlaybackQuality){const t=j(Ha,this).getVideoPlaybackQuality();return t.totalVideoFrames-t.droppedVideoFrames}return j(Ha,this).webkitDecodedFrameCount||0}var ru=new ei,ou=new ei,su=new ei,au=new ei,uu=new ei,lu=new ei,cu=new ei,du=new ei,hu=new ei,fu=new ei,pu=new ei;let vu=function(t){function e(e,n={}){var i;G(i=t.call(this)||this,"_video",void 0),G(i,"allowSegmentRequests",void 0),H(i,ru,void 0),H(i,ou,void 0),H(i,su,void 0),H(i,au,void 0),H(i,uu,void 0),H(i,lu,void 0),H(i,cu,void 0),H(i,du,void 0),H(i,hu,void 0),H(i,fu,void 0),H(i,pu,void 0),G(i,"isInstanceofManagedMediaSource",(t=>"undefined"!=typeof ManagedMediaSource&&t instanceof ManagedMediaSource)),F(lu,i,vt("MediaSorcerer","color: #586e75")),i.Y=e,F(du,i,n),i.allowSegmentRequests=!0;const r=j(du,i).disableMMS;F(cu,i,new(mt(r))),j(lu,i).log("Media Source API: "+i.Bt(j(cu,i)));const{fetcherTimeout:o=0,fetcherRetryAbortErrors:s=!0}=j(du,i);return F(hu,i,new Ka(e)),F(uu,i,new Os({parallel:1,timeout:o,retryAbortErrors:s})),F(ru,i,i.$t.bind(i)),F(ou,i,i.Vt.bind(i)),F(au,i,{audio:null,video:null}),F(su,i,[]),F(pu,i,null),i.jt(),i}q(e,t);var n=e.prototype;return n.setStreamIndex=function(t){j(hu,this).streamIndex=t},n.getCurrentSpeed=function({type:t="average",howMany:e=10,weights:n=[],percentile:i}={}){switch(t){case"harmonicAverage":return j(uu,this).getHarmonicAverageSpeed(e);case"percentile":return j(uu,this).getPercentileSpeed(e,i);case"median":return j(uu,this).getMedianSpeed(e);case"average":return j(uu,this).getAverageSpeed(e,n)}},n.getResponseSpeeds=function(){return j(uu,this).getResponseSpeeds()},n.getFailedSegments=function(){return j(uu,this).getFailedSegments()},n.getSuccessfulSegments=function(){return j(uu,this).getSuccessfulSegments()},n.getDroppedFrameRate=function(t,e=this.activeStreamIndex,n="average"){return j(hu,this).getDroppedFrameRate(t,e,n)},n.getDroppedFrameTotal=function(){return j(hu,this).getDroppedFrameTotal()},n.clear=function(){j(su,this).forEach((t=>t.clear()))},n.initFrameDropper=function(){j(hu,this).init()},n.streamIndexAtTime=function(t,e){const n=j(au,this)[e];return n?n.streamIndexAtTime(t):-1},n.removeBuffer=function(t=0,e=this.Y.duration){if(t>=(e=e||0))return r.resolve();const n=j(su,this).map((n=>n.remove(t,e)));return r.all(n)},n.setLiveSeekableRange=function(t,e){var n;"open"===(null==(n=j(cu,this))?void 0:n.readyState)&&j(cu,this).setLiveSeekableRange(t,e)},n.addStream=function(t,e){const n=this.Ht(t);if(!j(au,this)[n]){const e=new pa(this,n);j(au,this)[n]=e,j(su,this).push(e),j(fu,this).then((()=>{let i;try{i=j(cu,this).addSourceBuffer(t)}catch(t){if(22!==t.code)return j(lu,this).error(t),void this.fire("srcnotsupported",t);i=j(au,this)[n]}if(j(du,this).duration){const t=.1;i.appendWindowEnd=j(du,this).duration+t}e.sourceBuffer=i})).catch((t=>{j(lu,this).error(t)})),["appendbufferstart","appendbufferend","streamchange","streamchangestart","initialbufferstart","quotaexceedederror"].forEach((t=>{e.on(t,((...e)=>{this.fire.apply(this,[t].concat(e))}))}))}const i=new Ba(e,t,j(uu,this));["queued","bufferqueueadd"].forEach((t=>{i.on(t,(e=>{this.fire(t,e)}))}));const r=j(au,this)[n];return r&&r.addStream(i),i},n.checkEndOfStream=function(){if(!j(su,this).every((t=>t.hasAppendedFinalSegment())))return;const t=()=>{this.Y.removeEventListener("timeupdate",t),this.endOfStream()};this.Y.addEventListener("timeupdate",t)},n.abortFetches=function(){j(uu,this).abort()},n.endOfStream=function(){if(!j(su,this).every((t=>t.isTimeInBuffer(this.Y.currentTime)))){const t=1;if(!(Bt.browser.firefox&&this.Y.currentTime<t))return}"open"===j(cu,this).readyState&&(this.Ft()||(j(lu,this).log("Firing MediaSource.endOfStream()"),j(cu,this).endOfStream(),this.fire("endofstream")))},n.destroy=function(){this.clear(),this.Ut(),this.off(),j(hu,this).destroy(),j(uu,this).abort();const t=this.Y.querySelectorAll("source");(this.Y.src||t.length>0)&&(this.Y.removeAttribute("src"),t.forEach((t=>{this.Y.removeChild(t)})),this.Y.load())},n.Bt=function(t){return this.isInstanceofManagedMediaSource(t)?"ManagedMediaSource":"MediaSource"},n.jt=function(){F(fu,this,new r((t=>{F(pu,this,t),j(cu,this).addEventListener("sourceopen",j(ou,this)),j(cu,this).addEventListener("sourceclose",j(ru,this))}))),["downloadstart","downloadend","downloadabort","downloaderror","downloadtimeout","progress"].forEach((t=>{j(uu,this).on(t,((...e)=>{this.fire.apply(this,[t].concat(e))}))})),this.isInstanceofManagedMediaSource(j(cu,this))&&(j(cu,this).addEventListener("startstreaming",(()=>{j(lu,this).log("startstreaming event fired"),this.allowSegmentRequests=!0})),j(cu,this).addEventListener("endstreaming",(()=>{j(lu,this).log("endstreaming event fired"),this.allowSegmentRequests=!1})))},n.Ft=function(){for(let t=0;t<j(cu,this).sourceBuffers.length;t++)if(j(cu,this).sourceBuffers[t].updating)return!0;return!1},n.Vt=function(){j(lu,this).log("MediaSource open"),j(cu,this).removeEventListener("sourceopen",j(ou,this)),URL.revokeObjectURL(this.Y.src),this.Y.querySelectorAll("source").forEach((t=>{var e;0===(null==(e=t.src)?void 0:e.indexOf("blob"))&&URL.revokeObjectURL(t.src)})),j(du,this).duration&&(j(cu,this).duration=j(du,this).duration,this.fire("durationset")),j(pu,this)&&j(pu,this).call(this)},n.$t=function(){j(lu,this).log("MediaSource closed"),j(cu,this).removeEventListener("sourceclose",j(ru,this)),this.fire("sourceclose")},n.Ut=function(){j(su,this).forEach((t=>t.removeEventListeners()))},n.Ht=function(t){return 0===t.indexOf("audio")?"audio":"video"},X(e,[{key:"activeStreamIndex",get:function(){return 1===j(su,this).length&&this.video?this.video.activeStreamIndex:(j(lu,this).warn("The activeStreamIndex property on MediaSorcerer only works with single streams"),-1)}},{key:"mediaSource",get:function(){return j(cu,this)}},{key:"pendingFetches",get:function(){return j(uu,this).pendingFetches}},{key:"readyState",get:function(){return j(cu,this).readyState}},{key:"streams",get:function(){return 1===j(su,this).length&&this.video?this.video.streams:(j(lu,this).warn("The streams property on MediaSorcerer only works with single streams"),!1)}},{key:"audio",get:function(){return j(au,this).audio?j(au,this).audio:(j(lu,this).warn("No audio streams have been added to MediaSorcerer"),!1)}},{key:"video",get:function(){return j(au,this).video?j(au,this).video:(j(lu,this).warn("No video streams have been added to MediaSorcerer"),!1)}}])}(ri),_u=function(t){function e(e,n={}){var i;return(i=t.call(this,e)||this).tt=n,i.blacklisted=[],i.whitelisted=[],i.SEGMENT_DURATION=6,i.zt=n.bufferTarget||6,i}q(e,t);var n=e.prototype;return n.isTimeInBuffer=function(t,e,n){return this.Xt(t,t,e,n,1)},n.getDistanceFromBuffer=function(t,e){let n=t;for(let i=0;i<e.length;i++)if(e.start(i)<=t&&e.end(i)>=t){n=e.end(i);break}return n-t},n.blacklist=function(t){this.blacklisted[t]=1},n.lock=function(t=[]){this.whitelisted=t},n.filterStreams=function(t,e,n,i=null){const r=[];let o,s=!1;for(let a=0;a<t.length;a++)if(o&&o[0]===t[a].width&&o[1]===t[a].height)r.push(t[a]);else{if(s)break;this.blacklisted[a]&&-1===this.whitelisted.indexOf(a)||this.whitelisted.length&&-1===this.whitelisted.indexOf(a)||(this.whitelisted.length?r.push(t[a]):(this.Gt(e,n,t[a].width,t[a].height,i)>=(n<1e3/(window.devicePixelRatio||1)?1.75:1)&&(s=!0),r.push(t[a]),o=[t[a].width,t[a].height]))}return r},n.getCurrentSpeed=function(t="average"){let e=3,n=[1,2,5];return this.tt.tests&&this.tt.tests.harmonic_average&&this.tt.tests.harmonic_average.group&&(t="harmonicAverage",e=this.Wt(),n=[]),this.scanner.sorcerer.getCurrentSpeed({type:t,howMany:e,weights:n})},n.shouldUseSurroundSound=function(t,e){return"240p"!==t[e].quality},n.getAudioIndexFromVideo=function(t,e,n){if(0===e.length)return!1;if(!t[n])return 0;const i=e.filter((({channels:t})=>t>2));if(i.length>0&&this.shouldUseSurroundSound(t,n)){const t=i[i.length-1];return e.indexOf(t)}return e.length>1&&0===n&&t[n].height<=360&&t.length>1?"mp4a.40.2"===e[0].codecs&&e[0].bitrate<8e4&&"240p"!==t[n].quality?1:0:e.length-1},n.qt=function(t,e,n,i){const r=n/i,o=t-e*r,s=e-t/r;let a=t-o,u=e-s;return o>0&&(u=e),s>0&&(a=t),[a,u]},n.Gt=function(t,e,n,i,r=null){const o=this.qt(t,e,n,i);let s=n*i;r&&(s*=r);const a=window.devicePixelRatio||1;return s/(o[0]*o[1]*a*a)},n.Wt=function(){const t=function(t,e){return t&&t.tests&&t.tests[e]?t.tests[e]:null}(this.tt,"lookahead_count");return t&&t.group&&t.data.count?t.data.count:t&&t.data.segment_lookahead_count?t.data.segment_lookahead_count:3},n.getBufferTarget=function(){return this.zt},n.Yt=function(t,e,n,i=!1){if(i)this.zt=1*this.SEGMENT_DURATION;else if(1===this.whitelisted.length){const t=11e6,e=n&&n.bitrate>t;this.zt=e?30:15*this.SEGMENT_DURATION}else this.zt=this.Wt()*this.SEGMENT_DURATION;return this.zt},n.Xt=function(t,e,n,i,r=0){if(!n)return!1;e=Math.min(e,i);for(let i=0;i<n.length;i++){const o=n.start(i),s=n.end(i),a=Bo(o)-r,u=Bo(s)+r;if(a<=t&&u>=e){if(e<o||t>s)continue;return!0}}return!1},n.Kt=function(t){return t.video.length>0&&t.audio.length>0},n.Zt=function(t,e,n,i){let r=1;return this.Kt(i)&&(r=.1),this.Xt(t.start,t.end,e,n,r)},X(e,[{key:"displayName",get:function(){return"MediaSource"}}])}(function(){function t(t){this.scanner=t,this.STREAM_TYPE_VIDEO="video",this.STREAM_TYPE_AUDIO="audio"}var e=t.prototype;return e.destroy=function(){},e.shouldPowerUp=function(t,e){return!1},e.shouldPowerDown=function(t,e){return!1},e.canPowerUp=function(t,e){return 1!==t.length&&e<t.length-1},e.canPowerDown=function(t,e){return 1!==t.length&&e>0},e.filterStreams=function(t){return t},X(t,[{key:"displayName",get:function(){return"Brain"}}])}());let mu=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).BANDWIDTH_UPSWITCH_THRESHOLD=.85,i.BANDWIDTH_DOWNSWITCH_THRESHOLD=.9,i.DEFAULT_TIMEOUT=8e3,i.SEGMENT_RELATIVE_TIMEOUT_RATIO=4/3,i.MINIMUM_TIMEOUT=1e3,i.FRAME_DROP_WINDOW_SECONDS=10,i}q(e,t);var n=e.prototype;return n.shouldPowerUp=function(t,e,n){n&&this.tt.startingBandwidthThreshold&&(this.BANDWIDTH_UPSWITCH_THRESHOLD=this.tt.startingBandwidthThreshold);let i=t.indexOf(e);if(-1===i&&(i=0),!this.canPowerUp(t,i))return r.resolve({index:!1,reasonForSwitch:null});const o=this.getCurrentSpeed();if(!o)return r.resolve({index:!1,reasonForSwitch:null});const s=this.getStreamFromSpeed(o,t,this.BANDWIDTH_UPSWITCH_THRESHOLD);return s===i||!n&&s>i&&Xt(this.scanner.currentTime,this.scanner.Y.buffered)<1.5*this.SEGMENT_DURATION?r.resolve({index:!1,reasonForSwitch:null}):r.resolve({index:s,reasonForSwitch:3})},n.shouldPowerDown=function(t,e){const n=t.indexOf(e);if(-1===n){const e=this.isTimeInBuffer(this.scanner.Y.duration,this.scanner.Y.buffered,this.scanner.Y.duration);return this.whitelisted.length||this.blacklisted.length||!e?r.resolve({index:t.length-1,reasonForSwitch:6}):r.resolve({index:!1,reasonForSwitch:null})}if(!this.canPowerDown(t,n))return r.resolve({index:!1,reasonForSwitch:null});const i=this.getCurrentSpeed();if(!i)return r.resolve({index:!1,reasonForSwitch:null});if(this.hasTooManyDroppedFrames(n,e,this.tt.droppedFrameSwitchPercent))return this.blacklist(n),r.resolve({index:n-1,reasonForSwitch:2});const o=this.getStreamFromSpeed(i,t,this.BANDWIDTH_DOWNSWITCH_THRESHOLD);return o===n?r.resolve({index:!1,reasonForSwitch:null}):r.resolve({index:o,reasonForSwitch:1})},n.hasTooManyDroppedFrames=function(t,e,n){return this.scanner.sorcerer.getDroppedFrameRate(this.FRAME_DROP_WINDOW_SECONDS,t,"median")/e.framerate*100>=n},n.getTimeEstimateToLoad=function(t,e){var n;const i=null==e||null==(n=e.segments)?void 0:n[t];if(!i)return 3;const r=this.getCurrentSpeed(),o=i.end-i.start;return i.size?(8*i.size+e.audioBitrate*o)/r*1.3:o*(e.avg_bitrate+e.audioBitrate)/r*1.3},n.canPlayFromTimeInStream=function(t,e){if(!this.isTimeInBuffer(t,this.scanner.Y.buffered,this.scanner.Y.duration))return!1;if(!e)return!1;const n=this.getSegmentsToLoad(!1,this.STREAM_TYPE_VIDEO,e);if(0===n.length)return!0;const i=Xt(t,this.scanner.Y.buffered);return this.getTimeEstimateToLoad(n[0],e)<i},n.getSegmentsToLoad=function(t,e=this.STREAM_TYPE_VIDEO,n,i=!1){const r=this.scanner.Y;if(r.webkitCurrentPlaybackTargetIsWireless)return[];const o=this.scanner.currentTime,s=[],a=o+this.Yt(o,r.duration,n,i),u=this.scanner.sorcerer[e].activeStreamIndex,l=this.scanner.Qt[e][u];if(!l)return s;const c=this.scanner.sorcerer[e].sourceBuffer;let d=null;c&&(d=c.buffered);for(let e=0;e<l.segments.length;e++){const n=l.segments[e];if(n.end<o||n.start>a)continue;const i=o>=n.start&&o<n.end,r=this.Zt(n,d,this.scanner.Y.duration,this.scanner.Qt);!t&&r||t&&r&&i||(i||a>=n.start)&&s.push(e)}return s},n.getSegmentRelativeTimeout=function(t,e,n){var i;const r=null==e?void 0:e.avg_bitrate,o=null==(i=t[0])?void 0:i.avg_bitrate;if(!r||!o||!n)return this.DEFAULT_TIMEOUT;if(r===o)return this.DEFAULT_TIMEOUT;const s=n*this.SEGMENT_RELATIVE_TIMEOUT_RATIO;return Math.max(this.MINIMUM_TIMEOUT,Math.min(this.DEFAULT_TIMEOUT,s))},n.getStreamFromSpeed=function(t,e,n=this.BANDWIDTH_UPSWITCH_THRESHOLD){let i=0;for(let r=i;r<e.length;r++)t*n>e[r].avg_bitrate+e[r].audioBitrate&&(i=r);return i},X(e,[{key:"displayName",get:function(){return"Skyfire"}}])}(_u),bu=function(){function t(t,e){this.Y=t,this.Jt=e}var e=t.prototype;return e.start=function(){return clearInterval(this.te),this.te=setInterval(this.ee.bind(this),200),this.ee()},e.stop=function(){clearInterval(this.te)},e.onSegmentAppended=function(){this.ee()},e.ee=function(){const t=this.Y.buffered,e=this.Y.currentTime,n=this.ne(t,e);if(0===this.Y.readyState)return!1;if(this.Y.paused)return!1;const i=this.Y.duration;if(e>=i)return this.Y.currentTime=i-.1,!0;if(t.length<=n)return!1;const r=t.start(n);return!(r>=i)&&!(r-e>.5||0!==n||(this.stop(),this.re("audio",r),this.re("video",r),this.Y.currentTime=r,0))},e.ne=function(t,e){if(!t||!t.length)return null;let n=0;for(;n<t.length;n++){const i=t.start(n),r=t.end(n);if(i>e&&(0===n||r-e<=.1))break}return n>=0?n:null},e.re=function(t,e){const n=this.Jt(0,t);n&&n.segments&&n.segments[0]&&(n.segments[0].start=e)},t}();const yu="br",gu="bl",wu="pr",Tu="sid",Cu="cid",Eu="sf",ku="st",Su="ot",Au="HLSLiveScanner",Nu="HlsJsScanner",Mu="MediaSourceScanner",Ou="NativeHLSLiveScanner";let Iu=function(){function t(t,e={}){this.oe=t,this.sessionId=e.sessionId,this.clipId=e.clipId}var e=t.prototype;return e.getLogAsQueryParam=function(t,e){return this.se(this.ae(t,e))},e.ae=function(t,e){let n={};return Object.assign(n,this.ue()),Object.assign(n,this.le(t,e)),n},e.se=function(t){return Kt({CMCD:this.ce(t)})},e.ue=function(){return{[Tu]:`"${this.sessionId}"`,[Cu]:`"${this.clipId}"`,[ku]:this.de(),[Eu]:this.he()}},e.le=function(t,e){return{[wu]:this.oe.playbackRate,[yu]:this.oe.getBitrateAtTime(this.oe.currentTime,e,"max")/1e3,[Su]:this.fe(e),[gu]:this.pe(t)}},e.fe=function(t){switch(t){case"audio":return"a";case"video":return"v";default:return"av"}},e.pe=function(t){return Math.round(1e3*(parseFloat(t.end)-parseFloat(t.start)))},e.de=function(){switch(this.oe.displayName){case Au:case Ou:case Nu:return"l";default:return"v"}},e.he=function(){switch(this.oe.displayName){case Au:case Ou:case Nu:return'"hls"';default:return'"dash"'}},e.ce=function(t){let e=[],n="";for(var i=0,r=Object.entries(t);i<r.length;i++){const[t,n]=r[i];e.push({key:t,value:n})}return e.sort(((t,e)=>t.key.localeCompare(e.key))).forEach((({key:t,value:e})=>{n+=`${t}=${e},`})),n.replace(/,\s*$/,"")},t}();function Lu(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const Ru=["supported"];function xu(t,e){var n=t();return n&&n.then?n.then(e):e(n)}const Pu=new xe;function Du(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}const Bu=vt("MediaCapabilities","color: white; background-color: green"),$u=Du((function(t){let e;const n=Hu(t);return Pu.get(n)||xu((function(){if(Bt.mediaCapabilities){const i=t.codecs.replace(/,.+/,""),r={type:"media-source",video:{contentType:`${t.mime_type}; codecs=${i}`,width:t.width,height:t.height,bitrate:t.bitrate,framerate:t.framerate}};return Lu(navigator.mediaCapabilities.decodingInfo(r),(function(t){e=t,Pu.set(n,e)}))}}),(function(){return e}))})),Vu=Du((function(t=[]){let e=!1,n=t,i=[],o=[];return xu((function(){if(Bt.mediaCapabilities)return function(){if(0!==t.length)return function(s,a){try{var u=Lu(r.all(t.map((function(t){return Lu($u(t))}))),(function(r){if(r){if(n=function(t,e){return t.filter(((t,n)=>Ru.every((t=>e[n][t]))||(Bu(`Stream ${t.quality} is not supported`,e[n]),!1)))}(t,r),0===n.length)return Bu("No compatible streams found. Returning all available streams as safeguard."),e=!0,{compatibleStreams:t,incompatibleStreams:i,incompatibleStreamsAttributes:o};n.length<t.length?(i=t.filter((t=>-1===n.indexOf(t))),o=i.map(ju),Bu("Some streams are not supported. Returning compatible streams.")):Bu("All streams are supported.")}}))}catch(t){return a(t)}return u&&u.then?u.then(void 0,a):u}(0,(function(t){Bu("Error checking stream capabilities",t)}));Bu("No streams to check for MediaCapabilities support")}();Bu("MediaCapabilities API not supported")}),(function(t){return e?t:{compatibleStreams:n,incompatibleStreams:i,incompatibleStreamsAttributes:o}}))}));function ju(t){const e=Hu(t),n=Pu.get(e);return n?Ru.filter((t=>!n[t])):[]}function Hu(t){return`${t.mime_type};${t.codecs};${t.width};${t.height};${t.bitrate};${t.framerate}`}function Fu(){}function Uu(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}function zu(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function Xu(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const Gu=zu((function(t,e,n){const i=function(t){const e=t.audio||[],n=t.video||[];return[{video:"HW_SECURE_ALL",audio:"SW_SECURE_CRYPTO"},{video:"HW_SECURE_DECODE",audio:"SW_SECURE_CRYPTO"},{video:"HW_SECURE_CRYPTO",audio:"SW_SECURE_CRYPTO"},{video:"SW_SECURE_DECODE",audio:"SW_SECURE_CRYPTO"},{video:"SW_SECURE_CRYPTO",audio:"SW_SECURE_CRYPTO"}].map((t=>{const i={persistentState:"optional",sessionTypes:["temporary"],videoCapabilities:[],audioCapabilities:[]};return n.length&&(i.videoCapabilities=n.map((e=>({contentType:e,robustness:t.video})))),e.length&&(i.audioCapabilities=e.map((e=>({contentType:e,robustness:t.audio})))),i}))}(n);return r.all(Object.keys(t).map(zu((function(n){const r=t[n].id;let o=null;return function(t,e){return t&&t.then?t.then(e):e()}(Uu((function(){return function(){var t=function(){if(!e)return Xu(navigator.requestMediaKeySystemAccess(r,i),(function(t){return Xu(t.createMediaKeys(),(function(t){o=t}))}));o=new window.WebKitMediaKeys(r)}();if(t&&t.then)return t.then(Fu)}()}),(function(t){})),(function(){return{name:r,mediaKeys:o}}))}))))}));const Wu=zu((function(t,e){return function(t){if(t&&t.then)return t.then(Fu)}(Uu((function(){return function(t){return t&&t.then?t.then(Fu):r.resolve()}(e.setServerCertificate(Ro(t)))}),(function(t){})))}));function qu(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function Yu(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}const Ku="video",Zu="audio";let Qu=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).reset(),i.manifestLoadDurations=[],i.ve=!1,i._e=null,i}q(e,t),e.supported=function(t){const e=mt(t);return void 0!==e&&e.isTypeSupported};var n=e.prototype;return n.deactivate=function(){t.prototype.deactivate.call(this),this.sorcerer&&this.sorcerer.destroy(),this.reset()},n.reset=function(){this.me=new No,this.be={},Bt.browser.safari&&(this.ye=new bu(this.Y,this.Jt.bind(this))),this.resetBrain(),this.ge(),this.we=!1,this.Te=!1,this.Dt=null,this.Qt={},this.Qt[Zu]=[],this.Qt[Ku]=[],this.Ce=[],this.Ee=null,this.ke=null,this.Se=null,this.Ae=null,this.Ne=null,this.Me=null,this.Oe=null,this.Ie=!1,this.Le=null,this.Re=!1,this.xe=!1,this.Pe=null,this.De=null,this.Be=!1,this.$e=[],this.Ve={},this.je=0,this.He=null,this.ve=!1,this._e=null,clearInterval(this.Fe),clearTimeout(this.Ue)},n.resetBrain=function(){const t=this.tt.mediaSourceScanner||{};t.tests=this.tt.tests,this.ze&&this.ze.destroy(),this.ze=new mu(this,t)},n.preloadStream=function(){if(this.Pe)return this.Pe;let t=0,e=1;this.Qt.audio.length&&(e=2);let n=this.Xe(),i=0;const o=this.ze.getSegmentsToLoad(!1,Ku,n);o.length>0&&(i=o[0]);let s=()=>{};const a=(t=!1)=>{t&&(n=this.sorcerer.video.activeStreamIndex),this.He=n,this.Ge(!0)},u=n=>{t+=1,t<e||(n.segment===i&&1!==this.$e.length&&null===this._e?this.We(!0).then((e=>{let{index:i,reasonForSwitch:r}=e,o={reasonForSwitch:r};if(!1!==i&&i>n.stream){if(this.sorcerer.video.switchTo(i,!1,o),this.Qt.audio.length){const t=this.ze.getAudioIndexFromVideo(this.Qt.video,this.Qt.audio,i);this.sorcerer.audio.switchTo(t,!1)}return t=0,void a(!0)}s()})).catch(console.error):s())};return this.Pe=new r((t=>{s=()=>{const e=this.Jt(n).segments[0].end,i=this.qe(!0);if(this.currentTime>=i&&(this.currentTime=i),this.currentTime>e&&(this.sorcerer.clear(),this.me=new No),this.sorcerer.video.switchTo(n,!1),this.Qt.audio.length){const t=this.ze.getAudioIndexFromVideo(this.Qt.video,this.Qt.audio,n);this.sorcerer.audio.switchTo(t,!1)}this.sorcerer.off("bufferqueueadd",u),this.He=null,this.we=!0,t()},this.sorcerer.on("bufferqueueadd",u),a()})),this.Pe},n.loadManifest=function(t){try{const e=this;return qu(e.video.metadata.p2pReady,(function(){const n=Date.now();return Bt.browser.ie&&t&&-1!==t.indexOf("archive_playlist")?(setTimeout((()=>{e.Ot(zo,"An unknown error occurred.")}),250),new r((()=>{}))):Ee({url:t,timeout:1e4,type:P.MANIFEST}).then((i=>(i.url&&i.url!==t&&-1!==i.url.indexOf("live-archive")&&(e.ke=i.url.split("/").slice(0,-2).join("/")),e.manifestLoadDurations.push({url:t,status:i.status,duration:Date.now()-n}),e.fire(mo.MANIFEST_LOADED),i.text()))).then(Yu((function(n){let i;return function(r,o){var s=function(){if(-1!==t.indexOf(".mpd"))return qu(e.Ye(),(function({parseMPD:r}){const o=e.et.enabledAudioTrack,s={audioLang:null==o?void 0:o.language};i=r(n,t,s)}));i=JSON.parse(n)}();return s&&s.then?s.then(o):o()}(0,(function(){return i}))}))).catch((i=>{if(e.manifestLoadDurations.push({url:t,status:i.response&&i.response.status,duration:Date.now()-n}),e.reset(),i instanceof re&&410===i.response.status)return e.fire(mo.MEDIA_URL_EXPIRED),new r((()=>{}));throw i instanceof re&&400===i.response.status?e.fire(mo.MEDIA_URL_BAD_REQUEST,i.response.url):i instanceof se&&e.fire(mo.MANIFEST_TIMEOUT),i}))}))}catch(t){return r.reject(t)}},n.setVideoSrc=function(t,e,n=!0){if(n&&!e&&this.Ee){if(("metadata"===this.ut||"none"===this.ut&&!this.paused)&&!this.we)return void this.Ee.then((()=>{const e=this.paused;this.setVideoSrc(t,e,!1)})).catch(console.error);const e=this.et.drmHandler;if(e&&"sd-fallback"===e.state&&!e.hasFallbackSourceUpdated)return void this.Ee.then((()=>{this.setVideoSrc(t,!0,!1)})).catch(console.error);if("auto"===this.ut)return void this.Ee.then((()=>{this.setVideoSrc(t,!1,!1)})).catch(console.error)}e&&this.reset(),e||!this.paused||this.sorcerer||(e=!0);let i=this.Ke;e&&(i=this.Ze);const r=t.split("/");r.pop();const o=`${r.join("/")}/`;this.Ie=!e,this.Ee=this.Qe(t,this.ut).then(this.loadManifest.bind(this)).then((t=>"string"==typeof this.ke&&-1!==this.ke.indexOf("live-archive")?t:(this.ke=o,{manifest:t,isConfigRefresh:!e}))).then(i.bind(this)),e&&"auto"===this.ut&&(this.Ee=this.Je(this.Ee,this.preloadStream.bind(this),!1)),this.Ee=this.tn(this.Ee)},n.getBufferTarget=function(){if(this.ze&&this.ze.getBufferTarget)return this.ze.getBufferTarget()},n.getBitrateAtTime=function(t,e="video",n="average"){if(!this.sorcerer)return 0;const i=this.sorcerer.streamIndexAtTime(t,e),r=this.Qt[e][i];return r?r["average"===n?"avg_bitrate":"bitrate"]??r.bitrate:0},n.lockStreamIndexes=function(){const t=this.$e.map((t=>this.Qt[Ku].indexOf(this.Qt[Ku][t]))),e=!this.paused;if(e&&(this.en=!0,this.Y.pause()),this.Ve[Ku]=!1,this.ze.lock(t),!this.Te&&"auto"!==this.ut)return;const n=Math.max(this.currentTime-7,0),i=Math.min(this.currentTime+7,this.Y.duration);this.sorcerer.removeBuffer(n,i).then((()=>{!this.Te&&"auto"===this.ut||this.ended?this.nn():(this.seekToTime(this.currentTime),e&&this.paused&&(this.rn=!0,this.Y.play()))})).catch(console.error)},n.seekToTime=function(t){if(t===this.currentTime)return r.resolve();if(null===this.Ae||(this.an&&(this.an(),this.an=null),this.Ne=null,this.Ae=null,this.Me=null),this.Ae=t,this.un(),this.we)for(const t in this.Qt)if(this.Qt[t].length>0){const e=this.sorcerer[t].activeStreamIndex;this.sorcerer[t].streams[e].abort()}return this.Ne=this.ln(t),r.all([this.Ee,this.De]).then((()=>{this.nn()})).catch(console.error),this.cn&&0===t&&this.fire(fo.SEEKING),this.Ee.then((()=>this.Ne)).catch((t=>{}))},n.takeSnapshot=function(){this.ht&&t.prototype.takeSnapshot.call(this)},n.initDrm=function(){},n.onstalled=function(){return!1},n.onseeked=function(t){this.Te&&this.Ge()},n.onended=function(e){return t.prototype.onended.call(this,e),!0},n.onseeking=function(t){this.Te},n.un=function(){this.dn(),clearTimeout(this.hn),this.hn=setTimeout((()=>{this.fn()}),200)},n.dn=function(){this.pn||(this.pn=!0)},n.fn=function(){this.pn=!1},n.ontimeupdate=function(e){if(!this.sorcerer)return!1;if(t.prototype.ontimeupdate.call(this),this.ye&&this.ye.stop(),0===this.currentTime)return this.Te;if(this.Ae)return!1;if(this.Te||(this.Te=!0),this.xe&&this.currentTime>=this.xe){const t=2;this.sorcerer.removeBuffer(0,this.xe-t),this.xe=!1}const n=this.sorcerer.getDroppedFrameTotal();this.fire(mo.DROPPED_FRAMES,n);const i=this.sorcerer.getResponseSpeeds(),r=this.Qt[Ku][this.sorcerer.video.activeStreamIndex],o=this.tt.tests&&this.tt.tests.download_bitrate;if((!o||!o.group)&&r&&this.ze.getCurrentSpeed){const t={speed:this.ze.getCurrentSpeed(),bitrate:r.avg_bitrate,speeds:i};this.fire(mo.BANDWIDTH,t)}const s=this.Y.buffered.length;if(!s)return!0;const a=this.Y.buffered.end(s-1);return Math.ceil(a)===Math.ceil(this.Y.duration)||(Math.abs(this.currentTime-a)<.2?(this.Be||(this.fire(mo.STREAM_BUFFER_START,{hasLowerStreamIndex:this.sorcerer[Ku].activeStreamIndex>0}),this.Be=!0),!1):void 0)},n.vn=function(){return!!this.ended||Math.ceil(this.currentTime)===Math.ceil(this.Y.duration)},n._n=function(){if(!this.sorcerer)return!1;if("closed"===this.sorcerer.readyState)return!1;if(this.Y.webkitCurrentPlaybackTargetIsWireless)return!1;if(this.vn())return!1;if(null!==this.He){try{this.mn()}catch(t){return this.bn(t),!1}return!0}if(0===this.currentTime&&!this.we)return this.Te;const t=this.nn();return t&&"function"==typeof t.catch&&t.catch(this.bn.bind(this)),!0},n.bn=function(t){t.code===DOMException.INVALID_STATE_ERR?this.fire(mo.SCANNER_ERROR,{reason:t}):this.fire(mo.LOAD_SEGMENT_FAILED,new TelecineError(`${mo.LOAD_SEGMENT_FAILED} - ${t.name}`,t.message)),clearInterval(this.Fe)},n.onprogress=function(){this.ze.canPlayFromTimeInStream(this.currentTime,this.Jt())&&this.Be&&(this.fire(mo.STREAM_BUFFER_END),this.Be=!1)},n.onwaiting=function(){return!this.ye||!this.ye.start()},n.onerror=function(){return!!this.Y.error&&(this.Y.error.code===this.Y.error.MEDIA_ERR_DECODE?(this.fire(mo.SCANNER_ERROR,{reason:`encountered media decode error. Message: "${this.Y.error.message}"`}),!1):this.Y.error.code===this.Y.error.MEDIA_ERR_SRC_NOT_SUPPORTED?(this.ve=!0,this.fire(mo.SCANNER_ERROR,{reason:`encountered media source not supported error. Message: "${this.Y.error.message}"`}),!1):t.prototype.onerror.call(this))},n.pause=function(){t.prototype.pause.call(this)},n.play=function(){return this.Ge(),t.prototype.play.call(this,(()=>(this.Oe&&this.Oe(),this.Ie||this.we||"auto"===this.ut||(this.Ee=this.Je(this.Ee,this.preloadStream.bind(this))),this.Ee.then((()=>r.resolve(this.Ne))))))},n.onpause=function(){return this.en?(this.en=!1,!1):(t.prototype.onpause.call(this),!0)},n.onplay=function(){return!this.rn||(this.rn=!1,!1)},n.Je=function(t,e,n=!0){let i=t.then(e);return n&&(i=this.tn(i)),i},n.tn=function(t){return t.catch((t=>(this.fire(mo.FILE_ERROR,{reason:t}),new r((()=>{})))))},n.yn=function(){this.we&&this.Qt[Ku][this.sorcerer.video.activeStreamIndex].bitrate/1e3>12e3&&(this.De=this.sorcerer.removeBuffer())},n.Qe=function(t,e){return new r((n=>{var i;"none"!==e||this.Ie&&!this.paused||"sd-fallback"===(null==(i=this.et.drmHandler)?void 0:i.state)?n(t):this.Oe=()=>{n(t),this.Oe=null}}))},n.ln=function(t=this.Ae){return new r((e=>{const n=this.Te&&0===t,i=this.ze.canPlayFromTimeInStream(t,this.Jt());n||i?e(t):(this.yn(),this.Me=e)})).then((t=>{this.Ae=null,this.Ne=null;const e=new r(((t,e)=>{this.an=e;const n=()=>{t(this.Y.currentTime),this.Y.removeEventListener("seeked",n)};this.Y.addEventListener("seeked",n)}));return this.Y.currentTime=t,e}))},n.gn=function(t,e){"auto"!==t&&"auto"===e&&(this.Ee=this.Je(this.Ee,this.preloadStream.bind(this))),t!==e&&"none"!==e&&this.Oe&&this.Oe()},n.wn=function(t){const e=t.audio.reduce(((t,e)=>t+e.duration),0),n=t.video.reduce(((t,e)=>t+e.duration),0),i=e/t.audio.length,r=n/t.video.length;return i+4<r?r-i:0},n.Tn=function(t){return t.video.every((t=>t.segments.every((t=>"size"in t))))},n.Ke=function(t){const e=this;return new r(Yu((function(n,i){const{manifest:r,isConfigRefresh:o}=t;if(e.Dt=r,e.Qt[Ku]=e.Cn(r.video),r.audio){const t=e.wn(r);t>0&&(e.En=!0,e.fire(mo.AV_DURATION_MISMATCH,t),e.kn=r.audio.reduce(((t,e)=>Math.max(t,e.duration)),0));const n=r.audio.filter((t=>"opus"===t.codecs)),i=r.audio.filter((t=>"opus"!==t.codecs)),o=Bt.browser.safari||Bt.iOS||Bt.iPadOS||!mt().isTypeSupported('audio/mp4; codecs="opus"')||!n.length?i:n;e.Qt[Zu]=e.Sn(o)}for(let t=0;t<e.Qt[Ku].length;t++){let n=0;if(r.audio){const i=e.ze.getAudioIndexFromVideo(e.Qt.video,e.Qt.audio,t),r=e.Qt[Zu][i];r&&(n=r.avg_bitrate)}e.Qt[Ku][t].audioBitrate=n}return o||e.An(e.Qt[Ku],e.Qt[Zu],e.Dt.key_info),e.Tn(r)||e.resetBrain(),e.fire(mo.STREAMS_LOADED,e.Qt),qu(Vu(e.Qt[Ku]),(function({compatibleStreams:t,incompatibleStreams:i,incompatibleStreamsAttributes:r}){e.Qt[Ku]=t,i.length&&(e.fire(mo.AVAILABLE_STREAMS_CHANGED),e.fire(mo.MEDIA_CAPABILITY_STREAMS_UNSUPPORTED,{incompatibleStreams:i,incompatibleStreamsAttributes:r})),n()}))})))},n.Nn=function(t,e){if(this.sorcerer&&this.sorcerer.destroy(),this.sorcerer=new vu(t,e),this.sorcerer.isInstanceofManagedMediaSource(this.sorcerer.mediaSource)){const e=document.createElement("source");e.type="video/mp4",e.src=URL.createObjectURL(this.sorcerer.mediaSource),t.appendChild(e);const{src:n,mime:i}=this.et.externalDisplayFiles.AirPlay,r=document.createElement("source");r.type=i,r.src=n,t.appendChild(r)}else t.src=URL.createObjectURL(this.sorcerer.mediaSource);this.successfulSegments=this.sorcerer.getSuccessfulSegments(),this.failedSegments=this.sorcerer.getFailedSegments(),this.Ge()},n.Ge=function(t=!1){this.Mn(500),clearTimeout(this.Ue),this.Ue=setTimeout((()=>{this.Mn(5e3)}),6e4),t&&this._n()},n.Mn=function(t){clearInterval(this.Fe),this.Fe=setInterval((()=>{this._n()}),t)},n.qe=function(t=!1){let e=t?1/0:0;for(const n in this.Qt)this.Qt[n].length&&(e=Math[t?"min":"max"](e,this.Qt[n][0].duration));return e},n.Ze=function(t){return this.Ke(t).then((()=>{this.Nn(this.Y,{duration:this.qe(),fetcherTimeout:8e3,fetcherRetryAbortErrors:!1,disableMMS:this.tt.disableMMS}),this.sorcerer.on("srcnotsupported",(()=>{this.fire(mo.SCANNER_ERROR,{reason:"this codec is not supported for mediasource playback"})})),this.Y.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",(t=>{const e=!this.Y.webkitCurrentPlaybackTargetIsWireless,n="closed"===this.sorcerer.readyState;e&&n&&this.fire(mo.SCANNER_ERROR,{reason:"MediaSource was closed during AirPlay, falling back to Native HLS playback."})}));const t=this.Xe();for(const t in this.Qt)this.Qt[t].forEach(((e,n)=>{let i=this.On(n,"init",t);this.In(n,t)&&this.Qt[t][n].init_segment_range&&(i={url:i,byteRange:this.Ln(n,"init",t)}),this.sorcerer.addStream(`${e.mime_type}; codecs="${this.Qt[t][n].codecs}"`,i)}));this.sorcerer.video.switchTo(t,!0,{reasonForSwitch:7}),this.sorcerer.on("queued",this.Rn.bind(this)),this.sorcerer.on("downloadabort",this.xn.bind(this)),this.sorcerer.on("appendbufferend",this.Pn.bind(this)),this.sorcerer.on("downloadstart",this.Dn.bind(this)),this.sorcerer.on("downloadend",this.Bn.bind(this)),this.sorcerer.on("downloaderror",this.$n.bind(this)),this.sorcerer.on("downloadtimeout",this.Vn.bind(this)),this.sorcerer.on("quotaexceedederror",this.jn.bind(this)),this.sorcerer.video.on("streamchange",this.Hn.bind(this)),this.sorcerer.video.on("streamchangestart",this.Fn.bind(this)),this.sorcerer.mediaSource.addEventListener("sourceended",(()=>{this.fire(fo.PROGRESS)}))}))},n.Xe=function(){if(null!==this._e)return this._e;let t=this.Qt[Ku],e=this.sorcerer.video.activeStreamIndex>0?this.sorcerer.video.activeStreamIndex:0;this.$e.length&&(t=this.$e.map((t=>this.Qt[Ku][t])),e=this.$e.includes(this.sorcerer.video.activeStreamIndex)?this.$e.indexOf(this.sorcerer.video.activeStreamIndex):0);const n=this.ze.getCurrentSpeed();n&&(e=this.ze.getStreamFromSpeed(n,t));const i=t[e];return this.Qt[Ku].indexOf(i)},n.Cn=function(t){const e=t.slice(0);return e.sort((function(t,e){const n=t.width*t.height*t.avg_bitrate,i=e.width*e.height*e.avg_bitrate;return t.width===e.width&&t.height===e.height?t.framerate-e.framerate:n-i})),e},n.Sn=function(t){const e=t.slice(0);return e.sort((function(t,e){return t.avg_bitrate*t.channels-e.avg_bitrate*e.channels})),e},n.In=function(t,e){return!!this.Qt[e][t].segments[0].range},n.Ln=function(t,e,n){return"init"===e?this.Qt[n][t].init_segment_range:this.Qt[n][t].segments[e].range},n.Un=function(t,e,n=Ku){return"init"===e?0:this.Qt[n][t].segments[e].start},n.On=function(t,e,n=Ku,i=!1){if("init"===e&&!this.Qt[n][t].init_segment_url)return function(t){return Ro(t).buffer}(this.Qt[n][t].init_segment);let r=this.ke;const o=this.Dt.base_url&&-1!==this.Dt.base_url.indexOf("//");if(o&&(r=this.Dt.base_url),this.Dt.base_url&&!o&&(r+=this.Dt.base_url),this.Qt[n][t].base_url&&(r+=this.Qt[n][t].base_url),this.In(t,n))return r;if("init"===e)return r+=this.Qt[n][t].init_segment_url,r;const s=this.Qt[n][t].segments[e];s.url&&(r+=s.url);const a="akfire_interconnect_quic"===this.et.currentFile.metadata.cdn,u=-1===r.indexOf("?")?"?":"&";return i&&this.CMCDLogger&&a&&(r+=`${u}${this.CMCDLogger.getLogAsQueryParam(s,n)}`),r},n.zn=function(t,e,n){return`${t}:${e}:${n}`},n.Xn=function(t,e,n){return e===this.Qt[n][t].segments.length-1},n.Gn=function(t,e){const n=[],i=this.be[t];if(!i)return n;for(let r=0;r<i.length;r++)this.me.has(this.zn(i[r],t,e))&&n.push(i[r]);return n},n.getCurrentStream=function(t="video"){return this.Jt(0,t)},n.Jt=function(t=0,e=Ku){return void 0!==this.sorcerer&&(t=this.sorcerer[e].activeStreamIndex),this.Qt[e][t]},n.We=function(t){let e=this.Qt[Ku];const n=this.video&&this.video.metadata.percentShown?this.video.metadata.percentShown:null;if(e=this.ze.filterStreams(e,this.Y.clientWidth,this.Y.clientHeight,n),0===e.length)return r.resolve({index:!1,reasonForSwitch:null});if(this.Ve[Ku])return r.resolve({index:!1,reasonForSwitch:null});const i=e[e.length-1];if(i.id!==this.Se){this.Se=i.id;const t={index:this.Qt[Ku].indexOf(i),streams:this.Qt[Ku]};this.fire(mo.STREAM_TARGET_CHANGE,t)}const o=this.Jt();return this.ze.shouldPowerUp(e,o,t).then((t=>!1===t.index?this.ze.shouldPowerDown(e,o).then((t=>!1===t.index?{index:t.index,reasonForSwitch:t.reasonForSwitch}:{index:this.Qt[Ku].indexOf(e[t.index]),reasonForSwitch:t.reasonForSwitch})):{index:this.Qt[Ku].indexOf(e[t.index]),reasonForSwitch:t.reasonForSwitch}))},n.Wn=function(t=Ku){return this.sorcerer.allowSegmentRequests?this.We(!1).then((e=>{let{index:n,reasonForSwitch:i}=e,r={reasonForSwitch:i};t===Zu&&(!1===n&&(n=this.sorcerer[Ku].activeStreamIndex),n=this.ze.getAudioIndexFromVideo(this.Qt.video,this.Qt.audio,n),this.sorcerer[Zu].activeStreamIndex===n&&(n=!1));let o=!1;!1!==n&&(o=n>this.sorcerer[t].activeStreamIndex,this.Ve[t]=!0,this.sorcerer[t].switchTo(n,!0,r).then((()=>{this.Ve[t]=!1})).catch(console.error));let s=o;const a="auto"===this.ut&&!this.Te,u=this.ze.getSegmentsToLoad(s,t,this.Jt(),a),l=this.sorcerer[t].activeStreamIndex;for(let e=0;e<u.length;e++){const n=this.On(l,u[e],t,!0),i=this.Gn(u[e],t);if(i.length>1)continue;if(1===i.length&&l<=i[0])continue;const r=this.Xn(l,u[e],t),o={stream:l,segment:u[e],type:t},s=this.sorcerer[t].streams[l];let a=n;this.In(l,t)&&(a={url:a,byteRange:this.Ln(l,u[e],t)});const c=this.Un(l,u[e],t),d=t===Ku;let h=null;0===l&&t===Ku&&(h=16e3);let f=null;try{f=this.Qt[t][l].segments[u[e]].size}catch(t){}s.addSegment(a,{identifier:o,isFinalSegment:r,priority:c,includeWithBandwidthChecks:d,timeout:h,size:f}).catch((t=>{}))}})).catch((t=>{throw t})):r.resolve()},n.mn=function(){for(const t in this.Qt){if(0===this.Qt[t].length)continue;let e=0;const n=this.ze.getSegmentsToLoad(!1,t,this.Jt());n.length>0&&(e=n[0]);let i=this.He;t===Zu&&(i=this.ze.getAudioIndexFromVideo(this.Qt.video,this.Qt.audio,this.He));const r=this.zn(i,e,t);if(this.me.has(r))continue;const o=this.On(i,e,t),s=this.Xn(i,e,t),a=this.sorcerer[t].streams[i],u={stream:i,segment:e,type:t},l=!0;let c=o;this.In(i,t)&&(c={url:c,byteRange:this.Ln(i,e,t)}),a.addSegment(c,{identifier:u,isFinalSegment:s,loadOnly:l,priority:0}).catch((t=>{}))}},n.nn=function(){const t=this.Y.webkitCurrentPlaybackTargetIsWireless,e="closed"===this.sorcerer.readyState;return t||e?r.resolve():this.Ee&&this.Ee.then((()=>{const t=[];for(const e in this.Qt)this.Qt[e].length>0&&t.push(this.Wn(e));return r.all(t)}))},n.Rn=function(t){this.me.add(this.zn(t.stream,t.segment,t.type)),this.be[t.segment]||(this.be[t.segment]=[]),-1===this.be[t.segment].indexOf(t.stream)&&this.be[t.segment].push(t.stream)},n.qn=function(t){(this.be[t.segment]||[]).forEach((e=>{this.me.delete(this.zn(e,t.segment,t.type))}))},n.xn=function(t){this.be[t.segment]&&this.qn(t)},n.Pn=function(t){this.fire(mo.APPEND_BUFFER_END,{identifier:t}),this.preloadStreamIndex=null,this.Ge(),this.Re&&t.stream===this.Le&&(this.Re=!1,this.xe=this.Qt[Ku][t.stream].segments[t.segment].start),this.be[t.segment]&&this.qn(t);const e=this.ze.canPlayFromTimeInStream(this.Ae,this.Jt());null!==this.Ae&&this.Me&&e&&(this.Me(this.Ae),this.Me=null),this.ye&&this.ye.onSegmentAppended()},n.Dn=function(t){this.fire(mo.DOWNLOAD_START,{identifier:t})},n.Bn=function(t,e){this.fire(mo.DOWNLOAD_END,{identifier:t,data:e})},n.$n=function(t,e){this.qn(t);let n=mo.DOWNLOAD_ERROR;410===e&&(n=mo.MEDIA_URL_EXPIRED),502===e&&this.video.metadata.drm&&(n=mo.DRM_FAILURE),this.fire(n,{identifier:t,status:e})},n.Vn=function(t,e){this.fire(mo.DOWNLOAD_TIMEOUT,{identifier:t,data:e}),this.be[t.segment]&&this.qn(t),t.type===Ku?this.Ve[Ku]=!1:t.type===Zu&&(this.Ve[Zu]=!1)},n.jn=function(t){this.fire(mo.QUOTA_EXCEEDED_ERROR,{buffered:t})},n.Fn=function(t,e){const n={previousStreamIndex:this.Dt.video.indexOf(this.Qt[Ku][t]),index:this.Dt.video.indexOf(this.Qt[Ku][e]),streams:this.Dt.video};this.fire(mo.STREAM_CHANGE_START,n)},n.Hn=function(t,e){var n;if(null==(n=this.Dt)||!n.video)return;t>this.Le&&this.currentTime>0&&(this.Re=!0),this.Le=t;const i={index:this.Dt.video.indexOf(this.Qt[Ku][t]),streams:this.Dt.video,metadata:e};this.fire(mo.STREAM_CHANGE,i)},n.An=function(t=[],e=[],n={}){const i=this.et.drmHandler;if(!i)return;const o=function(t,e){const n={audio:t.map((t=>`${t.mime_type};codecs="${t.codecs}"`)),video:[]};for(let t=0;t<e.length;t++){const[i,r]=e[t].codecs.split(",");n.video[t]=`${e[t].mime_type};codecs="${i}"`,r&&n.audio.push(`audio/mp4;codecs="${r}"`)}return n}(e,t);i.init(this,o,n).catch((t=>(t===Wo&&this.fire(mo.NO_SUPPORTED_CDM),r.reject(t)))),i.setFallbackCallback((()=>{this.paused||(this.Y.pause(),this.once(mo.CURRENT_FILE_CHANGE,(()=>{this.play()})))}))},n.ge=function(){var t;(null!=(t=this.tt.tests)&&null!=(t=t.cmcd)&&t.group||this.tt.enableCMCD)&&(this.CMCDLogger=new Iu(this,this.tt.sessionMetadata))},n.Ye=function(){return ht("module/media-manifest.js")},X(e,[{key:"preload",get:function(){return this.ut},set:function(t){this.gn(this.ut,t),this.ut=t}},{key:"videoElement",get:function(){return this.Y}},{key:"videoWidth",get:function(){const t=this.Jt();return t?t.width:this.Y.videoWidth}},{key:"videoHeight",get:function(){const t=this.Jt();return t?t.height:this.Y.videoHeight}},{key:"restrictedStreamIndexes",get:function(){return this.$e},set:function(t){this.$e.join(",")!==t.join(",")&&(this.$e=t,this.Ee.then((()=>this.lockStreamIndexes())).catch(console.error))}},{key:"preloadStreamIndex",get:function(){return this._e},set:function(t){this._e=t;const e=null!==t?[this._e]:this.$e;this.ze.lock(e)}},{key:"currentTime",get:function(){return null!==this.Ae?this.Ae:this.Y.currentTime},set:function(t){(this.Te||0!==t)&&(this.En&&this.kn&&t>this.kn-1&&!this.ze.isTimeInBuffer(t,this.Y.buffered,this.Y.duration)&&(t=this.kn-1),this.seekToTime(t))}},{key:"downloadSpeed",get:function(){return this.je}},{key:"brainDebug",get:function(){const t=this.sorcerer&&this.ze&&this.ze.getCurrentSpeed?this.ze.getCurrentSpeed():null;let e=this.sorcerer&&this.sorcerer.getResponseSpeeds?this.sorcerer.getResponseSpeeds():null;return e=e?e.slice(-20):[],{currentSpeed:t,responseSpeeds:e}}},{key:"isLowerProfileAvailable",get:function(){return this.sorcerer?this.sorcerer[Ku].activeStreamIndex>0:null}},{key:"videoStreams",get:function(){return this.Qt[Ku]}}],[{key:"displayName",get:function(){return"MediaSourceScanner"}},{key:"supportsMse",get:function(){return!0}},{key:"supportsLive",get:function(){return!1}},{key:"supportedVideoTypes",get:function(){return[co.dash,co.dashMpd]}}])}(is),Ju=function(){function t(t){this.oe=t,this.Yn=0,this.Kn=setInterval(this.Zn.bind(this),500)}var e=t.prototype;return e.destroy=function(){clearInterval(this.Kn)},e.Zn=function(){const t=this.oe.videoElement,e=this.oe.getCurrentStream();if(!t||!e)return;this.Yn=t.currentTime;const n=this.Qn();null!==n&&(this.Jn=n,this.oe.fire(bo.LATENCY_UPDATED,n),this.oe.lowLatencyMode&&(Bt.browser.ie||Bt.browser.safari||null!==this.oe.presentationDelay&&(t.playbackRate=1)))},e.ti=function(){const t=this.oe.getCurrentStream();return t?t.edge+t.age:null},e.Qn=function(){const t=this.ti();return null===t||0===this.Yn?null:t-this.Yn},e.ei=function(){const t=this.oe.videoElement,e=this.oe.getCurrentStream();if(!t||!e)return 0;const n=t.buffered.length;return n?t.buffered.end(n-1):e.edge-this.Yn},X(t,[{key:"latency",get:function(){return this.Jn}},{key:"liveSyncPosition",get:function(){const t=this.ti(),e=this.oe.presentationDelay,n=this.oe.getCurrentStream();return null===t||null===e||null===n?0:t-e-this.edgeStalled}},{key:"edgeStalled",get:function(){const t=this.oe.getCurrentStream();if(!t)return 0;const e=3*(this.oe.lowLatencyMode&&t.partTargetDuration||t.targetDuration);return Math.max(t.age-e,0)}}])}();const tl=[1,2,5];let el=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).ni=.4,i.ii=.6,i.consecutiveStreamIndex={},i.isNewPlayback=!0,i}q(e,t);var n=e.prototype;return n.optimalStream=function(t,e){var n,i;this.isNewPlayback&&((null==(i=this.scanner.sorcerer)?void 0:i.getResponseSpeeds().length)>=2&&(this.isNewPlayback=!1));if(1===t.length)return{index:0,reasonForSwitch:6};if(this.isNewPlayback){let e=0,n=0,i=this.scanner.videoElement.clientHeight,r=[];for(let o=0;o<t.length;o++){let s=t[o].height;r.push(s),s<i&&s>n&&(e=o,n=t[o].height)}return e=Math.max(0,e-1),{index:e,reasonForSwitch:4}}const r=this.getCurrentSpeed();let o=e,s=e;for(let e=0;e<t.length;e++)r*this.ni>t[e].bandwidth&&(o=e),r*this.ii>t[e].bandwidth&&(s=e);const a=e<o?o:s;this.ri(a),this.consecutiveStreamIndex[a]++;const u=this.scanner.lowLatencyMode?.5:1.5,l=this.scanner.segmentLength*u,c=this.scanner.videoElement,d=c.buffered,h=null==(n=this.tt.mediaSourceScanner)?void 0:n.droppedFrameSwitchPercent;return d&&0!==d.length?d.end(d.length-1)-c.currentTime<l?{index:0!==e?e-1:0,reasonForSwitch:1}:e>0&&!isNaN(h)&&this.hasTooManyDroppedFrames(e,this.scanner.getCurrentStream(),h)?(this.blacklist(e),this.scanner.fire(mo.DROPPED_FRAME_PERCENT_EXCEEDED),{index:e-1,reasonForSwitch:2}):this.consecutiveStreamIndex[a]>2&&a!==e?{index:a,reasonForSwitch:3}:{index:e,reasonForSwitch:null}:{index:0,reasonForSwitch:5}},n.getCurrentSpeed=function(){var t;return null==(t=this.scanner.sorcerer)?void 0:t.getCurrentSpeed({type:"average",howMany:5,weights:tl})},n.ri=function(t){this.consecutiveStreamIndex[t]||(this.consecutiveStreamIndex[t]=0);for(const e in this.consecutiveStreamIndex)this.consecutiveStreamIndex.hasOwnProperty(e)&&parseInt(e,10)!==t&&(this.consecutiveStreamIndex[e]=0)},n.getAvailabilityStart=function(t,e){return this.oi(t,e.edge)},n.getAvailabilityEnd=function(t,e){return this.si(t,e.edge)},n.canPlayFromTimeInStream=function(t,e){return!!e&&this.isTimeInBuffer(t,this.scanner.Y.buffered,this.scanner.Y.duration)},n.getSegmentsToLoad=function(t,e,n){var i,r;const{currentTime:o,liveTailTime:s,sorcerer:a,bufferTarget:u,atLiveEdge:l}=this.scanner,c=null==(i=a[e])||null==(i=i.sourceBuffer)?void 0:i.buffered,d=null!=c&&c.length?c.start(c.length-1):0,h=zt(Math.max(o,d),c);if(!t&&h>=u)return[];const f=Math.max(o,s),p=l?n.edge:f,v=this.oi(p,n.edge),_=this.si(p,n.edge),m=this.scanner.lowLatencyMode&&(null==(r=n.parts)?void 0:r.length),b=[].concat(et(n.segments),et(n.parts??[])),y=(m?n.parts:b).filter((e=>!!e.uri&&(t||!this.scanner.isSegmentAdded(e))&&!(e.end<v||e.start>_)));return m&&y.forEach(((t,e)=>{for(;t=t.dependentOn;)y.includes(t)||this.scanner.isStreamSegmentAdded(t)||y.splice(e,0,t)})),a[e].activeStreamIndex,y},n.oi=function(t,e){const n=e-this.li();return Math.max(0,Math.min(t,n))},n.si=function(t,e){const n=t+this.scanner.bufferTarget;return Math.min(n,e)},n.li=function(){return this.scanner.presentationDelay||this.scanner.manifest.presentationDelay},X(e,[{key:"displayName",get:function(){return"Live"}}])}(mu);const nl=["disabled","hidden","showing"],il=["subtitles","captions","descriptions","chapters","metadata"],rl=["ar","fa","he","iw","ku","ps","sd","ur","yi"],ol=new ei,sl=new ei;let TelecineTextTrack=function(t){function TelecineTextTrack({kind:e,src:n=null,label:i="",language:r="",id:o=te(),provenance:s=""},a){var u;if(u=t.call(this)||this,-1===il.indexOf(e))throw jo(12,"SYNTAX_ERR","Syntax Error");return Object.defineProperties(u,{kind:{value:e,enumerable:!0},label:{value:i,enumerable:!0},language:{value:r,enumerable:!0},id:{value:`${o}`,enumerable:!0},rtl:{value:-1!==rl.indexOf(r.substr(0,2)),enumerable:!0},provenance:{value:s,enumerable:!0}}),u.video=a,u.src=n,u.Tt=!1,ol.set(u,"disabled"),u}return q(TelecineTextTrack,t),TelecineTextTrack.prototype.dispatchEvent=function(t){this.fire(t,{target:this})},X(TelecineTextTrack,[{key:"mode",get:function(){return ol.get(this)},set:function(t){if(nl.indexOf(t)>-1){if(this.Tt=!0,ol.get(this)===t)return;ol.set(this,t),this.video.currentScanner&&this.video.currentScanner.setModeForTrack(this,t),this.dispatchEvent("modechange")}}},{key:"src",get:function(){return sl.get(this)},set:function(t){sl.set(this,t),this.video.fire(mo.TEXT_SRC_UPDATE,this)}},{key:"cues",get:function(){return this.video.currentScanner?this.video.currentScanner.getCuesForTrack(this):[]}},{key:"activeCues",get:function(){return this.video.currentScanner?this.video.currentScanner.getActiveCuesForTrack(this):[]}},{key:"trackElement",get:function(){return document.getElementById(`telecine-track-${this.id}`)}}])}(ri);function al(t){var e=/^(?:(\d{2,}):)?(\d{2}):(\d{2})[,.](\d{3})$/.exec(t);if(!e)return-1;var n=parseInt(e[4],10)/1e3;return n+=parseInt(e[3],10),e[2]&&(n+=60*parseInt(e[2],10)),e[1]&&(n+=60*parseInt(e[1],10)*60),n}function ul(t){var e=0,n=t.split(/(?:(?:\r\n|\n){2,})/),i=[],r=null;do{0===e&&/^\uFEFF?WEBVTT(?: .*)?/.test(n[e])&&e++,(r=/^(?:(.*)(?:\r\n|\n))?([\d:,.]+) --> ([\d:,.]+)(.*)?(?:\r\n|\n)([\s\S]*)/.exec(n[e]))&&i.push({startTime:al(r[2]),endTime:al(r[3]),text:r[5]}),e++}while(e<n.length);return i}function ll(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function cl(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}function dl(t,e){return t&&t.then?t.then(e):e(t)}function hl(){}function fl(t,e){var n=t();return n&&n.then?n.then(e):e(n)}function pl(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function vl(t,e){if(!e)return t&&t.then?t.then(hl):r.resolve()}const _l=Bt.browser.ie||Bt.browser.edge?.5:.2,ml=8e3;let bl=function(t){function e(e,n={}){var i,r;return(r=t.call(this,e,n)||this).ci=!1,r.di=!1,r.hi=!1,r.fi=!0,r.pi=!1,r._i=2e3,r.mi=1e4,r.reset(),r.defaultPresentationDelay=n.presentationDelay??(n.lowLatencyMode?3:12),r.defaultBufferTarget=n.lowLatencyMode?3:12,r.bufferTarget=r.defaultBufferTarget,r.presentationDelay=r.defaultPresentationDelay,r.lowLatencyMode=n.lowLatencyMode??!1,r.disableDeltaUpdates=n.disableDeltaUpdates??!1,r._e=null,Object.defineProperty(r,"eventIsLowLatency",{value:n.lowLatencyMode??!1,writable:!1}),Object.defineProperty(r,"eventHasDVREnabled",{value:n.dvrEnabled??!1,writable:!1}),r.bi=null==(i=r.tt.tests)||null==(i=i.llhls_timeout)?void 0:i.group,window.addEventListener("online",(()=>{r.play()})),r}q(e,t),e.supported=function(t){const e=mt(t);return void 0!==e&&e.isTypeSupported};var n=e.prototype;return n.deactivate=function(){t.prototype.deactivate.call(this),this.reset()},n.reset=function(){var t,e,n;null==(t=this.yi)||t.destroy(),null==(e=this.gi)||e.stop(),null==(n=this.wi)||n.destroy(),this.Ti=Ut(),this.yi=null,this.Qt={},this.Qt.video=[],this.Qt.audio=[],this.Le=0,this.Ci=!1,this.Ei=!1,this.ki=0,this.Si=Number.NEGATIVE_INFINITY,this.Ai=-1,this.Ae=null,this.Me=null,this.Ni=new el(this,this.tt),this.wi=new Ju(this),this.$e=[],this._e=null,this.Ve={},this.Mi={},this.Oi={},this.Ii={},this.Li={}},n.endLive=function(){var e;this.Ci=!1,this.Ei=!0,this.eventHasDVREnabled&&!this.atLiveEdge||(null==(e=this.gi)||e.stop(),this.yi&&(this.yi.abortFetches(),this.yi.endOfStream()),this.eventHasDVREnabled||t.prototype.deactivate.call(this),this.fire(fo.ENDED))},n.Ri=function(){this.Ci||(this.Ci=!0,this.fire(bo.STREAM_ONLINE))},n.xi=function(){this.Ci&&(this.Ci=!1,this.fire(bo.STREAM_OFFLINE))},n.Pi=function(t){t?this.Ri():this.xi()},n.Di=function(t){try{const e=this;if(e.Ei)return ll();e.gi&&(e.gi.stop(),e.gi.off());let n=[e.Ye()];return e.video.metadata.p2pReady&&n.push(e.video.metadata.p2pReady),ll(r.allSettled(n),(function([n]){const{M3U8Loader:i,PLAYLIST_UPDATE:o,PLAYLIST_ERROR:s,convertTsCodecs:a}=n.value;return e.gi=new i({disableDeltaUpdates:e.disableDeltaUpdates}),e.gi.lowLatencyMode=e.lowLatencyMode,e.gi.dvrEnabled=e.eventHasDVREnabled,e.gi.on(o,e.Bi.bind(e)),e.gi.on(s,(t=>{e.xi()})),dl(cl((function(){const n=e.video.metadata.playlistRefreshUrl;return ll(e.gi.start(t,n),(function(t){e.Dt=t,e.Ri()}))}),(function(t){throw e.xi(),e.endLive(),t})),(function(t){e.Qt.video=yl(function(t){return t.filter((e=>e.codecs.split(".")[0]===t[0].codecs.split(".")[0]))}(function(t){const e=t.slice(0);return e.sort((function(t,e){const n=t.width*t.height*t.avg_bitrate,i=e.width*e.height*e.avg_bitrate;return t.width===e.width&&t.height===e.height?t.framerate-e.framerate:n-i})),e}(e.Dt.video))),e.Qt.audio=yl(function(t){return t.filter(((t,e,n)=>n.indexOf(t)===e))}(function(t,e){return t.reduce(((t,n,i,r)=>t.concat(e(n,i,r))),[])}(e.Qt.video,(({audio:t})=>t))));const{index:n,reasonForSwitch:i}=e.$i("video",!0);let o={reasonForSwitch:i};return ll(e.gi.switchTo("video",n),(function(){let t,i=[];if(e.Qt.audio.length){let{index:n}=e.$i("audio",!0);t=n,i.push(e.gi.switchTo("audio",t))}if(e.manifest.captions&&e.manifest.captions.length>0){const{index:t}=e.$i("subtitles",!0);i.push(e.gi.switchTo("subtitles",t))}return ll(r.all(i),(function(){var i,r;null==(i=e.yi)||i.destroy(),e.yi=new vu(e.Y,{fetcherRetryAbortErrors:!1,fetcherTimeout:ml,disableMMS:e.tt.disableMMS}),e.yi.initFrameDropper(),e.Qt.video.forEach((t=>{e.yi.addStream(a(Do(e.gi.activeStream("video").mimeType,t.codecs)),t.initSegment)})),e.Qt.audio.forEach((t=>{e.yi.addStream(a(Do(e.gi.activeStream("audio").mimeType,t.codecs)),t.initSegment)})),e.fire(mo.STREAMS_LOADED,e.Qt),e.manifest.captions&&e.manifest.captions.length>0&&(e.manifest.captions.forEach(e.Vi.bind(e)),e.fire(mo.TEXT_TRACKS_AVAILABLE)),e.ji(),e.yi.video.switchTo(n,!1,o),e.Qt.audio.length&&(null==(r=e.yi.audio)||r.switchTo(t,!1))}))}))}))}))}catch(t){return r.reject(t)}},n.Hi=function(){try{const t=this;return ll(function(t){if(t&&t.then)return t.then(hl)}(cl((function(){return ll(t.gi.update(),(function(){t.Ri()}))}),(function(){t.xi()}))))}catch(t){return r.reject(t)}},n.ji=function(){this.yi.video.on("streamchange",this.Hn.bind(this)),this.yi.video.on("streamchangestart",this.Fn.bind(this)),this.yi.on("downloadend",this.Bn.bind(this)),this.yi.on("downloadtimeout",this.Vn.bind(this)),this.yi.on("downloadabort",this.Fi.bind(this)),this.yi.on("appendbufferend",this.Ui.bind(this))},n.Bn=function(t,e){if(t&&t.isInitSegmentRequest)return;const n=this.Jt();e.extraContext={liveAvail:{start:this.Ni.getAvailabilityStart(this.currentTime,n),end:this.Ni.getAvailabilityEnd(this.currentTime,n)}},this.fire(mo.DOWNLOAD_END,{identifier:t,data:e})},n.Vn=function(t,e){t&&t.isInitSegmentRequest||(this.zn(t),this.zi(t),this.Ve[t.type]=!1,this.fire(mo.DOWNLOAD_TIMEOUT,{identifier:t,data:e}))},n.Fi=function(t){t&&t.isInitSegmentRequest||(this.zn(t),this.zi(t))},n.Fn=function(t,e){const n={previousStreamIndex:this.Qt.video.indexOf(this.Qt.video[t]),index:this.Qt.video.indexOf(this.Qt.video[e]),streams:this.Qt.video};this.fire(mo.STREAM_CHANGE_START,n)},n.Hn=function(t,e={}){this.fire(mo.STREAM_CHANGE,{index:t,streams:this.Qt.video,metadata:e})},n.Xi=function(t,e){for(let n=0;n<(null==e?void 0:e.length);n++)if(e.start(n)>t)return n},n.Ui=function(t){const{type:e,stream:n}=t,i=this.sorcerer[e].sourceBuffer.buffered,r=this.Gi(t);if(r&&i.length&&(this.Qt[e][n].playlist.timeOffset=i.end(i.length-1)-(r.end-r.timeOffset)),null===this.Ae||!this.Me)return;const o=this.Xi(this.currentTime,i),s=(null==i?void 0:i.start(o))??0,a=zt(s,i);if(void 0!==o&&a>this.bufferTarget)return Number((s-this.currentTime).toFixed(3)),void(this.currentTime=s);this.Ae<this.liveTailTime&&(this.Ae=this.liveTailTime),this.Ni.canPlayFromTimeInStream(this.Ae,this.Jt())&&(this.Me(this.Ae),this.Me=null)},n.zn=function({type:t,segment:e,part:n}){return`${t}_${e}_${n}`},n.Gi=function({type:t,stream:e,segment:n,part:i}){const r=this.Qt[t][e].getSegmentBySN(n);return(null==r?void 0:r.getPart(i))||r},n.zi=function(t){if(t.part>0){const e=Q(Q({},t),{},{part:t.part-1});this.zi(e)}const e=this.zn(t);delete this.Mi[e]},n.isSegmentAdded=function(t){return!!this.Mi[this.zn(t)]},n.isStreamSegmentAdded=function(t){const e=this.zn(t),n=this.yi[t.type].activeStreamIndex;return!!this.Mi[e]&&this.Mi[e].stream===n},n.Bi=function(t,e){try{const r=this,{type:o}=t;var n,i;return r.eventHasDVREnabled&&(null==(n=r.yi)||n.setLiveSeekableRange(r.liveTailTime,r.liveEdgeTime)),r.fire(mo.STREAM_UPDATED,t),"subtitles"===o?((r.di||r.hi)&&(null==(i=r.manifest.captions)?void 0:i.length)>0&&r.Wi(),ll()):(e||r.Wn(o),r.Pi(r.qi(o)||!r.Yi()),r.Ki(),(r.lowLatencyMode||r.video.metadata.p2pReady)&&r.Zi(),ll())}catch(t){return r.reject(t)}},n.Vi=function({label:t,language:e},n){if(!this.Qi){const i=new TelecineTextTrack({label:t,id:n,kind:"captions",language:e},this.et);this.et.textTracks=Lo([i]),this.Qi=this.addTextTrack(i)}},n.Ji=function(t){return`${t.type}_${t.mediaSequenceNumber}`},n.tr=function(){return this.Jt("video").playlist.timeOffset},n.er=function(t){const e=this.Ji(t),n=this.Oi[e],i=this.tr(),r=t.end+i>=this.currentTime&&t.start+i<=this.currentTime+this.bufferTarget;return this.di&&!n&&r},n.nr=function(t){const e=this.Ji(t),n=this.Ii[e],i=this.tr(),r=t.end+i>=this.liveEdgeTime-t.duration&&t.start+i<=this.liveEdgeTime+this.bufferTarget;return this.hi&&!n&&r},n.ir=function(t){try{const e=this,n=e.Ji(t);return ll(fl((function(){if(!e.Li[n])return ll(Ee(t.url).text(),(function(t){const i=ul(t),r=function(t){const e=t.match(/=MPEGTS:(\d+),/);return(e&&e[1]||0)/9e4}(t),o=i.map((t=>(t.startTime=r+t.startTime,t.endTime=r+t.endTime,new(window.VTTCue||window.TextTrackCue)(t.startTime,t.endTime,t.text))));e.Li[n]=o}))}),(function(){return e.Li[n]})))}catch(t){return r.reject(t)}},n.Wi=function(){try{const t=this;return ll(t.Ti,(function(){t.manifest.captions&&t.manifest.captions[0].segments.forEach(pl((function(e){const n=t.Ji(e),i=t.er(e),r=t.nr(e);return function(){var o=function(){if(i||r)return ll(t.ir(e),(function(e){i&&(t.Oi[n]=!0,e.forEach((e=>{t.Qi.addCue(e)}))),r&&(t.Ii[n]=!0,t.fire(mo.SEGMENT_CUES_LOADED,e))}))}();if(o&&o.then)return o.then(hl)}()})))}))}catch(t){return r.reject(t)}},n.qi=function(t){var e;const n=this.Jt(t),i=3*(this.lowLatencyMode?3:1);return(null==(e=n.playlist)?void 0:e.misses)<i},n.nn=function(){try{const t=this;return ll(t.Ti,(function(){const e=t.Y.webkitCurrentPlaybackTargetIsWireless,n="closed"===t.yi.readyState;if(!e&&!n)for(const e in t.Qt)t.Qt[e].length>0&&t.Wn(e)}))}catch(t){return r.reject(t)}},n.Wn=function(t){try{const e=this;return ll(e.Ti,(function(){if(!e.yi.allowSegmentRequests)return;const{index:n,reasonForSwitch:i}=e.$i(t);let r;return fl((function(){if(n>=0&&n!==e.sorcerer[t].activeStreamIndex)return r=n>e.sorcerer[t].activeStreamIndex,e.Ve[t]=!0,ll(e.gi.switchTo(t,n),(function(){let r={reasonForSwitch:i};e.sorcerer[t].switchTo(n,!0,r).then((()=>{e.Ve[t]=!1})).catch(console.error)}))}),(function(){return ll(lt(0),(function(){const n=e.lowLatencyMode&&void 0!==r,i=e.yi[t].activeStreamIndex,o=e.Jt(t,i),s=e.Ni.getSegmentsToLoad(n,t,o),a=e.rr();s.forEach((n=>{const r=e.zn(n),s={type:t,stream:i,segment:n.segment,part:n.part},u="video"===t&&!n.hint;let l=a;if(n.hint&&e.ci&&n.start>e.currentTime){const t=1e3*(n.start-e.currentTime);l=Math.min(ml,t+a)}const c=o.avg_bitrate/8*n.duration,d=e.sorcerer[t].streams[i],h=e.sr(n);d.addSegment(h,{identifier:s,includeWithBandwidthChecks:u,priority:n.programDateTime,excludeConnectTime:e.lowLatencyMode,timeout:e.bi||e.lowLatencyMode?l:ml,size:e.bi||e.lowLatencyMode?c:void 0}).catch((t=>{t instanceof ss||t instanceof ie||e.zi(s)})),e.Mi[r]=s}))}))}))}))}catch(t){return r.reject(t)}},n.sr=function(t){var e;let n=null==t?void 0:t.url;const i=null==(e=this.gi)?void 0:e.baseUrl;return i&&n&&!n.startsWith(i)&&(n=`${i}${t.uri}`),n},n.$i=function(t,e=!1){var n;let i;if(this.Ve[t])return{index:-1,reasonForSwitch:null};if("subtitles"===t)return i=this.gi.activeStream("video"),{index:i.subtitles[i.currentRenditions.subtitles].index,reasonForSwitch:null};if("audio"===t)return i=this.gi.activeStream("video"),{index:i.audio[i.currentRenditions.audio].index,reasonForSwitch:null};if(!e&&Yt(this.ki)<this._i)return{index:this.Le,reasonForSwitch:null};this.ki=Gt();const r=null==(n=this.video)||null==(n=n.metadata)?void 0:n.percentShown,o=this.Ni.filterStreams(this.Qt.video,this.Y.clientWidth,this.Y.clientHeight,r);if(0===o.length)return{index:this.Le,reasonForSwitch:null};const{index:s,reasonForSwitch:a}=this.Ni.optimalStream(o,this.Le),u=o[s],l=this.Qt.video.indexOf(u);if(l>=0&&(e||l!==this.Le)){if(l>this.Le&&Yt(this.Si)<this.mi)return{index:this.Le,reasonForSwitch:a};l<this.Le&&(this.Si=Gt());const t={index:l,streams:this.Qt.video};return this.fire(mo.STREAM_TARGET_CHANGE,t),this.Le=l,{index:l,reasonForSwitch:a}}return{index:this.Le,reasonForSwitch:a}},n.getCurrentStream=function(t="video"){return this.Jt(t)},n.Jt=function(t="video",e=0){return void 0!==this.yi&&null!==this.yi&&(e=this.yi[t].activeStreamIndex),this.Qt[t][e]},n.Zi=function(){if(this.Y.currentTime===this.Ai&&Gt()-this.ar>=1e3&&this.ur()){const t=`Jumping forward 0.1s because of stall at time of ${this.Y.currentTime}`;this.fire(bo.STALL_JUMP,{msg:t}),this.Y.currentTime+=.1}this.Ai=this.Y.currentTime,this.ar=Gt()},n.ur=function(){return this.Y.readyState!==this.Y.HAVE_NOTHING&&!!this.Y.buffered.length&&!this.Y.paused&&this.lr(this.Y.buffered,this.Y.currentTime)},n.lr=function(t,e){for(let n=0;n<t.length;n++)if(!(e<t.start(n)-.1||e>t.end(n)-.5))return!0;return!1},n.Ki=function(){const t=this.buffered;if(!t.length)return;const e=t.length,n=this.Y.currentTime;let i,r,o,s;try{i=function(t,e){if(!t||!t.length)return null;if(1===t.length&&t.end(0)-t.start(0)<1e-6)return null;let n;for(let i=0;i<t.length;i++)if(t.start(i)>e&&(0===i||t.end(i-1)-e<=.5)){n=i;break}return n>=0?n:null}(t,n)}catch(t){throw DOMException,t}if(null===i)return;if(this.Y.readyState===this.Y.HAVE_NOTHING)return;if(this.Y.paused)return;if(e<=i)return;try{r=t.start(i),o=t.end(e-1)}catch(t){throw DOMException,t}const a=r-n,u=o-r,l=this.lowLatencyMode?1:2;if(u>0&&u<=this.segmentLength*l)return s=`Preventing jump too close to buffered end time. Would have jumped to: ${r}. Last buffered end time ${o}.`,void this.fire(bo.BUFFER_GAP_JUMP_PREVENT,{msg:s});0===i?(s=`Jumping forward ${a} seconds because of gap before start time of ${r}`,this.fire(bo.BUFFER_GAP_JUMP,{msg:s})):(s=`Jumping forward ${a} seconds because of gap starting at ${t.end(i-1)} and ending at ${r}`,this.fire(bo.BUFFER_GAP_JUMP,{msg:s})),this.Y.currentTime=r+.1},n.Yi=function(){const t=this.buffered;return!!(t&&t.length&&this.Y.currentTime+_l>t.end(t.length-1))},n.setVideoSrc=function(t){try{const e=this;return ll(e.Qe(e.ut),(function(){return ll(e.Di(t),(function(){return fl((function(){if(e.sorcerer.isInstanceofManagedMediaSource(e.sorcerer.mediaSource)){const t=document.createElement("source");t.type="video/mp4",t.src=URL.createObjectURL(e.sorcerer.mediaSource),e.Y.appendChild(t);let{src:n,mime:i}=e.et.externalDisplayFiles.AirPlay;const r=document.createElement("source");return r.type=i,ll(So(n),(function(t){r.src=t,e.Y.appendChild(r)}))}e.Y.src=URL.createObjectURL(e.sorcerer.mediaSource)}),(function(){e.Ti.resolve()}))}))}))}catch(t){return r.reject(t)}},n.Qe=function(t){try{const e=this;return e.cr=Ut(),"none"===t&&e.paused||e.cr.resolve(),ll(e.cr)}catch(t){return r.reject(t)}},n.getBitrateAtTime=function(t,e="video",n="average"){if(!this.yi)return 0;const i=this.yi.streamIndexAtTime(t,e),r=this.Qt[e][i];return r?r["average"===n?"avg_bitrate":"bitrate"]??r.bitrate:0},n.onprogress=function(){this.Ki()},n.ondurationchange=function(){this.Ki()},n.ontimeupdate=function(){if(!this.yi)return;if(t.prototype.ontimeupdate.call(this),null!==this.Ae)return;this.atLiveTail=this.dr(this.Y.currentTime),this.hr(this.Y.currentTime)?this.atLiveEdge=!0:(this.Y.playbackRate<1||this.pr())&&(this.atLiveEdge=!1),this.fire(mo.DROPPED_FRAMES,this.yi.getDroppedFrameTotal());const e=this.Jt();if(e){const t={speed:this.Ni.getCurrentSpeed(),bitrate:e.avg_bitrate,speeds:this.yi.getResponseSpeeds()};this.fire(mo.BANDWIDTH,t)}!this.Ci&&this.Yi()&&this.fire(bo.STREAM_OFFLINE),!this.lowLatencyMode&&Yt(this.ki)>this._i&&this.nn()},n.hr=function(t){return t>=this.liveEdgeTime-1*this.segmentLength},n.pr=function(t){return t>=this.liveEdgeTime-2*this.segmentLength},n.dr=function(t){return t<=this.liveTailTime+2*this.segmentLength},n.ln=function(t=this.Ae){return new r((e=>{this.Ni.canPlayFromTimeInStream(t,this.Jt())?e(t):this.Me=e})).then((t=>(this.Ae=null,this.Ne=null,this.Y.currentTime=t,new r(((t,e)=>{this.an=e;const n=()=>{t(this.Y.currentTime),this.Y.removeEventListener("seeked",n)};this.Y.addEventListener("seeked",n)})))))},n.seekToTime=function(t){if(!this.eventHasDVREnabled||t===this.currentTime)return r.resolve();let e;if(null===this.Ae||(this.an&&(this.an(),this.an=null),this.Ne=null,this.Ae=null,this.Me=null),this.Ae=t,!this.Ni.canPlayFromTimeInStream(t,this.Jt()))try{this.Mi={};for(const t in this.Qt)if(this.Qt[t].length>0){const e=this.sorcerer[t].activeStreamIndex;this.sorcerer[t].streams[e].abort()}e=this.yi.removeBuffer()}catch(t){}return this.Ne=this.ln(t),r.all([this.Ti,e]).then((()=>(this.nn(),this.Ne))).catch((t=>{}))},n.onpause=function(){var e;t.prototype.onpause.call(this),this.eventHasDVREnabled?this.atLiveEdge=!1:(null==(e=this.gi)||e.stop(),this.yi&&(this.yi.abortFetches(),this.Mi={},this.yi.removeBuffer().catch((()=>{}))))},n.onplay=function(){this.eventHasDVREnabled||this.ci&&this.Hi()},n.pause=function(){this.eventHasDVREnabled&&(this.atLiveEdge=!1),t.prototype.pause.call(this)},n.play=function(){const e=this;return t.prototype.play.call(this,pl((function(){return e.cr.resolve(),null!==e.Ae?r.resolve(e.Ne):fl((function(){if(e.ci&&!e.eventHasDVREnabled)return e.Mi={},dl(cl((function(){return vl(e.yi.removeBuffer())}),(function(t){})),(function(){return vl(e.Hi())}))}),(function(){return ll(e.Ti,(function(){return e.nn(),ll(e._r(),(function(){const t=Math.max(e.wi.liveSyncPosition,e.Y.buffered.start(0));return e.fi?e.currentTime=t:e.currentTime=e.Y.currentTime,e.ci=!0,r.resolve()}))}))}))})))},n._r=function(){return new r((t=>{const e=()=>{this.buffered.length&&(this.yi.off("appendbufferend",e),this.preloadStreamIndex=null,t())};this.yi.on("appendbufferend",e),e()}))},n.rr=function(){return this.Ni.getSegmentRelativeTimeout(this.Qt.video,this.Jt("video"),1e3*this.segmentLength)},n.Ye=function(){return ht("module/media-manifest.js")},n.setCaptionsShouldDisplay=function(t){this.di=t},n.setCaptionsShouldLoad=function(t){this.hi=t},X(e,[{key:"preload",get:function(){return this.ut},set:function(t){this.ut!==t&&"none"!==t&&this.cr.resolve(),this.ut=t}},{key:"latency",get:function(){var t;return null==(t=this.wi)?void 0:t.latency}},{key:"lowLatencyMode",get:function(){return this._lowLatencyMode},set:function(t){this._lowLatencyMode=t,this.gi&&(this.gi.lowLatencyMode=t)}},{key:"downloadSpeed",get:function(){return this.Ni.getCurrentSpeed()}},{key:"restrictedStreamIndexes",get:function(){return this.$e},set:function(t){this.$e.join(",")!==t.join(",")&&(this.$e=t,this.Ni.lock(this.$e))}},{key:"preloadStreamIndex",get:function(){return this._e},set:function(t){this._e=t;const e=null!==t?[this._e]:this.$e;this.Ni.lock(e)}},{key:"videoWidth",get:function(){return this.mr?this.mr.width:this.Y.videoWidth}},{key:"videoHeight",get:function(){return this.mr?this.mr.height:this.Y.videoHeight}},{key:"currentTime",get:function(){return null!==this.Ae?this.Ae:this.Y.currentTime},set:function(t){this.Y.readyState<=this.Y.HAVE_NOTHING||(this.eventHasDVREnabled&&this.ci?this.hr(t)?(this.atLiveEdge=!0,this.seekToTime(this.liveEdgeTime)):(this.atLiveEdge=!1,this.seekToTime(Math.max(t,this.liveTailTime))):this.Y.currentTime=t)}},{key:"liveEdgeTime",get:function(){return this.wi.liveSyncPosition}},{key:"atLiveEdge",get:function(){return this.fi},set:function(t){this.atLiveEdge!==t&&this.eventHasDVREnabled&&(this.fi=t,this.Y.playbackRate>1&&t&&(this.Y.playbackRate=1),this.lowLatencyMode=!!this.eventIsLowLatency&&t,this.bufferTarget=t?this.defaultBufferTarget:18,t&&(this.presentationDelay=this.defaultPresentationDelay))}},{key:"atLiveTail",get:function(){return this.pi},set:function(t){this.atLiveTail!==t&&this.eventHasDVREnabled&&(this.pi=t,this.Y.playbackRate<1&&t&&(this.Y.playbackRate=1))}},{key:"liveTailTime",get:function(){var t;const e=(null==(t=this.Jt())||null==(t=t.segments)||null==(t=t[0])?void 0:t.start)??0;return Math.max(e,0)}},{key:"ended",get:function(){return this.Ei}},{key:"isLowerProfileAvailable",get:function(){return this.yi?this.yi.video.activeStreamIndex>0:null}},{key:"sorcerer",get:function(){return this.yi}},{key:"segmentLength",get:function(){var t,e;return this.lowLatencyMode&&(null==(t=this.gi)||null==(t=t.activeStream("video"))?void 0:t.partTargetDuration)||(null==(e=this.gi)||null==(e=e.activeStream("video"))?void 0:e.targetDuration)}}],[{key:"displayName",get:function(){return"HLSLiveScanner"}},{key:"supportsMse",get:function(){return!0}},{key:"supportsLive",get:function(){return!0}},{key:"supportedVideoTypes",get:function(){return[co.hlsLive]}}])}(is);function yl(t){return t.forEach(((t,e)=>{t.index=e})),t}function gl(t,e){return t.bitrate-e.bitrate}const wl=(t,e)=>({audio:t.map(((e,n)=>Q(Q({},e),{},{avg_bitrate:e.bitrate,codecs:e.audioCodec,id:e.attrs.URI,index:t.length-n,isDefault:e.default,label:e.name,language:e.attrs.LANGUAGE,segments:[],type:e.attrs.TYPE??"audio",uri:e.attrs.URI}))).sort(gl),video:e.map(((t,n)=>Q(Q({},t),{},{avg_bitrate:t.bitrate,bitrate:t.bitrate,codecs:t.videoCodec,framerate:parseInt(t.attrs["FRAME-RATE"]),height:t.height,id:n,index:e.length-n,label:t.name||`${t.height}p`,segments:[],width:t.width}))).sort(gl)});function Tl(){}let Cl=function(t){function e(e,n){var i;return G(i=t.call(this)||this,"_captionsLoading",!1),G(i,"_captionsTrack",void 0),G(i,"_captionsVisible",!1),G(i,"_currentFile",void 0),G(i,"_eventHandlers",{}),G(i,"_eventStartTime",void 0),G(i,"_files",void 0),G(i,"_hls",null),G(i,"_hlsConfig",void 0),G(i,"_hlsEventHandlers",{}),G(i,"_options",void 0),G(i,"_playerInViewTracker",null),G(i,"_streamOnline",!1),G(i,"_telecineVideo",void 0),G(i,"_video",void 0),G(i,"_videoWrapper",void 0),G(i,"_brain",void 0),G(i,"_hlsJsError",((t,e)=>{})),G(i,"_handleManifestLoaded",((t,e)=>{i.fire(mo.STREAMS_LOADED,i.Qt),i.br=!0,i.fire(bo.STREAM_ONLINE)})),G(i,"_handleLevelSwitched",((t,e)=>{const n=i.Qt.video.findIndex((t=>t.bitrate===i.yr.levels[e.level].bitrate));i.fire(mo.STREAM_CHANGE,{index:n,streams:i.Qt.video,metadata:null})})),G(i,"_handleFPSDrop",((t,e)=>{})),G(i,"_handleNonNativeTextTracksFound",((t,e)=>{e.tracks.forEach(((t,e)=>{var n;return i.Vi({label:t.label,language:null==(n=t.subtitleTrack)?void 0:n.lang},e)})),i.fire(mo.TEXT_TRACKS_AVAILABLE)})),G(i,"_handleCuesParsed",((t,e)=>{e.cues.length&&(i.Y.textTracks.length>0&&e.cues.forEach((t=>{i.Y.textTracks[0].addCue(t)})),i.et.textTracks[0].dispatchEvent("cuechange"),(i.di||i.hi)&&i.fire(mo.SEGMENT_CUES_LOADED,e.cues))})),G(i,"_handleBufferAppended",((t,e)=>{var n;const r="initSegment"===(null==e||null==(n=e.frag)?void 0:n.sn);"video"!==e.type||r||null===i.preloadStreamIndex||(i.preloadStreamIndex=null)})),i.tt=n,i.Y=e.querySelector("video"),i.gr=e,i.hi=!1,i.Qi=null,i.di=!1,i.nt=null,i.wr={},i.Tr=0,i.xt=[],i.yr=null,i.Cr={},i.Mt=null,i.br=!1,i.et=null,i.Y||(i.Y=document.createElement("video"),i.Y.preload="none",i.gr.appendChild(i.Y)),i.Er={liveDurationInfinity:!0,capLevelToPlayerSize:!0,capLevelOnFPSDrop:!0,renderTextTracksNatively:!1,liveSyncMode:n.dvrEnabled?"buffered":"edge"},i.reactivate(),i}q(e,t),e.supported=function(t){var e;return null==(e=window.Hls)?void 0:e.isSupported()};var n=e.prototype;return n.deactivate=function(){this.kr(),this.Sr(),this._t(),this.yr&&(this.yr.destroy(),this.yr=null)},n.reactivate=function(){this.Ar(),this.Nr(),this.Mr(),this.Or(),this.Y.style.display=""},n.isInView=function(){var t;return(null==(t=this.Mt)?void 0:t.isInView)??!0},n.Ar=function(){const t=window.Hls;t&&(this.ze=function(){let t=null,e=[],n=[],i=null;return{lock:t=>{n=t||[],o()},createAugmentedController:({baseABRController:n})=>function({baseABRController:n}){let i=function(i){function r(e){var n;return n=i.call(this,e)||this,e&&(t=e),n}return q(r,i),X(r,[{key:"nextAutoLevel",get:function(){var i;if(1===e.length)return e[0];const r=Object.getOwnPropertyDescriptor(n.prototype,"nextAutoLevel").get.call(this);if(0===e.length||e.includes(r))return r;const o=(null==(i=t.levels[r])?void 0:i.bitrate)||0,s=e.map((e=>{var n;return(null==(n=t.levels[e])?void 0:n.bitrate)||0})),a=Math.min.apply(Math,et(s)),u=Math.max.apply(Math,et(s));return o<a?e[s.indexOf(a)]:o>u?e[s.indexOf(u)]:r},set:function(t){Object.getOwnPropertyDescriptor(n.prototype,"nextAutoLevel").set.call(this,t)}}])}(n);return i}({baseABRController:n}),setPreloadStreamIndex:t=>{if(i=t,null!==t){const n=r([t]);e=n.length?[n[0]]:[]}else o()},getPreloadStreamIndex:()=>i,getWhitelist:()=>n};function r(e){var n;const i=(null==(n=t)?void 0:n.levels)||[];if(!t||!i.length||null==e||!e.length)return[];const r=wl(t.audioTracks||[],t.levels).video.filter(((t,n)=>e.includes(n)));return((t,e)=>t.map((t=>e.findIndex((e=>e.bitrate===t.bitrate)))))(r,t.levels)}function o(){e=r(n)}}(),this.Er.abrController=this.ze.createAugmentedController({baseABRController:t.DefaultConfig.abrController}),this.yr=new t(this.Er),this.yr.attachMedia(this.Y))},n._t=function(){var t;null==(t=this.Mt)||t.cleanup()},n.Or=function(){this._t(),this.Mt=Ft(this.Y)},n.Nr=function(){[fo.CAN_PLAY,fo.ENDED,fo.ERROR,fo.PLAYING,fo.TIME_UPDATE,fo.WAITING].forEach((t=>{const e=e=>this.Ir(t,e);this.Y.addEventListener(t,e),this.wr[t]=e}))},n.kr=function(){Object.entries(this.wr).forEach((([t,e])=>{this.Y.removeEventListener(t,e)})),this.wr={}},n.Ir=function(t,e){this.fire(t,e)},n.requestPictureInPicture=function(){try{const t=this;return El(function(e,n){var i=function(){if(t.Y.readyState<1)return function(t){if(!void 0)return t&&t.then?t.then(Tl):r.resolve()}(t.Nt())}();return i&&i.then?i.then(n):n()}(0,(function(){try{return t.Y.requestPictureInPicture()??t.Y.webkitSetPresentationMode("picture-in-picture")}catch(t){throw new Error("Picture-in-picture is not supported by this browser",t)}})))}catch(t){return r.reject(t)}},n.play=function(){return this.Y.play()},n.pause=function(){this.Y.pause()},n.setVideoSrc=function(t){try{const e=this;return El(So(t),(function(t){e.yr.loadSource(t),e.fire(mo.CURRENT_FILE_CHANGE,e.nt)}))}catch(t){return r.reject(t)}},n.getCurrentStream=function(t="video"){var e,n;const i=null==(e=this.yr)?void 0:e.currentLevel;return(null==(n=this.yr)?void 0:n.levels[i])||null},n.Rt=function(){if(this.xt.length<1)return null;const t=this.xt.slice(0).sort(((t,e)=>t.priority-e.priority));return t[0]},n.Pt=function(){const t=this.Rt();t?this.currentFile=t:this.fire(mo.SCANNER_ERROR,{reason:"all files failed"})},n.Nt=function(){return new r((t=>{this.once(fo.LOADED_METADATA,t)}))},n.getBitrateAtTime=function(t,e="video",n="average"){return 1e3},n.getHlsJs=function(){return this.yr},n.getActiveCuesForTrack=function(t){return this.Y.textTracks[0].activeCues},n.setModeForTrack=function(t,e){t.mode=e,this.yr.subtitleTrack=parseInt(t.id),this.yr.subtitleDisplay=!1,"disabled"!==e||this.hi||(this.yr.subtitleTrack=-1)},n.setCaptionsShouldDisplay=function(t){this.di=t},n.setCaptionsShouldLoad=function(t){this.hi=t,this.yr.subtitleTrack=0,this.yr.subtitleDisplay=!1},n.Vi=function({label:t,language:e},n){if(!this.Qi){const i=new TelecineTextTrack({label:t,id:`${n}`,kind:"captions",language:e},this.et);this.et.textTracks=Lo([i]),this.Y.addTextTrack(i.kind,i.label,i.language)}},n.Mr=function(){const t=window.Hls.Events,e={[t.ERROR]:this.Lr,[t.MANIFEST_LOADED]:this.Rr,[t.LEVEL_SWITCHED]:this.Pr,[t.FPS_DROP]:this.Dr,[t.NON_NATIVE_TEXT_TRACKS_FOUND]:this.Br,[t.CUES_PARSED]:this.$r,[t.BUFFER_APPENDED]:this.Vr};for(const t in e){const n=e[t];n&&(this.yr.on(t,n),this.Cr[t]=n)}},n.Sr=function(){if(!this.yr)return;const t=window.Hls.Events;Object.entries(this.Cr).forEach((([e,n])=>{this.yr.off(t[e],n)})),this.Cr={}},X(e,[{key:"currentTime",get:function(){return this.Y.currentTime},set:function(t){this.Y.currentTime=t}},{key:"paused",get:function(){return this.Y.paused}},{key:"ended",get:function(){return this.Y.ended}},{key:"videoWidth",get:function(){return this.Y.videoWidth}},{key:"videoHeight",get:function(){return this.Y.videoHeight}},{key:"duration",get:function(){return this.Y.duration}},{key:"buffered",get:function(){return this.Y.buffered}},{key:"playbackRate",get:function(){return this.Y.playbackRate},set:function(t){this.Y.playbackRate=t}},{key:"muted",get:function(){return this.Y.muted},set:function(t){this.Y.muted=t}},{key:"volume",get:function(){return pt(this.Y.volume)},set:function(t){this.Y.volume=ft(t)}},{key:"played",get:function(){return this.Y.played}},{key:"autoPictureInPicture",get:function(){return this.Y.autoPictureInPicture},set:function(t){this.Y.autoPictureInPicture=t}},{key:"disablePictureInPicture",get:function(){return this.Y.disablePictureInPicture},set:function(t){this.Y.disablePictureInPicture=t}},{key:"currentFile",get:function(){return this.nt},set:function(t){this.nt=t,this.setVideoSrc(t.src)}},{key:"video",get:function(){return this.et},set:function(t){this.et!==t&&(this.et=t,this.xt=t.files.filter((t=>-1!==e.supportedVideoTypes.indexOf(t.mime))),this.Pt())}},{key:"latency",get:function(){var t;return(null==(t=this.yr)?void 0:t.latency)||0}},{key:"presentationDelay",get:function(){var t;return(null==(t=this.yr)?void 0:t.targetLatency)||0}},{key:"videoElement",get:function(){return this.Y}},{key:"atLiveEdge",get:function(){return this.Y.currentTime>=this.liveEdgeTime-3}},{key:"liveEdgeTime",get:function(){var t;return(null==(t=this.yr)?void 0:t.liveSyncPosition)||0}},{key:"liveTailTime",get:function(){var t,e;const n=null==(t=this.yr)?void 0:t.currentLevel,i=(null==(e=this.yr)||null==(e=e.levels[n])||null==(e=e.details)||null==(e=e.fragments[0])?void 0:e.start)||0;return Math.max(i,0)}},{key:"pictureInPictureActive",get:function(){return"picture-in-picture"===this.Y.webkitPresentationMode||!!document.pictureInPictureElement}},{key:"restrictedStreamIndexes",get:function(){var t;return null==(t=this.ze)?void 0:t.getWhitelist()},set:function(t){var e;null==(e=this.ze)||e.lock(t)}},{key:"preloadStreamIndex",get:function(){var t;return null==(t=this.ze)?void 0:t.getPreloadStreamIndex()},set:function(t){var e;null==(e=this.ze)||e.setPreloadStreamIndex(t)}},{key:"_streams",get:function(){return this.yr&&this.yr.levels.length>0?wl(this.yr.audioTracks,this.yr.levels):{video:[],audio:[]}}},{key:"manifest",get:function(){const{audio:t,video:e}=this.Qt;return{audio:t.toReversed(),video:e.toReversed()}}}],[{key:"displayName",get:function(){return"HlsJsScanner"}},{key:"supportsMse",get:function(){return!0}},{key:"supportsLive",get:function(){return!0}},{key:"supportedVideoTypes",get:function(){return[co.hlsLive]}}])}(ri);function El(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const kl=document.createElement("video");let Sl=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).jr=null,i.ci=!1,i.fi=!0,i.pi=!1,i.Hr=0,i.Fr=!1,i.reset(),i.dvrEnabled=n.dvrEnabled??!1,i.getLiveEventStartTimeEpoch=n.getLiveEventStartTimeEpoch,window.addEventListener("online",(()=>{i.play()})),i}q(e,t),e.supported=function(){return e.supportedVideoTypes.length>0};var n=e.prototype;return n.deactivate=function(){t.prototype.deactivate.call(this),this.reset()},n.reset=function(){this.Ur&&clearTimeout(this.Ur),this.Ee=null,this.Ci=!1,this.Ei=!1,this.zr=null,this.Ur=null,this.Hr=0,this.Fr=!1,this.Ni=new el(this,this.tt),this.$e=[]},n.endLive=function(){this.Ci=!1,this.Ei=!0,clearTimeout(this.Ur),this.Y.pause(),function(t){setTimeout(t,0)}((()=>{t.prototype.deactivate.call(this),this.fire(fo.ENDED)}))},n.Xr=function(){const t=Zt(this.video.metadata.playlistRefreshUrl.split("?")[1]);t.expires&&(this.Ur=setTimeout((()=>{this.Gr()}),1e3*(t.expires-10)))},n.Gr=function(t=0){const e=this.video.metadata.playlistRefreshUrl;return Ee(e).json().then((n=>{if(!("url"in n))throw new Error(`Error parsing 'url' key from player live API refresh endpoint: ${e} ${n}`);return this.Wr(n.url.hls).then((()=>(this.play(),this.qr(5e3),null))).catch((()=>this.Gr(++t)))})).catch((()=>{if(t>=3)throw new Error(`Manifest failed to load after ${t} attempts.`);return++t,this.Gr(t)}))},n.Yr=function(){this.on(bo.STREAM_OFFLINE,(()=>{this.Ci=!1}))},n.Kr=function(t){return this.Yr(),this.Ci=!0,this.fire(bo.STREAM_ONLINE),this.qr(5e3),r.resolve(t)},n.Wr=function(t){return this.jr=t,/json=1/.test(t)?Ee(t).json().then((t=>{if(!("url"in t))throw new Error(`Error parsing 'url' key from Live API manifest endpoint: ${this.jr} ${t}`);this.Y.src=this.Zr(t.url),this.Xr()})).catch((t=>{const e=this.video.metadata.playlistRefreshUrl;return Ee(e).json().then((t=>{if(!("url"in t))throw new Error(`Error parsing 'url' key from player live API refresh endpoint: ${e} ${t}`);this.jr=t.url.ios,this.Y.src=this.Zr(t.url.ios),this.Xr()}))})):(this.Y.src=this.Zr(t),this.Xr(),r.resolve())},n.Zr=function(t){if(this.dvrEnabled)return t;const e=new URL(t);return e.searchParams.set("min_seconds","30"),e.toString()},n.Qr=function(){const t=this.Y.textTracks;if(null!=t&&t.length)for(let e=0;e<t.length;e++){const n=t[e];this.Vi(n)}},n.Vi=function(t){if(t&&!this.Qi){const{label:e,kind:n,language:i,id:r}=t,o=new TelecineTextTrack({label:e,kind:n,language:i,id:r},this.et);this.et.textTracks=Lo([o]),this.wt(o,t),this.fire(mo.TEXT_TRACKS_AVAILABLE),this.Qi=t}},n.setModeForTrack=function(t,e){return this.Qi&&this.Qi.mode!==e&&(this.Qi.mode=e),this},n.getActiveCuesForTrack=function(t){return this.Qi&&"disabled"!==this.Qi.mode?this.Qi.activeCues:[]},n.addTextTrack=function(t){return this.Qi||this.Qr(),this.Qi},n.qr=function(t){"number"==typeof Bt.iOS&&Bt.iOS<9||this.zr||(this.zr=setTimeout((()=>{if(!this.Ci)return;const t=new XMLHttpRequest;t.onload=()=>{410!==t.status?(200!==t.status&&this.fire(bo.STREAM_OFFLINE),t.response.match(/^#EXTM3U\n#EXT-X-VERSION:3\n$/)&&this.fire(bo.STREAM_OFFLINE)):this.Gr()},t.onerror=()=>{this.fire(bo.STREAM_OFFLINE)},/json=1/.test(this.jr)?Ee(this.jr).json().then((e=>{"url"in e||this.fire(bo.STREAM_OFFLINE),t.open("GET",e.url),t.send()})).catch((()=>{t.open("GET",this.jr),t.send()})):(t.open("GET",this.jr),t.send())}),t))},n.hr=function(t){return t>=this.liveEdgeTime-3},n.pr=function(t){return t>=this.liveEdgeTime-6},n.dr=function(t){return t<=this.liveTailTime+6},n.setVideoSrc=function(t){this.Ee=this.Kr(t).then((()=>(this.jr=t,this.Wr(t))))},n.ontimeupdate=function(){t.prototype.ontimeupdate.call(this),this.atLiveTail=this.dr(this.Y.currentTime),this.hr(this.Y.currentTime)?this.atLiveEdge=!0:(this.Y.playbackRate<1||this.pr())&&(this.atLiveEdge=!1)},n.onplaying=function(){this.ci=!0},n.oncanplay=function(){if(!this.ci){const t=this.Y.seekable.length;t>0&&(this.Y.currentTime=this.Y.seekable.end(t-1))}if(!this.Fr){this.Fr=!0;const t=this.Y.getStartDate().getTime()/1e3;this.Hr=t-this.getLiveEventStartTimeEpoch()}this.Qr()},n.onprogress=function(){this.zr&&(clearTimeout(this.zr),this.zr=null)},n.onstalled=function(){this.qr(1e4)},n.onerror=function(){return this.Y.error.code===this.Y.error.MEDIA_ERR_SRC_NOT_SUPPORTED?(Ee(this.jr).then((()=>{t.prototype.onerror.call(this)})).catch((e=>{e instanceof oe?this.fire(fo.ERROR,new TelecineError("MediaNetworkError","A network error ocurred while fetching the media.")):t.prototype.onerror.call(this)})),!1):t.prototype.onerror.call(this)},n.onwaiting=function(){this.qr(1e4)},n.pause=function(){this.dvrEnabled&&(this.atLiveEdge=!1),t.prototype.pause.call(this)},n.play=function(){return t.prototype.play.call(this,(()=>this.Ee))},X(e,[{key:"currentTime",get:function(){return this.Hr+this.Y.currentTime},set:function(t){if(this.liveEdgeTime){const e=t>=this.liveEdgeTime-3;this.atLiveEdge=e}this.Y.currentTime=t-this.Hr}},{key:"liveEdgeTime",get:function(){const t=this.Y.seekable.length;return t>0?this.Hr+this.Y.seekable.end(t-1):0}},{key:"atLiveEdge",get:function(){return this.fi},set:function(t){this.dvrEnabled&&(this.fi=t,this.Y.playbackRate>1&&t&&(this.Y.playbackRate=1))}},{key:"atLiveTail",get:function(){return this.pi},set:function(t){this.dvrEnabled&&(this.pi=t,this.Y.playbackRate<1&&t&&(this.Y.playbackRate=1))}},{key:"liveTailTime",get:function(){return this.Y.seekable.length>0?this.Hr+this.Y.seekable.start(0):0}},{key:"ended",get:function(){return this.Ei}},{key:"supportsPlaybackRate",get:function(){return t.prototype.supportsPlaybackRate&&this.dvrEnabled}}],[{key:"displayName",get:function(){return"NativeHLSLiveScanner"}},{key:"supportsMse",get:function(){return!1}},{key:"supportsLive",get:function(){return!0}},{key:"supportedVideoTypes",get:function(){const t=[];return"function"!=typeof kl.canPlayType||kl.canPlayType(co.hlsLive).replace(/^no$/,"")&&t.push(co.hlsLive),t}}])}(is),Al=function(){function t(t,e={}){this.Jr=t,this.J=t.J,this.tt=e}var e=t.prototype;return e.activate=function(){throw new TelecineError("NotImplemented","The effect must implement the activate method.")},e.deactivate=function(){throw new TelecineError("NotImplemented","The effect must implement the deactivate method.")},X(t,null,[{key:"displayName",get:function(){return"Effect"}},{key:"supported",get:function(){return!1}},{key:"supportedScanners",get:function(){return[]}}])}();const Nl=new ei,Ml=new ei;let TelecineFile=function(){return X((function({src:t,mime:e,id:n=te(),priority:i=0,metadata:r={}},o){if(!t)throw new TypeError("Must provide a src for the file.");if(!e)throw new TypeError("Must provide a mime type for the file.");Object.defineProperties(this,{mime:{value:e,enumerable:!0},id:{value:`${n}`,enumerable:!0},metadata:{value:r,enumerable:!0}}),this.video=o,this.priority=i,this.src=t}),[{key:"priority",get:function(){return Nl.get(this)},set:function(t){if(!("number"==typeof(t=parseInt(t,10))&&isFinite(t)&&Math.floor(t)===t&&t>=0))throw new TypeError("The file priority must be an integer greater than or equal to 0.");Nl.set(this,t)}},{key:"src",get:function(){return Ml.get(this)},set:function(t){Ml.set(this,t),this.video.fire(mo.FILE_SRC_UPDATE,this)}},{key:"restrictedStreamIndexes",get:function(){if(!Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.video.currentScanner),"restrictedStreamIndexes"))throw new ReferenceError("The current scanner does not support streams.");return this.video.currentScanner.restrictedStreamIndexes},set:function(t){if(!Array.isArray(t))throw new TypeError("Indexes must be an array.");if(!Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.video.currentScanner),"restrictedStreamIndexes"))throw new ReferenceError("The current scanner does not support streams.");this.video.currentScanner.restrictedStreamIndexes=t}}])}(),Ol=function(t){function e({enabled:e=!1,id:n=te(),kind:i="",label:r="",language:o="",provenance:s=""},a){var u;return(u=t.call(this)||this).eo=e,Object.defineProperties(u,{kind:{value:i,enumerable:!0},label:{value:r,enumerable:!0},language:{value:o,enumerable:!0},id:{value:`${n}`,enumerable:!0},provenance:{value:s,enumerable:!0}}),u.video=a,u}return q(e,t),e.prototype.dispatchEvent=function(t){this.fire(t,{target:this})},X(e,[{key:"enabled",get:function(){return this.eo},set:function(t){this.eo=t}},{key:"active",get:function(){return this.eo}}])}(ri);const Il="default";let Ll=function(){function t(){this.no={},this.io={},this.ro={},this.oo={},this.so={},this.ao={},this.uo=Il,this.lo={KEYCHAIN_DEFAULT:Il,KEYCHAIN_SD_FALLBACK:"sd-fallback"}}var e=t.prototype;return e.getAllKeySessions=function(){return Object.values(this.ao)||[]},e.getCdms=function(t){return this.no[t]},e.getKeySystem=function(t){return this.io[t]},e.getAllPreferredKeySystems=function(){return this.io},e.addCdms=function(t,e){this.no[e]=t},e.addKeySession=function(t,e){this.ao[e]=t},e.addLicenseTokenUrl=function(t,e){this.ro[e]=t},e.addLicenseUrl=function(t,e){this.oo[e]=t},e.addPreferredKeySystem=function(t,e){this.io[e]=t},e.closeAllKeySessions=function(){for(let t in this.ao)this.ao[t]&&this.ao[t].sessionId&&this.ao[t].close()},X(t,[{key:"state",get:function(){return this.uo},set:function(t){Object.values(this.lo).indexOf(t)<0||(this.uo=t)}},{key:"activeKeySession",get:function(){return this.ao[this.uo]}},{key:"activeKeySystem",get:function(){return this.io[this.uo]}},{key:"keyTypes",get:function(){return this.lo}},{key:"activeLicenseTokenUrl",get:function(){return this.ro[this.uo]}},{key:"activeLicenseUrl",get:function(){return this.oo[this.uo]}}])}();const Rl="com.apple.fps.1_0",xl="com.microsoft.playready";function Pl(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}let Dl=function(){function t(t,e,n={}){this.logPrefix="DrmHandler 🔒:",this.co=!!t.fallback_asset,this.do=e,this.ho=n,this.fo=()=>null,this.Yn=0,this.po=!0,this.vo=!1,this._o=null,this.mo=this.bo.bind(this),this.yo=this.wo.bind(this),this.To=this.updateTimeRef.bind(this),this.Co=new Ll,this.lo=this.Co.keyTypes,this.Co.state=this.lo.KEYCHAIN_DEFAULT,this.updateLAUrls(t)}var e=t.prototype;return e.init=function(t,e={},n={}){try{let i=!1;const o=this;return o.Y=t.Y,o.oe=t,window.MediaKeys&&window.navigator&&window.navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration||window.WebKitMediaKeys?(n=o.Eo(n),Pl(Bl((function(){if(o.Co.state===o.lo.KEYCHAIN_SD_FALLBACK)return o.oe.once(fo.SEEKING,o.To),o.vo=!0,Pl(o.waitForPlayAttempt(),(function(){const t=o.setUpKeySystem(e,n,o.lo.KEYCHAIN_SD_FALLBACK).then((()=>{o.oe.currentTime=o.Yn,o.oe.play()}));return i=!0,t}))}),(function(t){if(i)return t;const s=o.Co.getCdms(o.lo.KEYCHAIN_DEFAULT);return s?Pl(Gu(s,o.do,e),(function(t){let i=!1;const s=o.getPreferredMediaKeySystem(t);return s&&s.mediaKeys?(o.oe.fire(mo.DRM_CDM_CHANGE,s.name),Bl((function(){if(o.co){var t;const e=null==(t=s.mediaKeys)?void 0:t.getStatusForPolicy;return Pl(e?s.mediaKeys.getStatusForPolicy({minHdcpVersion:"1.0"}):"usable",(function(t){if("output-restricted"===t){const t=o.ko();return i=!0,t}}),!e)}}),(function(t){return i?t:Pl(o.waitForPlayAttempt(),(function(){return o.setUpKeySystem(e,n)}))}))):r.reject(Wo)})):r.reject("No CDMs set for keyType: "+o.lo.KEYCHAIN_DEFAULT)})))):(o.oe.fire(mo.EME_UNSUPPORTED),r.reject("Encrypted Media Extensions are not supported!"))}catch(t){return r.reject(t)}},e.updateTimeRef=function(){this.Yn=this.oe.currentTime},e.updateLAUrls=function(t){this.Co.addCdms(t.cdms,this.lo.KEYCHAIN_DEFAULT),t.fallback_asset&&this.Co.addCdms(t.fallback_cdms,this.lo.KEYCHAIN_SD_FALLBACK)},e.waitForPlayAttempt=function(){try{const t=this;return Pl(new r((e=>{t.oe.paused&&!t.oe.isPlayRequestActive?(t.oe.once(fo.PLAY,(()=>e())),t.oe.once(fo.SEEKING,(()=>e()))):e()})))}catch(t){return r.reject(t)}},e.Eo=function(t={}){if(void 0===t||void 0===t.inits)return t;const e=jr(t);for(var n=0,i=Object.entries(e.inits);n<i.length;n++){const[e,s]=i[n];for(var r=0,o=Object.entries(s);r<o.length;r++){const[e,n]=o[r];if(void 0===n||void 0===n.initData)return t;n.initData=Ro(n.initData)}}return e},e.getPreferredMediaKeySystem=function(t){let e=t.find((t=>(t.name===Rl||t.name===xl)&&null!==t.mediaKeys));return e||(e=t.find((t=>null!==t.mediaKeys))),e},e.setUpKeySystem=function(t,e,n=this.lo.KEYCHAIN_DEFAULT){const i=this,o=this.Co.getCdms(n);return o?Gu(o,this.do,t).then(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(t){const s=i.getPreferredMediaKeySystem(t);if(!s||!s.mediaKeys)throw i.oe.fire(mo.EME_UNSUPPORTED),new Error(Wo);i.Co.addPreferredKeySystem(s,n);const a=i.Co.activeKeySystem&&function(t,e){let n=null;return Object.keys(t).forEach((i=>{e.name===t[i].id&&(n=t[i])})),n}(o,i.Co.activeKeySystem);if(i.oe.fire(mo.DRM_CDM_CHANGE,s.name),!a)throw i.oe.fire(mo.EME_UNSUPPORTED),new Error("No valid key system was found.");return Bl((function(){if(a.certificate)return function(t){return t&&t.then?t.then($l):r.resolve()}(Wu(a.certificate,s.mediaKeys))}),(function(){i.Co.addLicenseTokenUrl(a.license_url,n);const t=e&&e.inits&&e.inits[a.id];return t||i.So(a,n),i.Ao(n).then((()=>{const e=i.Co.state===n;return t&&e&&i.mo(t.cenc,n)}))}))}))):r.reject("No CDMs set for keyType: "+n)},e.destroy=function(){this.Co&&this.Co.closeAllKeySessions(),this.Y&&this.Y.removeEventListener(this._o,this.mo)},e.No=function(t){try{var e;const n=this;return n.Co.state=t,null==(e=n.Co.activeKeySession)||e.addEventListener("message",(t=>n.Mo(t))),Pl()}catch(t){return r.reject(t)}},e.So=function(t,e){this._o="encrypted",this.Co.addLicenseUrl(t.license_url,e),this.do&&(this.Oo=t.certificate_url,this._o="webkitneedkey"),this.Y.addEventListener(this._o,this.mo)},e.Ao=function(t){if(this.do)this.Y.webkitSetMediaKeys(this.Co.activeKeySystem.mediaKeys);else{this.Y.mediaKeys;const e=this.Y.mediaKeys||this.Co.activeKeySystem.mediaKeys;if(this.Co.addKeySession(this.Io(e),t),t===this.Co.state&&this.Co.activeKeySession.addEventListener("message",(t=>this.Mo(t))),!this.Y.mediaKeys)return this.Y.setMediaKeys(this.Co.activeKeySystem.mediaKeys)}return r.resolve()},e.Io=function(t,e,n){const i=e&&n?t.createSession(e,n):t.createSession();if(!i)throw new Error("Could not create media key session");return i},e.bo=function(t,e){return e=e||this.Co.state,this.Co.activeKeySystem.name===Rl?(this.Lo(this.Oo).then((n=>{this.Ro=function(t){const e=function(t){const e=new Uint16Array(t.buffer);return String.fromCharCode.apply(null,e)}(t),n=document.createElement("a");return n.href=e,n.hostname}(t.initData);const i=function(t,e,n){const i=new Uint8Array(function(t){const e=new ArrayBuffer(2*t.length),n=new Uint16Array(e);for(let e=0,i=t.length;e<i;e++)n[e]=t.charCodeAt(e);return n}(e).buffer);let r=0;const o=new ArrayBuffer(t.byteLength+4+i.byteLength+4+n.byteLength),s=new DataView(o);new Uint8Array(o,r,t.byteLength).set(t),r+=t.byteLength,s.setUint32(r,i.byteLength,!0),r+=4;const a=new Uint8Array(o,r,i.byteLength);return a.set(i),r+=a.byteLength,s.setUint32(r,n.byteLength,!0),r+=4,new Uint8Array(o,r,n.byteLength).set(n),new Uint8Array(o,0,o.byteLength)}(t.initData,this.Ro,n);return this.Co.addKeySession(this.Io(this.Co.activeKeySystem.mediaKeys,"video/mp4",i),e),this.Co.activeKeySession.contentId=this.Ro,this.Co.activeKeySession.addEventListener("webkitkeymessage",(t=>this.Mo(t))),this.Co.activeKeySession.addEventListener("webkitkeyerror",(t=>{this.co?this.ko():this.oe.fire(mo.DRM_OUTPUT_RESTRICTED)})),n})).catch((t=>{this.oe.fire(t.error,t.payload)})),!0):!this.Co.activeKeySession.sessionId&&!this.xo&&(this.Co.activeKeySession.addEventListener("keystatuseschange",this.yo),this.xo=this.Co.activeKeySession.generateRequest(t.initDataType,t.initData).catch((()=>{this.oe.fire(mo.DRM_FAILURE)})),!0)},e.wo=function(){let t=!1;const e=a(this.Co.activeKeySession.keyStatuses.values());if(e.forEach(((e,n)=>{"expired"===e&&(t=!0)})),e.length&&e.every((t=>"output-restricted"===t))){if(this.co)return void this.ko();this.oe.fire(mo.DRM_OUTPUT_RESTRICTED)}t&&this.Co.activeKeySession.close()},e.Mo=function(t){return this.Po(this.Co.activeLicenseTokenUrl).then((e=>new r(((n,i)=>{this.Co.addLicenseUrl(e,this.Co.state),this.xo=null;const r=new XMLHttpRequest;r.keySession=t.target,r.open("POST",this.Co.activeLicenseUrl),r.responseType="arraybuffer";let o=t.message;if(this.Co.activeKeySystem.name===xl){const e=function(t){const e=t,n=String.fromCharCode.apply(null,new Uint16Array(e)),i=(new DOMParser).parseFromString(n,"application/xml"),r={},o=i.getElementsByTagName("HttpHeader");for(let t=0;t<o.length;++t){const e=o[t].querySelector("name"),n=o[t].querySelector("value");e&&n&&(r[e.textContent]=n.textContent)}return[r,Ro(i.querySelector("Challenge").textContent)]}(t.message),n=e[0];Object.keys(n).forEach((t=>{r.setRequestHeader(t,n[t])})),o=e[1]}this.Co.activeKeySystem.name===Rl&&(o=new Uint8Array(o),r.setRequestHeader("Content-type","application/octet-stream")),r.onload=()=>{if(403!==r.status)if(r.status>=400)i(new TelecineError(mo.DRM_FAILURE));else try{this.oe.fire(mo.DRM_AUTH_SUCCESS);const t=new Uint8Array(r.response);r.keySession.update(t),n()}catch(t){i(new TelecineError(mo.DRM_FAILURE,`Error updating key session: ${t}`))}else i(new TelecineError(mo.DRM_AUTH_FAILURE))},r.onerror=i,r.send(o)})).catch((t=>{this.oe.fire(t.name,{text:t.message||"License request failed."})}))))},e.Po=function(t){const e=((t,e)=>{const{atid:n,dnt:i,context:r,leadUUID:o,playerLocation:s,firstLog:a,playbackRoute:u,referrer:l}=e;return Qt(t,{atid:n,context:r,referrer:l,dnt:1===i?i:void 0,first_log:a?"1":void 0,lead_uuid:o,player_location:s,playback_route:u},!0)})(t,Q(Q({},this.ho),{},{firstLog:this.po}));return new r(((t,n)=>{const i=new XMLHttpRequest;i.withCredentials=!0,i.open("GET",e),i.onload=()=>{if(i.status>=400)n(new TelecineError(mo.DRM_FAILURE));else try{try{const e=JSON.parse(i.response),{licenseAcquisitionUrl:n,token:r}=e;if(!n&&!r)throw new Error;t(`${n}?ExpressPlayToken=${r}`)}catch(e){t(i.response)}}catch(t){n(new TelecineError(mo.DRM_FAILURE,`Error retrieving License Acquisition URL (LA_URL): ${t}`))}},i.onerror=n,i.send(),this.po=!1}))},e.Lo=function(t){return new r(((e,n)=>{const i=new XMLHttpRequest;i.open("GET",t),i.responseType="arraybuffer",i.setRequestHeader("Pragma","no-cache"),i.setRequestHeader("Cache-Control","max-age=0"),i.onload=()=>{if(403!==i.status)if(i.status>=400)n({error:mo.DRM_FAILURE});else try{e(new Uint8Array(i.response))}catch(t){n(t)}else n({error:mo.DRM_AUTH_FAILURE})},i.onerror=n,i.send()}))},e.Do=function(){return this.No(this.lo.KEYCHAIN_SD_FALLBACK).then((()=>{this.fo(),this.oe.fire(mo.DRM_KEY_SWITCH,this.lo.KEYCHAIN_SD_FALLBACK)})).catch((t=>{this.oe.fire(mo.DRM_OUTPUT_RESTRICTED)}))},e.ko=function(){var t,e;this.updateTimeRef(),this.do?(null==(t=this.Co)||t.closeAllKeySessions(),null==(e=this.Y)||e.removeEventListener(this._o,this.mo),this.oe.once(fo.SEEKING,this.To),this.vo=!0,this.Do(),this.waitForPlayAttempt().then((()=>{this.setUpKeySystem({},{},this.lo.KEYCHAIN_SD_FALLBACK).then((()=>{this.oe.currentTime=this.Yn,this.oe.play()}))}))):this.Do()},e.setFallbackCallback=function(t){this.fo=()=>t()},X(t,[{key:"state",get:function(){return this.Co.state}},{key:"hasFallbackAssets",get:function(){return this.co}},{key:"hasFallbackSourceUpdated",get:function(){return this.vo},set:function(t){this.vo=t}}])}();function Bl(t,e){var n=t();return n&&n.then?n.then(e):e(n)}function $l(){}const Vl=document.createElement("video"),jl={settingPlaybackRate:(()=>{if(Bt.android&&Oo&&"object"==typeof Oo&&Oo.major<52)return!1;const t=Vl.playbackRate;Vl.playbackRate=.5*t;const e=t!==Vl.playbackRate;return Vl.playbackRate=t,e})(),settingVolume:(()=>{if(Bt.android||Bt.iOS||Bt.iPadOS)return!1;const t=Vl.volume;return Vl.volume=.5*t,Vl.volume!==t})(),textTracks:void 0!==Vl.textTracks&&"undefined"!=typeof TextTrackList&&Vl.textTracks instanceof TextTrackList},Hl=new ei;let TelecineVideo=function(t){function TelecineVideo({files:e,id:n=te(),title:i=null,subtitle:r=null,metadata:o={},textTracks:s=Lo(),audioTracks:a=Lo(),externalDisplayFiles:u={},chapters:l=[],duration:c}){var d;if(d=t.call(this)||this,!e||!Array.isArray(e))throw new TypeError("Must provide files for the video.");const h=function(t=[]){return t.getFileById=Io,t}(e.map((t=>t instanceof TelecineFile?(t.video=d,t):new TelecineFile(t,d)))),f=Lo(s.map((t=>t instanceof TelecineTextTrack?(t.video=d,t):new TelecineTextTrack(t,d))));if(d.Bo=a,Object.keys(u).forEach((t=>{!u[t]||u[t]instanceof TelecineFile||(u[t]=new TelecineFile(u[t],d))})),Object.defineProperties(d,{id:{value:`${n}`,enumerable:!0},title:{value:i,enumerable:!0},subtitle:{value:r,enumerable:!0},metadata:{value:o,enumerable:!0},files:{value:h,enumerable:!0},textTracks:{value:f,enumerable:!0,writable:!0},chapters:{value:l,enumerable:!0},duration:{value:c,enumerable:!0},externalDisplayFiles:{value:u,enumerable:!0}}),o.drm){const{drm:t,useHls:e,drmLaUrlParams:n}=o;d.$o=new Dl(t,e,n)}return d}return q(TelecineVideo,t),TelecineVideo.prototype.deactivate=function(){this.$o&&this.$o.destroy(),this.textTracks.forEach((t=>this.currentScanner.removeTextTrack(t)))},X(TelecineVideo,[{key:"drmHandler",get:function(){return this.$o||null}},{key:"currentFile",get:function(){return this.currentScanner.currentFile},set:function(t){this.currentScanner.currentFile=t}},{key:"currentScanner",get:function(){return Hl.get(this)},set:function(t){this.currentScanner&&jl.textTracks&&this.textTracks.forEach((t=>this.currentScanner.removeTextTrack(t))),jl.textTracks&&this.textTracks.forEach((e=>t.addTextTrack(e))),Hl.set(this,t)}},{key:"audioTracks",get:function(){return Lo((this.currentScanner.constructor.supportsVideoElementAudioTracks?a(this.currentScanner.audioTracks):this.Bo).map((t=>t instanceof Ol?(t.video=this,t):new Ol(t,this))))}},{key:"enabledAudioTrack",get:function(){return this.audioTracks.find((t=>!!t.enabled))}}])}(ri),Fl=function(t){function e(e,n={}){var i;return(i=t.call(this)||this).Jr=e,i.tt=n,i.Vo=null,i.jo=i.tt.embedTime?i.tt.embedTime:0,i.Ho=!1,i.Fo=!1,i.Uo=!1,i.playInitiated=!1,i.zo=!1,i.Xo=250,i.Go=i.Wo.bind(i),i.qo=i.Yo.bind(i),i.Ko=i.Zo.bind(i),i.Qo=i.Jo.bind(i),i.ts=i.es.bind(i),i.ns=i.rs.bind(i),i.ss(i.Jr.on),i.tt.noInterval||i.us(),i}q(e,t);var n=e.prototype;return n.destroy=function(){clearInterval(this.Vo),this.ss(this.Jr.off),this.Wo()},n.ss=function(t){t(fo.PAUSE,this.qo),t(fo.PLAYING,this.Go),t(fo.SEEKING,this.Ko),t(fo.SEEKED,this.Qo),t(bo.STREAM_ONLINE,this.ts),t(bo.STREAM_OFFLINE,this.ns)},n.Yo=function(){this.userPlayState=!1},n.Wo=function(){this.Ho&&(this.Ho=!1,this.fire(mo.BUFFER_ENDED))},n.Zo=function(){this.Fo=!0},n.Jo=function(){this.Fo=!1},n.es=function(){this.zo=!0},n.rs=function(){this.zo=!1},n.us=function(){clearInterval(this.Vo),this.Vo=setInterval(this.runIntervalCheck.bind(this),this.Xo)},n.runIntervalCheck=function(){if(!this.Jr.video)return;const t=this.Jr.video.currentScanner;if(!t)return;const e=this.Jr.isLive(),n=t.currentTime,i=this.Xo/2/1e3;if(this.playInitiated&&(!this.Fo||e)&&(!this.Jr.paused||this.userPlayState)&&!this.Ho&&n<this.jo+i){if(e&&!this.zo)return;const t=this.Jr.buffered;for(let e=0;e<t.length;e++)if(n>=t.start(e)&&n+.2<=t.end(e))return void(this.jo=n);if(n+i>=this.Jr.duration)return;this.Ho=!0,this.fire(mo.BUFFER_STARTED)}(this.playInitiated&&this.Ho&&n>this.jo+i||e&&!this.zo&&this.Ho)&&(this.Ho=!1,this.fire(mo.BUFFER_ENDED)),this.jo=n},X(e,[{key:"userPlayState",get:function(){return this.Uo},set:function(t){this.Uo=t,t||this.Wo()}}])}(ri);function Ul(){let t,e;function n(){if(!e)return r.reject();t.preload="";let n=t.play();return void 0===n&&(n=new r((e=>{t.addEventListener("playing",e)}))),n}function i(){e&&(e.resolve(),e=null)}function o(t){e&&(e.reject(t),e=null)}return{set video(e){t=e},get video(){return t},get active(){return!!e},start:function(s=r.resolve.bind(r)){return e||(e=Ut()),t.currentSrc?document.createElement("video").load():t.load(),s().then(n).then(i).catch(o),e},cancel:function(){e&&(e.reject(new TelecineError(Go,"The play() request was interrupted by a call to pause()")),e=null)}}}let zl=function(t){function e(e,n,i={}){var r;return(r=t.call(this)||this).J=e,r.ls=n,r.tt=i,r.Y=null,r.gt=Lo(),r.cs={},r.ds=new is(e),r.tt.playRequest=new Ul,r.hs=[],r.fs=[],r.ps=null,r.ht=!1,r.vs=!1,r}q(e,t);var n=e.prototype;return n.supportsEffect=function(t){return!!t.supported&&t.supportedScanners.some((t=>this.currentScannerName===t.displayName))},n.getEffectByName=function(t){let e=null;return this.fs.forEach((n=>{t===this._s(n)&&(e=n)})),e},n.activateEffect=function(t,e){const n=new t(this,e);return n.activate(),this.fs.push(n),n},n.deactivateEffect=function(t){return this.fs.some(((e,n)=>e.constructor===t&&(e.deactivate(),this.fs.splice(n,1),!0)))},n.deactivateEffects=function(){this.fs.forEach((t=>this.deactivateEffect(t.constructor)))},n.play=function(){if(!this.Y||this.Y.files.length<1)throw new TelecineError("NoFiles","There are no files to play.");this.bs.playInitiated||(this.bs.playInitiated=!0),this.bs.userPlayState=!0;const t=this.ds.play();return this.cs.paused=!1,t},n.pause=function(){if(!this.Y||this.Y.files.length<1)throw new TelecineError("NoFiles","There are no files to play.");return this.bs.userPlayState=!1,this.ds.pause(),this.cs.paused=!0,this},n.isLive=function(){return this.ds.constructor.supportsLive},n.endLive=function(){this.ds.endLive()},n.getBitrateAtTime=function(t,e="video",n="average"){var i,r;return this.ds.constructor.supportsMse?"audio"===e&&this.ds.Qt[e].length<=1?0:(null==(i=(r=this.ds).getBitrateAtTime)?void 0:i.call(r,t,e,n))||0:0},n.getCurrentStream=function(t="video"){var e,n;return null==(e=(n=this.ds).getCurrentStream)?void 0:e.call(n,t)},n.showExternalDisplayPicker=function(t){this.ds.showExternalDisplayPicker(t)},n.requestPictureInPicture=function(){return this.ds.requestPictureInPicture()},n.exitPictureInPicture=function(){return this.ds.exitPictureInPicture()},n.addChapter=function(t,e){this.ds.addChapter(t,e)},n.removeChapter=function(t){this.ds.removeChapter(t)},n.addCuePoint=function(t,e){return this.ds.addCuePoint(t,e)},n.removeCuePoint=function(t){return this.ds.removeCuePoint(t)},n.removeAllCuePoints=function(){return this.ds.removeAllCuePoints()},n.enableAudioTrack=function(t){return this.ds.enableAudioTrack(t)},n.addVideoEventListeners=function(){return this.ds.addVideoEventListeners()},n.removeVideoEventListeners=function(){return this.ds.removeVideoEventListeners()},n.ys=function({textTrackSupport:t=!1}={}){if(t&&!jl.textTracks)return null;const e=this.Y.files.sort(((t,e)=>t.priority-e.priority)),n=this.ls;for(const t in e){let i=e[t];for(const t in n){let e=n[t];if(e.supported(this.tt.disableMMS)&&-1===this.hs.indexOf(this.ws(e))&&e.supportedVideoTypes.some((t=>i.mime===t)))return e}}return null},n.reactivate=function(){var t;null!=(t=this.ds)&&t.reactivate&&this.ds.reactivate(),this.play()},n.checkRebuffer=function(t,e){this.bs&&(this.bs.playInitiated=t,this.bs.userPlayState=e,this.bs.runIntervalCheck())},n.Ts=function(t,e){var n;if(this.ds.constructor===t&&this.ds.video===e)return;const i=!this.isLive()&&this.ds.ve;this.ht?(this.ps=this.ds,this.ps.ht=!0,this.vs||(this.ps.takeSnapshot(),this.vs=!0),this.ps.deactivate()):this.ds.deactivate();const r=new t(this.J,this.tt);Object.keys(wo).forEach((t=>{const e=wo[t];r.on(e,(t=>this.Cs(e,t,r)))})),this.ds=r,e.currentScanner=r,this.ds.video=e;const o=Object.keys(this.cs);for(let t=0;t<o.length;t++){const e=o[t];"paused"!==e?("currentTime"!==e||i)&&(this.ds[e]=this.cs[e]):!1===this.cs.paused&&this.ds.play()}var s,a;(null==(n=e.chapters)?void 0:n.length)>0&&(null==(s=(a=this.ds).addChapters)||s.call(a,e.chapters,e.duration)),this.fire(mo.SCANNER_CHANGE,this.currentScannerName),this.ds.on([fo.CAN_PLAY,fo.PLAYING],(()=>{this.ps&&(this.ps.ht=!1,this.ps.removeSnapshot(),this.ps=null,this.vs=!1)}))},n.Es=function(){if(null===this.Y)return;const t=this.ys({textTrackSupport:this.Y.textTracks.length>0});t?this.Ts(t,this.Y):this.Ot("FilesNotPlayable","None of the files could be played in this browser.")},n.ks=function(){this.ds.deactivate(),this.ds=new is(this.J)},n.Cs=function(t,e,n){if(n===this.ds){switch(t){case fo.ERROR:return void(e instanceof TelecineError&&this.fire(fo.ERROR,e));case mo.SCANNER_ERROR:this.Ot("ScannerError",`The current scanner can no longer be used because ${e.reason}`),this.hs.push(this.currentScannerName),this.Es([]);break;case mo.FILE_ERROR:this.Ot("FileError",`The current file can no longer be used because ${e.reason}`),this.ds.It();break;case mo.DOWNLOAD_ERROR:this.Ot("DownloadError",e),this.ds.It();break;case mo.EME_UNSUPPORTED:this.Ot(Uo,{text:null,code:"emeunsupported"});break;case mo.DRM_FAILURE:case mo.DRM_AUTH_FAILURE:this.Ot(Uo,{text:e.text,code:e.code});break;case mo.DRM_OUTPUT_RESTRICTED:this.Ot(Uo,{text:null,code:"outputrestricted"});break;case mo.DRM_AUTH_SUCCESS:this.fire(mo.DRM_AUTH_SUCCESS);break;case fo.TIME_UPDATE:this.cs.currentTime=this.ds.currentTime;break;case mo.MEDIA_URL_EXPIRED:this.Ot("MediaUrlExpired",e);break;case mo.MEDIA_URL_BAD_REQUEST:this.Ot(Xo,e);break;case yo.SPATIAL_UNSUPPORTED:this.getEffectByName("ThreeSixtyEffect").deactivate();break;case fo.ENDED:const t=!this.tt.dvrEnabled||this.atLiveEdge;this.cs.paused=t;break;case fo.WAITING:this.fire(fo.WAITING)}this.fs.forEach((e=>{"function"==typeof e[`on${t}`]&&e[`on${t}`]()})),this.fire(t,e)}},n.Ot=function(t,e){this.fire(fo.ERROR,new TelecineError(t,e))},n.ws=function(t){return t.constructor.displayName??t.prototype.constructor.displayName},n.us=function(){this.bs&&this.bs.destroy(),this.bs=new Fl(this,this.tt),this.bs.on(mo.BUFFER_STARTED,(()=>{this.fire(mo.BUFFER_STARTED)})),this.bs.on(mo.BUFFER_ENDED,(()=>{this.fire(mo.BUFFER_ENDED)}))},n._s=function(t){return t instanceof Al?t.constructor.displayName:t.prototype.constructor.displayName},n.Ss=function(){return this.ds.constructor.supportsMse&&this.ds.constructor.supportsLive},n.updateBufferTarget=function(){this.ds&&this.ds.getBufferTarget&&(this.bufferTarget=this.ds.getBufferTarget())},n.setCaptionsShouldDisplay=function(t){this.Ss()&&this.ds.setCaptionsShouldDisplay(t)},n.setCaptionsShouldLoad=function(t){this.Ss()&&this.ds.setCaptionsShouldLoad(t)},X(e,[{key:"element",get:function(){return this.J}},{key:"videoElement",get:function(){return this.ds.videoElement}},{key:"manifest",get:function(){return this.ds.manifest||{video:[]}}},{key:"supportsVideoElementAudioTracks",get:function(){return this.ds.constructor.supportsVideoElementAudioTracks}},{key:"activeEffects",get:function(){return this.fs}},{key:"latency",get:function(){return this.ds.latency}},{key:"downloadSpeed",get:function(){return this.ds.downloadSpeed||0}},{key:"pictureInPictureActive",get:function(){return this.ds.pictureInPictureActive}},{key:"pictureInPictureEnabled",get:function(){return this.ds.pictureInPictureEnabled}},{key:"isLowerProfileAvailable",get:function(){return this.ds.isLowerProfileAvailable}},{key:"buffered",get:function(){return this.ds.buffered}},{key:"bufferTarget",get:function(){return this.ds.bufferTarget},set:function(t){this.cs.bufferTarget=t,this.ds.bufferTarget=t}},{key:"presentationDelay",get:function(){return this.ds.presentationDelay},set:function(t){this.cs.presentationDelay=t,this.ds.presentationDelay=t}},{key:"lowLatencyMode",get:function(){return this.ds.lowLatencyMode},set:function(t){this.cs.lowLatencyMode=t,this.ds.lowLatencyMode=t}},{key:"manifestLoadDurations",get:function(){return this.ds.manifestLoadDurations?this.ds.manifestLoadDurations:[]}},{key:"successfulSegments",get:function(){return this.ds.successfulSegments?this.ds.successfulSegments:[]}},{key:"failedSegments",get:function(){return this.ds.failedSegments?this.ds.failedSegments:[]}},{key:"cuePoints",get:function(){return this.ds.cuePoints}},{key:"currentChapterID",get:function(){if(this.ds&&this.ds.chaptersTrack&&this.ds.chaptersTrack.activeCues.length){const{activeCues:t}=this.ds.chaptersTrack;return t[t.length-1].id}return null}},{key:"chapters",get:function(){return this.ds.chaptersTrack?this.ds.chaptersTrack.cues:[]}},{key:"chaptersTrack",get:function(){return this.ds.chaptersTrack}},{key:"currentFile",get:function(){return this.ds.currentFile},set:function(t){if("string"==typeof t&&(t=this.xt.filter((e=>e.id===t))[0]),!t)throw new TelecineError("FileNotValid","The file is not valid.");this.ds.currentFile=t}},{key:"currentScannerName",get:function(){return this.ws(this.ds)}},{key:"currentScanner",get:function(){return this.ds}},{key:"currentTime",get:function(){return this.ds.currentTime},set:function(t){this.cs.currentTime=t,this.ds.currentTime=t}},{key:"liveEdgeTime",get:function(){const t=this.ds.liveEdgeTime;return null==t?this.As:(this.As=t,t)}},{key:"atLiveEdge",get:function(){return this.ds.atLiveEdge??this.isLive()}},{key:"liveTailTime",get:function(){const t=this.ds.liveTailTime;return null==t?this.Ns:(this.Ns=t,t)}},{key:"atLiveTail",get:function(){return this.ds.atLiveTail??!1}},{key:"duration",get:function(){return this.ds.duration}},{key:"ended",get:function(){return this.ds.ended}},{key:"externalDisplayAvailable",get:function(){return this.ds.externalDisplayAvailable}},{key:"externalDisplayActive",get:function(){return this.ds.externalDisplayActive}},{key:"loop",get:function(){return this.ds.loop},set:function(t){this.cs.loop=t,this.ds.loop=t}},{key:"muted",get:function(){return this.ds.muted},set:function(t){this.cs.muted=!!t,this.ds.muted=!!t}},{key:"playsinline",get:function(){return this.ds.playsinline},set:function(t){this.cs.playsinline=!!t,this.ds.playsinline=!!t}},{key:"paused",get:function(){return this.ds.paused}},{key:"played",get:function(){return this.ds.played}},{key:"seekable",get:function(){return this.ds.seekable}},{key:"seeking",get:function(){return this.ds.seeking}},{key:"defaultPlaybackRate",get:function(){return this.ds.defaultPlaybackRate},set:function(t){this.cs.defaultPlaybackRate=t,this.ds.defaultPlaybackRate=t}},{key:"playbackRate",get:function(){return this.ds.playbackRate},set:function(t){this.cs.playbackRate=t,this.ds.playbackRate=t}},{key:"preload",get:function(){return this.ds.preload},set:function(t){this.cs.preload=t,this.ds.preload=t}},{key:"autoPictureInPicture",get:function(){return this.ds.autoPictureInPicture},set:function(t){this.cs.autoPictureInPicture=!!t,this.ds.autoPictureInPicture=!!t}},{key:"disablePictureInPicture",get:function(){return this.ds.disablePictureInPicture},set:function(t){this.cs.disablePictureInPicture=!!t,this.ds.disablePictureInPicture=!!t}},{key:"video",get:function(){return this.Y},set:function(t){this.Y&&this.Y.deactivate(),this.hs=[],this.us(),null===t?(this.Y=null,this.ks()):(this.Y=new TelecineVideo(t),this.Es())}},{key:"videoWidth",get:function(){return this.ds.videoWidth}},{key:"videoHeight",get:function(){return this.ds.videoHeight}},{key:"volume",get:function(){return this.ds.volume},set:function(t){if(t<0||t>1)throw new TelecineError("IndexSizeError",`Failed to set the 'volume' property: The volume provided (${t}) is outside of the range [0, 1].`);this.cs.volume=t,this.ds.volume=t}},{key:"videoElementAudioTracks",get:function(){return this.ds.audioTracks}},{key:"brainDebug",get:function(){return this.ds.brainDebug}}])}(ri),Xl=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).Ms=!1,i.Y=i.Jr.ds.Y,i}q(e,t);var n=e.prototype;return n.activate=function(){this.Ms=!0,this.Os=document.createElement("canvas"),this.Os.className="vp-canvas-effect",this.Os.style.cssText="\n            position: absolute;\n            top:0;\n            left:0;\n            bottom:0;\n            right:0;\n        ",this.Is=this.Os.getContext("2d",{alpha:!1}),this.J.appendChild(this.Os),this.Ls()},n.deactivate=function(){this.Os&&this.J.removeChild(this.Os),this.Rs(),this.Ms=!1},n.Ls=function(){this.Ps()},n.Ps=function(){this.Ds=window.requestAnimationFrame(this.Bs.bind(this))},n.Bs=function(){const t=this.Y,e=this.Os;e.width=t.clientWidth,e.height=t.clientHeight;const n=Math.floor(this.$s()),i=Math.floor(this.Vs()),r=Math.floor((t.clientWidth-n)/2),o=Math.floor((t.clientHeight-i)/2);this.Is.fillStyle="#000",this.Is.fillRect(0,0,e.width,e.height),this.Is.drawImage(t,r,o,n,i),this.Ps()},n.Hs=function(){return this.Y.videoHeight/this.Y.videoWidth},n.$s=function(){return Math.min(this.Y.clientHeight/this.Hs(),this.Y.clientWidth)},n.Vs=function(){return Math.min(this.Y.clientWidth*this.Hs(),this.Y.clientHeight)},n.Rs=function(){this.Ds&&(window.cancelAnimationFrame(this.Ds),this.Ds=null)},X(e,null,[{key:"displayName",get:function(){return"CanvasEffect"}},{key:"supported",get:function(){return!0}},{key:"supportedScanners",get:function(){return[is,Qu]}}])}(Al),Gl=function(){return X((function(){}),null,[{key:"Equirect",get:function(){return"equirectangular"}}])}(),Wl=function(){return X((function(){}),null,[{key:"Mono",get:function(){return"mono"}},{key:"TopBottom",get:function(){return"top-bottom"}},{key:"LeftRight",get:function(){return"left-right"}}])}(),ql=function(){function t(t,e,n){this.isStereo=e!==Wl.Mono,this.Fs=null,this.Us=null,t===Gl.Equirect?this.createEquirectProjection(n,e):this.createEquirectProjection(n,Wl.Mono)}var e=t.prototype;return e.createEquirectProjection=function(t,e){e!==Wl.Mono?(this.Fs=this.zs(t),this.Us=this.zs(t),this.Fs.layers.set(1),this.Us.layers.set(2),e===Wl.TopBottom&&(this.Xs(this.Fs.geometry,.5,.5),this.Xs(this.Us.geometry,.5,0)),e===Wl.LeftRight&&(this.Xs(this.Fs.geometry,.5,0,0),this.Xs(this.Us.geometry,.5,.5,0))):this.Fs=this.zs(t)},e.zs=function(e,n,i,r){const o=new THREE.SphereBufferGeometry(n||t.SPHERE_RADIUS,i||t.TESSELATION_WIDTH,r||t.TESSELATION_HEIGHT);o.scale(-1,1,1);const s=new THREE.MeshBasicMaterial({map:e});return new THREE.Mesh(o,s)},e.Xs=function(t,e,n,i=1){for(let r=0;r<t.attributes.uv.array.length;r+=2)t.attributes.uv.array[r+i]*=e,t.attributes.uv.array[r+i]+=n},X(t,[{key:"left",get:function(){return this.Fs}},{key:"right",get:function(){return this.Us}}],[{key:"TESSELATION_WIDTH",get:function(){return 120}},{key:"TESSELATION_HEIGHT",get:function(){return 80}},{key:"SPHERE_RADIUS",get:function(){return 500}}])}(),Yl=function(){function t(t){this.Gs=t}var e=t.prototype;return e.hasVRHeadset=function(){return Bt.webvr?navigator.getVRDisplays().then((t=>t.length>0?(this.Gs.vr.setDevice(t[0]),t[0]):null)):null},e.enter=function(){return this.Gs.vr.getDevice()&&this.Gs.vr.getDevice().requestPresent([{source:this.Gs.domElement}])},e.exit=function(){return this.Gs.vr.getDevice()&&this.Gs.vr.getDevice().exitPresent()},X(t,[{key:"supported",get:function(){return Bt.webvr}},{key:"device",get:function(){return this.Gs&&this.Gs.vr.getDevice()?this.Gs.vr.getDevice():null}},{key:"isPresenting",get:function(){return!(!this.Gs||!this.Gs.vr.getDevice())&&this.Gs.vr.getDevice().isPresenting}}])}(),Kl=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).Ms=!1,i.Ws=null,i.qs=null,i.Gs=null,i.isUserInteracting=!1,i.Ys=0,i.Ks=0,i._coordinates={lat:0,long:0},i.Zs={lat:0,long:0},i.Qs={lat:0,long:0},i.Js=i.cameraProps,i.ta=0,i.ea=0,i.na=0,i.Y=i.Jr.ds.Y,i.ia=null,i.ra={x:0,y:0},i.oa={lat:0,long:0},i.sa={videoFps:i.tt.fps,motionRenderSpeed:60},i.aa=1e3/i.sa.videoFps,i.la=[],i.ca=!1,i.da=!1,i.ha=!1,i.fa={up:!1,down:!1,left:!1,right:!1},i}q(e,t),e.frustumSurfaceArea=function(t,e,n){const i=2*ql.SPHERE_RADIUS*2*Math.sin(Math.PI/180*(t/2));return i*(i*e/n)/(4*Math.PI*Math.pow(ql.SPHERE_RADIUS,2))};var n=e.prototype;return n.activate=function(){return new r((t=>{if(window.THREE)return void t();const e=document.createElement("script");e.src=this.tt.threeUrl,document.body.appendChild(e),e.onload=()=>{t()}})).then((()=>this.Ze()))},n.Ze=function(){this.Ms=!0,this.Ws=new THREE.PerspectiveCamera(this.tt.fieldOfView,this.Y.clientWidth/this.Y.clientHeight,1,2*ql.SPHERE_RADIUS),this.Ws.target=new THREE.Vector3(0,0,0),this.Ws.layers.enable(1),this.pa(this.tt.directorTimeline),this.qs=new THREE.Scene,this.va=new THREE.VideoTexture(this.Y),this.va.generateMipmaps=!1,this.va.minFilter=THREE.NearestFilter,this.va.maxFilter=THREE.NearestFilter,this.va.format=THREE.RGBFormat,this._a=new ql(this.tt.projection,this.tt.stereoMode,this.va),this._a.isStereo&&this.qs.add(this._a.right),this.qs.add(this._a.left),this.Gs=new THREE.WebGLRenderer,this.Gs.vr.enabled=!0,this.Gs.setPixelRatio(window.devicePixelRatio),this.ma=document.createElement("div"),this.Gs.domElement.style.margin="0 auto",this.ma.appendChild(this.Gs.domElement),this.J.appendChild(this.ma),this.ba(),this.Jr.ds.Y.setAttribute("crossorigin","anonymous"),this.Ls(),this.Jr.ds.paused||this.ya(),this.ga=new Yl(this.Gs),this.ga.supported&&this.ga.hasVRHeadset().then((t=>{setTimeout((()=>{this.Jr.fire(yo.WEBVR_HARDWARE_AVAILABLE,this.ga.device)}),100)})).catch((t=>{}))},n.toggleVR=function(){if(this.ga.isPresenting)this.ga.exit().then((()=>{this.adjustRenderSize()})).catch((t=>{}));else{if(this.Jr.ds.paused)return;this.ga.enter().then((()=>{this.adjustRenderSize()})).catch((t=>{}))}},n.onplay=function(){this.Ms&&(this.ya(),this.adjustRenderSize())},n.deactivate=function(){this.ma&&this.J.removeChild(this.ma),this.Rs(),this.Ms=!1},n.snapToCenter=function(){this.la.forEach((t=>clearTimeout(t)));const t=((this._coordinates.long>=180?360:0)-this._coordinates.long)/11,e=(0-this._coordinates.lat)/11;this.na=0;for(let n=0;n<50;n++)this.la.push(setTimeout((()=>{0===n&&(this.ca=!0,this.tt.isMobile||(this.aa=1e3/this.sa.motionRenderSpeed)),49===n&&(this.ca=!1,this.tt.isMobile||(this.aa=1e3/this.sa.videoFps)),this.wa(this._coordinates.lat+e/Math.pow(1.1,n),this._coordinates.long+t/Math.pow(1.1,n)),this.oa.lat=THREE.Math.radToDeg(this.ra.x)+this._coordinates.lat+e/Math.pow(1.1,n),this.oa.long=THREE.Math.radToDeg(this.ra.y)+this._coordinates.long+e/Math.pow(1.1,n)}),n*this.aa))},n.isStereo=function(){return!!this._a&&this._a.isStereo},n.pa=function(t){t&&t[0]&&void 0!==t[0].p&&"undefined"!==t[0].y&&this.wa(t[0].p,t[0].y)},n.wa=function(t,e){this.Zs.long=this._coordinates.long,this.Zs.lat=this._coordinates.lat,t%=360,this._coordinates.lat=Math.max(-85,Math.min(85,t)),e=(e%=360)>=0?e:360+e,this._coordinates.long=e},n.makeContact=function(t){this.isUserInteracting=!0,this.la.forEach((t=>clearTimeout(t))),this.ca=!1,this.Ta={x:t.x,y:t.y},this.Qs.long=this._coordinates.long,this.Qs.lat=this._coordinates.lat,this.Ca={long:this._coordinates.long,lat:this._coordinates.lat},this.tt.isMobile||(this.aa=1e3/this.sa.motionRenderSpeed)},n.move=function(t){this.oa.lat=THREE.Math.radToDeg(this.ra.x)+this.Zs.lat,this.oa.long=THREE.Math.radToDeg(this.ra.y)+this.Zs.long;const e=this.Ca.lat-.2*(this.Ta.y-t.y),n=.2*(this.Ta.x-t.x)+this.Ca.long;this.wa(e,n)},n.moveWheel=function(t){this.oa.lat=THREE.Math.radToDeg(this.ra.x)+this.Zs.lat,this.oa.long=THREE.Math.radToDeg(this.ra.y)+this.Zs.long;const e=this._coordinates.lat-.1*t.y,n=this._coordinates.long+.1*t.x;this.wa(e,n)},n.moveDevice=function(t,e,n,i){this.ha=!0;const r=new THREE.Quaternion;let o=window.orientation;null===o&&(o=this.Y.clientWidth>this.Y.clientHeight?90:0),t=t?THREE.Math.degToRad(t):0,e=e?THREE.Math.degToRad(e):0,n=n?THREE.Math.degToRad(n):0;const s=o?THREE.Math.degToRad(o):0,a=new THREE.Vector3(0,0,1),u=new THREE.Euler,l=new THREE.Quaternion,c=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));u.set(e,t,-n,"YXZ"),r.setFromEuler(u),r.multiply(c),r.multiply(l.setFromAxisAngle(a,-s)),this.ra=(new THREE.Euler).setFromQuaternion(r,"YXZ"),this.na=this.ra.z,this.isUserInteracting||this.ca||this.wa(THREE.Math.radToDeg(this.ra.x)-this.oa.lat,-THREE.Math.radToDeg(this.ra.y)+this.oa.long),this.da||(this.snapToCenter(),this.Jr.fire(yo.MOTION_START),this.da=!0)},n.releaseContact=function(t){if(this.oa.lat=THREE.Math.radToDeg(this.ra.x)-this._coordinates.lat,this.oa.long=THREE.Math.radToDeg(this.ra.y)+this._coordinates.long,this.isUserInteracting=!1,this.Ca&&!t){const t=Math.hypot(this._coordinates.long-this.Ca.long,this._coordinates.lat-this.Ca.lat);this.Ea(t)}},n.abandonMotion=function(){this.isUserInteracting=!1,this.Ca=null},n.keyPress=function(t){this.tt.keyboardDisabled||(this.ka()||(this.isUserInteracting=!0,this.la&&this.la.forEach((t=>clearTimeout(t)))),this.fa[t]||(this.fa[t]=!0))},n.keyUp=function(t){this.fa[t]=!1,this.ka()||(this.isUserInteracting=!1,this.Ea(1/0))},n.Sa=function(){Object.keys(this.fa).forEach((t=>{if(this.fa[t])switch(t){case"up":this.wa(this._coordinates.lat+2,this._coordinates.long);break;case"down":this.wa(this._coordinates.lat-2,this._coordinates.long);break;case"left":this.wa(this._coordinates.lat,this._coordinates.long-2);break;case"right":this.wa(this._coordinates.lat,this._coordinates.long+2)}}))},n.ka=function(){return Object.keys(this.fa).map((t=>this.fa[t])).some((t=>t))},n.Ea=function(t){if(t>=20){const e={long:this._coordinates.long-this.Zs.long,lat:this._coordinates.lat-this.Zs.lat};t===1/0&&(e.long/=2,e.lat/=2);for(let t=1;t<50;t++)this.la.push(setTimeout((()=>{1===t&&(this.ca=!0),49===t&&(this.ca=!1,this.aa=1e3/this.sa.videoFps);const n=2/Math.pow(t,1.5);this.oa.lat=THREE.Math.radToDeg(this.ra.x)+this._coordinates.lat+e.lat,this.oa.long=THREE.Math.radToDeg(this.ra.y)+this._coordinates.long+e.long,this.wa(this._coordinates.lat+e.lat*n,this._coordinates.long+e.long*n)}),t*this.aa))}},n.onseeked=function(){this.Ms&&this.Aa()},n.onresize=function(){this.adjustRenderSize(),this.isUserInteracting=!1},n.Aa=function(){if(!this.isVRPresenting){this.ta=THREE.Math.degToRad(90+this._coordinates.lat),this.ea=THREE.Math.degToRad(this._coordinates.long),this.Ws.position.set(Math.sin(this.ta)*Math.cos(this.ea),Math.cos(this.ta),Math.sin(this.ta)*Math.sin(this.ea)),this.Ws.lookAt(this.Ws.target),this.Ws.rotation.z+=this.na;const t=this.cameraProps;this.Jr.fire(yo.CAMERA_UPDATE,t),this.Js.yaw===t.yaw&&this.Js.pitch===t.pitch&&this.Js.roll===t.roll&&this.Js.fov===t.fov||(this.Js=t,this.Jr.fire(yo.CAMERA_CHANGE,t))}this.Gs.render(this.qs,this.Ws)},n.adjustRenderSize=function(){if(this.isVRPresenting)this.Ws.aspect=this.Y.clientWidth/this.Y.clientHeight,this.Ws.updateProjectionMatrix(),this.Gs.setSize(this.Y.clientWidth,this.Y.clientHeight);else{this.Y.clientWidth>this.Y.clientHeight?this.Ws.aspect=Math.max(1,Math.min(2,this.Y.clientWidth/this.Y.clientHeight)):this.Ws.aspect=Math.max(1/3,Math.min(3,this.Y.clientWidth/this.Y.clientHeight)),this.Ws.updateProjectionMatrix();const t=xo(this.Y.clientWidth,this.Y.clientHeight,this.Ws.aspect,1);this.Gs.setSize(t.width,t.height),this.ma.style.paddingTop=`${t.top}px`}},n.Ls=function(){this.Gs.setAnimationLoop((()=>{this.ka()&&this.Sa(),this.Aa()}))},n.Rs=function(){this.Gs.setAnimationLoop(null)},n.ya=function(){this.Na({backgroundColor:"#000",display:"block"})},n.ba=function(){this.Na({backgroundColor:"#000",display:"none"})},n.Na=function({backgroundColor:t,display:e}={}){this.ma.style.cssText=`position:absolute;left:0;top:0;margin-left:auto;margin-right:auto;padding:0;background:${t};width:100%;height:100%;text-align:center;display:${e}`},X(e,[{key:"isUserInteracting",get:function(){return this.Ma},set:function(t){t!==this.Ma&&(this.Ma=t,t?this.tt.isMobile||this.Jr.fire(yo.MOTION_START):this.tt.isMobile||this.Jr.fire(yo.MOTION_END))}},{key:"currentCoordinates",get:function(){return this._coordinates},set:function([t,e]){if(t>90||t<-90)throw new RangeError("Latitude should be a float between -90 and 90.");if(e<0||e>360)throw new RangeError("Longitude should be a float between 0 and 360.");this.wa(t,e),this.Aa()}},{key:"cameraProps",get:function(){return{yaw:this._coordinates.long,pitch:this._coordinates.lat,roll:this.roll,fov:this.fieldOfView}},set:function(t){t=Q(Q({},this.cameraProps),t),this.fieldOfView=t.fov,this.roll=t.roll,this.currentCoordinates=[t.pitch,t.yaw]}},{key:"roll",get:function(){return 180*this.na/Math.PI},set:function(t){if(t<-180||t>180)throw new RangeError("Roll should be a float between -180 and 180.");this.na=THREE.Math.degToRad(t)}},{key:"isVRPresenting",get:function(){return this.ga&&this.ga.isPresenting}},{key:"fieldOfView",get:function(){return this.Ws?this.Ws.fov:this.tt.fieldOfView},set:function(t){this.Ws.fov=t,this.Ws.updateProjectionMatrix(),this.Gs.render(this.qs,this.Ws)}},{key:"hasVRHeadset",get:function(){return this.ga&&!!this.ga.device}}],[{key:"displayName",get:function(){return"ThreeSixtyEffect"}},{key:"supported",get:function(){try{const t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){return this.Jr.ds.fire(yo.SPATIAL_UNSUPPORTED),!1}}},{key:"supportedScanners",get:function(){return[is,Qu]}}])}(Al),Zl=function(t){function e(e,n={}){var i;return(i=t.call(this,e,n)||this).connected=!1,i.Oa=null,i.Ia=null,i.La=null,i.Ra=null,i.xa=null,i}q(e,t);var n=e.prototype;return n.activate=function(){return this.Oa=new AudioContext,new r(((t,e)=>{if("undefined"!=typeof ambisonics)return void t();const n=document.createElement("script");n.src=this.tt.ambisonicsUrl,document.body.appendChild(n),n.onload=()=>t(),n.onerror=()=>e()})).then((()=>this.toggleAmbisonics())).catch((()=>{this.Jr.ds.fire(yo.AMBISONIC_UNSUPPORTED)}))},n.deactivate=function(){this.Pa(!0)},n.toggleAmbisonics=function(){var t;((null==(t=this.Jr.getCurrentStream("audio"))?void 0:t.ambisonic_order)??0)<1?this.Pa():this.Da()},n.Da=function(){var t;if(!this.Oa)return;const e=(null==(t=this.Jr.getCurrentStream("audio"))?void 0:t.ambisonic_order)??0;if(this.connected||e<1)return;const n=this.Jr.ds.Y;this.Ia=this.Oa.createMediaElementSource(n),this.La=new ambisonics.sceneMirror(this.Oa,e),this.Ra=new ambisonics.sceneRotator(this.Oa,e),this.xa=new ambisonics.binDecoder(this.Oa,e),this.Ia.connect(this.La.in),this.La.out.connect(this.Ra.in),this.Ra.out.connect(this.xa.in),this.xa.out.connect(this.Oa.destination),this.La.mirror(1),this.connected=!0},n.Pa=function(t=!1){this.Ia&&this.Ia.disconnect(),t&&this.Oa&&(this.Oa.close(),this.Oa=null),this.Ia=null,this.La=null,this.Ra=null,this.xa=null,this.connected=!1},n.updateRotation=function(t,e,n){this.Ra&&(this.Ra.yaw!==t||this.Ra.pitch!==e||this.Ra.roll!==n)&&(this.Ra.yaw=t,this.Ra.pitch=e,this.Ra.roll=n,this.Ra.updateRotMtx())},X(e,null,[{key:"displayName",get:function(){return"AmbisonicEffect"}},{key:"supported",get:function(){return void 0!==window.AudioContext}},{key:"supportedScanners",get:function(){return[is,Qu]}}])}(Al);function Ql(){return ht("module/hls-js.js")}const Jl={"application/vnd.apple.mpegurl":"hls","application/vnd.vimeo.dash+json":"dash","video/vnd.mpeg.dash.mpd":"dash","video/mp4":"progressive","video/webm":"progressive","video/x-flv":"progressive","application/x-mpegURL":"hlslive"},tc="pending",ec="active",nc="started",ic="ended",rc="started",oc="done",sc="error";var ac=/\s/,uc=/^\s+/;var lc=/^[-+]0x[0-9a-f]+$/i,cc=/^0b[01]+$/i,dc=/^0o[0-7]+$/i,hc=parseInt;function fc(t){if("number"==typeof t)return t;if(qe(t))return NaN;if(Ze(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ze(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&ac.test(t.charAt(e)););return e}(t)+1).replace(uc,""):t}(t);var n=cc.test(t);return n||dc.test(t)?hc(t.slice(2),n?2:8):lc.test(t)?NaN:+t}var pc=1/0;var vc=$e.isFinite,_c=Math.min,mc=function(){var t=Math.round;return function(e,n){if(e=fc(e),(n=null==n?0:_c(function(t){var e=function(t){return t?(t=fc(t))===pc||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}(t),n=e%1;return e==e?n?e-n:e:0}(n),292))&&vc(e)){var i=(Mn(e)+"e").split("e");return+((i=(Mn(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}();function bc(t){return!isNaN(t)}function yc(t){return mc(t,3)}function gc(t){return"webkitDisplayingFullscreen"in t&&t.webkitDisplayingFullscreen}let wc=0;function Tc(t="b"){return`${t}${++wc}`}Tc(),Tc();const Cc=Tc(),Ec=Tc(),kc=Tc(),Sc=Tc(),Ac=Tc(),Nc=Tc(),Mc=x("CONFIG_CHANGED"),Oc=x("TELECINE_READY"),Ic=x("TELECINE_VIDEO_INIT"),Lc=x("PLAY_INITIATED"),Rc=x("QUALITY_CHANGED"),xc=x("CUE_CHANGED"),Pc=x("CAPTIONS_CHANGED"),Dc=x("SPATIAL_PLAYBACK_TOGGLED"),Bc=x("PICTURE_IN_PICTURE_AVAILABLE_SAFARI"),$c=x("HLS_QUALITY_CHANGED"),Vc=x("REQUEST_COMPLETE_LIVE_SUBTITLES"),jc=x("COMPLETE_LIVE_SUBTITLES_LOADED"),Hc=x("COMPLETE_LIVE_SUBTITLES_ERROR");var Fc=Object.freeze({__proto__:null,CONFIG_CHANGED:Mc,TELECINE_READY:Oc,TELECINE_VIDEO_INIT:Ic,PLAY_INITIATED:Lc,QUALITY_CHANGED:Rc,CUE_CHANGED:xc,CAPTIONS_CHANGED:Pc,SPATIAL_PLAYBACK_TOGGLED:Dc,PICTURE_IN_PICTURE_AVAILABLE_SAFARI:Bc,HLS_QUALITY_CHANGED:$c,REQUEST_COMPLETE_LIVE_SUBTITLES:Vc,COMPLETE_LIVE_SUBTITLES_LOADED:jc,COMPLETE_LIVE_SUBTITLES_ERROR:Hc});const Uc=x("liveeventpending"),zc=x("liveeventactive"),Xc=x("liveeventstarting"),Gc=x("liveeventstarted"),Wc=x("liveeventended"),qc=x("livearchivestarted"),Yc=x("livearchivedone"),Kc=x("livearchiveerror"),Zc=x("livesettingsupdated"),Qc=x("lowlatencyfallback"),Jc=x("livestatssuccess"),td=x("livestatsfailure");var ed=Object.freeze({__proto__:null,EVENT_PENDING:Uc,EVENT_ACTIVE:zc,EVENT_STARTING:Xc,EVENT_STARTED:Gc,EVENT_ENDED:Wc,ARCHIVE_STARTED:qc,ARCHIVE_DONE:Yc,ARCHIVE_ERROR:Kc,SETTINGS_UPDATED:Zc,LOW_LATENCY_FALLBACK:Qc,LIVE_STATS_SUCCESS:Jc,LIVE_STATS_FAILURE:td});Q(Q(Q(Q(Q(Q(Q(Q({},fo),mo),bo),ed),yo),vo),go),Fc);const nd=Q(Q({},bo),ed);function id(t){var e;return(null==t||null==(e=t.archive)?void 0:e.status)===oc}function rd(t){return(null==t?void 0:t.status)===tc}function od(t){return(null==t?void 0:t.status)===nc}function sd(t){return(null==t?void 0:t.status)===ic}function ad(t,e){var n;const i=null==(n=t.request.files.hls)?void 0:n.default_cdn,{signature:r,timestamp:o,expires:s}=t.request;return`https://${t.player_url}/live/${t.video.id}${e}?signature=${r}&time=${o}&expires=${s}&cdn=${i}`}var ud=Object.prototype.hasOwnProperty;function ld(t){if(null==t)return!0;if(Vi(t)&&(Pe(t)||"string"==typeof t||"function"==typeof t.splice||yi(t)||Oi(t)||vi(t)))return!t.length;var e=gr(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(xi(t))return!$i(t).length;for(var n in t)if(ud.call(t,n))return!1;return!0}function cd(t){const e=this;let n={};const i={get attributes(){return Object.assign({},e)},get previousAttributes(){return n},clear(){r();var t=e.attributes;for(var n in t)delete e[n]},set(t){for(var n in r(),t=jr(t))e[n]=t[n]},clone:()=>new cd(e.attributes),toJSON:()=>jr(e.attributes)};function r(){ld(e.attributes)||(n=jr(e.attributes))}return i.set(t),st(e,i)}function dd(t,e){const n=new cd(lo(t,e));let i=!1;return at(n,{reset:function(t){return n.clear(),function(t){i=!0,n.set(t),lo(n,e)}(t),n},isNewVideo:function(){const t=n.previousAttributes;return!i||t.video.id!==n.video.id||t.video.version.current!==n.video.version.current||!!t.video.live_event&&!id(t.video.live_event)&&(!n.video.live_event||id(n.video.live_event))}})}function hd(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=fc(n))==n?n:0),void 0!==e&&(e=(e=fc(e))==e?e:0),function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}(fc(t),e,n)}function fd(t=[],e=null,n=null){if(!e&&!n)return t;if(!t.length)return t;if(e===n&&-1!==t.indexOf(e))return[e];const i=parseFloat(e),r=parseFloat(n);if(i&&r&&r<i)return t;const o=t.filter((t=>{const e=parseFloat(t);return!(i&&e<i||r&&e>r)}));return o.length?o:t}function pd(t=[],e=null){const n=fd(t,e,e);return 1===n.length?n[0]:null}function vd(t){return t.quality||t.metadata.quality}function _d(t,e,n=!1){return n?md(t,e):function(t,e){t.embed.settings.audio_tracks||(e=null);const n=t.request.files,i=Td(n),r=Nd(t),o=t.request.cookie.quality||r||function(t){const e=Td(t.request.files);let n=e.some(Sd);Bt.mobileAndroid&&(n=!1);let i="720p";if(n){const t=e.map(vd);-1!==t.indexOf("1080p")&&-1===t.indexOf("720p")&&(i="1080p")}return t.request.cookie.hd||t.video.default_to_hd?i:"360p"}(t);let s=function({files:t=[],preference:e="360p",priorityOffset:n=0}){(t=a(t)).sort(Md());const i=t.map(vd);if(e){-1===i.indexOf(e)&&(i.push(e),i.sort(((t,e)=>Ad(e)-Ad(t))));const t=i.indexOf(e),n=i.splice(0,t);n.reverse(),i.push.apply(i,et(n))}return t.map((t=>({id:t.id,src:t.url,mime:t.mime,priority:i.indexOf(t.quality)+1+n,metadata:{profile:t.profile,cdn:t.cdn,origin:t.origin,quality:t.quality,fps:t.fps}})))}({files:i,preference:o,priorityOffset:3});return n.hls&&(s=s.concat(gd(t,!1,e)),t.request.drm&&Bt.browser.webKit)||n.dash&&(s=s.concat(wd(t,!1,e))),s}(t,e)}function md(t,e){const n=t.request.files;let i=[];const r=t.request.drm&&Bt.browser.webKit;return(n.hls&&(Bt.iPhone||Bt.iPad)||r)&&(i=i.concat(gd(t,!0,e))),n.dash&&!r&&(i=i.concat(wd(t,!0,e))),i}function bd(t,e=!1,n=!1){let i=t.url;if("avc_url"in t&&(i=t.avc_url),e)return i;const r=Bt.dolbyVision,o=Bt.hdr&&Bt.hevc,s=Bt.hevc;return n||(r&&"hevc_dvh1_url"in t?i=t.hevc_dvh1_url:o&&"hevc_hdr_url"in t?i=t.hevc_hdr_url:s&&"hevc_sdr_url"in t&&(i=t.hevc_sdr_url)),Bt.av1&&"av1_url"in t&&(i=t.av1_url),i}function yd(t){return t.fallback_url}function gd(t,e=!1,n=null){var i;const r=t.request.files,o=r.hls.default_cdn,s=t.request.drm,a=r.hls.cdns[o],u=(null==a||null==(i=a.alternatives)?void 0:i[n])||a,l=e?yd(u):bd(u,s);return{id:`hls-${o}-${t.video.id}`,src:l,mime:co.hls,priority:3,metadata:{cdn:o,origin:r.hls.cdns[o].origin,quality:"sd"}}}function wd(t,e=!1,n=null){const i=t.request.files;return ld(i.dash)?[]:Object.keys(i.dash.cdns).map((r=>{var o;const s=i.dash.cdns[r],a=(null==s||null==(o=s.alternatives)?void 0:o[n])||s,u=(Bt.browser.chrome||Bt.browser.firefox)&&t.request.drm,l=e?yd(a):bd(a,!1,u);return{id:`dash-${r}-${t.video.id}`,src:l,mime:t.request.drm?co.dashMpd:co.dash,priority:r===i.dash.default_cdn?1:2,metadata:{cdn:r,origin:i.dash.cdns[r].origin,quality:"sd"}}}))}function Td(t){if(ld(t.progressive))return[];let e=t.progressive;return"progressive_avc"in t&&(e=t.progressive_avc),e.filter(Ed(e))}function Cd(t){if("number"==typeof t)return t;const e=t.split("-");return 5===e.length?e[0]:parseInt(e[0],10)}function Ed(t){const e=t.filter(kd).map(vd);return t=>-1===e.indexOf(vd(t))||kd(t)}function kd(t){let e=t.fps;return"metadata"in t&&(e=t.metadata.fps),e>30}function Sd(t){return Ad(t)>=720}function Ad(t){return"string"!=typeof t&&(t=vd(t)),parseInt(t,10)}function Nd(t){const e=Td(t.request.files).map((t=>t.quality));return t.embed.on_site?null:pd(e,t.embed.quality)}function Md(t="desc"){return(e,n)=>{const i=Ad(e),r=Od(e),o=Ad(n),s=Od(n);return"asc"===t?i-o||r-s:o-i||s-r}}function Od(t){return"object"!=typeof t?0:"fps"in t?t.fps:"metadata"in t&&"fps"in t.metadata?t.metadata.fps:0}function Id(t){const e=t.video.live_event,n=t.request.files;if(!ld(n.hls)){var i;const r=n.hls.default_cdn,o=n.hls.cdns[r].hevc_url,s=!!o&&Bt.hevc&&t.request.flags.hevc_live,a=s?o:n.hls.cdns[r].json_url||function(t){var e;const n=t.dvr,i=t.low_latency;var r,o;return n?null==(r=t.playback_urls)?void 0:r["akamai-fmp4"].hls_noredirect:i?null==(o=t.playback_urls)?void 0:o["akamai-low-latency"].hls_noredirect:null==(e=t.playback)?void 0:e.hls_noredirect}(e),u=null!=(i=t.request.flags)&&i.live_dash?2:1;return{id:`hls-${r}-${t.video.id}`,src:a,mime:co.hlsLive,priority:u,metadata:{cdn:r,origin:n.hls.cdns[r].origin,quality:"sd",codec:s?"hevc":"avc"}}}return null}function Ld(t,e){let n=[];if(e.video){const r=e.video.currentFile.mime;if(r===co.hlsLive)return e.manifest.video.map((t=>Q(Q({},t),{},{quality:`${t.height}p`})));if([co.dash,co.dashMpd].includes(r)){var i;const r=!!e.video.drmHandler,o=r&&"sd-fallback"===e.video.drmHandler.state;n=function(t,e=!1){if(!t)return[];let n=t.streams;"streams_avc"in t&&(n=t.streams_avc);const i=Bt.dolbyVision,r=Bt.hevc&&Bt.hdr,o=Bt.hevc;return i&&"streams_hevc_dvh1"in t?n=t.streams_hevc_dvh1:r&&"streams_hevc_hdr"in t?n=t.streams_hevc_hdr:o&&"streams_hevc_sdr"in t?n=t.streams_hevc_sdr:Bt.av1&&"streams_av1"in t&&(n=t.streams_av1),e&&"streams_fallback"in t&&(n=t.streams_fallback),n}(t.request.files.dash,o),!r&&null!=e&&null!=(i=e.currentScanner)&&i.manifestLoaded&&(n=function(t,e){const n=e.map((t=>t.id));return t.filter((t=>{const e=Cd(t.id);return n.includes(t.id)||n.includes(e)}))}(n,e.currentScanner.videoStreams))}else n=e.video.files.filter((t=>"progressive"===Jl[t.mime]))}return n.filter(Ed(n)).sort(Md())}function Rd(t){let e=vd(t);const n={"1440p":"2K","2160p":"4K","2700p":"5K","3240p":"6K","3780p":"7K","4320p":"8K"};for(const t in n)e=e.replace(t,n[t]);return e}function xd(t){return Bt.spatialPlayback&&t.video.spatial?35:75}function Pd(t){return t.request.text_tracks.map((t=>({id:t.id,src:t.url,kind:t.kind,label:t.label,language:t.lang,provenance:t.provenance})))}let Dd={captureException(t){},captureMessage(t){},captureBreadcrumb(){}},Bd=Dd;var $d=function(t){Bd=Object.assign({},Dd,t)},Vd=function(t,e){return Bd.captureException(t,e)},jd=function(t,e,n="backbone",i="info"){return Bd.captureBreadcrumb(t,e,n,i)};function Hd(t,e,n){let i=!1,r=!1,o=!1,s=!0,a="auto";function u(t){if(!s&&n.buffered&&n.buffered.length>0){t=t||n.currentTime;const r=function(t,e){var n=t.length-1;if(t.length>1)for(var i=0,r=t.length;i<r;i++)if(t.start(i)<=e&&t.end(i)>=e){n=i;break}return n}(n.buffered,t),s=n.buffered.end(r),a=s/n.duration,u=n.duration;if(e.fire(fo.PROGRESS,{loaded:s,duration:u,loadProgress:a}),o&&i&&s===n.duration)return void(i&&n.paused&&n.play().catch(Vd))}}function l(e=[]){const i=Ld(t,n).reverse().map((t=>t.quality)),r=e.filter((t=>-1!==i.indexOf(t))).sort(((t,e)=>i.indexOf(t)-i.indexOf(e)));return r.map((t=>i.indexOf(t)))}function c(t=[],e=null){if(t.includes("auto"))n.video.currentFile.restrictedStreamIndexes=[];else{const e=l(t);e.length&&(jd(`Switched to ${t[0]}`,{},"video"),n.video.currentFile.restrictedStreamIndexes=e)}if(e){const t=l([e]),i=t.length?t[0]:null;n.ds.preloadStreamIndex=i}else n.ds.preloadStreamIndex=null}function d(){if(t.embed.on_site)return;const e=Ld(t,n).map((t=>t.quality)),i=fd(e,t.embed.quality||t.embed.min_quality,t.embed.quality||t.embed.max_quality),r=pd(e,t.embed.initial_quality);c(i.length&&i.length!==e.length?i:["auto"],r)}return e.on(Ic,(function(){var e;n.playsinline=t.embed.playsinline,n.muted=t.embed.muted,n.lowLatencyMode=null==(e=t.video.live_event)?void 0:e.low_latency})),e.on(Ec,(function(){s=!0,n.paused||n.pause(),r=!1,i=!1,n.currentTime=0})),e.on(kc,(function(){n.paused||n.pause(),n.video=null})),n.on(fo.PLAY,(function(){s=!1,e.fire(fo.PLAY,n.currentTime)})),n.on(fo.PAUSE,(function(){i=!1,e.fire(fo.PAUSE,n.currentTime,n.ended)})),n.on(fo.PLAYING,(function(t){u()})),n.on(fo.TIME_UPDATE,(function(){if(s)return;const{currentTime:t,liveEdgeTime:i,atLiveEdge:r,liveTailTime:o,atLiveTail:a,duration:u,playbackRate:l}=n,c=t/u;e.fire(fo.TIME_UPDATE,{currentTime:t,liveEdgeTime:i,atLiveEdge:r,liveTailTime:o,atLiveTail:a,duration:u,playbackRate:l,timeProgress:c})})),n.on(fo.ENDED,(function(t){n.loop?n.play().catch(Vd):(i=!1,e.fire(fo.ENDED,t))})),n.on(fo.LOADED_METADATA,(function(e){const i=n.duration;if(isFinite(i)&&i>0){if(i<t.video.duration-1||i>t.video.duration+1)return;t.video.duration=i}t.video.video_width=n.videoWidth,t.video.video_height=n.videoHeight})),n.on(fo.DURATION_CHANGE,(function(e){const i=n.duration;isFinite(i)&&(t.video.duration>0&&(i<t.video.duration-1||i>t.video.duration+1)||(t.video.duration=i))})),n.on(fo.PROGRESS,u),n.on(mo.BUFFER_STARTED,(()=>{o=!0})),n.on(mo.BUFFER_ENDED,(()=>{o=!1})),e.on(Cc,(function(e){n.isLive()&&0===n.liveEdgeTime||(e=hd(e,yc(n.isLive()?n.liveTailTime:0),yc(n.isLive()?n.liveEdgeTime:n.duration||t.video.duration)),n.currentTime=e)})),n.on(fo.SEEKING,(function(){const t=n.currentTime,i=n.duration,r=t/i;e.fire(fo.SEEKING,{currentTime:t,duration:i,timeProgress:r})})),n.on(fo.SEEKED,(function(){u();const t=n.currentTime,i=n.duration,r=t/i;e.fire(fo.SEEKED,{currentTime:t,duration:i,timeProgress:r})})),n.on(mo.CURRENT_FILE_CHANGE,(function(e){jd("Current file changed",{id:e.id,mime:e.mime,src:e.src,metadata:e.metadata},"video"),[co.dash,co.dashMpd].includes(e.mime)&&d(),[co.hlsLive].includes(e.mime)?n.once(mo.STREAMS_LOADED,(()=>{d()})):Nd(t)})),n.on(fo.RESIZE,(function(){n.video.currentFile.mime===co.hls&&n.videoHeight&&e.fire($c,{height:n.videoHeight})})),{play:function(){return i=!0,r||(e.fire(Lc),r=!0),n.play()},pause:function(){i=!1,n.pause()},get quality(){return a},set quality(i){!function(i){const r=n.video.currentFile.mime;if([co.dash,co.dashMpd,co.hlsLive].includes(r))c([i]);else{const e=Ld(t,n).filter((t=>t.metadata.quality===i));e.length>0&&(s=!0,n.video.currentFile=e[0])}a=i,e.fire(Rc,i)}(i)}}}function Fd(t,e,n){let i=null;Bt.spatialPlayback&&(e.on(Ic,(function(){i&&(n.deactivateEffect(Kl),i=null,e.fire(Dc,i));const r=t.video.spatial;r&&(t.request.drm||n.supportsEffect(Kl)&&(i=n.activateEffect(Kl,{threeUrl:t.request.urls.three_js,fps:t.video.fps,fieldOfView:r.fov,directorTimeline:r.director_timeline,projection:r.projection,stereoMode:r.stereo_mode,initialView:r.initial_view,isMobile:Bt.android,dimensions:t.embed.on_site?{width:1080,height:540}:{width:640,height:360},keyboardDisabled:!t.embed.keyboard}),e.fire(Dc,i)))})),n.on(yo.SPATIAL_UNSUPPORTED,(function(){i&&(n.deactivateEffect(Kl),i=null,e.fire(Dc,i))})))}function Ud(t,e,n){let i=null;e.on(Ic,(function(){i&&(n.deactivateEffect(Xl),i=null),t.video.canvas&&(t.request.drm||n.supportsEffect(Xl)&&(i=n.activateEffect(Xl)))}))}var zd=ao((function(t,e,n){oo(t,e,n)}));function Xd(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const Gd=5e3;function Wd(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}let qd=function(t){function e(e,n,i,r){var o;return(o=t.call(this)||this).Ba=Ut(),o.$a=jr(e),o.Va=e.session_url||e.sessionUrl,o.ja=e.subtitleUrl,o.Ha=n,o.Fa=r,o.Ua=i,o.za=!1,o.Xa=!1,o.Ga=e.dvr,o.Wa(),o}q(e,t);var n=e.prototype;return n.requestCompleteLiveSubtitles=function(){try{const t=this;return Xd(Wd((function(){return Xd(Ee({url:t.ja,retry:3,retryStatus:t=>[410].includes(t)||D.retryStatus(t),hooks:{beforeRetry:[t.qa.bind(t)]}}).json(),(function(t){if(null==t||!t.url)throw new Error("No webvtt url was available to fetch");return Xd(Ee(t.url).text(),ul)}))}),(function(t){throw t})))}catch(t){return r.reject(t)}},n.qa=function(t){try{return Xd(this.Ya(),(function(e){t.url=e}))}catch(t){return r.reject(t)}},n.Ya=function(){try{const t=this;return Xd(Ee(t.Fa).json(),(function(e){return t.ja=e.url,e.url}))}catch(t){return r.reject(t)}},n.disable=function(){this.Xa=!0},n.forcePolling=function(){this.isForcePolling||(this.za=!0,this.Wa())},n.unforcePolling=function(){this.za=!1},n.Wa=function(){!1!==this.$a.polling&&(this.$a.id&&this.Ba.resolve(),this.Ka()?this.Za():this.Qa()&&this.Ja())},n.Qa=function(){var t;return!(sd(this.$a)&&(null==(t=this.$a.archive)?void 0:t.status)!==rc||!this.isForcePolling&&od(this.$a))},n.Ka=function(){return!this.Va||!(!rd(this.$a)||null!==this.$a.id)},n.tu=function(){try{const t=this;return Xd(Ee(t.Ha).json(),(function(e){return t.Va=e.url,e.url}))}catch(t){return r.reject(t)}},n.Ja=function(){try{const t=this;if(t.Xa)return Xd();let e,n={};return Bt.browser.ie&&(n={Pragma:"no-cache","Cache-Control":"no-cache"}),Xd(function(t,e){return t&&t.then?t.then(e):e()}(Wd((function(){return Xd(Ee({url:t.Va,retry:3,retryStatus:t=>[410].includes(t)||D.retryStatus(t),hooks:{beforeRetry:[t.eu.bind(t)]},headers:n}).json(),(function(t){e=t}))}),(function(){throw new Error(`Hit max retries polling ${t.Va}`)})),(function(n){if(t.Ga&&(e.dvr=t.Ga),e.status!==t.$a.status){if(sd(e)&&"provision_expire"===e.terminate_reason)return t.Va=null,t.$a.id=null,void setTimeout(t.Wa.bind(t),Gd);const n={[ec]:nd.EVENT_ACTIVE,[tc]:nd.EVENT_PENDING,[nc]:nd.EVENT_STARTED,[ic]:nd.EVENT_ENDED}[e.status];try{t.fire(n,e)}catch(t){throw new Error(`Error firing live event status change ${t}`)}}if(e.archive&&(!t.$a.archive||e.archive.status!==t.$a.archive.status)){const n={[rc]:nd.ARCHIVE_STARTED,[oc]:nd.ARCHIVE_DONE,[sc]:nd.ARCHIVE_ERROR}[e.archive.status];t.fire(n,e)}t.$a=zd(t.$a,e),t.Qa()&&setTimeout(t.Ja.bind(t),Gd)})))}catch(t){return r.reject(t)}},n.eu=function(t){try{return Xd(this.tu(),(function(e){t.url=e}))}catch(t){return r.reject(t)}},n.Za=function(){try{const t=this;return t.Xa?Xd():Xd(Ee(t.Ua).json(),(function(e){let n=!1;return function(i,r){var o=function(){if(null!==e.ingest.session_id)return t.Ba.resolve(),t.$a.id=e.ingest.session_id,Xd(t.tu(),(function(){t.Ja(),n=!0}))}();return o&&o.then?o.then(r):r(o)}(0,(function(e){if(n)return e;setTimeout(t.Za.bind(t),Gd)}))}))}catch(t){return r.reject(t)}},X(e,[{key:"isForcePolling",get:function(){return this.za}},{key:"liveEventIDReady",get:function(){return this.Ba}}])}(ri);function Yd(){}function Kd(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function Zd(t,e,n){const i=Kd((function(){return function(t){return t&&t.then?t.then(Yd):r.resolve()}({hive:()=>{},kollective:()=>{}}[t.video.ecdn.ecdn_provider]())}));let o,s,a,u=!1,l=0,c=0;function d(){s&&(s.disable(),s=null)}function h(){n.endLive()}return e.on(Mc,(function(){o&&!t.isNewVideo()||(o=!0,d(),t.video.live_event&&!id(t.video.live_event)&&(function(n){s=new qd(n,function(t){return ad(t,"/session/refresh")}(t),function(t){return`https://${t.vimeo_url}/live_event/status?clip_id=${t.video.id}`}(t),function(t){return ad(t,"/subtitle/refresh")}(t)),s.on(nd.EVENT_ENDED,h),Object.keys(nd).forEach((t=>{const n=nd[t];s.on(n,(t=>{e.fire(n,t)}))})),e.on(Vc,Kd((function(){return function(t){if(t&&t.then)return t.then(Yd)}(function(t,n){try{var i=function(){var t;return function(t,e){return void 0?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}(null==(t=s)?void 0:t.requestCompleteLiveSubtitles(),(function(t){e.fire(jc,t)}))}()}catch(t){return n()}return i&&i.then?i.then(void 0,n):i}(0,(function(t){e.fire(Hc)})))})))}(t.video.live_event),function(){l=0,c=0;let t=!1;n.once(fo.PLAYING,(()=>t=!0));let i=Gt();clearInterval(a),a=setInterval((()=>{n.paused||(l+=Yt(i)/1e3),t&&u&&(c+=Yt(i)/1e3),function(t){if(n.lowLatencyMode&&t>12&&n.latency>10&&u){const t="Rebuffer ratio > 12% and latency > 10s, fallback to normal HLS w/ target latency of 12s.";e.fire(nd.LOW_LATENCY_FALLBACK,{msg:t}),n.lowLatencyMode=!1,n.presentationDelay=12,n.bufferTarget=12}}(c/l*100),i=Gt()}),500)}()),t.video.ecdn&&i())})),e.on(kc,(function(){d()})),n.on(nd.STREAM_ONLINE,(function(){s.isForcePolling&&s.unforcePolling()})),n.on(nd.STREAM_OFFLINE,(function(){s.isForcePolling||s.forcePolling()})),n.on(mo.BUFFER_STARTED,(function(){u=!0})),n.on(mo.BUFFER_ENDED,(function(){u=!1})),{get p2pReady(){}}}function Qd(t,e,n){if(n)return e?e(t()):t();try{var i=r.resolve(t());return e?i.then(e):i}catch(t){return r.reject(t)}}function Jd(t,e){var n=t();return n&&n.then?n.then(e):e(n)}function th(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}function eh(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function nh(t,e,n){var i;const o=eh((function(){return th((function(){return Qd(m,(function(e){return e(n,t)}))}),(function(t){throw Vd(t),new Error("Failed to create Hive Module",t)}))})),s=eh((function(){return th((function(){return Qd(_,(function(t){return t(n)}))}),(function(t){return Vd(t),null}))})),a=function(){return function(t){return t&&t.then||(t=r.resolve(t)),t}(Jd((function(){if(!l)return Qd(s,(function(t){l=t}))}),(function(){var e;return null==(e=l)?void 0:e.setUp(t)})))},u=eh((function(){return th((function(){return Jd((function(){if(!c)return Qd(o,(function(t){c=t}))}),(function(){var t;return null==(t=c)?void 0:t.setUp(h)}))}),(function(t){var e;return null==(e=c)||e.stop(),null}))}));let l,c,d=!1,h=!1,f=!1;const p=null==(i=t.video.ecdn)?void 0:i.ecdn_provider;let v;function _(){return ht("module/kollective.js")}function m(){return ht("module/hive.js")}function b(){try{l&&(l.destroy(),l=null),c&&(c.destroy(),c=null)}catch(t){}}return e.on(Mc,(function(){var e;t.isNewVideo()&&(d=!1),!0!==t.preload||!1!==f||"kollective"!==p?d||((null==(e=t.video.live_event)?void 0:e.status)!==tc?(d=!0,b(),p&&(v={hive:u,kollective:a}[p]())):h=!0):f=!0})),e.on(kc,b),{get p2pReady(){return v}}}function ih(t,e,n){let i=null;function r(){n.deactivateEffect(Zl),i=null}e.on(Lc,(function(){var e;i&&r(),(null==(e=t.video.channel_layout)?void 0:e.startsWith("ambisonic"))&&n.supportsEffect(Zl)&&(i=n.activateEffect(Zl,{ambisonicsUrl:t.request.urls.ambisonics_js}))})),n.on(yo.CAMERA_UPDATE,(function({yaw:t,pitch:e,roll:n}){i&&i.updateRotation(t,e,n)})),n.on(yo.AMBISONIC_UNSUPPORTED,(function(){i&&r()})),n.on(mo.STREAM_CHANGE,(function(){i&&i.toggleAmbisonics()}))}function rh(t,e=[]){if(!t||"null"===t||0===e.length)return{track:null};const[n,i]=t.split("."),[r]=n.split(/[-_]/),o=n!==r,s=e.filter((t=>o&&t.language===n||t.language===r)).sort(((t,e)=>{const o=2*(t.language===r&&t.kind===i)+2*(t.language===n)+1*(t.kind===i);return 2*(e.language===r&&e.kind===i)+2*(e.language===n)+1*(e.kind===i)-o}));return s.length>0?{track:s[0],exactMatch:s[0].language===n&&s[0].kind===i}:{track:null}}function oh(t){const e=t.split(/\n/g);let n=[],i=[];return e.forEach((t=>{let e=t.match(/<[a-zA-Z]+ ?.*?>/g)||[],r=t.match(/<\/[a-zA-Z]+ ?.*?>/g)||[];const o=i.map((({startTag:t})=>t));i=[],e=o.concat(e),e.forEach((t=>{let[e]=t.replace(/<|>/g,"").split(" ");const n=r.indexOf(`</${e}>`);-1!==n?r.splice(n,1):i.push({startTag:t,closeTag:`</${e}>`})}));const s=i.map((({closeTag:t})=>t)).reverse().join(""),a=`${o.join("")}${t}${s}`;n.push(a)})),n.join("<br>")}function sh(t){return t?t.split(/\n/g).join("↵"):t}function ah(t,e){let n;function i(){return e.pictureInPictureActive||gc(e.videoElement)?"showing":"hidden"}function r(){if(0!==e.video.textTracks.length){if(e.video.textTracks.forEach((t=>{t.on("cuechange",o),t.on("modechange",s)})),e.video.textTracks.language){const[n]=e.video.textTracks.language.split(/[-_]/),[i]=e.video.textTracks.language.split(/[-_]/);if(n!==i){const n=`${e.video.textTracks.language}.subtitles`,{track:i}=rh(n,e.video.textTracks);if(i)return void t.fire(Sc,n)}}t.fire(Ac)}else t.fire(Ac)}function o(e){const n=e.target,i=n.activeCues,r=[];let o;for(var s=0,a=i.length;s<a;s++)""!==i[s].text.replace(/^\s+|\s+$/gm,"")&&(o=document.createElement("span"),o.appendChild(i[s].getCueAsHTML()),r.push({html:oh(o.innerHTML),text:sh(i[s].text)}));t.fire(xc,n,r)}function s(n){const i=n.target;gc(e.videoElement)&&"showing"===i.mode&&t.fire(Pc,i)}t.on(Ic,r),t.on(Sc,(function(r){if(n&&n.id===r)return;let o=e.video.textTracks.getTrackById(r),s=!0;o||({track:o,exactMatch:s}=rh(r,e.video.textTracks)),o!==n&&setTimeout((()=>{e.video&&e.video.textTracks.forEach((t=>{t.mode=t===o?i():"disabled"})),t.fire(Pc,o,!s),n=o}),0)})),t.on(Ac,(function(){setTimeout((()=>{e.video&&e.video.textTracks.forEach((t=>{t.mode="disabled"})),t.fire(xc),n&&(n=null,t.fire(Pc,null))}),0)})),t.on(mo.TEXT_TRACKS_AVAILABLE,r),t.on([fo.ENTER_PICTURE_IN_PICTURE,fo.LEAVE_PICTURE_IN_PICTURE],(function(){!function(t){n&&n.mode!==t&&(n.mode=t)}(i())}))}const uh=["main","translation"];function lh(t,e){return a(t).map((t=>Q(Q({},t),{},{enabled:t.id===e})))}function ch(t){return a(t).find((t=>t.enabled))}function dh(t,e){let n="translation";return"1"===t.id?n="main":t.label.includes("(Audio description)")?n="descriptions":t.label.includes("(Commentary)")&&(n="commentary"),t.language===e.language&&n===e.kind}function hh(t,e,n,i=[]){let r,o,s,a,u,l;function c(){var e,n;const i=t.video.live_event,o=null==i?void 0:i.dvr;if(rd(i)||function(t){return(null==t?void 0:t.status)===ec}(i)||sd(i)&&!id(i))return void(r.video=null);if(od(i)&&r.video&&!t.isNewVideo())return;const s=t.request.audio_tracks||[],a=null==(e=ch(s))?void 0:e.id,l="sd-fallback"===(null==(n=r.video)||null==(n=n.drmHandler)?void 0:n.state),c=od(i)?function(t){const e=[],n=Id(t);n&&e.push(n);const i=function(t){var e,n;const i=t.video.live_event,r=t.request.files;if(ld(r.dash))return null;const o=r.dash.default_cdn,s=r.dash.cdns[o].url||(null==(e=i.playback)?void 0:e.dash_noredirect),a=null!=(n=t.request.flags)&&n.live_dash?2:1;return{id:`dash-${o}-${t.video.id}`,src:s,mime:co.dashMpd,priority:a,metadata:{cdn:o,origin:r.dash.cdns[o].origin,quality:"sd"}}}(t);return i&&e.push(i),e}(t):_d(t,a,l),f=Pd(t);var p;if(r.video&&!t.isNewVideo()&&!u&&(!o||id(i)))return null==(p=r.video.drmHandler)||p.updateLAUrls(t.request.drm),void d(c,f);h({files:c,textTracks:f,audioTracks:s,switchingVideo:o,startTime:o&&r.currentTime})}function d(t,e){t.forEach((t=>{const e=r.video.files.getFileById(t.id);e&&e.src!==t.src&&(e.src=t.src)})),e.forEach((t=>{const e=r.video.textTracks.getTrackById(t.id);e&&e.src!==t.src&&(e.src=t.src)}))}function h({files:i,textTracks:o,audioTracks:u=[],switchingVideo:c=!1,startTime:d}){var h,f,p,v;const _=t.video.live_event,m=n.getBoundingClientRect(),b=od(_)?Id(t):function(t){const e=t.request.files;if(!ld(e.hls)){const t=e.hls.default_cdn,n=e.hls.cdns[t],i=n.captions||n.url;return i?{src:i,mime:co.hls,metadata:{cdn:t,origin:n.origin,quality:"sd"}}:null}return null}(t);var y;l||(l=(null==(y=r.played)?void 0:y.length)>0);const g=!r.paused||(null==(h=r.bs)?void 0:h.Ho);r.ht=c,r.video={id:t.video.id,title:t.video.title,subtitle:`from ${t.video.owner.name}`,files:i,textTracks:o,audioTracks:u,chapters:Rn(t,"embed.chapters",[]),duration:t.video.duration,externalDisplayFiles:{AirPlay:b},metadata:{playlistRefreshUrl:t.request.flags.hevc_live?ad(t,`/playlist/refresh/${b.metadata.codec}`):ad(t,"/playlist/refresh"),useHls:t.request.drm&&Bt.browser.webKit,drm:t.request.drm,drmLaUrlParams:t.request.drm&&{atid:t.request.atid,leadUUID:null==(f=t.user.lead)?void 0:f.id,playbackRoute:null!=(p=t.request.flags)&&p.ott?"player_embed_ott":"player_embed",playerLocation:t.embed.on_site?"onsite":"embed",dnt:(null==(v=t.request.flags)?void 0:v.dnt)??t.embed.dnt,embedContext:t.embed.context,referrer:t.request.referrer},p2pReady:t.video.ecdn&&(s.p2pReady??a.p2pReady),percentShown:Kl.frustumSurfaceArea(t.video.spatial.fov,m.width,m.height)}},c?r.checkRebuffer(l,g):e.fire(Ic),"number"==typeof d&&(r.currentTime=d),r.updateBufferTarget()}return function(){var e,o,s,a,u;const l=window.Hls&&i.some((t=>"hls_js_live"===t.test&&"variant"===t.group)),c=[Qu,l?Cl:bl,Sl,is],d=t.video.ecdn&&!(null!=(e=t.request.flags)&&e.ecdn_delta_updates);r=new zl(n,c,{externalDisplays:[AirPlayExternalDisplay],mediaSourceScanner:{droppedFrameSwitchPercent:xd(t)},tests:t.request.ab_tests,fileCodecs:t.request.file_codecs,presentationDelay:t.video.presentation_delay,lowLatencyMode:null==(o=t.video.live_event)?void 0:o.low_latency,dvrEnabled:null==(s=t.video.live_event)?void 0:s.dvr,disableDeltaUpdates:d,getLiveEventStartTimeEpoch:()=>function(t){var e;return null!=t&&t.started_on?new Date(t.started_on).getTime()/1e3:null==t||null==(e=t.ingest)?void 0:e.start_time}(t.video.live_event),sessionMetadata:{clipId:t.video.id,sessionId:t.request.session},disableMMS:!(null==(a=t.request.flags)||!a.disable_mms)||!Bt.iOS,enableCMCD:null==(u=t.request.flags)?void 0:u.cmcd})}(),Object.values(fo).filter((t=>![fo.TIME_UPDATE,fo.PROGRESS,fo.SUSPEND,fo.ERROR].includes(t))).forEach((t=>{r.on(t,((e="")=>{jd(t,e,"video event")}))})),r.on(mo.STREAMS_LOADED,(function(e){e.video.forEach((e=>{const n=function(t,e){return e.find((e=>Cd(e.id)===String(t)||Cd(e.id)===Cd(t)))}(e.id,Ld(t,r));n?(e.profile=n.profile,e.quality=n.quality,e.fps=n.fps):(e.profile=null,e.quality=`${e.height}p`,e.fps=e.framerate)}))})),r.on(mo.STREAM_CHANGE,(function({index:t,streams:n,metadata:i}){const o=n[t];jd("Stream changed",o,"video"),r.updateBufferTarget(),e.fire(mo.STREAM_CHANGE,o,t,n,i)})),r.on(mo.STREAM_TARGET_CHANGE,(function({index:t,streams:n}){const i=n[t];r.updateBufferTarget(),e.fire(mo.STREAM_TARGET_CHANGE,i,t,n)})),r.on(mo.DRM_KEY_SWITCH,(function(){var e;if(!t.request.drm.fallback_asset)return;const n=Pd(t),i=null==(e=ch(r.video.audioTracks))?void 0:e.id;d(md(t,i),n)})),function(t,e,n){n.forEach((n=>{t(n,((...t)=>{e.apply(void 0,[n].concat(t))}))}))}(r.on,e.fire,[vo.ACTIVATED,vo.AVAILABLE,vo.DEACTIVATED,vo.UNAVAILABLE,bo.STREAM_OFFLINE,bo.STREAM_ONLINE,bo.BUFFER_GAP_JUMP,bo.BUFFER_GAP_JUMP_PREVENT,bo.STALL_JUMP,bo.LATENCY_UPDATED,go.MEDIASESSION_PAUSE,go.MEDIASESSION_PLAY,go.MEDIASESSION_SEEK_BACKWARD,go.MEDIASESSION_SEEK_FORWARD,go.MEDIASESSION_SEEK_TO,mo.AUDIO_TRACK_CHANGED,mo.AV_DURATION_MISMATCH,mo.BANDWIDTH,mo.BUFFER_ENDED,mo.BUFFER_OCCUPANCY,mo.BUFFER_STARTED,mo.CHAPTER_CUES_UPDATED,mo.CUE_POINT,mo.NO_SUPPORTED_CDM,mo.CURRENT_FILE_CHANGE,mo.DOWNLOAD_END,mo.DOWNLOAD_TIMEOUT,mo.DRM_AUTH_SUCCESS,mo.DRM_CDM_CHANGE,mo.DRM_KEY_SWITCH,mo.DROPPED_FRAMES,mo.MANIFEST_LOADED,mo.MANIFEST_TIMEOUT,mo.QUOTA_EXCEEDED_ERROR,mo.SCANNER_CHANGE,mo.STREAM_CHANGE_START,mo.STREAM_BUFFER_END,mo.STREAM_BUFFER_START,mo.AVAILABLE_STREAMS_CHANGED,mo.MEDIA_CAPABILITY_STREAMS_UNSUPPORTED,mo.TEXT_TRACKS_AVAILABLE,mo.DROPPED_FRAME_PERCENT_EXCEEDED,mo.LOAD_SEGMENT_FAILED,mo.SEGMENT_CUES_LOADED,yo.CAMERA_UPDATE,yo.CAMERA_CHANGE,yo.MOTION_END,yo.MOTION_START,yo.SPATIAL_UNSUPPORTED,yo.WEBVR_ENTER,yo.WEBVR_EXIT,yo.WEBVR_HARDWARE_AVAILABLE,fo.DURATION_CHANGE,fo.ERROR,fo.LOAD_START,fo.LOADED_DATA,fo.LOADED_METADATA,fo.PLAYING,fo.RATE_CHANGE,fo.RESIZE,fo.STALLED,fo.VOLUME_CHANGE,fo.WAITING,fo.ENTER_PICTURE_IN_PICTURE,fo.LEAVE_PICTURE_IN_PICTURE,fo.WEBKIT_BEGIN_FULLSCREEN,fo.WEBKIT_END_FULLSCREEN]),e.fire(Oc),new ah(e,r),new Fd(t,e,r),new Ud(t,e,r),new ih(t,e,r),s=new Zd(t,e,r),o=new Hd(t,e,r),a=new nh(t,e,r),e.on(Mc,c),e.on(Nc,(function(n){var i,o;if(null==(i=t.embed)||null==(i=i.settings)||!i.audio_tracks)return;if(r.supportsVideoElementAudioTracks)return void r.enableAudioTrack(null==n?void 0:n.id);const s=function(t,e={}){if(null==t||!t.length)return[];const n=e.language,i=e.kind;let r=null==e?void 0:e.id;if(r)return lh(t,r);if(i&&n){const e=t.find((t=>t.language===n&&t.kind===i));if(r=null==e?void 0:e.id,r)return lh(t,r)}if(n){const e=t.find((t=>t.language===n&&uh.includes(t.kind)));if(r=null==e?void 0:e.id,r)return lh(t,r)}const o=t.find((t=>"main"===t.kind));return r=null==o?void 0:o.id,lh(t,r)}(t.request.audio_tracks,n),a=ch(s),u="sd-fallback"===(null==(o=r.video)||null==(o=o.drmHandler)?void 0:o.state);h({files:_d(t,null==a?void 0:a.id,u),textTracks:r.video.textTracks,audioTracks:s,switchingVideo:!0,startTime:r.currentTime}),e.fire(mo.AUDIO_TRACK_CHANGED)})),e.on(fo.LOADED_DATA,(function(){var e,n;if(r.supportsVideoElementAudioTracks&&null!=t&&null!=(e=t.request)&&null!=(e=e.audio_tracks)&&e.length&&null!=(n=r.videoElementAudioTracks)&&n.length){const e=ch(t.request.audio_tracks||[]),n=function(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(dh(i,e))return i}return null}(r.videoElementAudioTracks,e);n&&r.enableAudioTrack(n.id)}})),Bt.browser.safari&&window.addEventListener("pageshow",(t=>{t.persisted&&(u=!0,c())})),ut({telecine:r},o)}function fh(t,e,n){this.constructorName="BackboneError",this.message=t,this.name=e,this.source=n}fh.prototype=new Error;var ph={embed:{},request:{cookie:{},files:{},flags:{},urls:{},text_tracks:[],file_codecs:{}},video:{owner:{},thumbnail_url:"",version:{}},user:{}};function vh(t,e,n=[]){let i;const r=new ri;let o,s,a=null,u=new dd(e,ph);function l(t,e){return r.fire(Mc,t,e),t}const c={play:()=>o.play(),pause:()=>o.pause(),get currentTime(){return s.currentTime>.1?yc(s.currentTime):0},set currentTime(t){if(t=parseFloat(t),isNaN(t)||t<0)throw new fh("Seconds must be a positive number less than the duration of the video.","RangeError","setCurrentTime");r.fire(Cc,t)},get liveEdgeTime(){return s.liveEdgeTime},get atLiveEdge(){return s.atLiveEdge},get liveTailTime(){return s.liveTailTime},get atLiveTail(){return s.atLiveTail},get duration(){return yc(u.video.duration)},get enabledTextTrack(){return a},loadVideo(t){const e=jr(u);return u.reset(t),u=l(u,e),this},reactivate(){var t;return null!=(t=s)&&t.reactivate&&s.reactivate(),this},unload(){return r.fire(Ec),this},destroy(){return r.fire(kc),this},on(t,e){return r.on(t,e),this},once(t,e){return r.once(t,e),this},off(t,e){return r.off(t,e),this},get events(){return r},hasTextTrack(t){let e,n,i=this.textTracks;if(bc(t))n=i.getTrackById(t);else{let n=t.split(".")[0];e=i.some((t=>t.language.toLowerCase()===n.toLowerCase()))}return!(!n&&!e)},enableTextTrack(t,e=null){let n,i,o=this.textTracks;if(bc(t))a=o.getTrackById(t);else{if([n,i=e]=t.split("."),!this.hasTextTrack(t))throw new fh(`There are no tracks for “${n.toUpperCase()}”.`,"InvalidTrackLanguageError","enableTextTrack");a=rh(i?`${n}.${i}`:n,o).track}if(!a||i&&a.kind!==i)throw new fh(`There are no ${i} tracks for “${n.toUpperCase()}”.`,"InvalidTrackError","enableTextTrack");s.setCaptionsShouldDisplay(!0),r.fire(Sc,a.id)},disableTextTrack(){a=null,s.setCaptionsShouldDisplay(!1),r.fire(Ac)},enableAudioTrack(t){r.fire(Nc,t)},get qualities(){return function(t){var e;const n=t.representations.map((e=>{const n=vd(e);return{id:n,label:Rd(e),active:t.quality===n}})),i=null==(e=t.video)?void 0:e.currentFile.mime;return[co.dash,co.dashMpd,co.hlsLive,co.hls].includes(i)&&n.unshift({id:"auto",label:"Auto",active:!t.quality||"auto"===t.quality}),n}(this)},get quality(){return o.quality},set quality(t){o.quality=t},get playbackRate(){return s?s.playbackRate:1},set playbackRate(t){s.playbackRate=t,s.defaultPlaybackRate=t},get textTracks(){return s.video?s.video.textTracks:[]},get representations(){return Ld(u,s)},get volume(){return s?s.volume:yc(u.request.cookie.volume)},set volume(t){if(t=parseFloat(t),isNaN(t)||t<0||t>1)throw new fh("Volume should be a number between 0 and 1.","RangeError","setVolume");s.volume=t},get videoId(){return u.video.id},get videoWidth(){return s.videoWidth||u.video.width},get videoHeight(){return s.videoHeight||u.video.height},get readyState(){return s.videoElement.readyState},get telecine(){return s},get audioTracks(){var t;return(null==(t=s)||null==(t=t.video)?void 0:t.audioTracks)||[]},get enabledAudioTrack(){var t;return null==(t=s)||null==(t=t.video)?void 0:t.enabledAudioTrack},requestCompleteLiveSubtitles(){r.fire(Vc)},get hasAudio(){var t,e;return!(null==(t=s)||null==(t=t.video)||null==(t=t.audioTracks)||!t.length)||!(null==(e=s.manifest)||null==(e=e.audio)||!e.length)}};return u=l(u),o=new hh(u,r,t,n),s=o.telecine,i=Object.create(s),ut(i,c)}const _h=x("_spatialUnsupported"),mh=x("_spatialFailure"),bh="vimeo-logo",yh="video-title",gh="video-byline",wh="video-portrait",Th="chapter-share-base",Ch="anybody",Eh="nobody",kh="password",Sh="disable",Ah="ptv",Nh="unlisted",Mh={h264:"video/mp4",hls:"application/vnd.apple.mpegurl",hlsLive:"application/x-mpegURL",dash:"application/vnd.vimeo.dash+json",dashMpd:"video/vnd.mpeg.dash.mpd",vp6:"video/x-flv",vp8:"video/webm",webm:"video/webm",hds:"application/f4m"},Oh=x("_seek"),Ih=x("_changeVolume"),Lh=x("_changeMuted"),Rh=x("_showOverlay"),xh=x("_reset"),Ph=x("_changeLoop"),Dh=x("_changeQuality"),Bh=x("_openVimeo"),$h=x("_changeColor"),Vh=x("_disableVolume"),jh=x("_enableVolume"),Hh=x("_disableCaptions"),Fh=x("_enableCaptions"),Uh=x("_forceFullscreen"),zh=x("_turnCaptionsOn"),Xh=x("_turnCaptionsOff"),Gh=x("_changeCaptionsStyles"),Wh=x("_resetCaptionsStyles"),qh=x("_toggleNativeControls"),Yh=x("_showOutro"),Kh=x("_hideOutro"),Zh=x("_setControlsVisibility"),Qh=x("_overrideControlbarBehavior"),Jh=x("_activatePictureInPicture"),tf=x("_deactivatePictureInPicture"),ef=x("_attachSpatialPlaybackEvents"),nf=x("_revealSpatialControls"),rf=x("_setTime"),of=x("_addCard"),sf=x("_removeCard"),af=x("_changePlaybackRate"),uf=x("_destroy"),lf=x("_changeAudioTrack"),cf=x("_requestCompleteLiveSubtitles");x("_openRemoteComponent");const df=x("_closeRemoteComponent"),hf=x("_updateLiveSubtitleRequests"),ff=x("_showVideoThumbnail"),pf=x("_hideVideoThumbnail"),vf=x("_showLocalAccessGate");x("_apiError");const _f=x("_error"),mf=x("_playRejected"),bf=x("_playResolved"),yf=x("_paused"),gf=x("_pausedForAd"),wf=x("_resumedAfterAd"),Tf=x("_ended"),Cf=x("_volumeChanged"),Ef=x("_mutedChanged"),kf=x("_qualityChanged"),Sf=x("_targetTimeReached");x("_cuepoint");const Af=x("_firstTimeUpdate"),Nf=x("_playbackRateChanged"),Mf=x("_nudgeAttempted"),Of=x("_showNudgeNotification"),If=x("_nudgeEnded"),Lf=x("_fragmentChanged"),Rf=x("_fullscreenButtonPressed"),xf=x("_pauseButtonPressed"),Pf=x("_playButtonPressed"),Df=x("_prefsButtonPressed"),Bf=x("_ccButtonPressed"),$f=x("_chapterSeekAttempted"),Vf=x("_chapterSeek");x("_chapterHoverStateOn"),x("_chapterHoverStateOff");const jf=x("_chapterChanged"),Hf=x("_scrubbingStarted"),Ff=x("_scrubbingEnded");x("_volumeScrubbingStarted"),x("_volumeScrubbingEnded");const Uf=x("_controlBarVisibilityChanged"),zf=x("_toastVisibilityChanged"),Xf=x("_sidedockVisibilityChanged"),Gf=x("_menuVisibilityChanged"),Wf=x("_captionsChanged"),qf=x("_cuePointAdded"),Yf=x("_cuePointRemoved"),Kf=x("_stereoscopicButtonPressed"),Zf=x("_menuPanelOpened");x("_menuPanelClosed"),x("_menuCentered");const Qf=x("_badgePressed");x("_muteAutoplayed");const Jf=x("_willEnterFullscreen"),tp=x("_didEnterFullscreen"),ep=x("_willExitFullscreen"),np=x("_didExitFullscreen"),ip=x("_likeButtonPressed"),rp=x("_watchLaterButtonPressed"),op=x("_shareButtonPressed"),sp=x("_embedButtonPressed"),ap=x("_vodButtonPressed"),up=x("_collectionsButtonPressed"),lp=x("_followButtonPressed"),cp=x("_overlayOpened"),dp=x("_overlayClosed"),hp=x("_facebookButtonPressed"),fp=x("_twitterButtonPressed"),pp=x("_tumblrButtonPressed"),vp=x("_emailButtonPressed");x("_embedCodeCopied");const _p=x("_popupOpened"),mp=x("_debugButtonPressed"),bp=x("_popupClosed");x("_shareViewShown"),x("_embedViewShown"),x("_shareViewEnd"),x("_embedViewEnd");const yp=x("_showAndroidVRDeepLink"),gp=x("_debugDataChange"),wp=x("_mousedOut"),Tp=x("_mousedOver"),Cp=x("_mouseTimeout"),Ep=x("_liked"),kp=x("_unliked"),Sp=x("_addedToWatchLater"),Ap=x("_removedFromWatchLater"),Np=x("_userLogIn"),Mp=x("_userLoggedIn"),Op=x("_userLoggedOut"),Ip=x("_loginFailure");x("_colorChanged");const Lp=x("_configChanged"),Rp=x("_liveEventSettingsChanged"),xp=x("_passwordUnlocked"),Pp=x("_privateUnlocked"),Dp=x("_enteredTinyMode"),Bp=x("_enteredMiniMode"),$p=x("_enteredNormalMode"),Vp=x("_assetUrlsRefreshed"),jp=x("_embedSettingChanged"),Hp=x("_createInteractiveChanged"),Fp=x("_ottMetadataSet"),Up=x("_outroDisplayed"),zp=x("_outroHidden"),Xp=x("_outroVideoPressed"),Gp=x("_becameActive"),Wp=x("_becameInactive");x("_tipped");const qp=x("_loadVideo"),Yp=x("_swapVideo"),Kp=x("_outroLinkPressed"),Zp=x("_followed"),Qp=x("_unfollowed"),Jp=x("_outroImagePressed"),tv=x("_outroCtaPressed"),ev=x("_cardDisplayed"),nv=x("_cardPressed"),iv=x("_spaceChanged"),rv=x("_displayContextChanged");x("_titleModuleReady"),x("_sidedockModuleReady"),x("_controlBarModuleReady");const ov=x("_videoModuleReady");x("_notificationModuleReady");const sv=x("_statsModuleReady"),av=x("_apiModuleReady"),uv=x("_ready"),lv=x("_notificationHidden");x("_alertVisibilityChanged");const cv=x("_airPlayAvailable"),dv=x("_airPlayNotAvailable"),hv=x("_airPlayActivated"),fv=x("_airPlayDeactivated"),pv=x("_airPlayButtonPressed"),vv=x("_adBuffering"),_v=x("_adComplete"),mv=x("_adClicked"),bv=x("_adError"),yv=x("_adPaused"),gv=x("_adResumed"),wv=x("_adStarted"),Tv=x("_adSkipped"),Cv=x("_allAdsCompleted"),Ev=x("_logMetric");x("_interactiveReady");const kv=x("_interactiveHotspotClicked"),Sv=x("_interactiveOverlayPanelClicked"),Av=x("_interactiveMarkerClicked"),Nv=x("_interactiveSeekCall"),Mv=x("_transcriptChanged"),Ov=x("_rightContentAreaVisibilityChange"),Iv=x("_rightContentAreaEnabled"),Lv=x("_rightContentAreaDisabled"),Rv=x("_transcriptNavActive"),xv=x("_transcriptSessionStarted"),Pv=x("_transcriptKeyPressed"),Dv=x("_aiWidgetKeyPressed"),Bv=x("_qoeSurveyPresented"),$v=x("_languagesToastPresented"),Vv=x("_parentUrlAvailable"),jv=x("_liveEventSafeToPlay"),Hv=x("_startTimeUpdated"),Fv=x("_endTimeUpdated"),Uv=x("_remoteComponentMounted"),zv=x("_accessGateOpened"),Xv=x("_accessGateClosed");x("_accessGateUnlocked");const Gv=x("_eventedStoreCreated"),Wv=x("_outroDataReceived"),qv=x("_videoThumbnailLoadComplete"),Yv=x("_privateLoginStatusUpdated"),Kv=x("_frameCaptured"),Zv=x("_playbackLocked"),Qv=x("_playbackUnlocked");function Jv(t){let e,n,i;return t=parseFloat(t),isNaN(t)||t<0?"0":t<1e3?t.toString():t>=1e3&&t<1e6?(i=Math.floor(t/1e3),e=Math.round(t%1e3/100),i+"."+e+"K"):(n=Math.floor(t/1e6),e=Math.round(t%1e6/1e5),n+"."+e+"M")}function t_(t){return!isNaN(t)&&parseInt(Number(t),10)==t&&!isNaN(parseInt(t,10))}function e_(t){return encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,((t,e)=>String.fromCharCode("0x"+e)))}const n_=function(t){const e=n=>n.length>=t.length?t.apply(this,n):(...t)=>e([].concat(et(n),t));return e([])}(((t,e)=>Object.keys(t).every((n=>t[n]===e[n])))),i_=(t=[])=>({get:e=>e?t.find(n_(e)):t,insert:e=>(t=t.concat(e)).slice(-1).pop(),getOrInsert(t){return this.get(t)||this.insert(t)},remove:e=>t.splice(t.findIndex(n_(e)),1).pop()});function r_(t){let e=t.getBoundingClientRect();return document.msFullscreenElement&&window.parent!==window&&t.offsetWidth<t.clientWidth&&(e={bottom:100*e.bottom,left:100*e.left,top:100*e.top,right:100*e.right,width:100*e.width,height:100*e.height}),e}function o_(t){try{return new URL(t).origin}catch(t){}const e=document.createElement("a");return e.href=t,e.origin?e.origin:`${e.protocol.replace(":","")}://${e.host}`}function s_({width:t,height:e,elementWidth:n,elementHeight:i,threshold:r=10}){let o=1;const s=t/e,a=n-i*s,u=i-n/s;if(a>0&&a<r||u>0&&u<r){const t=n/(n-a),e=i/(i-u);o=h_(Math.max(t,e),3)}return{extraWidth:a,extraHeight:u,scaleFactor:o}}function a_(t,e,n){return t>n?n:e>t?e:t}function u_(t,e,{width:n,height:i,scrollbars:r="yes",resizable:o="yes",toolbar:s="no"}){let a=(window.screenY||window.screenTop||0)+window.outerHeight/2-i/2,u=(window.screenX||window.screenLeft||0)+window.outerWidth/2-n/2;window.chrome&&-1!==window.navigator.userAgent.toLowerCase().indexOf("mac os x")&&(i+=27),window.safari&&(i+=47);let l=`scrollbars=${r},resizable=${o},toolbar=${s}`;return window.open(t,e,`width=${n},height=${i},left=${u},top=${a},${l}`)}function l_(t){return function(t){return/^(https?:)?\/\/(.+)\.(((vimeo(ws)?|vimeo-(enterprise|work))\.(com|dev|work))|(videoji|videoshipinurl)\.(hk|cn))(?=$|\/)/.test(t)}(t)?o_(t):""}function c_(t,e,n){if(function(t){return/^(https?:)?\/\/(.+)\.((vimeo(ws)?|vimeo-(enterprise|work))\.(com|dev|work)|(videoji|videoshipinurl)\.(hk|cn))\/video\/\d+\/config(?=$|\?)/.test(t)}(e))return e;const i=d_(e),r=Zt(window.location.search),o=Zt(`${e}`.split("?")[1]),s=Object.assign(r,o,n);return Qt(`${t}/video/${i}/config`,s)}function d_(t){if(t_(t))return parseInt(t,10);const e=t.match(/(video|\.com|\.dev)\/(\d+)/);if(!e||e.length<3)throw new Error("Please provide a Vimeo URL with a valid clip id.");return parseInt(e[2],10)}function h_(t,e=3){if(t=parseFloat(t),isNaN(t))return 0;var n=Math.pow(10,e);return Math.round(t*n)/n}function f_(t,e){return-1!==a(e).indexOf(t)}function p_(t,e,n){if(void 0!==n)t.style[e]=n;else if(function(t){return"string"==typeof t||!Pe(t)&&We(t)&&"[object String]"==Ge(t)}(e))t.setAttribute("style",e);else for(const n in e)p_(t,n,e[n])}function v_(t,e,n){n.forEach((n=>{t(n,((...t)=>{e.apply(void 0,[n].concat(t))}))}))}function __(t){for(var e=Object.keys(t),n=e.length,i=[],r=0;r<n;)i[r]=t[e[r]],r+=1;return i}function m_(t,e){return e&&0===e.indexOf(t)}!function(...t){t.reduce(((t,e)=>(...n)=>t(e.apply(void 0,n))))}((function(t){return t?a(t.parentNode.children).indexOf(t):-1}),(function(t,e){for(;null!=(n=t)&&n.parentElement&&!f_(t,e);){var n;t=t.parentElement}return f_(t,e)?t:null}));let b_=0;function y_(t="p"){return`${t}${++b_}`}const g_={nu:y_(),iu:y_(),ru:y_(),ou:y_()},w_="done",T_="started",C_={"application/vnd.apple.mpegurl":"hls","application/vnd.vimeo.dash+json":"dash","video/vnd.mpeg.dash.mpd":"dash","video/mp4":"progressive","video/webm":"progressive","video/x-flv":"progressive","application/x-mpegURL":"hlslive"},E_={main:1,privateLocked:2,privateUnlocked:3,privatePassword:4,error:7,contentRating:9,geoBlocked:14,drmPlaybackUnavailable:15},k_={AD_STARTED:"adstarted",AD_COMPLETED:"adcompleted",AD_ERROR:"aderror",AD_SKIPPED:"adskipped",AD_ALL_COMPLETED:"adallcompleted",AD_CLICKED:"adclicked",BUFFER_END:"bufferend",BUFFER_START:"bufferstart",CHAPTER_CHANGE:"chapterchange",CHROMECAST_CONNECTED:"chromecastconnected",CONTROL_BAR_VISIBILITY_CHANGED:"controlbarvisibilitychanged",TOAST_VISIBILITY_CHANGED:"toastvisibilitychanged",CUE_CHANGE:"cuechange",CUEPOINT:"cuepoint",DRM_INIT_FAILED:"drminitfailed",DURATION_CHANGE:"durationchange",ENDED:"ended",ERROR:"error",FULLSCREENCHANGE:"fullscreenchange",INTERACTIVE_HOTSPOT_CLICKED:"interactivehotspotclicked",INTERACTIVE_OVERLAY_PANEL_CLICKED:"interactiveoverlaypanelclicked",LIVE_EVENT_ENDED:"liveeventended",LIVE_EVENT_STARTED:"liveeventstarted",LIVE_STREAM_OFFLINE:"livestreamoffline",LIVE_STREAM_ONLINE:"livestreamonline",LOADED_DATA:"loadeddata",LOAD_START:"loadstart",LOADED_METADATA:"loadedmetadata",LOADED:"loaded",MOTION_END:"motionend",MOTION_START:"motionstart",CAMERA_CHANGE:"camerachange",WEBVR_HARDWARE_AVAILABLE:"webvrhardwareavailable",ENTER_WEBVR:"enterwebvr",EXIT_WEBVR:"exitwebvr",ENTER_PICTURE_IN_PICTURE:"enterpictureinpicture",LEAVE_PICTURE_IN_PICTURE:"leavepictureinpicture",SPATIAL_UNSUPPORTED:"spatialunsupported",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PLAYBACK_RATE_CHANGE:"playbackratechange",RATE_CHANGE:"ratechange",PROGRESS:"progress",QUALITY_CHANGE:"qualitychange",READY:"ready",REMOTE_PLAYBACK_AVAILABILITY_CHANGE:"remoteplaybackavailabilitychange",REMOTE_PLAYBACK_CONNECTING:"remoteplaybackconnecting",REMOTE_PLAYBACK_CONNECT:"remoteplaybackconnect",REMOTE_PLAYBACK_DISCONNECT:"remoteplaybackdisconnect",RESIZE:"resize",SEEKING:"seeking",SEEKED:"seeked",SPACE_CHANGE:"spacechange",TEXT_TRACK_CHANGE:"texttrackchange",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",WAITING:"waiting",PLAYER_LOGIN_SUCCESSFUL:"playerLoginSuccessful",PLAYER_LOGIN_FAILED:"playerLoginFailed",COMPONENT_VISIBILITY_CHANGE:"componentVisibilityChange",APP_BREAKPOINT_CHANGE:"appBreakpointChange",LOAD_VIDEO:"loadVideo"},S_={playProgress:"timeupdate",loadProgress:"progress",finish:"ended",seek:"seeked"},A_="4.43.10",N_="PROD",M_=!0===Bt.iOS,O_="chapter",I_=["t","start","at"],L_="vimeo_",R_=`${L_}t_`,x_="preact-menu",P_="one",D_="two",B_="three",$_="four",V_={[P_]:"000000",[D_]:"00adef",[B_]:"ffffff",[$_]:"000000"},j_={[P_]:"color_one",[D_]:"color_two",[B_]:"color_three",[$_]:"color_four"},H_={[P_]:"colorOne",[D_]:"colorTwo",[B_]:"colorThree",[$_]:"colorFour"};var F_=function(t){return t.POPUP="popup",t.ON_SITE="onsite",t}(F_||{});const U_=12e3,z_=[151656996,85979044,135306151,84839100,156281671,71236980,110717144];let X_=function(t){return t.VP_PLAYER_UI_OVERLAYS="vp-player-ui-overlays",t.VP_PLAYER_UI_CONTAINER="vp-player-ui-container",t.VP_VIDEO="vp-video",t.VP_VIDEO_WRAPPER="vp-video-wrapper",t.VP_TELECINE="vp-telecine",t.VP_CONTROLS="vp-controls",t.VP_CAST_BUTTON="vp-cast-button",t.VP_CAPTIONS="vp-captions",t.VP_MENU="vp-menu",t.VP_SIDEDOCK="vp-sidedock",t.VP_TITLE="vp-title",t.VP_TARGET="vp-target",t.VP_PREVIEW="vp-preview",t.COMPASS_WRAPPER="compass-wrapper",t.STEREOSCOPIC="stereoscopic",t.CC="cc",t.CUSTOM_LOGO="custom-logo",t.FULLSCREEN="fullscreen",t.THUMB="thumb",t.LIKE_ICON="like-icon",t.WATCH_LATER_ICON="watch-later-icon",t.FILL="fill",t.SHOWFOCUS="showfocus",t.ADS_WRAPPER="vp-ads-wrapper",t.ADS_TAG="vp-ads-tag",t.ADS_COUNTDOWN="vp-ads-countdown",t.VP_SPIN="vp-spin",t}({}),G_=function(t){return t.VP_OUTRO_WRAPPER="vp-outro-wrapper",t.VP_PREFS="vp-prefs",t.VP_PROGRESS="vp-progress",t.PIP="pip",t.VOLUME="volume",t.VOD_BUTTON="vod-button",t.LIKE_BUTTON="like-button",t.WATCH_LATER_BUTTON="watch-later-button",t}({}),W_=function(t){return t.EXCLUDE_GLOBAL_BUTTON_STYLES="exclude-global-button-styles",t.ENTER_FULLSCREEN_ICON="enter-fullscreen-icon",t.EXIT_FULLSCREEN_ICON="exit-fullscreen-icon",t.CONTENT_AREA_BACKGROUND_CONTAINER="vp-content-area-background",t.REMOTE_ACCESS_GATE="vp-remote-access-gate",t.SCRUBBING="scrubbing",t}({}),q_=function(t){return t.RIGHT_CONTENT_AREA="right-content-area",t.NEW_WINDOW_DESCRIPTION="new-window",t.VP_OVERLAY_LABELLEDBY="overlay-labelledby",t}({}),Y_=function(t){return t.TRANSCRIPT_LIST="transcript-list",t.TRANSCRIPT_CUE_PREFIX="transcript-cue",t.TRANSCRIPT_MENU="transcript-menu",t.TRANSCRIPT_VIEWER="transcript-viewer",t.TRANSCRIPT_USAGE_DESCRIPTION="transcript-usage-description",t}({}),K_=function(t){return t.AI_WIDGET_ID="ai-widget",t}({}),Z_=function(t){return t.QOE_SURVEY_TEXT="qoe-survey-text",t.REPLAY="replay",t.BROADCAST_OVER="broadcast-over",t.FRAME_CAPTURED="frame-captured",t.CHANGE_LANGUAGES="change-languages",t}({}),Q_=function(t){return t.TITLE_TEXT="title-text",t}({}),J_=function(t){return t.TEXT_TRACK_ID_PREFIX="telecine-track-",t}({}),tm=function(t){return t.COLLAPSE="collapse-control-bar-button",t.CC="cc-control-bar-button",t.PREFS="prefs-control-bar-button",t.CHAPTERS="chapters-control-bar-button",t.TRANSCRIPT="transcript-control-bar-button",t.FULLSCREEN="fullscreen-control-bar-button",t.PIP="pip-control-bar-button",t}({}),em=function(t){return t.FONT_FAMILY_ACCORDION="font-family-accordion",t.EDGE_STYLE_ACCORDION="edge-style-accordion",t.VP_CC_FONT_COLOR_LABEL="vp-cc-font-color-label",t.VP_CC_BACKGROUND_COLOR_LABEL="vp-cc-background-color-label",t.VP_CC_BACKGROUND_OPACITY_LABEL="vp-cc-background-opacity-label",t.VP_CC_FONT_SIZE_LABEL="vp-cc-font-size-label",t.VP_CC_FONT_OPACITY_LABEL="vp-cc-font-opacity-label",t.VP_CC_FONT_EDGE_STYLE_LABEL="vp-cc-font-edge-style-label",t.VP_CC_WINDOW_OPACITY_LABEL="vp-cc-window-opacity-label",t.VP_CC_WINDOW_COLOR_LABEL="vp-cc-window-color-label",t}({}),nm=function(t){return t.SEARCH_INPUT="search-input",t}({}),im=function(t){return t.CONTENT_AREA_SIBLING_ELIGIBLE="data-content-area-sibling-eligible",t}({}),rm=function(t){return t.START_INPUT="segment-share-start-input",t.END_INPUT="segment-share-end-input",t}({}),om=function(t){return t.NOT_SUPPORTED="not-supported",t.DRM_FAILURE="drm-failure",t.DECODE="decode",t.NETWORK="network",t.UNKNOWN="unknown",t.TELECINE_FILE_ERROR="telecine-file-error",t.TELECINE_DOWNLOAD_ERROR="telecine-download-error",t.MEDIA_URL_EXPIRED="media-url-expired",t.SCANNER_ERROR="scanner-error",t.ERROR="error",t.LOAD_VIDEO_VIA_CONFIG="load-video-via-config-error",t.LOCAL_ACCESS_GATE_ERROR="local-access-gate-error",t}({});const sm=()=>({type:om.NETWORK,title:"Network error",message:'A network hiccup interrupted playback. Please <a href="javascript:window.location.reload()" rel="noopener">reload the player</a> and try again.',final:!0}),am=()=>({type:om.ERROR,title:"Player error",message:"The player is having trouble. We’ll have it back up and running as soon as possible.",modal:!0,final:!0});var um=Object.freeze({__proto__:null,BrowserNotSupported:()=>({type:om.NOT_SUPPORTED,title:"Unsupported viewing environment",message:`Your system is having trouble playing this video. For more information, see our <a href="https://help.vimeo.com/hc/en-us/articles/115015677227-Troubleshoot-player-error-messages" target="_blank" rel="noopener" aria-describedby="${q_.NEW_WINDOW_DESCRIPTION}">Help Center</a>.`,deferred:!0,final:!0}),DRMFailure:()=>({type:om.DRM_FAILURE,title:"Rights issue",message:"We’re having trouble authorizing playback for this video. ",final:!0}),FilesNotPlayable:()=>({type:om.NOT_SUPPORTED,title:"Player error",message:"The player is having trouble. We’ll have it back up and running as soon as possible.",deferred:!0,final:!0}),MediaSrcNotSupportedError:()=>({type:om.NOT_SUPPORTED,final:!1}),MediaDecodeError:()=>({type:om.DECODE,final:!1}),MediaNetworkError:sm,MediaUnknownError:()=>({type:om.UNKNOWN,title:"Browser error",message:'We’re having trouble playing this video file. Please <a href="javascript:window.location.reload()" rel="noopener">reload the player</a> and try again.',final:!0}),FileError:()=>({type:om.TELECINE_FILE_ERROR,final:!1}),DownloadError:()=>({type:om.TELECINE_DOWNLOAD_ERROR,final:!1}),MediaUrlExpired:()=>({type:om.MEDIA_URL_EXPIRED,title:"Playback error",message:'We’re having trouble playing this video. Please <a href="javascript:window.location.reload()" rel="noopener">reload the player</a> and try again.',final:!1}),ScannerError:()=>({type:om.SCANNER_ERROR,final:!1}),PlayerError:am});const lm=t=>({onClick:t,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||t(e)}}),cm=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(t){return Bt.clipboardAPI?function(e,n){try{var i=function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(navigator.clipboard.writeText(t),(function(){return!0}))}catch(t){return n()}return i&&i.then?i.then(void 0,n):i}(0,(function(e){return dm(t)})):dm(t)}));function dm(t){const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select();const n=document.execCommand("copy");return document.body.removeChild(e),n}const hm=(t,e,n)=>e[n]??t[n];function fm(t,e){return!t||0===t.length||-1!==t.indexOf(e)}const pm=t=>[E_.main,E_.privateUnlocked].includes(t),vm=(t,e)=>t&&(t.contains(e.target)||t===e.target),_m=(...t)=>t.reduce(((t,e)=>e?t?`${t} ${e}`:e:t),null),mm=(t=[],e)=>t.map((t=>Q(Q({},t),{},{active:`${t.id}`===e}))),bm=t=>{let e=0,n=0;if(t){const{left:i,right:r}=r_(t),{borderLeftWidth:o,borderRightWidth:s}=window.getComputedStyle(t,"");e=i+parseInt(o,10),n=r-parseInt(s,10)}return{leftOffsetValue:e,rightOffsetValue:n}},ym=(t,e)=>Math.max(t-e.startTime,0),gm=(t,e)=>{const{startTime:n,endTime:i,duration:r}=e;return t<n?0:t>i?1:ym(t,e)/r},wm=(t,e=!0)=>{const n=100*(e?h_(t,2):t);return`${Math.max(Math.min(n,100),0)}%`},Tm=(t,e)=>{const{startTime:n,duration:i}=e;return n+i*t},Cm=(t,e)=>{const{duration:n}=e;return n*t||0},Em=(t,e,n)=>(n-e)*t+e,km=(t,e,n)=>(t-e)/(n-e),Sm=(t,e)=>t.filter((t=>{const n=t.startTime>=e.startTime&&t.startTime<=e.endTime,i=t.endTime>=e.startTime&&t.endTime<=e.endTime,r=t.startTime<e.startTime&&t.endTime>=e.endTime;return n||i||r}));let Am=function(t){return t.EMPTY="empty",t.SHARE="share",t.HELP="help",t.ERROR="error",t.SPATIAL_REDIRECT="spatial-redirect",t.NOT_SUPPORTED="not-supported",t.INTERACTIVE="interactive",t}({});const Nm=t=>t===Am.INTERACTIVE||t===Am.EMPTY,Mm=t=>(t=>void 0!==t.settings)(t)?!t.settings.background&&0!==t.settings.controls:!t.background&&t.controls,Om=t=>(Date.now()-t)/1e3,Im=t=>Math.round(1e3*t),Lm=t=>{var e;let n,i=!1,r="0",o="0",s="0",a=t;const u=a.startsWith("-");if(u&&(a=a.substring(1)),n=a.match(/^(\d*\.?\d+)$/),null!=(e=n)&&e.length&&(i=!0,s=n[0]),!1===i&&(n=a.match(/^(?:(\d*\.?\d+)h)?(?:(\d*\.?\d+)m)?(?:(\d*\.?\d+)s)?/),null!==n&&""!==n[0]&&(i=!0,[,r="0",o="0",s="0"]=n)),!1===i&&(n=a.match(/^([0-9:]+)/),null!==n&&(i=!0,[s,o="0",r="0"]=a.split(":").reverse())),!i)return null;const l=60*Number(r)*60+60*Number(o)+Number(s);return u?-l:l},Rm=(t,e,n)=>{const i=String(t);return new Array(e-i.length+1).join(n||"0")+i},xm=(t,e)=>{const n=Math.ceil(t)<0;t=Math.abs(t);const i=Math.floor(t/3600%60),r=Math.floor(t/60%60);if(t=Math.floor(t%60),e){let e=t+" second"+(1===t?"":"s");return r>0&&(e=r+" minute"+(1===r?"":"s")+", "+e),i>0&&(e=i+" hour"+(1===i?"":"s")+", "+e),e}return(n?"-":"")+(i>0?i+":":"")+Rm(r,2)+":"+Rm(t,2)},Pm=/^\d{1,}:[0-5][0-9]:[0-5][0-9]$/,Dm=/^\d{1,}:[0-5][0-9]$/,Bm=/^\d+$/,$m={hours:0,minutes:0,seconds:0},Vm=t=>{const e=(t=>{if(!t)return $m;const e=t.trim();if(!e)return $m;if(Pm.test(e)){const[t,n,i]=e.split(":").map(Number);return{hours:t,minutes:n,seconds:i}}if(Dm.test(e)){const[t,n]=e.split(":").map(Number);return{hours:0,minutes:t,seconds:n}}if(Bm.test(e)){const t=parseInt(e,10),n=t%3600;return{hours:Math.floor(t/3600),minutes:Math.floor(n/60),seconds:n%60}}return $m})(t),{hours:n,minutes:i,seconds:r}=e;if(0===n&&0===i&&0===r)return"";let o="";return n>0&&(o+=`${n}h`),i>0&&(o+=`${i}m`),r>0&&(o+=`${r}s`),o};function jm(t){return Math.round(parseInt(t,16)/255*100)/100}function Hm(...t){if(1===t.length&&t[0]instanceof Hm){var e=t[0];return this.red=e.red,this.green=e.green,this.blue=e.blue,this.alpha=e.alpha,this.hue=e.hue,this.saturation=e.saturation,this.lightness=e.lightness,this}if(1===t.length){if("string"==typeof t[0]&&t[0].indexOf("rgb")>=0)return this.rgba=function(t){var e=/rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(,\s*([\d.]+))?\)/.exec(t);if(!e)throw new Error("Invalid rgb value");return{red:parseInt(e[1],10),green:parseInt(e[2],10),blue:parseInt(e[3],10),alpha:parseFloat(e[5])||1}}(t[0]),this;if(!function(t){return"string"==typeof(t=t.replace("#",""))&&[3,4,6,8].includes(t.length)&&!isNaN(parseInt(t,16))}(`${t[0]}`))throw new Error("Invalid hex value");const{hex:e,alpha:n}=function(t){let e=1;return 4===(t=t.replace("#","")).length&&(e=jm(t.slice(3)+t.slice(3)),t=t.slice(0,3)),8===t.length&&(e=jm(t.slice(6,8)),t=t.slice(0,6)),{hex:t,alpha:e}}(`${t[0]}`);return this.hex=e,this.alpha=n,this}if(3===t.length||4===t.length){for(var n=0;n<3;n++)if(isNaN(parseInt(t[n],10))||parseInt(t[n],10)<0||parseInt(t[n],10)>255)throw new Error("Invalid rgb value");if(t[3]&&parseFloat(t[3])<0||parseFloat(t[3])>1)throw new Error("Invalid alpha value");return this.rgba={red:t[0],green:t[1],blue:t[2],alpha:parseFloat(t[3])||1},this}throw new Error("Invalid color")}Hm.prototype={get complement(){var t=this.clone();return t.rgb={red:255-this.red,green:255-this.green,blue:255-this.blue},t},get hex(){return Hm.rgbToHex(this.red,this.green,this.blue)},get hexWithAlpha(){const t=("0"+Math.round(255*this.alpha).toString(16)).slice(-2);return Hm.rgbToHex(this.red,this.green,this.blue)+t},set hex(t){return this.rgba=Hm.hexToRgb(t),this},get hsl(){return"hsl("+this.hue+","+this.saturation+"%,"+Math.round(this.lightness)+"%)"},set hsl(t){this.hue=t.hue,this.saturation=t.saturation,this.lightness=t.lightness;var e=Hm.hslToRgb(t.hue,t.saturation,t.lightness);return this.red=e.red,this.green=e.green,this.blue=e.blue,this.alpha=e.alpha,this},get luminance(){function t(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*t(this.red/255)+.7152*t(this.green/255)+.0722*t(this.blue/255)},get rgb(){return"rgb("+this.red+","+this.green+","+this.blue+")"},set rgb(t){return this.rgba=t,this},get rgba(){return"rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")"},set rgba(t){this.red=t.red,this.green=t.green,this.blue=t.blue,this.alpha=t.alpha||1;var e=Hm.rgbToHsl(t.red,t.green,t.blue);return this.hue=e.hue,this.saturation=e.saturation,this.lightness=e.lightness,this},get yiq(){return(299*this.red+587*this.green+114*this.blue)/1e3},clone:function(){return new Hm(this)},lighten:function(t,e,n){if(this.hsl={hue:this.hue,saturation:this.saturation,lightness:this.lightness+t},e&&n)for(var i=n.contrast(this).ratio;i<e&&(this.lighten(5),i=n.contrast(this).ratio,!(this.lightness>=100)););return this},darken:function(t,e,n){if(this.hsl={hue:this.hue,saturation:this.saturation,lightness:this.lightness-t},e&&n)for(var i=n.contrast(this).ratio;i<e&&(this.darken(5),i=n.contrast(this).ratio,!(this.lightness<=0)););return this},overlayOn:function(t){if(this.alpha>=1)return this;var e=this.clone();return e.rgba={red:e.red*this.alpha+t.red*t.alpha*(1-this.alpha),green:e.green*this.alpha+t.green*t.alpha*(1-this.alpha),blue:e.blue*this.alpha+t.blue*t.alpha*(1-this.alpha),alpha:e.alpha+t.alpha*(1-this.alpha)},e},contrast:function(t){var e=this.alpha;if(e>=1){t.alpha<1&&(t=t.overlayOn(this));var n=this.luminance+.05,i=t.luminance+.05,r=n/i;return i>n&&(r=1/r),{ratio:r=Math.round(10*r)/10,error:0,min:r,max:r}}var o=this.overlayOn(Hm.white).contrast(t).ratio,s=this.overlayOn(Hm.black).contrast(t).ratio,a=Math.max(o,s),u={red:Math.min(Math.max(0,(t.red-this.red*e)/(1-e)),255),green:Math.min(Math.max(0,(t.green-this.green*e)/(1-e)),255),blue:Math.min(Math.max(0,(t.blue-this.blue*e)/(1-e)),255)},l=this.clone();l.rgb=u;var c=this.overlayOn(l).contrast(t).ratio;return{ratio:Math.round((c+a)/2*10)/10,error:Math.round((a-c)/2*10)/10,min:c,max:a,closest:l,farthest:s===a?Hm.white:Hm.black}},wcagAACompliant:function(t){return this.contrast(t).ratio>=4.5},wcagAAACompliant:function(t){return this.contrast(t).ratio>=7},yiqContrastColor:function(){return this.yiq>=120?new Hm(0,0,0):new Hm(255,255,255)}},Hm.hexToRgb=function(t){var e;return 3===(t=String(t)).length||4===t.length?(e=/^#?([A-Fa-f0-9])([A-Fa-f0-9])([A-Fa-f0-9])$/i.exec(t))&&(e[1]+=e[1],e[2]+=e[2],e[3]+=e[3]):e=/^#?([A-Fa-f0-9]{2})([A-Fa-f0-9]{2})([A-Fa-f0-9]{2})$/i.exec(t),e?{red:parseInt(e[1],16),green:parseInt(e[2],16),blue:parseInt(e[3],16),alpha:1}:null},Hm.rgbToHex=function(t,e,n){return"#"+((1<<24)+(Math.round(t)<<16)+(Math.round(e)<<8)+Math.round(n)).toString(16).slice(1)},Hm.rgbToHsl=function(t,e,n){t/=255,e/=255,n/=255;var i,r=Math.max(t,e,n),o=Math.min(t,e,n),s=(r+o)/2,a=s;if(r===o)return{hue:0,saturation:0,lightness:100*a};var u=r-o;return i=a>.5?u/(2-r-o):u/(r+o),r===t?s=(e-n)/u+(e<n?6:0):r===e?s=(n-t)/u+2:r===n&&(s=(t-e)/u+4),s/=6,{hue:Math.round(360*s),saturation:Math.round(100*i),lightness:Math.round(100*a)}},Hm.hslToRgb=function(t,e,n){function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),6*n<1?t+6*(e-t)*n:2*n<1?e:3*n<2?t+6*(2/3-n)*(e-t):t}if(t/=360,n/=100,0==(e/=100))return{red:Math.floor(255*n),green:Math.floor(255*n),blue:Math.floor(255*n)};var r=n<.5?n*(1+e):n+e-e*n,o=2*n-r;return{red:Math.floor(255*i(o,r,t+1/3)),green:Math.floor(255*i(o,r,t)),blue:Math.floor(255*i(o,r,t-1/3))}},Hm.hslToHex=function(t,e,n){var i=Hm.hslToRgb(t,e,n);return Hm.rgbToHex(i.red,i.green,i.blue)},Hm.white=new Hm("fff"),Hm.black=new Hm("000");let Fm=function(t){return t.ONE="--color-one",t.TWO="--color-two",t.THREE="--color-three",t.FOUR="--color-four",t.ONE_MONOCHROME="--color-one-monochrome",t.TWO_MONOCHROME="--color-two-monochrome",t.ONE_OPACITY_NINETY="--color-one-opacity-ninety",t.TWO_OPACITY_NINETY="--color-two-opacity-ninety",t.THREE_OPACITY_TWENTY="--color-three-opacity-twenty",t.ONE_MONOCHROME_OPACITY_TWENTY="--color-one-monochrome-opacity-twenty",t.TWO_MONOCHROME_OPACITY_TWENTY="--color-two-monochrome-opacity-twenty",t.ONE_MONOCHROME_OPACITY_SIXTY="--color-one-monochrome-opacity-sixty",t.ONE_MONOCHROME_OPACITY_TWENTY_EIGHTY="--color-one-monochrome-opacity-twenty-eighty",t.TWO_MONOCHROME_OPACITY_TWENTY_EIGHTY="--color-two-monochrome-opacity-twenty-eighty",t.TWO_COMPLEMENT="--color-two-complement",t}({}),Um=function(t){return t[t.ZERO=0]="ZERO",t[t.TWENTY=.2]="TWENTY",t[t.TWENTY_FIVE=.25]="TWENTY_FIVE",t[t.FIFTY=.5]="FIFTY",t[t.SIXTY=.6]="SIXTY",t[t.SEVENTY_FIVE=.75]="SEVENTY_FIVE",t[t.EIGHTY=.8]="EIGHTY",t[t.NINETY=.9]="NINETY",t[t.ONE_HUNDRED=1]="ONE_HUNDRED",t}({}),zm=function(t){return t.LIGHT="light",t.DARK="dark",t}({});const Xm=(t="")=>4===(t=t.replace("#","")).length||8===t.length,Gm=(t,e,n)=>{let i;try{i=new Hm(t)}catch(t){return""}null!=n&&n.complement&&(i=i.complement);const r=(t=>Hm.white.contrast(t).ratio>=4.5?zm.DARK:zm.LIGHT)(i);return null!=n&&n.monochrome&&(i=jr(r===zm.DARK?Hm.white:Hm.black)),null==e||null!=n&&n.forceHexAlpha&&Xm(t)?Xm(t)?i.hexWithAlpha:i.hex:("object"==typeof e&&(e=e[r]),i.alpha=e,i.hexWithAlpha)},Wm=t=>t.map((([t,e])=>((t,e)=>t+":"+e+";")(t,e))).join("\n"),qm=()=>{};let Ym=function(t){return t.CONNECTED="CONNECTED",t.CONNECTING="CONNECTING",t.NOT_CONNECTED="NOT_CONNECTED",t.NOT_SETUP="NOT_SETUP",t.NO_DEVICES_AVAILABLE="NO_DEVICES_AVAILABLE",t.SETUP_DONE="SETUP_DONE",t}({}),Km=function(t){return t.VimeoPlayer="VimeoPlayer",t.BackgroundPlayer="BackgroundPlayer",t.BarebonePlayer="BarebonePlayer",t}({}),Zm=function(t){return t.NORMAL="normal",t.MINI="mini",t.TINY="tiny",t}({}),Qm=function(t){return t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR",t}({}),Jm=function(t){return t[t.HAVE_NOTHING=0]="HAVE_NOTHING",t[t.HAVE_METADATA=1]="HAVE_METADATA",t[t.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",t[t.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",t[t.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA",t}({}),tb=function(t){return t.PRIVACY_PUBLIC="anybody",t.PRIVACY_NOBODY="nobody",t.PRIVACY_FOLLOW="contacts",t.PRIVACY_PASSWORD="password",t.PRIVACY_USER="users",t.PRIVACY_PURGATORY="purgatory",t.PRIVACY_HIDE_FROM_VIMEO="disable",t.PRIVACY_PAYTOVIEW="ptv",t.PRIVACY_PAYTOVIEWEXTRA="ptv_extra",t.PRIVACY_UNLISTED="unlisted",t.PRIVACY_STOCK="stock",t}({}),eb=function(t){return t.PLAY="play",t.PAUSE="pause",t.REPLAY="replay",t.TRAILER="trailer",t}({}),nb=function(t){return t.FONT_SIZE="fontSize",t.FONT_FAMILY="fontFamily",t.FONT_OPACITY="fontOpacity",t.COLOR="color",t.EDGE_STYLE="edgeStyle",t.BG_OPACITY="bgOpacity",t.BG_COLOR="bgColor",t.WINDOW_OPACITY="windowOpacity",t.WINDOW_COLOR="windowColor",t}({}),ib=function(t){return t.CCMenu="c",t.PrefsMenu="h",t.Transcript="T",t}({}),rb=function(t){return t.SINGLE_VIDEO_VIEW_MANAGE="single_video_view_manage",t.VIEWER_HOME="viewer_home",t.EMBEDDED_PAGE="embedded_page",t.CLIP_PAGE="clip_page",t.LIVE_EVENT_SETTINGS_PAGE="live_event_settings_page",t}({}),ob=function(t){return t[t.CacheMiss=0]="CacheMiss",t[t.MidCacheHit=1]="MidCacheHit",t[t.EdgeCacheHit=2]="EdgeCacheHit",t}({}),sb=function(t){return t.TITLE="ti",t.BYLINE="by",t.PORTRAIT="po",t.LIKE="li",t.WATCH_LATER="wl",t.SHARE="sh",t.VIMEO_LOGO="vl",t}({}),ab=function(t){return t.FLOW="fl",t.FLOW_ELEMENT="fe",t.PGROUP="pgroup",t}({});const{REACHABLE:ub,UNREACHABLE:lb}={REACHABLE:"reachable",UNREACHABLE:"unreachable"},{VIMEO_URL:cb,VIEWER_HOME_URL:db,SVV_MANAGE_URL:hb,PROFILE_URL:fb,VOD_URL:pb,VOD_VIDEO_MANAGE_URL:vb,NO_DESTINATION:_b}={VIMEO_URL:"vimeoUrl",VIEWER_HOME_URL:"viewerHomeUrl",SVV_MANAGE_URL:"svvManageUrl",CLIP_URL:"clipUrl",PROFILE_URL:"profileUrl",VOD_URL:"vodUrl",VOD_VIDEO_MANAGE_URL:"vodVideoManageUrl",NO_DESTINATION:"noDestination"},mb={[bh]:{viewer:{[Nh]:db,[kh]:db,[Sh]:cb,[Eh]:db,[Ch]:db,[Ah]:pb,privateMode:cb},creator:{[Nh]:hb,[kh]:hb,[Sh]:hb,[Eh]:hb,[Ch]:hb,[Ah]:vb,privateMode:hb}},[yh]:{viewer:{[Nh]:db,[kh]:db,[Sh]:fb,[Eh]:db,[Ch]:db,[Ah]:pb,privateMode:cb},creator:{[Nh]:hb,[kh]:hb,[Sh]:hb,[Eh]:hb,[Ch]:hb,[Ah]:vb,privateMode:hb}},[wh]:{viewer:{[Nh]:fb,[kh]:fb,[Sh]:fb,[Eh]:fb,[Ch]:fb,[Ah]:fb,privateMode:cb},creator:{[Nh]:fb,[kh]:fb,[Sh]:fb,[Eh]:fb,[Ch]:fb,[Ah]:vb,privateMode:hb}},[gh]:{viewer:{[Nh]:fb,[kh]:fb,[Sh]:fb,[Eh]:fb,[Ch]:fb,[Ah]:fb,privateMode:cb},creator:{[Nh]:fb,[kh]:fb,[Sh]:fb,[Eh]:fb,[Ch]:fb,[Ah]:vb,privateMode:hb}},[Th]:{viewer:{[Nh]:db,[kh]:_b,[Sh]:_b,[Eh]:_b,[Ch]:db,[Ah]:pb,privateMode:_b},creator:{[Nh]:db,[kh]:_b,[Sh]:_b,[Eh]:_b,[Ch]:db,[Ah]:pb,privateMode:_b}}};function bb(t={}){const e={selectDestination(t){const n=mb[t];if(!n)return"";const i=e.isOwner?n.creator:n.viewer;let r=e.isPrivateMode?i.privateMode:i[e.videoPrivacy];return function(t){return"object"==typeof t&&(ub in t||lb in t)}(r)&&(r=e.isClipLinkUnreachable?r[lb]:r[ub]),r},get[db](){var n,i;return Rb(e[cb],null==(n=t.video)?void 0:n.id,null==(i=t.video)?void 0:i.unlisted_hash)},get[hb](){var n;return Lb(e[cb],null==(n=t.video)?void 0:n.id)},get[cb](){return`https://${t.vimeo_url}`},get[fb](){var e;return null==(e=t.video)||null==(e=e.owner)?void 0:e.url},get[pb](){var e;return null==(e=t.video)||null==(e=e.vod)?void 0:e.url},get[vb](){var e;return`https://${t.vimeo_url}/ondemand/${null==(e=t.video)||null==(e=e.vod)?void 0:e.id}/settings/basic`},get[_b](){return""},get videoPrivacy(){var e;return null==(e=t.video)?void 0:e.privacy},get isPrivateMode(){var e;return!(null==(e=t.user)||!e.private_mode_enabled)},get isOwner(){var e,n;return(null==(e=t.user)?void 0:e.id)===(null==(n=t.video)||null==(n=n.owner)?void 0:n.id)},get isClipLinkUnreachable(){var e,n,i;return 0===(null==(e=t.embed)||null==(e=e.settings)?void 0:e.portrait)&&0===(null==(n=t.embed)||null==(n=n.settings)?void 0:n.byline)&&0===(null==(i=t.embed)||null==(i=i.settings)?void 0:i.title)}};return e}function yb(t,e){let n="";const i=bb(e),r=i.selectDestination(t);i[r]&&(n=i[r]);const o={[yh]:sb.TITLE,[wh]:sb.PORTRAIT,[gh]:sb.BYLINE,[bh]:sb.VIMEO_LOGO}[t];return o&&n&&(n=gb(n,o)),n}function gb(t,e){return Qt(t,{[ab.FLOW]:"pl",[ab.FLOW_ELEMENT]:e})}let wb=function(t){return t.VARIANT="plv",t.CONTROL="plc",t}({});const Tb=/^(%20|\s)*(javascript|data)/im,Cb=/[^\x20-\x7E]/gim,Eb=/^([^:]+):/gm,kb=[".","/"];function Sb(t,e,n){Ab(t,e)||(t+=((t="")=>t.includes("?"))(t)?`&${e}=`:`?${e}=`);const i=new RegExp("([?&])"+e+"=.*?(&|$)","i");return t.replace(i,"$1"+e+"="+n+"$2")}function Ab(t,e){return-1!==(null==t?void 0:t.indexOf(`?${e}=`))||-1!==(null==t?void 0:t.indexOf(`&${e}=`))}function Nb(t){return-1!==t.indexOf("VideoController")}function Mb(t,e=window.location.href){const n=bb(t),i=-1!==t.embed.context.indexOf("ClipController"),r=function(t,e){const n=Lb(e),i=function(t){return`${t}/manage/showcases/`}(e);return-1!==t.indexOf(n)||-1!==t.indexOf(i)}(e,n.vimeoUrl),o=Nb(t.embed.context)&&(-1!==e.indexOf(n.viewerHomeUrl)||e===n.clipUrl);return function(t,e){const n=function(t){return`${t}/live/broadcaster/event/`}(e),i=function(t){return`${t}/live/rtmp/event/`}(e);return-1!==t.indexOf(n)||-1!==t.indexOf(i)}(e,n.vimeoUrl)?rb.LIVE_EVENT_SETTINGS_PAGE:r?rb.SINGLE_VIDEO_VIEW_MANAGE:o?rb.VIEWER_HOME:i?rb.CLIP_PAGE:rb.EMBEDDED_PAGE}const Ob=t=>{const e=t.match(Eb);return null==e?void 0:e[0]},Ib=t=>t?decodeURI(encodeURI((t=>{t=t.trim();const e=Ob(t);return t&&!e&&(t=`https://${t}`),t})((t=>{let e=t.replace(Cb,"");if((t=>kb.indexOf(t[0])>-1)(e))return e;const n=Ob(e);return n&&Tb.test(n)?"":e})(t)))):null;function Lb(t,e){return`${t}/manage/videos/${e??""}`}const Rb=(t,e,n)=>n?`${t}/${e}/${n}`:`${t}/${e}`;function xb(t,e){const n="variant"===(e.group||"")?wb.VARIANT:wb.CONTROL;return Sb(t,ab.PGROUP,n)}function Pb(t,e,n){if(!t)return"";if(!e&&!n)return t;const i=(null==e?void 0:e.toString())||null,r=(null==n?void 0:n.toString())||null;if(!i&&!r)return t;let o=t;const s=t.includes("#"),a=!i||0===Number(i.replace(/\D/g,""));return a||(o+=`${s?"&":"#"}t=${Vm(i)}`),r&&(o+=`${a&&!s?"#":"&"}end=${Vm(r)}`),o}function Db(t){return!(!Bt.browser.chromium||t.video.spatial||"stock"===t.video.privacy||"https:"!==window.location.protocol)}const Bb=vt("Storage Access","color: #fff; background-color: #fc6203; padding: 2px; border-radius: 2px;"),$b=()=>Bt.storageAccessAPI;function Vb(){let t=0,e=null,n=0,i=!1;function r(){return t/1e3}return{trackBufferStart:function(t,r){e=Gt(),n++,i=!0,t(r)},trackBufferEnd:function(n,r={}){if(!i)return;const o=Yt(e);t+=o,r.buffer_duration=o/1e3,i=!1,n(r)},trackVideoExit:function(n){i&&!n&&(t+=Yt(e))},resetLastBufferTime:function(){e=null},getBufferRatio:function(t){const e=r()/t*100;return isNaN(e)?0:Math.round(100*e)/100},getBufferCount:function(){return n},getTotalBufferDuration:r,isVideoBuffering:function(){return i}}}const jb={VIDEO_BUFFER_END:"video-buffer-end",VIDEO_BUFFER_START:"video-buffer-start",VIDEO_ENDED:"video-ended",VIDEO_EXIT:"video-exit",VIDEO_LOAD_FAILURE:"video-load-failure",VIDEO_MINUTE_WATCHED:"video-minute-watched",VIDEO_PAUSED:"video-paused",VIDEO_PLAYED:"video-played",VIDEO_PLAYBACK_ERROR:"video-playback-error",VIDEO_READY:"video-ready",VIDEO_START_ATTEMPT:"video-start-attempt",VIDEO_START_FAILURE:"video-start-failure",VIDEO_START_TIME:"video-start-time",VIDEO_SEEK:"video-seek",VIDEO_SEEKED:"video-seeked",CHUNK_DOWNLOADED:"chunk-downloaded"};function Hb(t){function e(t,e,n=!0,i="POST"){return new r(((r,o)=>{"POST"===i&&navigator.sendBeacon?r({status:navigator.sendBeacon(t,e)}):Ee({url:t,body:e,method:i,async:n,headers:{"Content-Type":"text/plain; charset=UTF-8"}}).then((t=>{r({response:t,status:t.status})})).catch(o)}))}return{log:function(n,i=!0,r=!0){r&&(n.event_time=n.event_time||Gt());const o=[n];return e(t,JSON.stringify(o),i)},logRequestPromiseWithUrl:e}}const Fb="playing";function Ub(t){let e=0,n=0,i=0,r=0,o=!1,s=-1,a=null,u=null,l=null,c={satisfied:0,tolerable:0,frustrated:0},d=null;function h(){const e=t.getBoundingClientRect(),n=t.videoWidth,i=t.videoHeight;if(0===n&&0===i)return;const r="satisfied";let o=r;if(e.width>n&&e.height>i&&(n/e.width<.4?o=r:n/e.width<1?o="tolerable":n/e.width>1&&(o="frustrated")),u){const t=Yt(u);c[l]+=t}l=o,u=Gt()}function f(){return o?0:1}function p(){return-1===s?null:s>8e3||-1===s?0:s>2e3?.5:1}function v(){return d?(r=i/Yt(d),e>=4||r>=.12?0:e<4&&0!==e?r<.12?.5:0:1):null}function _(){if(-1===s)return null;h();const t=Object.keys(c).reduce(((t,e)=>c[t]>c[e]?t:e));switch(t){case"satisfied":return 1;case"tolerable":return.5;case"frustrated":return 0}return null}return t.addEventListener(Fb,(()=>{-1===s&&(a=Gt())})),t.addEventListener("progress",(()=>{-1===s&&(d=Gt(),s=Yt(a)),h()})),{startupTimeScore:p,rebufferScore:v,failureScore:f,videoQualityScore:_,overallScore:function(){return Math.min(f(),p(),v(),_())},trackBufferStart:function(){-1!==s&&(e++,n=Gt())},trackBufferEnd:function(){-1!==s&&(i+=Yt(n))},onError:function(t){t.final&&(o=!0)}}}function zb(t,e=3){if(t=parseFloat(t),isNaN(t))return 0;var n=Math.pow(10,e);return Math.round(t*n)/n}function Xb(t,e){let n,i,r,o,s,a,u,l,c,d,h,f,p,v,_=0;function m(){n=0,i=0,r=0,o=0,s=0,a=null,u=0,l=!1,c=!1,d=null,h=!1,f=new Ub(t),p=new Vb,v={bufferTracker:p,videoBufferCheck:()=>{setInterval((()=>{let e=t.currentTime;c&&!h&&!t.paused&&!v.bufferTracker.isVideoBuffering()&&e<s+.125&&v.bufferTracker.trackBufferStart(y),c&&!t.paused&&v.bufferTracker.isVideoBuffering()&&e>s+.125&&(v.bufferTracker.trackBufferEnd(g),v.bufferTracker.resetLastBufferTime()),s=e}),250)},addEventData:t=>null,playbackSessionTimer:()=>{let e=Gt();setInterval((()=>{(!t.paused&&l||h||v.bufferTracker.isVideoBuffering())&&(u+=Yt(e)/1e3),e=Gt()}),500)},customMinuteTracker:{shouldCount:()=>!1,onCount:()=>{}}}}function b(t,n={}){0===_&&(n=Object.assign(n,v.addEventData(t)),e(t,n))}function y(t={}){f.trackBufferStart(),b(jb.VIDEO_BUFFER_START,t)}function g(t={}){f.trackBufferEnd(),b(jb.VIDEO_BUFFER_END,t)}return m(),b(jb.VIDEO_READY),function(){let e=Math.ceil(59*Math.random());setInterval((()=>{var s,a,u;function c(t,n){return 0===t?n===e:n>=60}!t.paused&&l&&(n++,null!=(s=v.customMinuteTracker)&&null!=s.shouldCount&&s.shouldCount()&&i++,c(r,n)&&(n=0,r++,b(jb.VIDEO_MINUTE_WATCHED)),c(o,i)&&null!=(a=v.customMinuteTracker)&&null!=a.shouldCount&&a.shouldCount()&&(i=0,o++,null==(u=v.customMinuteTracker)||null==u.onCount||u.onCount(o)))}),1e3)}(),window.addEventListener("pagehide",(e=>{v.bufferTracker.trackVideoExit(t.paused);const n={startup:f.startupTimeScore(),rebuffer:f.rebufferScore(),failure:f.failureScore(),quality:f.videoQualityScore(),overall:f.overallScore()};d&&b(jb.VIDEO_EXIT,{vxs:n})}),!1),t.addEventListener(Fb,(()=>{l=!0,h||c&&b(jb.VIDEO_PLAYED)})),t.addEventListener("timeupdate",(()=>{if(c)return;let t={startup_duration:d?zb(Yt(d)/1e3,2):null};b(jb.VIDEO_START_TIME,t),c=!0})),t.addEventListener("pause",(()=>{l=!1,b(jb.VIDEO_PAUSED)})),t.addEventListener("seeking",(()=>{h||(a=Gt(),h=!0,l=!1,b(jb.VIDEO_SEEK))})),t.addEventListener("seeked",(()=>{h=!1,t.paused||(l=!0),b(jb.VIDEO_SEEKED,{seek_duration:Yt(a)/1e3}),a=null})),t.addEventListener("ended",(()=>{b(jb.VIDEO_ENDED)})),t.addEventListener("waiting",(()=>{l=!1})),t.addEventListener("canplay",(()=>{h||v.bufferTracker.isVideoBuffering()&&!l&&(v.bufferTracker.trackBufferEnd(g),v.bufferTracker.resetLastBufferTime())})),{globalProperties:function(){return{autoplay:t.autoplay,buffer_count:v.bufferTracker.getBufferCount(),total_buffer_duration:v.bufferTracker.getTotalBufferDuration(),buffer_ratio:v.bufferTracker.getBufferRatio(u),client_time:Gt(),is_buffering:v.bufferTracker.isVideoBuffering(),looping:t.loop,minutes_watched:r,muted:t.muted,network_state:t.networkState,playback_rate:t.playbackRate,player_width:t.getBoundingClientRect().width,player_height:t.getBoundingClientRect().height,session_playback_duration:zb(u,2),video_time:t.currentTime,video_height:t.videoHeight,video_width:t.videoWidth,volume:zb(t.volume,2)}},logStartRequest:function(){d=Gt(),b(jb.VIDEO_START_ATTEMPT)},customizeHooks:function(t){v=Object.assign(v,t)},initHooks:function(){v.videoBufferCheck(),v.playbackSessionTimer()},logBufferStart:y,logBufferEnd:g,setDisplayContext:function(t){_=t},handleExternalError:function(t,e){l=!1,f.onError(e),b(c?jb.VIDEO_PLAYBACK_ERROR:c?jb.VIDEO_START_FAILURE:jb.VIDEO_LOAD_FAILURE,t)},reset:m}}let Gb=function(t){return t.started="started",t.done="done",t.error="error",t}({}),Wb=function(t){return t.pending="pending",t.active="active",t.started="started",t.ended="ended",t}({}),qb=function(t){return t.WEB_GLOBAL="vimeo.web_global",t.COPY_VIDEO_EMBED_CODE="workflow.copy_video_embed_code",t.PLAYER_PERFORMANCE_MEASUREMENT="vimeo.player_performance_measurement",t.CHAPTER_SEGMENT_CLICK="vimeo.chapter_segment_click",t.CLICK="vimeo.click",t.TIMING_OBJECT_CONNECT="vimeo.timing_object_connect",t.TIMING_OBJECT_DISCONNECT="vimeo.timing_object_disconnect",t.EMBEDDED_TRANSCRIPT_CLICK="vimeo.embedded_transcript_click",t.CLOSED_CAPTIONS_CLICK="vimeo.closed_captions_click",t.MULTI_AUDIO_TRACK_CLICK="vimeo.multi_audio_track_click",t.VIEW_PLAYER_CSAT_V1="vimeo.view_player_csat_v1",t.SELECT_THUMBS_UP_PLAYER_CSAT_V1="vimeo.select_thumbs_up_player_csat_v1",t.SELECT_THUMBS_DOWN_PLAYER_CSAT_V1="vimeo.select_thumbs_down_player_csat_v1",t.DISMISS_PLAYER_CSAT_V1="vimeo.dismiss_player_csat_v1",t.DVR_MODE_ENTERED="vimeo.dvr_mode_entered",t.SEEK_BEHIND_LIVE_EDGE="vimeo.seek_behind_live_edge",t.SKIP_TO_LIVE_CLICK="vimeo.skip_to_live_click",t.SEEK_TO_LIVE_EDGE="vimeo.seek_to_live_edge",t.PLAY_VIDEO="vimeo.play_video",t.FINISH_VIDEO="vimeo.finish_video",t.START_VIDEO_SCRUB="vimeo.start_video_scrub",t.END_VIDEO_SCRUB="vimeo.end_video_scrub",t.WATCH_VIDEO_HEARTBEAT="vimeo.watch_video_heartbeat",t.EMBED_SEGMENT="vimeo.embed_segment",t.PLAY_SEGMENT="vimeo.play_segment",t.WATCH_FULL_VIDEO="vimeo.watch_full_video",t.SEEK_INSIDE_SEGMENT="vimeo.seek_inside_segment",t.SHARE_CHAPTER="vimeo.share_chapter",t.CHAPTER_PLAYED="vimeo.chapter_played",t.CHAPTER_SELECTED="vimeo.chapter_selected",t.OPEN_AI_OPTIONS="vimeo.open_ai_options",t.PROCESS_STEP="vimeo.process_step",t.REMOTE_COMPONENT_LOADED="vimeo.remote_component_loaded",t.REMOTE_COMPONENT_TIMEOUT="vimeo.remote_component_timeout",t.SELECT_LIKE_HEART_ICON="vimeo.select_like_heart_icon",t.SELECT_PLAYER_ADD_TO_WATCH_LATER="vimeo.select_player_add_to_watch_later",t.SELECT_PLAYER_TITLE="vimeo.select_player_title",t.SELECT_PLAYER_BYLINE="vimeo.select_player_byline",t.SELECT_PLAYER_PROFILE_PHOTO="vimeo.select_player_profile_photo",t.SELECT_PLAYER_SHARE="vimeo.select_player_share",t.SELECT_PLAYER_SHARE_COMPLETE="vimeo.select_player_share_complete",t.REACH_TIME_ACTION="vimeo.reach_time_action",t.VIEW_HOTSPOT="vimeo.view_hotspot",t.CLICK_HOTSPOT="vimeo.click_hotspot",t.VIEW_OVERLAY="vimeo.view_overlay",t.CLOSE_OVERLAY="vimeo.close_overlay",t.CLICK_OVERLAY="vimeo.click_overlay",t.VIEW_POLL="vimeo.view_poll",t.VOTE_POLL="vimeo.vote_poll",t.SELECT_PLAYER_VIMEO_LOGO="select_player_vimeo_logo",t}({}),Yb=function(t){return t.TEAM="team_context",t.ACTION="action_context",t.VIEW="view_context",t.WEB="web_context",t.VIDEO="video_context",t.PLAYER="player_context",t.LIVE="live_context",t.PRODUCT_ANALYTICS="product_analytics_context",t.TARGET_TEAM="target_team_context",t.USER_FACING_VIDEO_ANALYTICS="user_facing_video_analytics_context",t.THIRD_PARTY_INTEGRATION="third_party_integration_context",t}({}),Kb=function(t){return t[t.WEB_GLOBAL=5]="WEB_GLOBAL",t[t.COPY_VIDEO_EMBED_CODE=5]="COPY_VIDEO_EMBED_CODE",t[t.PLAYER_PERFORMANCE_MEASUREMENT=1]="PLAYER_PERFORMANCE_MEASUREMENT",t[t.CHAPTER_SEGMENT_CLICK=2]="CHAPTER_SEGMENT_CLICK",t[t.CLICK=83]="CLICK",t[t.TIMING_OBJECT_CONNECT=1]="TIMING_OBJECT_CONNECT",t[t.TIMING_OBJECT_DISCONNECT=1]="TIMING_OBJECT_DISCONNECT",t[t.EMBEDDED_TRANSCRIPT_CLICK=6]="EMBEDDED_TRANSCRIPT_CLICK",t[t.CLOSED_CAPTIONS_CLICK=5]="CLOSED_CAPTIONS_CLICK",t[t.MULTI_AUDIO_TRACK_CLICK=2]="MULTI_AUDIO_TRACK_CLICK",t[t.PLAY_VIDEO=2]="PLAY_VIDEO",t[t.FINISH_VIDEO=2]="FINISH_VIDEO",t[t.START_VIDEO_SCRUB=2]="START_VIDEO_SCRUB",t[t.END_VIDEO_SCRUB=1]="END_VIDEO_SCRUB",t[t.WATCH_VIDEO_HEARTBEAT=4]="WATCH_VIDEO_HEARTBEAT",t[t.EMBED_SEGMENT=1]="EMBED_SEGMENT",t[t.PLAY_SEGMENT=1]="PLAY_SEGMENT",t[t.WATCH_FULL_VIDEO=1]="WATCH_FULL_VIDEO",t[t.SEEK_INSIDE_SEGMENT=1]="SEEK_INSIDE_SEGMENT",t[t.SHARE_CHAPTER=1]="SHARE_CHAPTER",t[t.CHAPTER_PLAYED=1]="CHAPTER_PLAYED",t[t.CHAPTER_SELECTED=1]="CHAPTER_SELECTED",t[t.OPEN_AI_OPTIONS=4]="OPEN_AI_OPTIONS",t[t.PROCESS_STEP=1]="PROCESS_STEP",t[t.REMOTE_COMPONENT_LOADED=1]="REMOTE_COMPONENT_LOADED",t[t.REMOTE_COMPONENT_TIMEOUT=1]="REMOTE_COMPONENT_TIMEOUT",t[t.SELECT_PLAYER_SHARE=1]="SELECT_PLAYER_SHARE",t[t.SELECT_PLAYER_SHARE_COMPLETE=1]="SELECT_PLAYER_SHARE_COMPLETE",t[t.REACH_TIME_ACTION=1]="REACH_TIME_ACTION",t[t.VIEW_HOTSPOT=1]="VIEW_HOTSPOT",t[t.CLICK_HOTSPOT=1]="CLICK_HOTSPOT",t[t.VIEW_OVERLAY=1]="VIEW_OVERLAY",t[t.CLOSE_OVERLAY=1]="CLOSE_OVERLAY",t[t.CLICK_OVERLAY=1]="CLICK_OVERLAY",t[t.VIEW_POLL=1]="VIEW_POLL",t[t.VOTE_POLL=1]="VOTE_POLL",t[t.TEAM=5]="TEAM",t[t.ACTION=5]="ACTION",t[t.VIEW=3]="VIEW",t[t.WEB=25]="WEB",t[t.VIDEO=18]="VIDEO",t[t.PLAYER=5]="PLAYER",t[t.LIVE=6]="LIVE",t[t.PRODUCT_ANALYTICS=171]="PRODUCT_ANALYTICS",t[t.TARGET_TEAM=6]="TARGET_TEAM",t[t.USER_FACING_VIDEO_ANALYTICS=2]="USER_FACING_VIDEO_ANALYTICS",t[t.THIRD_PARTY_INTEGRATION=5]="THIRD_PARTY_INTEGRATION",t[t.DEFAULT=-1]="DEFAULT",t}({});const Zb={[qb.WEB_GLOBAL]:Kb.WEB_GLOBAL,[qb.COPY_VIDEO_EMBED_CODE]:Kb.COPY_VIDEO_EMBED_CODE,[qb.PLAYER_PERFORMANCE_MEASUREMENT]:Kb.PLAYER_PERFORMANCE_MEASUREMENT,[qb.CHAPTER_SEGMENT_CLICK]:Kb.CHAPTER_SEGMENT_CLICK,[qb.CLICK]:Kb.CLICK,[qb.TIMING_OBJECT_CONNECT]:Kb.TIMING_OBJECT_CONNECT,[qb.TIMING_OBJECT_DISCONNECT]:Kb.TIMING_OBJECT_DISCONNECT,[qb.EMBEDDED_TRANSCRIPT_CLICK]:Kb.EMBEDDED_TRANSCRIPT_CLICK,[qb.CLOSED_CAPTIONS_CLICK]:Kb.CLOSED_CAPTIONS_CLICK,[qb.MULTI_AUDIO_TRACK_CLICK]:Kb.MULTI_AUDIO_TRACK_CLICK,[qb.VIEW_PLAYER_CSAT_V1]:Kb.DEFAULT,[qb.SELECT_THUMBS_UP_PLAYER_CSAT_V1]:Kb.DEFAULT,[qb.SELECT_THUMBS_DOWN_PLAYER_CSAT_V1]:Kb.DEFAULT,[qb.DISMISS_PLAYER_CSAT_V1]:Kb.DEFAULT,[qb.DVR_MODE_ENTERED]:Kb.DEFAULT,[qb.SEEK_BEHIND_LIVE_EDGE]:Kb.DEFAULT,[qb.SKIP_TO_LIVE_CLICK]:Kb.DEFAULT,[qb.SEEK_TO_LIVE_EDGE]:Kb.DEFAULT,[qb.PLAY_VIDEO]:Kb.PLAY_VIDEO,[qb.FINISH_VIDEO]:Kb.FINISH_VIDEO,[qb.START_VIDEO_SCRUB]:Kb.START_VIDEO_SCRUB,[qb.END_VIDEO_SCRUB]:Kb.END_VIDEO_SCRUB,[qb.WATCH_VIDEO_HEARTBEAT]:Kb.WATCH_VIDEO_HEARTBEAT,[qb.EMBED_SEGMENT]:Kb.EMBED_SEGMENT,[qb.PLAY_SEGMENT]:Kb.PLAY_SEGMENT,[qb.WATCH_FULL_VIDEO]:Kb.WATCH_FULL_VIDEO,[qb.SEEK_INSIDE_SEGMENT]:Kb.SEEK_INSIDE_SEGMENT,[qb.SHARE_CHAPTER]:Kb.SHARE_CHAPTER,[qb.CHAPTER_PLAYED]:Kb.CHAPTER_PLAYED,[qb.CHAPTER_SELECTED]:Kb.CHAPTER_SELECTED,[qb.OPEN_AI_OPTIONS]:Kb.OPEN_AI_OPTIONS,[qb.PROCESS_STEP]:Kb.PROCESS_STEP,[qb.REMOTE_COMPONENT_LOADED]:Kb.REMOTE_COMPONENT_LOADED,[qb.REMOTE_COMPONENT_TIMEOUT]:Kb.REMOTE_COMPONENT_TIMEOUT,[qb.SELECT_LIKE_HEART_ICON]:Kb.DEFAULT,[qb.SELECT_PLAYER_ADD_TO_WATCH_LATER]:Kb.DEFAULT,[qb.SELECT_PLAYER_VIMEO_LOGO]:Kb.DEFAULT,[qb.SELECT_PLAYER_TITLE]:Kb.DEFAULT,[qb.SELECT_PLAYER_BYLINE]:Kb.DEFAULT,[qb.SELECT_PLAYER_PROFILE_PHOTO]:Kb.DEFAULT,[qb.SELECT_PLAYER_SHARE]:Kb.SELECT_PLAYER_SHARE,[qb.SELECT_PLAYER_SHARE_COMPLETE]:Kb.SELECT_PLAYER_SHARE_COMPLETE,[qb.REACH_TIME_ACTION]:Kb.REACH_TIME_ACTION,[qb.VIEW_HOTSPOT]:Kb.VIEW_HOTSPOT,[qb.CLICK_HOTSPOT]:Kb.CLICK_HOTSPOT,[qb.VIEW_OVERLAY]:Kb.VIEW_OVERLAY,[qb.CLOSE_OVERLAY]:Kb.CLOSE_OVERLAY,[qb.CLICK_OVERLAY]:Kb.CLICK_OVERLAY,[qb.VIEW_POLL]:Kb.VIEW_POLL,[qb.VOTE_POLL]:Kb.VOTE_POLL,[Yb.TEAM]:Kb.TEAM,[Yb.ACTION]:Kb.ACTION,[Yb.VIEW]:Kb.VIEW,[Yb.WEB]:Kb.WEB,[Yb.VIDEO]:Kb.VIDEO,[Yb.PLAYER]:Kb.PLAYER,[Yb.LIVE]:Kb.LIVE,[Yb.PRODUCT_ANALYTICS]:Kb.PRODUCT_ANALYTICS,[Yb.USER_FACING_VIDEO_ANALYTICS]:Kb.USER_FACING_VIDEO_ANALYTICS,[Yb.TARGET_TEAM]:Kb.TARGET_TEAM,[Yb.THIRD_PARTY_INTEGRATION]:Kb.THIRD_PARTY_INTEGRATION},Qb=[Yb.PLAYER,Yb.VIDEO,Yb.WEB,Yb.TEAM],Jb=[Yb.TEAM,Yb.VIDEO,Yb.LIVE,Yb.PRODUCT_ANALYTICS,Yb.USER_FACING_VIDEO_ANALYTICS,Yb.TARGET_TEAM,Yb.THIRD_PARTY_INTEGRATION],ty={[qb.VIEW_PLAYER_CSAT_V1]:[].concat(Qb,[Yb.VIEW]),[qb.SELECT_THUMBS_UP_PLAYER_CSAT_V1]:[].concat(Qb,[Yb.ACTION]),[qb.SELECT_THUMBS_DOWN_PLAYER_CSAT_V1]:[].concat(Qb,[Yb.ACTION]),[qb.DISMISS_PLAYER_CSAT_V1]:[].concat(Qb,[Yb.ACTION]),[qb.DVR_MODE_ENTERED]:[].concat(Qb,[Yb.VIEW,Yb.LIVE,Yb.PRODUCT_ANALYTICS]),[qb.SEEK_BEHIND_LIVE_EDGE]:[].concat(Qb,[Yb.ACTION,Yb.LIVE,Yb.PRODUCT_ANALYTICS]),[qb.SKIP_TO_LIVE_CLICK]:[].concat(Qb,[Yb.ACTION,Yb.LIVE,Yb.PRODUCT_ANALYTICS]),[qb.SEEK_TO_LIVE_EDGE]:[].concat(Qb,[Yb.ACTION,Yb.LIVE,Yb.PRODUCT_ANALYTICS]),[qb.PLAY_VIDEO]:[].concat(Qb,[Yb.ACTION,Yb.LIVE,Yb.PRODUCT_ANALYTICS,Yb.TARGET_TEAM,Yb.USER_FACING_VIDEO_ANALYTICS]),[qb.FINISH_VIDEO]:[].concat(Qb,[Yb.ACTION,Yb.LIVE,Yb.PRODUCT_ANALYTICS,Yb.TARGET_TEAM,Yb.USER_FACING_VIDEO_ANALYTICS]),[qb.START_VIDEO_SCRUB]:[].concat(Qb,[Yb.ACTION,Yb.LIVE,Yb.PRODUCT_ANALYTICS,Yb.TARGET_TEAM,Yb.USER_FACING_VIDEO_ANALYTICS]),[qb.END_VIDEO_SCRUB]:[].concat(Qb,[Yb.ACTION,Yb.LIVE,Yb.PRODUCT_ANALYTICS,Yb.TARGET_TEAM,Yb.USER_FACING_VIDEO_ANALYTICS]),[qb.WATCH_VIDEO_HEARTBEAT]:[].concat(Qb,[Yb.ACTION,Yb.LIVE,Yb.PRODUCT_ANALYTICS,Yb.TARGET_TEAM,Yb.USER_FACING_VIDEO_ANALYTICS]),[qb.WATCH_FULL_VIDEO]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS]),[qb.SEEK_INSIDE_SEGMENT]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS]),[qb.SHARE_CHAPTER]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS]),[qb.CHAPTER_PLAYED]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS]),[qb.CHAPTER_SELECTED]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS,Yb.THIRD_PARTY_INTEGRATION]),[qb.EMBED_SEGMENT]:[].concat(Qb,[Yb.VIEW,Yb.PRODUCT_ANALYTICS]),[qb.PLAY_SEGMENT]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS]),[qb.OPEN_AI_OPTIONS]:[Yb.TEAM,Yb.ACTION,Yb.PRODUCT_ANALYTICS,Yb.WEB,Yb.VIDEO],[qb.PROCESS_STEP]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS]),[qb.REMOTE_COMPONENT_LOADED]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS,Yb.THIRD_PARTY_INTEGRATION]),[qb.REMOTE_COMPONENT_TIMEOUT]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS,Yb.THIRD_PARTY_INTEGRATION]),[qb.SELECT_LIKE_HEART_ICON]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS,Yb.VIEW,Yb.LIVE]),[qb.SELECT_PLAYER_ADD_TO_WATCH_LATER]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS,Yb.VIEW,Yb.LIVE]),[qb.SELECT_PLAYER_VIMEO_LOGO]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS,Yb.VIEW,Yb.LIVE]),[qb.SELECT_PLAYER_TITLE]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS,Yb.VIEW,Yb.LIVE]),[qb.SELECT_PLAYER_BYLINE]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS,Yb.VIEW,Yb.LIVE]),[qb.SELECT_PLAYER_PROFILE_PHOTO]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS,Yb.VIEW,Yb.LIVE]),[qb.SELECT_PLAYER_SHARE]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS,Yb.VIEW,Yb.LIVE]),[qb.SELECT_PLAYER_SHARE_COMPLETE]:[].concat(Qb,[Yb.ACTION,Yb.PRODUCT_ANALYTICS,Yb.VIEW,Yb.LIVE]),[qb.REACH_TIME_ACTION]:[].concat(Jb,[Yb.VIEW]),[qb.VIEW_HOTSPOT]:[].concat(Jb,[Yb.VIEW]),[qb.CLICK_HOTSPOT]:[].concat(Jb,[Yb.ACTION]),[qb.VIEW_OVERLAY]:[].concat(Jb,[Yb.VIEW]),[qb.CLOSE_OVERLAY]:[].concat(Jb,[Yb.ACTION]),[qb.CLICK_OVERLAY]:[].concat(Jb,[Yb.ACTION]),[qb.VIEW_POLL]:[].concat(Jb,[Yb.VIEW]),[qb.VOTE_POLL]:[].concat(Jb,[Yb.ACTION])},ey={PROVENANCE_AI_GENERATED:"ai_generated",PROVENANCE_USER_UPLOADED:"user_uploaded",PROVENANCE_USER_UPLOADED_AI_GENERATED:"user_uploaded_ai_generated"};let ny=function(t){return t.WORKFLOW="Workflow",t.PLAYBACK="Playback",t}({});function iy(t){var e;return t.video.ecdn?t.video.live_event?"vimeo-live-ecdn":"vimeo-vod-ecdn":ld(t.embed.interactive)?null!=(e=t.request.flags)&&e.ott?"vimeo-ott-vod":t.video.live_event?"vimeo-live":t.embed.context&&-1!==t.embed.context.indexOf("Stock")?"vimeo-stock-vod":t.video.vod?"vimeo-ondemand":"vimeo-vod":"vimeo-interactive-vod"}const ry=()=>{const t=A_,[e,n,i]=t.split(".");return{full:t,major:e,minor:n,patch:i}},oy=Bt.iPhone||Bt.mobileAndroid||Bt.windowsPhone||Bt.browser.bb10;function sy(){let t="desktop";return Bt.iPad?t="tablet":oy&&(t="mobile"),t}function ay(){let t="windows";return Bt.iOS?t="iOS":Bt.android?t="android":Bt.mac?t="macOS":Bt.windowsPhone&&(t="windowsPhone"),t}function uy(t){var e;const{user:n,video:i}=t;let r="viewer";return n.team_id&&(r=n.id===n.team_origin_user_id?"admin":"contributor"),n.id===(null==(e=i.owner)?void 0:e.id)&&(r="owner"),r}function ly(t,e){return t===e?"square":e>t?"portrait":"landscape"}function cy(t){return(null==t?void 0:t.status)===Wb.ended?"ended":(null==t?void 0:t.status)===Wb.started?"streaming":(null==t?void 0:t.status)===Wb.pending?"unavailable":"unknown"}function dy(t){return t.live_event?"live_event":"other"}function hy(t){var e;return null!=t&&t.length&&(null==(e=t.find((t=>t.is_current)))?void 0:e.id)||null}function fy(t){return t===tb.PRIVACY_PUBLIC?"public":t===tb.PRIVACY_PASSWORD?"password":t===tb.PRIVACY_UNLISTED?"unlisted":t===tb.PRIVACY_HIDE_FROM_VIMEO?"hide_from_vimeo":"private"}var py=function(t){return t.Origin="c=o",t.Peer="c=p",t.ParentCache="c=c",t.CloudWrapper="c=w",t}(py||{});function vy(t){const e=t.akamai_request_bc,n=t.x_cache;return e?function(t){return t.includes(py.Origin)?ob.CacheMiss:t.includes(py.Peer)||t.includes(py.ParentCache)||t.includes(py.CloudWrapper)?ob.MidCacheHit:ob.EdgeCacheHit}(e):n?function(t){return"HIT"===t.slice(0,3)?ob.MidCacheHit:"HIT"===t.slice(-3)?ob.EdgeCacheHit:ob.CacheMiss}(n):ob.CacheMiss}function _y(t){if(!t)return{audioTrackLang:null,audioTrackProvenance:null,audioTrackType:null,textTrackLang:null,textTrackProvenance:null,textTrackType:null};const e=t.enabledAudioTrack,n=t.enabledTextTrack;return{audioTrackLang:(null==e?void 0:e.language)||null,audioTrackProvenance:ey[null==e?void 0:e.provenance]||null,audioTrackType:(null==e?void 0:e.kind)||null,textTrackLang:(null==n?void 0:n.language)||null,textTrackProvenance:(null==n?void 0:n.provenance)||null,textTrackType:(null==n?void 0:n.kind)||null}}const my=()=>{const t=Rn(window,"_hiveStats",{cdnResponseBytes:0,p2pResponseBytes:0,partners:{}}),{cdnResponseBytes:e,p2pResponseBytes:n,partners:i}=t;return{ecdnBytesByCdn:e,ecdnBytesPeered:n,ecdnPeers:(Object.keys(i)??[]).length}},by=()=>{const t=Rn(window,"_kollectiveStats",{originBytes:0,ecdnBytes:0,currentPeerConnections:0}),{originBytes:e,ecdnBytes:n,currentPeerConnections:i}=t;return{ecdnBytesByCdn:e,ecdnBytesPeered:n,ecdnPeers:i}},yy=t=>{const e={hive:my,kollective:by};return e[t]?e[t]():{ecdnBytesByCdn:0,ecdnBytesPeered:0,ecdnPeers:0}},gy=({newPriority:t,currentPriority:e,priorityOrder:n})=>{const i=n.indexOf(e),r=n.indexOf(t);return-1===i||-1===r||i>r};function wy(t){return(null==t?void 0:t.parentElement)===document.body}const Ty=()=>{try{return window.self!==window.top}catch(t){return!0}};function Cy(t,e){const[n,i]=e;let r=i-n;for(var o,s=function(t){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=it(t))){e&&(t=e);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(o=s()).done;){const t=o.value,[e,s]=t,a=Math.max(n,e),u=Math.min(i,s);r-=Math.max(0,u-a)}return Math.max(r,0)}function Ey(t){return Im(h_(t,3))}const ky=t=>{var e;const n=null==t||null==(e=t.ingest)?void 0:e.start_time;if(!n)return U_;const i=Date.now()-n,r=U_-i;return Math.min(Math.max(r,0),U_)},Sy=t=>!!t&&t.status===Wb.started&&0===ky(t);function Ay(t){return!0===t||!1===t?Number(t):"null"===t?null:t}function Ny(t,e=document.cookie){try{if(e&&""!==e)return e.split(";").reduce((function(e,n){return 0===(n=n.trim()).indexOf(`${t}=`)?decodeURIComponent(n.substr(t.length+1)):e}),null)}catch(t){}return null}let My=function(t){return t.EMPTY="empty",t.LEAD_CAPTURE_FORM="lead_capture_form",t}({}),Oy=function(t){return t.BEFORE_VIDEO="before_video",t.DURING_VIDEO="during_video",t.AFTER_VIDEO="after_video",t}({}),Iy=function(t){return t.OPENED="access_gate_opened",t.CLOSED="access_gate_closed",t.ERROR="access_gate_error",t}({});const Ly={[My.LEAD_CAPTURE_FORM]:[E_.main,E_.privateUnlocked]};W_.REMOTE_ACCESS_GATE;const Ry=(t,e)=>{const n=e.vimeo_url;let i={lc_param_session_id:e.request.session};return e.video.unlisted_hash&&(i.lc_param_unlisted_hash=e.video.unlisted_hash),e.request.hashed_password&&(i.lc_param_password=e.request.hashed_password),Qt(`https://${n}${t}`,i)},xy=(t,e,n=null)=>t===My.LEAD_CAPTURE_FORM?{purpose:t,url:Ry(`/leadcapture/video/${e.video.id}/form`,e),title:"Lead Capture Form",gateId:n}:{purpose:My.EMPTY,url:"",title:"",gateId:n},Py=(t,e)=>{if(t===My.LEAD_CAPTURE_FORM){let t=(t=>"lc_"+t.video.id)(e),n=Ny(t);return n||(t=(t=>{const{id:e,unlisted_hash:n}=t.video;return"lc_"+((t,e=0)=>{let n=3735928559^e,i=1103547991^e;for(let e,r=0;r<t.length;r++)e=t.charCodeAt(r),n=Math.imul(n^e,2654435761),i=Math.imul(i^e,1597334677);return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(n^n>>>13,3266489909),(4294967296*(2097151&i)+(n>>>0)).toString()})(n?`${e}:${n}`:`${e}`)})(e),n=Ny(t),n??"")}return""},Dy=(t,e)=>!!Py(t,e);function By(t){var e;const n=Py(My.LEAD_CAPTURE_FORM,t);var i,r;return null!=(e=t.user)&&e.lead?{leadUuid:(null==(i=t.user.lead)?void 0:i.id)||n,contentType:null==(r=t.user.lead)?void 0:r.type}:n?{leadUuid:n}:{}}let $y=function(t){return t.NOT_LOGGED_IN="not_logged_in",t.LOGGED_IN_STORAGE_ACCESS_REQUIRED="logged_in_storage_access_required",t.STORAGE_ACCESS_GRANTED_LOGIN_UNCONFIRMED="storage_access_granted_login_unconfirmed",t.ALL_ACCESS_ATTEMPTS_FAILED="all_access_attempts_failed",t.LOGGED_IN_NO_ACCESS="logged_in_no_access",t.LOGGED_IN_HAS_ACCESS="logged_in_has_access",t}({}),Vy=function(t){return t.PRIVATE_LOCKED="private-locked",t.LOGIN_LIKE="login-like",t.LOGIN_WATCH_LATER="login-watch-later",t.PURCHASE="purchase",t.PRIVATE="private",t}({});const jy={storageAccessRequired:$b,requestCookieAccess:t=>new r(((e,n)=>document.requestStorageAccess().then((()=>{Bb("User granted storage access"),e(!0)}),(()=>{t(),Bb("User storage access denied:"),e(!1)})).catch(n)))};const Hy=["label"],Fy="Hotspot",Uy="Poll";function zy(t,e,n){return t/e*n}function Xy(t=""){try{const e=null==t?void 0:t.split(".")[1];return(t=>Math.trunc(Date.now()/1e3)-t)(JSON.parse(atob(e)).exp)>=0}catch(t){throw new Error("Failed to parse PHP token.")}}const Gy=t=>t?t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""):"",Wy=(t,e)=>!t.isLive()||e;let qy=function(t){return t.XXS="xxs",t.XS="xs",t.SM="sm",t.MD="md",t.LG="lg",t.XL="xl",t.XXL="xxl",t}({}),Yy=function(t){return t.MD="md",t.SM="sm",t.XS="xs",t.CUSTOM="custom",t}({}),Ky=function(t){return t.PRIMARY="primary",t.ALTERNATIVE="alternative",t.CUSTOM="custom",t}({}),Zy=function(t){return t.LEFT="left",t.RIGHT="right",t}({}),Qy=function(t){return t.RESET="reset",t.BUTTON="button",t.SUBMIT="submit",t}({}),Jy=function(t){return t.SM="sm",t.MD="md",t.LG="lg",t.XL="xl",t}({}),tg=function(t){return t.NORMAL="normal",t.BOLD="bold",t[t.NUM_500=500]="NUM_500",t}({}),eg=function(t){return t.CUSTOM="custom",t.WHITE="white",t}({}),ng=function(t){return t.SM="sm",t.LG="lg",t}({}),ig=function(t){return t.FULL_CONTROLS="full-controls",t.VOLUME_SLIDER="volume-slider",t.PROGRESS_BAR="progress-bar",t.SIDE_DOCK_MENU="side-dock-menu",t}({});const rg=(t,e,n)=>{switch(t){case ig.FULL_CONTROLS:case ig.VOLUME_SLIDER:return e!==Zm.MINI&&e!==Zm.TINY&&n!==qy.XXS;case ig.PROGRESS_BAR:return e!==Zm.TINY;case ig.SIDE_DOCK_MENU:return e===Zm.MINI||e===Zm.TINY||n===qy.XXS||n===qy.XS;default:return!1}};function og(t){return 1===t}function sg(t,e=new Date){return t.getTime()-e.getTime()}function ag(){let t=-1;if(void 0!==window.performance&&"function"==typeof window.performance.getEntriesByType){const e=window.performance.getEntriesByType("resource");if(e){const n=e.filter((t=>null!==t.name.split("?")[0].match(/\.m4s$|\.ts$|\.mp4$/)));t=n.map((t=>t.responseStart-t.connectStart)).reduce(((t,e)=>t+e),0)/(n.length||1)}}return h_(t,2)}const ug=[t=>{var e;return Bt.mse&&1===(null==(e=t.request.flags)?void 0:e.hls_js_live)?{test:"hls_js_live",group:"variant"}:null}],lg=250;function cg(t="translateX(-125%)",e="translateX(0)"){const n="200ms",i={transform:t,opacity:0},r={transform:e,opacity:1};return{enter:Q({visibility:"hidden"},i),enterActive:Q({transition:n,visibility:"visible"},r),enterDone:{transform:e},exit:Q({},r),exitActive:Q(Q({},i),{},{transition:n}),exitDone:{visibility:"hidden"}}}const dg=!!window.DD_RUM&&"function"==typeof window.DD_RUM.setViewContextProperty&&"function"==typeof window.DD_RUM.setGlobalContextProperty&&"function"==typeof window.DD_RUM.addError&&"function"==typeof window.DD_RUM.addAction;var hg=function(){return $e.Date.now()},fg=Math.max,pg=Math.min;function vg(t,e,n){var i,r,o,s,a,u,l=0,c=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=i,o=r;return i=r=void 0,l=e,s=t.apply(o,n)}function p(t){var n=t-u;return void 0===u||n>=e||n<0||d&&t-l>=o}function v(){var t=hg();if(p(t))return _(t);a=setTimeout(v,function(t){var n=e-(t-u);return d?pg(n,o-(t-l)):n}(t))}function _(t){return a=void 0,h&&i?f(t):(i=r=void 0,s)}function m(){var t=hg(),n=p(t);if(i=arguments,r=this,u=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(v,e),c?f(t):s}(u);if(d)return clearTimeout(a),a=setTimeout(v,e),f(u)}return void 0===a&&(a=setTimeout(v,e)),s}return e=fc(e)||0,Ze(n)&&(c=!!n.leading,o=(d="maxWait"in n)?fg(fc(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),m.cancel=function(){void 0!==a&&clearTimeout(a),l=0,i=u=r=a=void 0},m.flush=function(){return void 0===a?s:_(hg())},m}function _g(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Ze(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),vg(t,e,{leading:i,maxWait:e,trailing:r})}const mg=[25,50,75,90,95,100];function bg(t){let e,n=null,i=null,r=null,o=null,s=0,a=0,u=[],l=!1,c=!1,d=!1,h=0,f=0,p=Gt(),v=!0,_=!0,m=[],b=[],y=0,g=_y(t.backbone);function w(){A(),t.bigPicture.sendEvent(qb.PLAY_VIDEO,N(qb.PLAY_VIDEO)),o=r}function T(){t.backbone.seeking||(l=!1,E(),t.bigPicture.sendEvent(qb.FINISH_VIDEO,N(qb.FINISH_VIDEO)),_=!1,S())}function C(){l&&c&&!d&&(c=!1,A(),t.bigPicture.sendEvent(qb.END_VIDEO_SCRUB,N(qb.END_VIDEO_SCRUB)),o=r,k())}function E(){let e=h;(t.backbone.seeking||d)&&(e=f),r=h_(e,3),s&&(y+=a,function(){var e;const n=Ey(t.config.video.duration);if(t.backbone.isLive()||0===n)return;b=[];const i=Math.round(y/n*100);b=mg.filter((t=>i>=t&&!m.includes(t))),(e=m).push.apply(e,et(b))}(),t.bigPicture.sendEvent(qb.WATCH_VIDEO_HEARTBEAT,Q(Q({},N(qb.WATCH_VIDEO_HEARTBEAT)),{},{log_view_time:s,log_view_time_excluding_repeats:Math.min(a,s),previous_log_end_time:o,is_first_log:v,completion_quantiles:b}),{[Yb.VIDEO]:{audio_track_lang:g.audioTrackLang,audio_track_provenance:g.audioTrackProvenance,audio_track_type:g.audioTrackType,text_track_lang:g.textTrackLang,text_track_provenance:g.textTrackProvenance,text_track_type:g.textTrackType}}),s=0,a=0,v=!1,o=r,g=_y(t.backbone))}function k(){e||(e=setInterval(E,1e4))}function S(){clearInterval(e),e=null}function A(){const e=h_(Im(t.currentTime),3);n?n++:n=1,i=e,r=e,s=0,a=0,f=e,p=Gt()}function N(e){let o;switch(e){case qb.FINISH_VIDEO:o={session_segment_id:n,segment_start_time:i,log_end_time:r,is_first_log:_};break;case qb.PLAY_VIDEO:o={session_segment_id:n,segment_start_time:i,log_end_time:r,video_duration_ms:Ey(t.config.video.duration)};break;default:o={session_segment_id:n,segment_start_time:i,log_end_time:r}}return o}t.events.on(fo.PLAY,(function(){if(k(),!l)if(l=!0,t.backbone.isLive()){const e=({currentTime:n})=>{0!==n&&(w(),t.events.off(fo.TIME_UPDATE,e))};t.events.on(fo.TIME_UPDATE,e)}else w()})),t.events.on(fo.PAUSE,(function(){t.backbone.ended||t.backbone.seeking||d||(E(),S())})),t.events.on(fo.SEEKING,(function(){l&&!c&&(c=!0,E(),t.bigPicture.sendEvent(qb.START_VIDEO_SCRUB,N(qb.START_VIDEO_SCRUB)),S())})),t.events.on(fo.SEEKED,_g(C,750)),t.events.on(fo.ENDED,T),t.events.on(fo.TIME_UPDATE,(function(){if(t.backbone.seeking)return;const e=Im(h_(t.currentTime,3)),n=d?f:e;let r=Math.round(n-f);const o=Gt();if(r=function(e,n,i){const r=t.backbone.playbackRate||1,o=p||i,s=Math.round((i-o)*r),a=Math.max(s,0),u=Ey(t.config.video.duration);return!t.backbone.isLive()&&u&&n>u||a&&e>1.3*a?Math.min(e,a):e}(r,n,o),r<=0)return;h=n;const c=[i,n];if(s+=r,Bt.iOS&&t.backbone.isLive()){a+=h_(Cy(u,c),3);const t=function(t,e){const[n,i]=e;return t.map(((t,e)=>{const[r,o]=t;return n>=r&&n<=o||i>=r&&i<=o||r<=n&&o>=i||n<=r&&i>=o?e:null})).filter((t=>null!==t))}(u,c);u=function(t,e,n){const[i,r]=e;let o;if(n.length)o=Math.min.apply(Math,et(n));else{const e=t.findIndex((t=>i<t[0]));o=-1===e?t.length:e}const s=et(t),a=[Math.min.apply(Math,[i].concat(et(n.map((e=>t[e][0]))))),Math.max.apply(Math,[r].concat(et(n.map((e=>t[e][1])))))];return s.splice(o,n.length,a),s}(u,c,t)}else{const e=t.backbone.played;a+=h_(Cy(u,c),3),u=function(t){const e=t.length,n=[];for(let i=0;i<e;i++){const e=t.start(i),r=t.end(i);n.push([Im(h_(e,3)),Im(h_(r,3))])}return n}(e)}f=n,p=o,t.config.embed.loop&&function(e){if(l&&e>=Ey(t.config.video.duration)-300){T();const e=()=>{t.currentTime>=0&&(t.events.off(fo.TIME_UPDATE,e),w())};t.events.on(fo.TIME_UPDATE,e)}}(h)})),t.events.on(Hf,(function(){d=!0})),t.events.on(Ff,(function(){d=!1,c&&C()})),t.events.on(mo.AUDIO_TRACK_CHANGED,(function(){E()})),t.events.on(Wf,(function(){E()})),t.events.on(Lp,(e=>{e&&(S(),n=null,i=null,r=null,o=null,s=0,a=0,u=[],l=!1,c=!1,d=!1,h=0,f=0,p=Gt(),_=!0,v=!0,m=[],b=[],y=0,g=_y(t.backbone))})),window.addEventListener("pagehide",(function(){E()}))}const yg={product_analytics_context:{product:"analysis",feature:"interactive"}};let gg=function(){function t(t){G(this,"_overlayOpenTime",void 0),G(this,"_player",void 0),this.su=t,this.au=new xe}var e=t.prototype;return e.uu=function(t,e={}){this.su.bigPicture.sendEvent(t,e,yg)},e.sendReachTimeAction=function({timeActionId:t}){this.uu(qb.REACH_TIME_ACTION,{time_action_id:t})},e.sendViewHotspot=function({hotspotId:t}){this.uu(qb.VIEW_HOTSPOT,{hotspot_id:t})},e.sendClickHotspot=function({hotspotId:t,clickActionType:e,clickoutId:n,overlayId:i}){this.uu(qb.CLICK_HOTSPOT,{hotspot_id:t,click_action_type:e,clickout_id:n??null,overlay_id:i??null})},e.sendViewOverlay=function({overlayId:t}){this.au.set(t,Gt()),this.uu(qb.VIEW_OVERLAY,{overlay_id:t})},e.sendCloseOverlay=function({overlayId:t}){const e=this.au.get(t),n=Gt()-e;this.uu(qb.CLOSE_OVERLAY,{overlay_id:t,dwell_time:n})},e.sendClickOverlay=function({overlayId:t,clickActionType:e,clickoutId:n}){this.uu(qb.CLICK_OVERLAY,{overlay_id:t,click_action_type:e,clickout_id:n??null})},e.sendViewPoll=function({pollId:t}){this.uu(qb.VIEW_POLL,{poll_id:t})},e.sendVotePoll=function({pollId:t,pollOptionId:e,isPollOptionCorrect:n}){this.uu(qb.VOTE_POLL,{poll_id:t,poll_option_id:e,is_poll_option_correct:n??null})},t}();function wg(t){return Math.random()<=t}function Tg(t,e,n=.1){wg(n)&&((t,e={})=>{if(dg&&t){const n=Object.assign({},e,{manually_captured:1});window.DD_RUM.addError(t,n)}})(t,e)}window.addEventListener("unhandledrejection",(t=>{t.preventDefault(),t.reason&&Tg(t.reason,{unhandled_rejection:1})}));var Cg={setUp:function(t,e=Km.VimeoPlayer){((t,e=Km.VimeoPlayer)=>{if(dg){var n,i,r;const o={js_modules:!1,version_js:t.request.build.js,version_backend:t.request.build.backend,visibility_state:document.visibilityState,vimeo_session:t.request.session,locale:t.request.lang,product:iy(t),video_embed_permission:t.video.embed_permission,video_privacy:t.video.privacy,live_session_id:null==(n=t.video.live_event)?void 0:n.id,rawUserAgent:navigator.userAgent,background_mode:Number(1===(null==(i=t.embed)||null==(i=i.settings)?void 0:i.background)),player_name:e,owner_account_type:null==(r=t.video.owner)?void 0:r.account_type};if(t.request.ab_tests)for(const e in t.request.ab_tests){const n=t.request.ab_tests[e];o[`${e}_test`]=1,o[`${e}_group`]=n.group;for(const t in n.data)o[`${e}_data_${t}`]=n.data[t]}t.user.logged_in&&(o.userId=t.user.id);for(let t in o)window.DD_RUM.setGlobalContextProperty(t,o[t]);if(e){const t=`has${e}`;window.DD_RUM.setViewContextProperty(t,1)}}})(t,e)},captureException:Tg,captureMessage:function(t){},captureBreadcrumb:function(t){(t=>{dg&&window.DD_RUM.addAction(t)})(t)}};let Eg;function kg({events:t}){let e=null,n=null,i=null,o=null,s=null,a={video:{},request:{},embed:{}};function u(){return n&&n-6e4<=Date.now()}function l(t){const e=Date.now()+1e3*t;return s=setTimeout((()=>{"onLine"in navigator&&!navigator.onLine||o||(o=d().catch(Cg.captureException))}),1e3*t-6e4-5e3),e}function c(t,i={}){var o,u;clearTimeout(s);const c=e;if(isNaN(t)&&"string"!=typeof t){e=t,n=l(e.request.expires);let i=new URL(window.location.href);const o=i.searchParams.get("referrer"),s=i.searchParams.get("player_id");return o&&(e.request.referrer=o,i.searchParams.delete("referrer")),s&&(e.embed.player_id=s,i.searchParams.delete("player_id")),r.resolve({old:c,loaded:e})}Date.now(),a=zd(a,e);const d=a.request.referrer;return d&&(i.referrer=d),i.s=a.request.signature,i.expires=a.request.expires,i.time=a.request.timestamp,Eg||(Eg=l_(t)),Ee(c_(Eg||(null!=(o=e)&&o.player_url?`https://${null==(u=e)?void 0:u.player_url}`:""),t,i),{withCredentials:!0,throwHttpErrors:!1}).json().then((t=>(e=t,e.view!==E_.error&&(n=l(e.request.expires),a.request.session&&e.video.id===a.video.id&&(e.request.session=a.request.session),d&&(e.request.referrer=d),a.embed.player_id&&(e.embed.player_id=a.embed.player_id),a.embed.on_site&&(e.embed.on_site=1,e.embed.context=a.embed.context)),Date.now(),{old:c,loaded:e}))).catch((t=>{Cg.captureException(t)}))}function d(){return clearTimeout(s),Date.now(),Ee(e.request.config_refresh_url,{withCredentials:!0,retry:3}).json().then((i=>{const r=e.request.referrer;return e.request=i,r&&(e.request.referrer=r),n=l(e.request.expires),Date.now(),o=null,t.fire(Vp),e.request})).catch((e=>{const n=sm();throw t.fire(_f,n.type,n),e}))}return window.addEventListener("online",(()=>{u()&&(o=d().catch(Cg.captureException))})),t.on(_f,(t=>{o||"media-url-expired"!==t||(o=d().catch(Cg.captureException))})),{get isExpired(){return u()},load:(t,e)=>c(t,e),reload(){var t;return null!=(t=e)&&t.video.id?c(e.video.id):r.reject(new Error("No config loaded."))},toJSON:()=>e,get config(){return e},set config(t){e=t},verify:()=>u()?(o||(o=d()),o):r.resolve(e.request),refreshAssetUrls:()=>d(),get Y(){return i},set Y(t){i=t}}}var Sg,Ag=0,Ng=0,Mg={},Og={};function Ig(t,e,n){return"_root"==e?n:t!==n?function(t){return Sg||(Sg=t.matches?t.matches:t.webkitMatchesSelector?t.webkitMatchesSelector:t.mozMatchesSelector?t.mozMatchesSelector:t.msMatchesSelector?t.msMatchesSelector:t.oMatchesSelector?t.oMatchesSelector:Pg.matchesSelector)}(t).call(t,e)?t:t.parentNode?(Ag++,Ig(t.parentNode,e,n)):void 0:void 0}function Lg(t,e,n,i){Mg[t.id]||(Mg[t.id]={}),Mg[t.id][e]||(Mg[t.id][e]={}),Mg[t.id][e][n]||(Mg[t.id][e][n]=[]),Mg[t.id][e][n].push(i)}function Rg(t,e,n,i){if(Mg[t.id])if(e)if(i||n)if(i){if(Mg[t.id][e][n])for(var r=0;r<Mg[t.id][e][n].length;r++)if(Mg[t.id][e][n][r]===i){Mg[t.id][e][n].splice(r,1);break}}else delete Mg[t.id][e][n];else Mg[t.id][e]={};else for(var o in Mg[t.id])Mg[t.id].hasOwnProperty(o)&&(Mg[t.id][o]={})}function xg(t,e,n,i){if(this.element){t instanceof Array||(t=[t]),n||"function"!=typeof e||(n=e,e="_root");var r,o=this.id;for(r=0;r<t.length;r++)i?Rg(this,t[r],e,n):(Mg[o]&&Mg[o][t[r]]||Pg.addEvent(this,t[r],s(t[r])),Lg(this,t[r],e,n));return this}function s(t){return function(e){!function(t,e,n){if(Mg[t][n]){var i,r,o=e.target||e.srcElement,s={},a=0,u=0;for(i in Ag=0,Mg[t][n])Mg[t][n].hasOwnProperty(i)&&(r=Ig(o,i,Og[t].element))&&Pg.matchesEvent(n,Og[t].element,r,"_root"==i,e)&&(Ag++,Mg[t][n][i].match=r,s[Ag]=Mg[t][n][i]);for(e.stopPropagation=function(){e.cancelBubble=!0},a=0;a<=Ag;a++)if(s[a])for(u=0;u<s[a].length;u++){if(!1===s[a][u].call(s[a].match,e))return void Pg.cancel(e);if(e.cancelBubble)return}}}(o,e,t)}}}function Pg(t,e){if(!(this instanceof Pg)){for(var n in Og)if(Og[n].element===t)return Og[n];return Ng++,Og[Ng]=new Pg(t,Ng),Og[Ng]}this.element=t,this.id=e}Pg.prototype.on=function(t,e,n){return xg.call(this,t,e,n)},Pg.prototype.off=function(t,e,n){return xg.call(this,t,e,n,!0)},Pg.matchesSelector=function(){},Pg.cancel=function(t){t.preventDefault(),t.stopPropagation()},Pg.addEvent=function(t,e,n){var i="blur"==e||"focus"==e,r=Bt.passiveEvents?{capture:i,passive:!1}:i;t.element.addEventListener(e,n,r)},Pg.matchesEvent=function(){return!0};const Dg=Pg.addEvent,Bg=void 0===window.PointerEvent&&void 0!==window.MSPointerEvent,$g={pointerdown:"MSPointerDown",pointerup:"MSPointerUp",pointercancel:"MSPointerCancel",pointermove:"MSPointerMove",pointerenter:"MSPointerEnter",pointerleave:"MSPointerLeave",pointerover:"MSPointerOver",pointerout:"MSPointerOut"},Vg="onmspointerenter"in document,jg="onmspointerleave"in document;Pg.addEvent=function(t,e,n){Bg&&$g[e]&&(e=$g[e]),"transitionend"===e&&(Dg(t,"webkitTransitionEnd",n),Dg(t,"otransitionend",n)),"mouseenter"===e&&(e="mouseover"),"mouseleave"===e&&(e="mouseout"),"MSPointerEnter"!==e||Vg||(e="MSPointerOver"),"MSPointerLeave"!==e||jg||(e="MSPointerOut"),Dg(t,e,n)},Pg.matchesEvent=function(t,e,n,i,r){return!("mouseenter"===t||"mouseleave"===t||!Vg&&"MSPointerEnter"===t||!jg&&"MSPointerLeave"===t)||function(t,e,n,i){return!i.relatedTarget||(!n||t===e)&&e!==i.relatedTarget&&!e.contains(i.relatedTarget)}(e,n,i,r)};const Hg=(t,e,n)=>{let i;try{i=new URL(t)}catch(t){return null}const r=Array.isArray(e)?e:[e],o=r.map((function(t){return`${L_}${t}`})).concat(r),s=new URLSearchParams(i.hash.substring(1));let a=null;return o.some((t=>{const e=`${t}_${n}`,i=s.get(e)||s.get(t);return!!i&&(a=Lm(i),!0)})),a},Fg=(t,e,n)=>-1===t.indexOf("#")?null:Hg(t,e,n);function Ug(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const zg=Gg((function(t){return new r(((e,n)=>{qg(t)?e():(t.events.once(fo.LOADED_DATA,(()=>{qg(t)&&e()})),t.events.once(fo.PLAYING,(()=>{n("Video started playing before start time thumbnail could be shown")})))}))}));function Xg(){}function Gg(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}const Wg=Gg((function(t){return function(){var e=function(){if(Yg(t))return function(t){if(t&&t.then)return t.then(Xg)}(function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return Ug(t.ready(),(function(){return Ug(t.inView(),(function(){return t.backbone.preload="auto",Ug(zg(t),(function(){!function(t){var e;null==(e=t.backbone.element)||null==(e=e.classList)||e.remove("invisible"),t.events.fire(pf)}(t)}))}))}))}),(function(t){})))}();if(e&&e.then)return e.then(Xg)}()}));function qg(t){return t.currentTime===t.startTime&&t.backbone.readyState>=Jm.HAVE_CURRENT_DATA}function Yg(t){var e;const n=1===(null==t||null==(e=t.config)||null==(e=e.embed)?void 0:e.autoplay);return Bt.videoContentPreload&&t.segmentedPlaybackEnabled&&!n}function Kg(t){return!!Yg(t)&&t.backbone.readyState<Jm.HAVE_CURRENT_DATA}const Zg=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(t){const{events:e}=t;return new r((n=>{e.on(Vv,(function(i){const{backbone:r}=t,{startTime:o,endTime:s}=function(t,e){const{video:n,embed:i}=e.config,r=n.id,o=n.duration,s=i.chapters,a=((t,e)=>Fg(t,O_,e))(t,r);let u,l;return a?(({startTime:u,endTime:l}=Jg(a,s)),ew(e,a)):(u=((t,e)=>Fg(t,I_,e))(t,r),l=((t,e)=>Fg(t,"end",e))(t,r)),({startTime:u,endTime:l}=tw(u,l,o)),{startTime:u,endTime:l}}(i,t);n({startTime:o,endTime:s}),null!==o&&r.currentTime!==o&&e.fire(rf,o,o/r.duration)}))}))}));function Qg(t){const{video:e,embed:n}=t.config,i=t.progressController.canSeekForward;let o;if((null==e||!e.live_event)&&i){let i=null,o=null;const a=((t,e)=>Hg(t,O_,e))(document.location.href,e.id);a?(({startTime:i,endTime:o}=Jg(a,n.chapters)),ew(t,a)):({startTime:i,endTime:o}=function(t,e){const n=document.location.href;let i=((t,e)=>Hg(t,I_,e))(n,t),r=((t,e)=>Hg(t,"end",e))(n,t);var o;return null!==i&&function(t){var e;-1!==t.indexOf("at=")&&null!=(e=history)&&e.replaceState&&history.replaceState("","",window.location.pathname+window.location.search)}(null==(o=document)||null==(o=o.location)?void 0:o.hash),({startTime:i,endTime:r}=tw(i,r,e)),{startTime:i,endTime:r}}(e.id,e.duration)),s(i,o),null===i&&null===o&&function(t,e){t&&t.then||(t=r.resolve(t)),e&&t.then(e)}(Zg(t),(function({startTime:t,endTime:e}){s(t,e)}))}function s(i,r){null!==i&&(t.startTime=a_(i,0,e.duration)),null!==r&&(t.endTime=r,o=function({player:t,startTime:e,endTime:n,loop:i=!1}){let r=!0,o=!1;const{events:s}=t;(function(){const i=n-e,r={duration:i,endTime:n,startTime:e},o={get currentFragment(){return r},firstFragmentDuration:i,checkForNewFragment:qm,reset:qm,hibernate:qm,wake:qm,getFragmentFromTime:()=>r},s=function(t,e){return[1e3*t,1e3*e]}(e,n);t.overrideFragmentsHandler(o,s)})(),Wg(t),s.on(fo.TIME_UPDATE,a),s.on(Pf,l),s.on(Lp,c),s.on(fo.SEEKED,d),s.once(Lc,(function(){r&&t.bigPicture.sendEvent(qb.PLAY_SEGMENT,{start_time:e,end_time:n})}));return()=>{r=!1,s.off(fo.TIME_UPDATE,a),s.off(Pf,l),s.off(Lp,c),s.off(fo.SEEKED,d),t.restoreLastFragmentsHandler()};function a({currentTime:r}){r>=n&&(i?u(e):(t.backbone.pause(),s.fire(fo.ENDED)))}function u(e){o=!1,t.backbone.currentTime=e}function l(){t.backbone&&(t.backbone.currentTime>=n||t.backbone.currentTime<e)&&u(e)}function c(e){e&&(t.startTime=null,t.endTime=null)}function d(){r&&o&&t.bigPicture.sendEvent(qb.SEEK_INSIDE_SEGMENT,{start_time:e,end_time:n}),o=!0}}({player:t,startTime:i??0,endTime:r,loop:!!n.loop}),t.ready().then((()=>{t.bigPicture.sendEvent(qb.EMBED_SEGMENT,{start_time:i,end_time:r})})).catch((t=>{})))}return{clearSegmentedPlayback:()=>null==o?void 0:o()}}function Jg(t,e){const n=null==e?void 0:e.find((e=>e.id===t));let i={startTime:null,endTime:null};return n&&(i={startTime:n.timecode,endTime:null}),i}function tw(t,e,n){let i=t,r=e;return i&&(i=Math.max(i,0)),r&&(r<0&&(r=Math.max(0,n+r)),r=Math.min(r,n),i?i>r&&(i=null,r=null):i=0),{startTime:i,endTime:r}}function ew(t,e){t.events.once(Lc,(()=>{t.bigPicture.sendEvent(qb.CHAPTER_PLAYED,{chapter_id:e})}))}function nw(t){const e=!Yg(t);function n(t){if("opacity"===t.propertyName){const t=i();var e;t&&(Pg(t).off("transitionend",n),null==t||null==(e=t.parentNode)||e.removeChild(t))}}function i(){return document.querySelector(".vp-placeholder")}return{hide:function(){if(e){const t=i();t&&(Pg(t).on("transitionend",n),t.classList.add("vp-placeholder-fadeout"))}}}}const iw="CAPTIONS_RESET",rw="CAPTIONS_SET_FONT_SIZE",ow="CAPTIONS_SET_FONT_FAMILY",sw="CAPTIONS_SET_FONT_OPACITY",aw="CAPTIONS_SET_COLOR",uw="CAPTIONS_SET_BACKGROUND_OPACITY",lw="CAPTIONS_SET_BACKGROUND_COLOR",cw="CAPTIONS_SET_WINDOW_OPACITY",dw="CAPTIONS_SET_WINDOW_COLOR",hw="CAPTIONS_SET_EDGE_STYLE",fw=t=>({type:rw,payload:t}),pw=t=>({type:ow,payload:t}),vw=t=>({type:sw,payload:t}),_w=t=>({type:aw,payload:t}),mw=t=>({type:uw,payload:t}),bw=t=>({type:lw,payload:t}),yw=t=>({type:cw,payload:t}),gw=t=>({type:dw,payload:t}),ww=t=>({type:hw,payload:t}),Tw=()=>({bgColor:{items:[{id:"white",label:"White"},{id:"yellow",label:"Yellow"},{id:"green",label:"Green"},{id:"cyan",label:"Cyan"},{id:"blue",label:"Blue"},{id:"magenta",label:"Magenta"},{id:"red",label:"Red"},{id:"black",label:"Black"}],id:"bgColor",cookie:"bg_color",title:"Color",dispatch:bw},color:{items:[{id:"#fff",label:"White"},{id:"#ff0",label:"Yellow"},{id:"#0f0",label:"Green"},{id:"#0ff",label:"Cyan"},{id:"#00f",label:"Blue"},{id:"#f0f",label:"Magenta"},{id:"#f00",label:"Red"},{id:"#000",label:"Black"}],id:"color",cookie:"color",title:"Color",dispatch:_w},fontSize:{items:[{id:"0.5",label:"50%"},{id:"1",label:"100%"},{id:"1.5",label:"150%"},{id:"2",label:"200%"}],id:"fontSize",cookie:"font_size",title:"Size",dispatch:fw},fontFamily:{items:[{id:"monospace_serif",value:'"Courier New", Courier, monospace',label:"Monospace Serif"},{id:"proportional_serif",value:"Georgia, Times, serif",label:"Proportional Serif"},{id:"monospace_sans_serif",value:'Monaco, "Lucida Console", monospace',label:"Monospace Sans-Serif"},{id:"proportional_sans_serif",value:'"Helvetica Neue", Helvetica, Arial, sans-serif',label:"Proportional Sans-Serif"},{id:"casual",value:'"Comic Sans MS", sans-serif',label:"Casual"},{id:"cursive",value:'"Apple Chancery", "Lucida Handwriting”, cursive',label:"Cursive"},{id:"small_capitals",value:'"Helvetica Neue", Helvetica, Arial, sans-serif',label:"Small Capitals"}],id:"fontFamily",cookie:"font_family",title:"Family",dispatch:pw},fontOpacity:{items:[{id:"25",label:"25%"},{id:"50",label:"50%"},{id:"75",label:"75%"},{id:"100",label:"100%"}],id:"fontOpacity",cookie:"font_opacity",title:"Opacity",dispatch:vw},edgeStyle:{items:[{id:"none",label:"None"},{id:"shadow",label:"Drop Shadow"},{id:"raised",label:"Raised"},{id:"depressed",label:"Depressed"},{id:"outline",label:"Outline"}],id:"edgeStyle",cookie:"edge",title:"Edge style",dispatch:ww},bgOpacity:{items:[{id:"0",label:"0%"},{id:"25",label:"25%"},{id:"50",label:"50%"},{id:"75",label:"75%"},{id:"100",label:"100%"}],id:"bgOpacity",cookie:"bg_opacity",title:"Opacity",dispatch:mw},windowColor:{items:[{id:"#fff",label:"White"},{id:"#ff0",label:"Yellow"},{id:"#0f0",label:"Green"},{id:"#0ff",label:"Cyan"},{id:"#00f",label:"Blue"},{id:"#f0f",label:"Magenta"},{id:"#f00",label:"Red"},{id:"#000",label:"Black"}],id:"windowColor",cookie:"window_color",title:"Color",dispatch:gw},windowOpacity:{items:[{id:"0",label:"0%"},{id:"25",label:"25%"},{id:"50",label:"50%"},{id:"75",label:"75%"},{id:"100",label:"100%"}],id:"windowOpacity",cookie:"window_opacity",title:"Opacity",dispatch:yw}}),Cw={fontSize:1,fontFamily:"proportional_sans_serif",fontOpacity:"100",color:"#fff",bgOpacity:"100",bgColor:"black",windowOpacity:"0",windowColor:"#000",edgeStyle:"none"},Ew=["quality","volume","captions","transcript","captions_color","captions_font_family","captions_font_size","captions_font_opacity","captions_bg_color","captions_bg_opacity","captions_edge","captions_window_color","captions_window_opacity","audio_language","audio_kind","qoe_survey_vote","languages_toast"];let kw=null;function Sw(t){const e=Tw(),n=0!==t.config.request.urls.proxy.indexOf(window.location.origin);let i=0;function o(t){let e=null;try{e=Ny("player")}catch(t){}if(!e)return null;e=e.substring(1,e.length-1);const n={};e.split("&").forEach((function(t){t=t.split("="),n[t[0]]=Ay(decodeURIComponent(t[1]||""))}));const i=[].concat(t),r=i.reduce((function(t,e){if(e in n){const i=parseFloat(n[e]);return t[e]=isNaN(i)||"quality"===e?n[e]:i,t}return t[e]=null,t}),{});return 1===i.length?r[t]:r}function s(e,n,i=!0){t.doNotTrackEnabled||(n=Ay(n),i&&function(e,n){if(kw){const i={method:"set",key:`sync_${e}`,val:n,session:t.config.request.session};return function(e){kw.then((n=>{const i=o_(t.config.request.urls.proxy);return n.contentWindow.postMessage(e,i),n})).catch((e=>{Cg.captureException(e,{extra:{proxyUrl:t.config.request.urls.proxy}})}))}(i),void function(e){t.config.embed.on_site&&window.postMessage(e,window.location.origin)}(i)}try{window.localStorage.setItem(`sync_${e}`,JSON.stringify(n))}catch(t){}}(e,n),function(e,n){Ew.indexOf(e)>=0&&(t.config.request.cookie[e]=n);const i=[];Ew.indexOf(e)>=0&&null!==n&&i.push(`${e}=${n}`);const r=o(Ew);for(let t in r)t in r&&null!==r[t]&&t!==e&&i.push(`${t}=${r[t]}`);!function(t,e,n,{samesite:i,secure:r}={}){var o=new Date;o.setFullYear(o.getFullYear()+1),o=o.toGMTString();var s=`${t}=${e=Ay(e)}`;s+=`;expires=${o}`,s+=";path=/",s+=`;domain=${n}`,r&&(s+=";secure"),i&&(s+=`;samesite=${i}`);try{return document.cookie=s,!0}catch(t){return!1}}("player",`"${i.join("&")}"`,t.config.request.cookie_domain,{secure:!0,samesite:"none"})}(e,n))}function a(e,n){const r=!0;switch(e){case"sync_quality":t.events.fire(Dh,n,r);break;case"sync_volume":if(t.config.embed.settings.background)break;t.events.fire(Ih,n,r);break;case"sync_captions":if(null===n){t.events.fire(Xh,r);break}t.events.fire(zh,n,r);break;case"sync_login":!function(e){i>4||(i++,e&&!t.config.user.logged_in?t.events.fire(Np):!e&&t.config.user.logged_in&&t.events.fire(Op))}(n);break;case"sync_active":null!==n&&n!==t.config.request.session&&t.config.embed.autopause&&t.events.fire(Wp)}}return t.events.on(kf,(function(t,e){e||s("quality",t)})),function(){const e=(e,n)=>{t.config.request.cookie.volume=Ay(e),n||s("volume",e,!1)};t.events.on(Cf,e),t.events.on(Ef,((t,n)=>{t&&e(0,n)}))}(),t.events.on(Wf,(function(e,n){if(e){const i=`${e.language}.${e.kind}`;return t.config.request.cookie.captions=Ay(i),void(n||s("captions",t.config.request.cookie.captions))}t.config.request.cookie.captions=null,n||s("captions",null)})),t.events.on(Gh,(function(e,n){const{dispatch:i,cookie:r}=e;t.store.dispatch(i(n)),s(`captions_${r}`,Ay(n))})),t.events.on(Wh,(function(){t.store.dispatch({type:iw}),Object.keys(e).forEach((t=>{const{cookie:n}=e[t];s(`captions_${n}`,null)}))})),t.events.on(Mv,(function(e,n){if(e)return t.config.request.cookie.transcript=Ay(e.language),void(n||s("transcript",t.config.request.cookie.transcript));t.config.request.cookie.transcript=null,n||s("transcript",null)})),function(){const e=["descriptions","main-desc"];t.events.on(lf,(function(n,i){t.config.request.cookie.audio_language=null!=n&&n.language?Ay(n.language):null,t.config.request.cookie.audio_kind=e.includes(null==n?void 0:n.kind)?Ay(n.kind):null,i||(s("audio_language",t.config.request.cookie.audio_language),s("audio_kind",t.config.request.cookie.audio_kind))}))}(),t.events.on(Bv,(function(){const e=Date.now();t.config.request.cookie.qoe_survey_vote=e,s("qoe_survey_vote",e)})),t.events.on($v,(function(){1===t.config.request.flags.new_subtitles_ui&&(t.config.request.cookie.languages_toast=1,s("languages_toast",1))})),t.events.on(Pf,(function(){t.config.embed.settings.background||(s("active",t.config.request.session),t.events.fire(Gp))})),t.events.on([xf,Tf],(function(){o("active")===t.config.request.session&&s("active",null)})),t.events.on(Mp,(function(){s("login",!0)})),n&&!kw&&(kw=function(e){return new r(((n,i)=>{document.createElement("a").href=t.config.request.urls.proxy;const r=document.createElement("iframe");r.src=e,r.setAttribute("title","Vimeo LocalStorage Proxy"),r.setAttribute("aria-hidden","true"),r.setAttribute("hidden",""),r.onload=function(e){const n=o_(t.config.request.urls.proxy);r.contentWindow.postMessage({method:"ping"},n)},r.onerror=function(t){i(t)};const o=setTimeout((()=>{i()}),1e4),s=function(t){0!==e.indexOf(t.origin)||"ready"!==t.data&&"ping"!==t.data||(window.removeEventListener("message",s,!1),clearTimeout(o),n(r))};window.addEventListener("message",s,!1),document.body.appendChild(r)}))}(t.config.request.urls.proxy)),n?window.addEventListener("message",(function(e){const n=o_(t.config.request.urls.proxy);e.origin===n&&"object"==typeof e.data&&"key"in e.data&&"newValue"in e.data?a(e.data.key,e.data.newValue):e.origin===window.location.origin&&e.data.session!==t.config.request.session&&a(e.data.key,e.data.val)}),!1):window.addEventListener("storage",(function(t){var e;if(0===(null==(e=t.key)?void 0:e.indexOf("sync_"))&&t.oldValue!==t.newValue){try{if(window.localStorage.getItem(t.key)!==t.newValue)return}catch(t){}try{a(t.key,JSON.parse(t.newValue))}catch(e){Cg.captureException(e,{extra:{key:t.key,oldValue:t.oldValue,newValue:t.newValue}})}}}),!1),{reset:function(){s("login",!!t.config.user.logged_in)}}}const Aw={id:"7742C69E",name:"prod"},Nw={id:"BA42D416",name:"prod"},Mw={id:"78077C77",name:"prod"},Ow="urn:x-cast:com.vimeo.cast.media",Iw={connected:y_(),disconnected:y_(),playing:y_(),paused:y_(),buffering:y_(),idle:y_(),ended:y_(),initialized:y_(),castStateChanged:y_(),sessionStateChanged:y_(),timeUpdated:y_(),mediaLoadedSuccess:y_(),mediaLoadedFailed:y_(),error:y_()};let Lw=function(){function t({core:t}){this.lu=t,this.cu=this.onControlSeek.bind(this),this.du=this.onPlayerMutedChanged.bind(this),this.hu=this.onPlayerVolumeChanged.bind(this),this.fu=this.onPlayOrPausePressed.bind(this),this.pu=this.onConfigChanged.bind(this),this.vu=this.onReset.bind(this),this._u=this.onPlayerStateChanged.bind(this),this.mu=this.onCurrentTimeChanged.bind(this),this.bu=this.onIsConnectedChanged.bind(this),this.yu=this.onSessionStateChanged.bind(this),this.gu=this.onCastStateChanged.bind(this),this.wu=this.onIsMediaLoadedChanged.bind(this),this.Tu=this.onCaptionsChanged.bind(this),this.Cu=this.onMessageReceived.bind(this),this.Eu=this.onReceiverMutedChanged.bind(this),this.ku=this.onReceiverVolumeChanged.bind(this),this.Su=this.preventPlayerDefaultEvent.bind(this),this.endVideo=vg(this.Au,500),this.Nu=this.onOutroDisplayed.bind(this),this.Mu=this.onOutroHidden.bind(this),this.volumeLevel=null,this.mutedState=null}var e=t.prototype;return e.calculateStartTime=function(t=null){let e=Number(t)||this.lu.backbone.currentTime-7;return e<0&&(e=0),this.isEndOfVideo&&(e=0),e},e.loadMedia=function({contentId:t,currentTime:e=null,duration:n=null,token:i=null,bypassToken:o=null,autoRequest:s=!1,autoCaption:a=!0,autoDisconnect:u=!0,tracks:l=[]}={}){if(Dw.isLoadingMedia)return r.resolve(!1);const c=this.lu.config;t=t||c.video.id;const d=c.request,h=d.drm;let f;if(h){const e=Rn(d,"files.dash.default_cdn");t=Rn(d,`files.dash.cdns.${e}.url`),f=Rn(h,"cdms.widevine.license_url"),l=(d.text_tracks||[]).map((t=>{const{pathname:e,search:n}=function(t){try{return new URL(t)}catch(t){return{}}}(t.url);return Q(Q({},t),{},{url:`https://player.vimeo.com${e}${n}`})}))}const p=this.calculateStartTime(e);n=Number(n)||this.duration,i=i||c.user.vimeo_api_client_token,o=o||c.video.bypass_token,this.isEndOfVideo&&(this.Ou=!1);const v={contentId:t,duration:n,autoRequest:s,tracks:l,currentTime:p,requestCustomData:{token:i,bypassToken:o,tokenType:"jwt"}};return this.lu.config.request.ott_chromecast_token&&(v.requestCustomData.ottChromecastToken=this.lu.config.request.ott_chromecast_token),this.lu.config.ottCastOptions&&(v.ottCastOptions=this.lu.config.ottCastOptions),(f?this.Po(f).then((t=>Q(Q({},v),{},{mediaCustomData:{widevineLicenseServerURL:t}}))):r.resolve(v)).then((t=>Dw.loadMedia(t))).then((()=>(Dw.fire(Iw.mediaLoadedSuccess),this.addRemotePlayerListenersOnPlaying(),this.lu.events.fire(Lc),this.lu.events.fire(Kh),this.Iu=!1,a&&this.onCaptionsChanged(this.lu.backbone.enabledTextTrack),this.lu.backbone.paused||this.lu.backbone.pause(),!0))).catch((t=>(Dw.fire(Iw.mediaLoadedFailed,t),u&&this.endCurrentSession(),r.reject(t))))},e.Po=function(t){return new r(((e,n)=>{const i=new XMLHttpRequest;i.open("GET",t),i.onload=()=>{const t=t=>new Error(`Error retrieving License Acquisition URL (LA_URL): ${t}`);if(i.status>=200&&i.status<300)try{e(i.response)}catch(e){n(t(e))}else n(t(i.status))},i.onerror=n,i.send()}))},e.init=function(){this.removeInitListeners(),this.addInitListeners()},e.addInitListeners=function(){this.addSessionStateListener(),this.addCastStateListener(),this.addIsConnectedListener()},e.endCurrentSession=function(t=!0){Dw.castContext&&Dw.castContext.endCurrentSession(t)},e.syncBackbone=function(){!this.isOutroRendered&&this.lu.backbone.paused&&(this.lu.backbone.currentTime=this.lastCurrentTime,this.syncTime())},e.stopBackbone=function(){this.lu.events.fire(xh)},e.storeBackboneData=function(){this.lastCurrentTime=this.lu.backbone.currentTime},e.applyBackboneData=function(){this.lastCurrentTime&&(this.lu.backbone.currentTime=this.lastCurrentTime)},e.enableUI=function(){this.lu.events.fire(ff),this.lu.element.classList.add("is-casting")},e.disableUI=function(){this.isOutroRendered||(this.lu.events.fire(pf),this.lu.backbone.element.classList.remove("invisible")),this.lu.element.classList.remove("is-casting")},e.syncTime=function(){const t=this.lastCurrentTime/this.duration;Dw.fire(Iw.timeUpdated,{currentTime:this.lastCurrentTime,duration:this.duration,percent:t}),t>0&&this.lu.events.fire(fo.TIME_UPDATE,{currentTime:this.lastCurrentTime,duration:this.duration,timeProgress:t})},e.Au=function(){return this.Ou=!0,this.lu.events.fire(Tf),this.removeRemotePlayerListenersOnPlaying(),this.isLooped?this.loadMedia().catch((()=>{this.showOutro()})):this.showOutro(),Dw.fire(Iw.ended),!0},e.showOutro=function(){this.isOutroRendered||(this.Iu=!0,this.lu.events.fire(Yh))},e.dispose=function(){this.endCurrentSession(),this.removeAllRemoteListeners()},e.onIsMediaLoadedChanged=function(t){!1===t.value?this.isTimeEnded&&this.endVideo():this.lu.backbone.paused||this.lu.backbone.pause()},e.onPlayerStateChanged=function(t){switch(null===t.value&&this.isTimeEnded&&this.endVideo(),t.value){case Dw.PlayerState.PLAYING:Dw.fire(Iw.playing);break;case Dw.PlayerState.PAUSED:Dw.fire(Iw.paused);break;case Dw.PlayerState.BUFFERING:Dw.fire(Iw.buffering);break;case Dw.PlayerState.IDLE:default:Dw.fire(Iw.idle)}},e.onReceiverVolumeChanged=function(t){null===this.volumeLevel&&(this.volumeLevel=Dw.remotePlayer?Dw.remotePlayer.volumeLevel:1),t.value!==this.volumeLevel&&(this.volumeLevel=t.value,this.lu.events.fire(Ih,t.value,!1,!1))},e.onReceiverMutedChanged=function(t){null===this.mutedState&&(this.mutedState=!!Dw.remotePlayer&&Dw.remotePlayer.isMuted),this.lu.events.fire(Lh,t.value,!0)},e.onPlayerMutedChanged=function(t){Dw.remotePlayer&&Dw.remotePlayerController&&Dw.remotePlayer.isMuted!==t&&Dw.remotePlayerController.muteOrUnmute()},e.onPlayerVolumeChanged=function(t){this.lu.backbone.muted||Dw.remotePlayer&&Dw.remotePlayerController&&yc(Dw.remotePlayer.volumeLevel)!==yc(t)&&(Dw.remotePlayer.volumeLevel=t,Dw.remotePlayerController.setVolumeLevel())},e.onCurrentTimeChanged=function(t){this.isMediaLoaded&&(this.lastCurrentTime=t.value),this.syncTime(),this.isTimeEnded&&this.endVideo()},e.onCaptionsChanged=function(t){const e=Dw.currentSession;e&&e.sendMessage(Ow,{action:"setActiveByLanguage",value:null==t?void 0:t.language})},e.onSessionStateChanged=function(t){switch(t.sessionState){case Dw.SessionState.SESSION_STARTING:this.addPreventLocalPlayerEvents();break;case Dw.SessionState.SESSION_RESUMED:case Dw.SessionState.SESSION_STARTED:this.loadMedia();break;case Dw.SessionState.SESSION_ENDING:case Dw.SessionState.SESSION_ENDED:break;case Dw.SessionState.SESSION_START_FAILED:this.removePreventLocalPlayerEvents()}Dw.fire(Iw.sessionStateChanged,t.sessionState)},e.onCastStateChanged=function(t){Dw.fire(Iw.castStateChanged)},e.onIsConnectedChanged=function(t){t.value?this.onConnected():this.onDisconnected()},e.onConnected=function(){this.removePreventLocalPlayerEvents(),this.storeBackboneData(),this.stopBackbone(),this.applyBackboneData(),this.addLocalPlayerListeners(),this.addRemotePlayerListenersOnIdle(),this.addMessageListener(),this.enableUI(),Dw.fire(Iw.connected,Dw.currentSessionObj)},e.onDisconnected=function(){this.syncBackbone(),this.removeRemotePlayerListeners(),this.removeLocalPlayerListeners(),this.removeMessageListener(),this.disableUI(),Dw.fire(Iw.disconnected)},e.onConfigChanged=function(){this.loadMedia()},e.onReset=function(){this.loadMedia()},e.onPlayOrPausePressed=function(){this.isEndOfVideo?this.loadMedia():this.isPlayingOrPaused&&Dw.remotePlayerController.playOrPause(),this.lu.events.halt()},e.onControlSeek=function(t){t=this.lu.progressController.getAllowedSeekTime(t),this.currentTime=t,this.lu.events.halt()},e.addSessionStateListener=function(){Dw.castContext&&Dw.castContext.addEventListener(Dw.CastContextEventType.SESSION_STATE_CHANGED,this.yu)},e.addCastStateListener=function(){Dw.castContext&&Dw.castContext.addEventListener(Dw.CastContextEventType.CAST_STATE_CHANGED,this.gu)},e.addMessageListener=function(){const t=Dw.currentSession;t&&t.addMessageListener(Ow,this.Cu)},e.onMessageReceived=function(t,e){"MEDIA_FINISHED"===(e=JSON.parse(e)).type&&("END_OF_STREAM"===e.endedReason?this.endVideo():"ERROR"===e.endedReason&&(this.endCurrentSession(),Dw.fire(Iw.error,new Error("Chromecast encountered an error and media finished."))))},e.onOutroDisplayed=function(){this.Iu=!0},e.onOutroHidden=function(){this.Iu=!1},e.addIsConnectedListener=function(){Dw.remotePlayerController&&Dw.remotePlayerController.addEventListener(Dw.RemotePlayerEventType.IS_CONNECTED_CHANGED,this.bu)},e.addPreventLocalPlayerEvents=function(){this.lu.events.prependOn([Pf,xf,Hf,Ff,mo.BUFFER_STARTED,mo.BUFFER_ENDED,Oh,Ef,Cf,Wf,Lp,xh],this.Su)},e.addRemotePlayerListenersOnIdle=function(){this.removeRemotePlayerListenersOnIdle(),this.addIsMediaLoadedChangedListener(),this.addVolumeLevelChangedListener()},e.addLocalPlayerListeners=function(){this.lu.events.prependOn(Pf,this.fu),this.lu.events.prependOn(xf,this.fu),this.lu.events.prependOn(Hf,this.Su),this.lu.events.prependOn(Ff,this.Su),this.lu.events.prependOn(mo.BUFFER_STARTED,this.Su),this.lu.events.prependOn(mo.BUFFER_ENDED,this.Su),this.lu.events.prependOn(Oh,this.cu),this.lu.events.prependOn(Ef,this.du),this.lu.events.prependOn(Cf,this.hu),this.lu.events.on(Wf,this.Tu),this.lu.events.on(Lp,this.pu),this.lu.events.on(xh,this.vu),this.lu.events.on(Up,this.Nu),this.lu.events.on(zp,this.Mu)},e.preventPlayerDefaultEvent=function(){this.lu.events.halt()},e.addCurrentTimeChangedListener=function(){Dw.remotePlayerController&&Dw.remotePlayerController.addEventListener(Dw.RemotePlayerEventType.CURRENT_TIME_CHANGED,this.mu)},e.addIsMediaLoadedChangedListener=function(){Dw.remotePlayerController&&Dw.remotePlayerController.addEventListener(Dw.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED,this.wu)},e.addPlayerStateChangedListener=function(){Dw.remotePlayerController&&Dw.remotePlayerController.addEventListener(Dw.RemotePlayerEventType.PLAYER_STATE_CHANGED,this._u)},e.addVolumeLevelChangedListener=function(){Dw.remotePlayerController&&(Dw.remotePlayerController.addEventListener(Dw.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,this.ku),Dw.remotePlayerController.addEventListener(Dw.RemotePlayerEventType.IS_MUTED_CHANGED,this.Eu))},e.addRemotePlayerListenersOnPlaying=function(){this.removeRemotePlayerListenersOnPlaying(),this.addCurrentTimeChangedListener(),this.addPlayerStateChangedListener()},e.removeRemotePlayerListenersOnIdle=function(){this.removeIsMediaLoadedChangedListener(),this.removeVolumeLevelChangedListener()},e.removeInitListeners=function(){Dw.castContext&&(Dw.castContext.removeEventListener(Dw.CastContextEventType.SESSION_STATE_CHANGED,this.yu),Dw.castContext.removeEventListener(Dw.CastContextEventType.CAST_STATE_CHANGED,this.gu)),Dw.remotePlayerController&&Dw.remotePlayerController.removeEventListener(Dw.RemotePlayerEventType.IS_CONNECTED_CHANGED,this.bu)},e.removeRemotePlayerListenersOnPlaying=function(){this.removeCurrentTimeChangedListener(),this.removePlayerStateChangedListener()},e.removeMessageListener=function(){const t=Dw.currentSession;t&&t.removeMessageListener(Ow,this.Cu)},e.removeCurrentTimeChangedListener=function(){Dw.remotePlayerController&&Dw.remotePlayerController.removeEventListener(Dw.RemotePlayerEventType.CURRENT_TIME_CHANGED,this.mu)},e.removeIsMediaLoadedChangedListener=function(){Dw.remotePlayerController&&Dw.remotePlayerController.removeEventListener(Dw.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED,this.wu)},e.removePlayerStateChangedListener=function(){Dw.remotePlayerController&&Dw.remotePlayerController.removeEventListener(Dw.RemotePlayerEventType.PLAYER_STATE_CHANGED,this._u)},e.removeVolumeLevelChangedListener=function(){Dw.remotePlayerController&&(Dw.remotePlayerController.removeEventListener(Dw.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,this.ku),Dw.remotePlayerController.removeEventListener(Dw.RemotePlayerEventType.IS_MUTED_CHANGED,this.Eu))},e.removePreventLocalPlayerEvents=function(){this.lu.events.off([Pf,xf,Hf,Ff,mo.BUFFER_STARTED,mo.BUFFER_ENDED,Oh,Ef,Cf,Wf,Lp,xh],this.Su)},e.removeLocalPlayerListeners=function(){this.lu.events.off(Pf,this.fu),this.lu.events.off(xf,this.fu),this.lu.events.off(Hf,this.Su),this.lu.events.off(Ff,this.Su),this.lu.events.off(mo.BUFFER_STARTED,this.Su),this.lu.events.off(mo.BUFFER_ENDED,this.Su),this.lu.events.off(Oh,this.cu),this.lu.events.off(Ef,this.du),this.lu.events.off(Cf,this.hu),this.lu.events.off(Wf,this.Tu),this.lu.events.off(Lp,this.pu),this.lu.events.off(xh,this.vu)},e.removeRemotePlayerListeners=function(){this.removeRemotePlayerListenersOnPlaying(),this.removeRemotePlayerListenersOnIdle()},e.removeAllRemoteListeners=function(){this.removeRemotePlayerListeners(),this.removeInitListeners()},X(t,[{key:"currentTime",get:function(){return this.lastCurrentTime||0},set:function(t){Dw.remotePlayer&&Dw.remotePlayerController&&(t=this.lu.progressController.getAllowedSeekTime(t),Dw.remotePlayer.currentTime=t,Dw.remotePlayerController.seek(),this.lastCurrentTime=t)}},{key:"isTimeEnded",get:function(){return this.lastCurrentTime+.5>=this.duration}},{key:"isOutroRendered",get:function(){return this.Iu||!1}},{key:"isLooped",get:function(){return this.lu.config.embed.loop}},{key:"isEndOfVideo",get:function(){return this.Ou||!1}},{key:"duration",get:function(){return this.lu.config.video.duration}},{key:"isPlayingOrPaused",get:function(){return Dw.remotePlayer?Dw.remotePlayer.playerState===Dw.PlayerState.PLAYING||Dw.remotePlayer.playerState===Dw.PlayerState.PAUSED:null}},{key:"isIdle",get:function(){return Dw.remotePlayer?null===Dw.remotePlayer.playerState||Dw.remotePlayer.playerState===Dw.PlayerState.IDLE:null}},{key:"isMediaLoaded",get:function(){return!!Dw.remotePlayer&&Dw.remotePlayer.isMediaLoaded}}])}();const Rw={SETUP_DONE:"SETUP_DONE",NOT_SETUP:"NOT_SETUP"};let xw=function(){function t(){this.version="1.2.36",this.remotePlayer=null,this.remotePlayerController=null,this.CastContextEventType=null,this.RemotePlayerEventType=null,this.CastState=Rw,this.SessionState=null,this.PlayerState=null,this.currentLoadRequestId=null,this.currentLoadingMediaPromise=null}var e=t.prototype;return e.init=function({receiverApplicationId:t="",resumeSavedSession:e=!0,language:n=null,autoJoinPolicy:i="TAB_AND_ORIGIN_SCOPED"}={}){if(!this.isGCastApiAvailable)throw new Error("CAF is not available. Call setup() first.");if("string"!=typeof t||""===t.trim())throw new Error("Parameter 'receiverApplicationId' must be valid.");switch(i){case chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED:case chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED:case chrome.cast.AutoJoinPolicy.PAGE_SCOPED:break;default:i=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED}return this.CastContextEventType=cast.framework.CastContextEventType,this.RemotePlayerEventType=cast.framework.RemotePlayerEventType,this.CastState=Object.assign(this.CastState,cast.framework.CastState),this.SessionState=cast.framework.SessionState,this.PlayerState=chrome.cast.media.PlayerState,cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:t.trim(),resumeSavedSession:e,language:n,autoJoinPolicy:i}),this.isInitialized?this.remotePlayerController:this.initRemotePlayer()},e.initRemotePlayer=function(){if(!this.isGCastApiAvailable)throw new ReferenceError("CAF is not available. Call setup() first.");return this.remotePlayer=new cast.framework.RemotePlayer,this.remotePlayerController=new cast.framework.RemotePlayerController(this.remotePlayer),this.remotePlayerController},e.setup=function({loadLibrary:t=!0}={}){return new r(((e,n)=>{if(this.isGCastApiAvailable)return this.AutoJoinPolicy=chrome.cast.AutoJoinPolicy,void e(!0);window.__onGCastApiAvailable=(t,i)=>{let r;i?(r=new Error(i),n(r)):chrome.cast?(this.AutoJoinPolicy=chrome.cast.AutoJoinPolicy,e(t)):(r=new ReferenceError("Cast is not available on this browser."),n(r))};try{if(!1===t)throw new ReferenceError("Cast is not available. Make sure the library has been loaded.");this.loadLibrary()||e(!1)}catch(t){const e=new Error(t);n(e)}}))},e.loadLibrary=function(){if(this.isGCastApiAvailable)return!0;if(null!==window.chrome&&void 0!==window.chrome&&"Google Inc."===window.navigator.vendor){let t="//www.gstatic.com/cv/js/sender/v1/cast_sender.js";if(!(document.querySelectorAll('script[src^="'+t+'"]').length>0)){t+="?loadCastFramework=1";const e=document.createElement("script");return e.src=t,e.async=!0,e.defer=!0,document.head.appendChild(e),!0}}return!1},e.loadMedia=function({contentId:t,contentType:e,currentTime:n=0,duration:i=0,requestCustomData:o=null,mediaCustomData:s=null,autoRequest:a=!1,tracks:u=[],ottCastOptions:l}){return t?this.isSessionEstablished?this.loadMediaOnSession(this.currentSession,{contentId:t,contentType:e,currentTime:n,duration:i,requestCustomData:o,mediaCustomData:s,tracks:u,ottCastOptions:l}):!0!==a?r.reject(new TypeError("Option 'autoRequest' must be true when session is not connected.")):this.requestSession().then((r=>this.loadMediaOnSession(r,{contentId:t,contentType:e,currentTime:n,duration:i,requestCustomData:o,mediaCustomData:s,tracks:u,ottCastOptions:l}))):r.reject(new TypeError("Option 'contentId' must be valid."))},e.loadMediaOnSession=function(t,{contentId:e,contentType:n,currentTime:i=0,duration:o,requestCustomData:s=null,mediaCustomData:a=null,tracks:u=[],ottCastOptions:l}){if(t&&t instanceof cast.framework.CastSession){const c=t.getSessionState();if(c!==this.SessionState.SESSION_STARTING&&c!==this.SessionState.SESSION_STARTED&&c!==this.SessionState.SESSION_RESUMED)return r.reject(new ReferenceError("Session must be established."));const d=this.createLoadRequest(e,n,i,o,s,a,u,l);return null!==this.currentLoadRequestId&&this.currentLoadRequestId===d.requestId||(this.currentLoadRequestId=d.requestId,this.currentLoadingMediaPromise=t.loadMedia(d).finally((()=>{this.currentLoadRequestId=null,this.currentLoadingMediaPromise=null}))),this.currentLoadingMediaPromise}return r.reject(new ReferenceError("Session must be cast.framework.CastSession."))},e.requestSession=function(){return this.isSessionEstablished?r.resolve(this.currentSession):this.castContext?this.castContext.requestSession().then((()=>this.currentSession)):r.reject(new Error("CastContext is not available. Call setup() first."))},e.sendMessage=function({namespace:t,data:e={},autoRequest:n=!1}){return this.isSessionEstablished?this.sendMessageOnSession(this.currentSession,{namespace:t,data:e}):!0!==n?r.reject(new TypeError("Option 'autoRequest' must be true when session is not connected.")):this.requestSession().then((n=>this.sendMessageOnSession(n,{namespace:t,data:e})))},e.sendMessageOnSession=function(t,{namespace:e,data:n={}}){if(t||!(t instanceof cast.framework.CastSession)){const i=t.getSessionState();return i!==this.SessionState.SESSION_STARTING&&i!==this.SessionState.SESSION_STARTED&&i!==this.SessionState.SESSION_RESUMED?r.reject(new ReferenceError("Session must be established.")):t.sendMessage(e,n)}return r.reject(new ReferenceError("Session must be cast.framework.CastSession."))},e.createCastButton=function(t){const e=document.createElement("button","google-cast-button");return t&&t.style&&(null===t.style["--disconnected-color"]&&(t.style["--disconnected-color"]="#00ADEF"),null===t.style["--connected-color"]&&(t.style["--connected-color"]="#E5E500")),t&&Object.keys(t).forEach((n=>{if("string"==typeof t[n])e.setAttribute(n,t[n]);else if("style"===n&&"object"==typeof t[n]){let i="";Object.keys(t[n]).forEach((e=>{i+=e+":"+t[n][e]+";"})),e.setAttribute(n,i)}})),e},e.createLoadRequest=function(t,e,n,i,r,o,s,a){const u=a?new chrome.cast.media.MediaInfo(a.contentId):new chrome.cast.media.MediaInfo(t.toString(),e);u.customData=o,u.duration=i;const l={subtitles:chrome.cast.media.TextTrackType.SUBTITLES,captions:chrome.cast.media.TextTrackType.CAPTIONS};u.tracks=s.map((t=>{const e=new chrome.cast.media.Track(t.id,chrome.cast.media.TrackType.TEXT);return e.trackContentId=t.url,e.trackContentType="text/vtt",e.subtype=l[t.kind],e.name=t.label,e.language=t.lang,e}));const c=new chrome.cast.media.LoadRequest(u);return c.customData=a?a.customData:r,c.currentTime=n||0,a&&(c.credentials=a.credentials,c.credentialsType=a.credentialsType),c},X(t,[{key:"isGCastApiAvailable",get:function(){return!!("undefined"!=typeof cast&&cast&&cast.framework&&cast.framework.VERSION)}},{key:"castState",get:function(){return this.castContext?this.castContext.getCastState():this.isGCastApiAvailable?this.CastState.SETUP_DONE:this.CastState.NOT_SETUP}},{key:"versionGCastApi",get:function(){return this.isGCastApiAvailable?cast.framework.VERSION:null}},{key:"castContext",get:function(){return this.isGCastApiAvailable?cast.framework.CastContext.getInstance():null}},{key:"currentSession",get:function(){return this.castContext?this.castContext.getCurrentSession():null}},{key:"currentSessionObj",get:function(){const t=this.currentSession;return t?t.getSessionObj():null}},{key:"isInitialized",get:function(){return!(!this.isGCastApiAvailable||!this.remotePlayerController)}},{key:"isSessionEstablished",get:function(){const t=this.currentSessionObj;return!!t&&t.status===chrome.cast.SessionStatus.CONNECTED}},{key:"isCastConnected",get:function(){return this.castState===this.CastState.CONNECTED}}])}();new xw;let Pw=function(t){function e(){return t.apply(this,arguments)||this}q(e,t);var n=e.prototype;return n.init=function({appId:e,chromecastPlayer:n=null}={}){var i,o;return e||(e=null!=n&&null!=(i=n.lu)&&null!=(i=i.config.request.flags)&&i.ott?null!=n&&null!=(o=n.lu)&&o.config.ottCastOptions?n.lu.config.ottCastOptions.appId?n.lu.config.ottCastOptions.appId:Nw.id:Mw.id:Aw.id),this.chromecastPlayer=n,this.setup().then((n=>(n&&(t.prototype.init.call(this,{receiverApplicationId:e,autoJoinPolicy:this.AutoJoinPolicy.PAGE_SCOPED}),this.chromecastPlayer&&this.chromecastPlayer.init(),this.fire(Iw.initialized)),n))).catch((t=>(this.fire(Iw.error,t),r.reject(t))))},n.dispose=function(){this.chromecastPlayer=null},X(e,[{key:"chromecastPlayer",get:function(){return this.Lu},set:function(t){if(t&&!(t instanceof Lw))throw new SyntaxError("An invalid ChromecastPlayer was specified");this.chromecastPlayer&&this.chromecastPlayer.dispose(),this.Lu=t}}])}(xw);const Dw=ri.extend(new Pw),Bw="LIVE_UPDATE";function $w(t,e){return Object.keys(e).reduce(((n,i)=>(e[i]&&"object"==typeof e[i]?n[t(i)]=$w(t,e[i]):n[t(i)]=e[i],n)),{})}function Vw(t){return t.replace(/(_\w)/g,(t=>t[1].toUpperCase()))}function jw(t){return $w(Vw,t)}const Hw="CONFIG_LOAD",Fw=t=>({type:Hw,payload:Q({},jw(t))});function Uw(t={},{type:e,payload:n}){switch(e){case Hw:return n.video.liveEvent?Q(Q({},t),n.video.liveEvent):null;case Bw:return Q(Q({},t),n);case"LIVE_SET_START_TIME":return Q(Q({},t),{},{ingest:Q(Q({},t.ingest),{},{startTime:n})});case"LIVE_SETTINGS_UPDATE":return Q(Q({},t),{},{settings:Q(Q({},t.settings),n)});default:return t}}const zw=t=>{var e;return!(null==(e=t.liveEvent)||!e.status)},Xw=t=>{var e;return null==(e=t.liveEvent)?void 0:e.status},Gw=t=>{var e;return(null==(e=t.liveEvent)?void 0:e.status)===T_},Ww=t=>{var e;return zw(t)&&"ended"===(null==(e=t.liveEvent)?void 0:e.status)},qw=t=>{var e;return(null==(e=t.liveEvent)||null==(e=e.archive)?void 0:e.status)===w_};var Yw=Object.freeze({__proto__:null,default:Uw,liveExists:zw,liveStatus:Xw,liveStartTime:t=>{var e;return(null==(e=t.liveEvent)||null==(e=e.ingest)?void 0:e.startTime)||null},isLiveStarted:Gw,liveInProgress:Ww,isLiveArchived:qw});const Kw="interactive";let Zw=function(t){return t.NONE="none",t.METADATA="metadata",t.METADATA_ON_HOVER="metadata_on_hover",t.AUTO="auto",t.AUTO_ON_HOVER="auto_on_hover",t}({});const Qw=Zw.METADATA_ON_HOVER;let Jw=function(t){return t.PQ="PQ",t.DV5="DV5",t.DV81="DV81",t.DV82="DV82",t.DV84="DV84",t.HDR10="HDR10",t.HDR10_PLUS="HDR10_PLUS",t.HLG="HLG",t}({}),tT=function(t){return t.KOLLECTIVE="kollective",t.HIVE="hive",t}({});function eT(){}function nT(t,e,n){const i=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){return function(e,n){var i=function(){var e;if(z_.includes(null==t||null==(e=t.config)||null==(e=e.user)?void 0:e.id))return function(t){if(!void 0)return t&&t.then?t.then(eT):r.resolve()}(lt(2e3))}();return i&&i.then?i.then(n):n()}(0,(function(){t.refreshAssetUrls()}))})),o=t.events;let s=t.backbone;const a=Tw(),u=!t.config.embed.playsinline&&(Bt.mobileAndroid||Bt.iOS&&!Bt.iPad),l=(Bt.iOS>=8||M_)&&!Bt.iPad;let c=!1,d=!1,h=!1,f=!1,p=null,v=!1,_=null,m=!1,b=!1,y=!1,g=!1,w=!1;function T(t){s.element.classList.remove("invisible"),C()}function C(){let t=s.play();return w&&(t=t.catch(E)),t.catch(S).then(A)}function E(t){if(k(t))return o.fire(Lh,!0,!0),s.play();throw t}function k(t){return t&&("NotAllowedError"===t.name||"AbortError"===t.name)}function S(t){return o.fire(mf,t),new r((()=>{}))}function A(){w=!1,o.fire(bf)}function N(t){try{s.currentTime=t}catch(t){}}function M(t=!1){(!f||t)&&!v&&c&&s.paused&&C()}function O(){var e;const n=(null==(e=t.config.request.flags)?void 0:e.preload_video)||Qw;let i=n,r="",a="";n===Zw.AUTO_ON_HOVER&&(r=Zw.AUTO),n===Zw.METADATA_ON_HOVER&&(r=Zw.METADATA),n===Zw.AUTO&&(a=Zw.AUTO);const u=Bt.isGoogleBot||Bt.isCrawler||"none"===n;function l(e){t.config.request&&s.preload===Zw.NONE&&e&&!u&&!h&&t.verifyConfig().then((()=>(s.preload=e,!0))).catch((t=>{}))}(r||a||u)&&(i=Zw.NONE),s.preload=i,o.on(Tp,(function(){r&&l(r)})),o.on(mo.LOAD_SEGMENT_FAILED,(function(t){Cg.captureException(t)})),t.inView().then((()=>{a&&l(a)}))}function I(){g=!1;const e=s.video;if(s.loadVideo(t.config),!e)if(t.config.embed.texttrack&&1!==t.config.request.flags.new_subtitles_ui){let e=t.config.embed.texttrack;if(s.hasTextTrack(e)){const t=!0;o.fire(zh,e,t)}}else o.on(mo.TEXT_TRACKS_AVAILABLE,(()=>{n(),i()})),n(),i();function n(){let e;if(null!==t.config.request.cookie.captions&&"null"!==t.config.request.cookie.captions&&(e=t.config.request.cookie.captions),1===t.config.request.flags.new_subtitles_ui){var n;const i=null==(n=t.config.request.text_tracks)?void 0:n.find((t=>t.enabled));i&&(e=i.id)}if(e&&s.hasTextTrack(e)){const t=!0;o.fire(zh,e,t)}}function i(){Object.keys(a).forEach((e=>{var n;const{dispatch:i,items:r}=a[e],o=null==(n=t.config.request.cookie.captions_styles)?void 0:n[e],s=r.some((t=>t.id===o));t.store.dispatch(i(s?o:Cw[e]))}))}}function L(t,e,n,i){if(d){const r=new XMLHttpRequest;r.open("DELETE",`${t}/plays/${e}/${n}?token=${i}`,!1),r.send(),d=!1}}function R(){t.startTime>0&&o.fire(rf,t.startTime,t.startTime/s.duration)}function x(){if(t.config.embed.autoplay){var n,i;if(e.get(zw)&&!e.get(Gw))return;if(e.get(zw)&&!Sy(null==(n=t.config.video)?void 0:n.live_event))return void setTimeout((function(){o.fire(jv),o.fire(Pf,{fromUserGesture:!1})}),ky(null==(i=t.config.video)?void 0:i.live_event));o.fire(Pf,{fromUserGesture:!1})}}s.element.classList.add("invisible"),l&&s.element.classList.add("hide-webkit-controls"),t.config.video.live_event&&n.classList.add("live-background"),t.config.embed.transparent&&n.classList.add("transparent"),e.watch(Xw,(function(t){t===T_&&setTimeout((()=>{I(),s.element.classList.remove("invisible"),o.fire(jv),o.fire(Pf,{fromUserGesture:!1})}),U_)})),e.watch(qw,i),e.watch("ui.video.scaleFactor",(t=>{s.element.classList.toggle("vp-telecine-cover",t>1)})),function e(){o.once(Yp,e),s=t.backbone,v_(s.on,o.fire,[Pc,xc,Bc,Lc,Rc,Dc,Oc,Ic,$c,Vc,jc,Hc,vo.ACTIVATED,vo.AVAILABLE,vo.DEACTIVATED,vo.UNAVAILABLE,nd.ARCHIVE_DONE,nd.EVENT_ACTIVE,nd.EVENT_ENDED,nd.EVENT_STARTED,nd.STREAM_OFFLINE,nd.STREAM_ONLINE,nd.BUFFER_GAP_JUMP,nd.BUFFER_GAP_JUMP_PREVENT,nd.STALL_JUMP,nd.SETTINGS_UPDATED,nd.LOW_LATENCY_FALLBACK,nd.LIVE_STATS_SUCCESS,nd.LIVE_STATS_FAILURE,nd.LATENCY_UPDATED,go.MEDIASESSION_PAUSE,go.MEDIASESSION_PLAY,go.MEDIASESSION_SEEK_BACKWARD,go.MEDIASESSION_SEEK_FORWARD,go.MEDIASESSION_SEEK_TO,mo.AV_DURATION_MISMATCH,mo.BANDWIDTH,mo.BUFFER_ENDED,mo.BUFFER_OCCUPANCY,mo.BUFFER_STARTED,mo.CHAPTER_CUES_UPDATED,mo.CUE_POINT,mo.NO_SUPPORTED_CDM,mo.CURRENT_FILE_CHANGE,mo.DOWNLOAD_END,mo.DOWNLOAD_TIMEOUT,mo.DRM_AUTH_SUCCESS,mo.DRM_CDM_CHANGE,mo.DRM_KEY_SWITCH,mo.DROPPED_FRAMES,mo.MANIFEST_LOADED,mo.MANIFEST_TIMEOUT,mo.QUOTA_EXCEEDED_ERROR,mo.SCANNER_CHANGE,mo.STREAM_BUFFER_START,mo.STREAM_CHANGE,mo.STREAM_CHANGE_START,mo.STREAM_TARGET_CHANGE,mo.AVAILABLE_STREAMS_CHANGED,mo.MEDIA_CAPABILITY_STREAMS_UNSUPPORTED,mo.TEXT_TRACKS_AVAILABLE,mo.DROPPED_FRAME_PERCENT_EXCEEDED,mo.LOAD_SEGMENT_FAILED,mo.AUDIO_TRACK_CHANGED,mo.SEGMENT_CUES_LOADED,yo.CAMERA_CHANGE,yo.CAMERA_UPDATE,yo.MOTION_END,yo.MOTION_START,yo.SPATIAL_UNSUPPORTED,yo.WEBVR_ENTER,yo.WEBVR_EXIT,yo.WEBVR_HARDWARE_AVAILABLE,fo.DURATION_CHANGE,fo.ENDED,fo.ERROR,fo.LOAD_START,fo.LOADED_DATA,fo.LOADED_METADATA,fo.PAUSE,fo.PLAY,fo.PLAYING,fo.PROGRESS,fo.RATE_CHANGE,fo.RESIZE,fo.SEEKED,fo.SEEKING,fo.STALLED,fo.TIME_UPDATE,fo.VOLUME_CHANGE,fo.WAITING,fo.ENTER_PICTURE_IN_PICTURE,fo.LEAVE_PICTURE_IN_PICTURE,fo.WEBKIT_BEGIN_FULLSCREEN,fo.WEBKIT_END_FULLSCREEN])}(),v_(Dw.on,o.fire,[Iw.connected,Iw.disconnected]),O(),o.on(fo.LOADED_METADATA,(function(e){t.config.video.duration=s.duration,t.config.video.video_width=s.videoWidth,t.config.video.video_height=s.videoHeight})),o.on(fo.DURATION_CHANGE,(function(e){t.config.video.duration=s.duration})),o.on(mo.SCANNER_CHANGE,(()=>{O(),setTimeout((()=>{o.fire(jl.settingVolume?jh:Vh),o.fire(jl.textTracks?Fh:Hh)}),0),Cg.captureBreadcrumb(`Scanner changed to ${s.currentScannerName}`,{},"video")})),o.on([nd.EVENT_ACTIVE,nd.EVENT_STARTED,nd.EVENT_ENDED,nd.ARCHIVE_DONE],(n=>{Object.assign(t.config.video.live_event,n),e.dispatch((t=>({type:Bw,payload:t}))(n))})),o.on(Pf,(function(e){Bt.isGoogleBot||t.progressController.canPlayNow&&(t.displayContext!==t.backbone?t.displayContext.play():function(e={fromUserGesture:!0}){var n;if(("disable"===t.config.video.privacy||!t.config.video.spatial||Bt.spatialPlayback||g)&&s.element.classList.remove("invisible"),p)return o.fire(_f,null==(n=p)?void 0:n.type,p),void o.fire(ff);if(c=!0,v)o.fire(ff);else{if(s.off(fo.PLAY,T),u&&(m=!0,o.fire(Uh)),e.fromUserGesture||(w=!0),!h)return!t.config.video.spatial||Bt.spatialPlayback||g?void C().catch(console.error):(g=!0,o.fire(Rh,"spatial-redirect","browser-support"),void o.once(fo.PLAY,T));h&&M()}}(e))})).on(xf,(()=>{c=!1,t.displayContext.pause()})).on(Wp,(function(){(window.location.search.indexOf("autopause=0")<0&&!s.paused&&!t.config.embed.settings.background||c)&&(c=!1,o.fire(xf))})),o.on(fo.ERROR,(function(e){if(k(e)&&!w){if(t.config.embed.autoplay=0,s.pause(),t.startTime)return N(t.startTime),void o.fire(yf,s.currentTime);if(0===s.currentTime)return void o.fire(xh);o.fire(yf,s.currentTime)}})),o.on(fo.PLAY,(function(t){s.element.classList.remove("invisible"),h=!0})),o.on(fo.PAUSE,(function(t,e){f||o.fire(yf,t,e)})),o.on(fo.TIME_UPDATE,(function({currentTime:t}){})),o.on(fo.ENDED,(function(e){f||t.config.embed.loop||(m&&o.fire(Rf),c=!1,o.fire(Tf,e))})),o.on(mo.DRM_AUTH_SUCCESS,(()=>{d=!0})),o.on(Lc,(()=>{h=!0,o.once(fo.TIME_UPDATE,(()=>{o.fire(Af)}))})),o.on(mo.BUFFER_STARTED,(()=>{})),function(){let e=!1,n=!1;function i(r){if(e)return;if(r.name.includes(Go))return;if("TextTracksNotSupported"===r.name)return void o.fire(Hh);Cg.captureBreadcrumb(r.name,{message:r.message},"telecine error","error");let s=t.config.video.live_event?.25:.01;if(r.name===Xo&&!n){n=!0,s=.5;const e=t.config.request,i=e.files,o=i.dash.cdns.fastly_skyfire.url,a=i.hls.cdns.fastly_skyfire.url,u=i.dash.cdns.akfire_interconnect_quic.url,l=i.hls.cdns.akfire_interconnect_quic.url,c=i.progressive.length?i.progressive[0].url:null,d=i.progressive.length?i.progressive[0].id:null,h=e.file_codecs,f=t.config.video.file_codecs,p=t.config.user.logged_in,v=e.build.js;Cg.captureBreadcrumb(r.name,{fastly_dash_url:o,fastly_hls_url:a,akamai_dash_url:u,akamai_hls_url:l,prog_url:c,prog_id:d,file_codecs:h,video_file_codecs:f,logged_in:p,version:v},"MediaUrlBadRequest config","error")}const a="string"!=typeof r.message?r.name:r.message,u=new Error(a);u.name=r.name;const l="object"==typeof r.message?r.message:null;Cg.captureException(u,l,s);const c=um[r.name];if("function"==typeof c){if(p=c(),p.final&&o.off(fo.ERROR,i),r.name===Uo){let e=t.config.request.dynamic_drm_translation_map,n=r.message.code;p&&e&&n&&e[n]&&(p.title=e[n].title,p.message=e[n].msg),Cg.captureBreadcrumb("DRM failure",r,"video")}o.fire(_f,p.deferred?p.type:null,p,a)}}window.addEventListener("pagehide",(()=>{e=!0}),!1),o.on(fo.ERROR,i),o.on("test-error",i)}(),o.on(Ph,(function(e){const n=!!e&&("boolean"==typeof Bt.iOS||Bt.iOS>=10);t.config.embed.loop=n,s.loop=n})),o.fire(Ph,t.config.embed.loop),o.on($f,((e,n)=>{t.events.fire(Vf,n),t.events.fire(Oh,e),h||o.fire(Pf)})),o.on(Hf,(function(){v||(f||(c=!s.paused),f=!0,s.pause())})),o.on(Ff,(function(t){function e(){f=!1}return h?!t&&c?(o.once(bf,e),void M(!0)):void e():(o.once(bf,e),void o.fire(Pf))})),o.on(Oh,(function(e){v||(e=t.progressController.getAllowedSeekTime(e),o.fire(rf,e))})),o.on(rf,(function(e){h||t.fragmentsHandler.checkForNewFragment(e,s.duration),N(e)})),function(){o.on(Ih,(function(e,n,i,r=!0){i&&(e+=s.volume),e=h_(e=a_(e,0,1)),t.displayContext!==s&&(t.displayContext.volume=e),s.volume=e,t.events.fire(Cf,e,n),s.muted&&r&&t.events.fire(Lh,!1,n)})),o.on(Lh,(function(e,n=!1){s.muted=!!e,t.displayContext!==s&&(t.displayContext.muted=e),t.events.fire(Ef,e,n)})),o.on(fo.VOLUME_CHANGE,(()=>{o.fire(Cf,s.volume,!0)}));const e=t.config.request.cookie.volume;o.fire(Ih,e,!0),o.fire(Lh,t.config.embed.muted,!0)}(),function(){let t;o.on(Dh,(function(n,i){(s.video.currentFile.mime===Mh.dash||e.get(Gw))&&(i=!0),t=i,s.quality=n})),o.on(Rc,(function(e){o.fire(kf,e,t)}))}(),function(){let t=s.playbackRate;o.on(fo.RATE_CHANGE,(function(e){s.playbackRate!==t&&(o.fire(Nf,s.playbackRate,t),t=s.playbackRate)})),o.on(af,(function(t){s.playbackRate=t})),o.on(qp,(function(){try{s.playbackRate=1}catch(t){}}))}(),function(){function t(t){v=!0,_=t,t!==Kw&&h&&!y&&(c=c||!s.paused,s.pause(),o.fire(yf,s.currentTime))}function e(){const t=_===My.LEAD_CAPTURE_FORM&&!h;v=!1,_=null,t?o.fire(Pf):c&&!y&&(m||b||!u||o.fire(Uh),M())}o.on(cp,t),o.on(zv,t),o.on(dp,e),o.on(Xv,e),o.on(Gf,(function(n){n&&n!==x_&&n.isCentered()&&(n.isVisible()?t():e())}))}(),o.on(_p,(function(t){h&&!y&&(c=!s.paused,s.pause())})),o.on(bp,(function(t){y||M()})),o.on(tp,(function(t,e){s.element.classList.remove("hide-webkit-controls"),t&&(b=!0),t||(h||Bt.browser.safari||(s.poster=(t=>{const e=t.querySelector(`.${X_.VP_PREVIEW}`);return e&&e.getAttribute("data-thumb")||""})(n)),m=!0,setTimeout((()=>{s.textTracks.forEach((t=>{"hidden"===t.mode&&(t.mode="showing")}))}),500)),e||!Bt.windowsPhone||Bt.browser.edge||o.fire(qh,!0)})),o.on(np,(function(e){s.poster="",e||s.pause(),h||t.segmentedPlaybackEnabled||s.element.classList.add("invisible"),m=!1,b=!1,l&&s.element.classList.add("hide-webkit-controls"),s.textTracks.forEach((t=>{"showing"===t.mode&&(t.mode="hidden")}))})),o.on(Lc,(function(){s.poster=""})),o.on(qh,(function(t){if(t)return s.controls=!0,void n.classList.add("native-controls");s.controls=!1,n.classList.remove("native-controls")})),o.on(Vp,(function(){I()})),o.on(Lp,(function(){I(),x()})),o.on(xh,(function(){if(t.segmentedPlaybackEnabled)R();else{const e=t.element.querySelector("[telecine-snapshot]");e&&"none"!==e.style.display||(o.fire(ff),s.element.classList.add("invisible")),setTimeout((()=>{s.unload(),o.fire(yf,s.currentTime),h=!1,c=!1,p=null}),300)}})),function(){var e;let n,i=(null==(e=t.config.request.text_tracks)||null==(e=e.find((t=>t.default)))?void 0:e.id)||null;o.on(zh,(function(e,r=!1){n=r,i=e;try{var o;(null!=(o=t.config.request.flags)&&o.ott||"dev"===t.config.request.build.js||"gedevplayer.vimeows.com"===t.config.player_url)&&s.videoElement&&s.videoElement.setAttribute("crossorigin","anonymous"),s.enableTextTrack(e)}catch(t){}})).on(Xh,(function(e=!1){var i;n=e,null!=(i=t.config.request.flags)&&i.ott&&s.videoElement&&s.videoElement.removeAttribute("crossorigin"),s.disableTextTrack()})).on(cf,(function(){s.requestCompleteLiveSubtitles()})).on(hf,(function(t){s.setCaptionsShouldLoad(t)})).on(Bf,(function(){1===t.config.request.flags.new_subtitles_ui&&(s.enabledTextTrack||null===i?o.fire(Xh):o.fire(zh,i,!1))})),o.on(Pc,(function(t,e){t&&(i=t.id,s.enableTextTrack(t.id)),o.fire(Wf,t,n||e)})),o.on(fo.WEBKIT_BEGIN_FULLSCREEN,(function(){var t;null==(t=s.videoElement)||t.setAttribute("crossorigin","anonymous")})),o.on(fo.WEBKIT_END_FULLSCREEN,(function(){var e,n;null!=(e=t.config.request.flags)&&e.ott||null==(n=s.videoElement)||n.removeAttribute("crossorigin")}))}(),o.on(vo.AVAILABLE,(function({type:e}){t.config.request.drm||"AirPlay"!==e||o.fire(cv)})),o.on(vo.UNAVAILABLE,(function({type:e}){t.config.request.drm||"AirPlay"!==e||o.fire(dv)})),o.on(vo.ACTIVATED,(function({type:t}){y=!0,"AirPlay"===t&&o.fire(hv)})),o.on(vo.DEACTIVATED,(function({type:t}){y=!1,"AirPlay"===t&&o.fire(fv)})),o.on(pv,(function(){s.showExternalDisplayPicker("AirPlay")})),o.on(Jh,(()=>{t.canPlayPictureInPicture&&s.requestPictureInPicture()})),o.on(tf,(()=>{s.pictureInPictureEnabled&&s.exitPictureInPicture()})),I(),Bt.spatialPlayback?(o.fire(ef),o.on([fo.PLAY,fo.SEEKED],(()=>{o.fire(nf)})),o.on(yo.SPATIAL_UNSUPPORTED,(()=>{h?o.fire(mh,v):o.once(Af,(()=>{o.fire(mh,v)}))}))):o.once(Af,(()=>{t.config.video.spatial&&o.fire(_h,v)})),window.addEventListener("beforeunload",(()=>{const e=t.config.request.drm;e&&L(e.hoover_url,e.user,e.asset,e.hoover_token)}),!1),o.on(qp,(()=>{const e=t.config.request&&t.config.request.drm;e&&L(e.hoover_url,e.user,e.asset,e.hoover_token)})),t.events.on(uf,(()=>s.destroy())),"mediaSession"in navigator&&(o.on(fo.LOADED_METADATA,(()=>(navigator.mediaSession.setActionHandler("play",(()=>{C().then((()=>s.fire(go.MEDIASESSION_PLAY))).catch(console.error)})),navigator.mediaSession.setActionHandler("pause",(()=>{s.pause(),o.fire(go.MEDIASESSION_PAUSE)})),navigator.mediaSession.setActionHandler("seekto",(t=>{s.currentTime=t.seekTime,o.fire(go.MEDIASESSION_SEEK_TO)})),navigator.mediaSession.setActionHandler("seekforward",(()=>{s.currentTime=Math.min(s.duration,s.currentTime+10),o.fire(go.MEDIASESSION_SEEK_FORWARD)})),void navigator.mediaSession.setActionHandler("seekbackward",(()=>{s.currentTime=Math.max(0,s.currentTime-10),o.fire(go.MEDIASESSION_SEEK_BACKWARD)}))))),o.on(fo.PLAY,(()=>(()=>{const e={title:t.config.video.title,artist:`from ${t.config.video.owner.name}`,artwork:[{src:Qt(t.config.video.thumbnail_url,{w:"640"})}]};navigator.mediaSession.metadata=new MediaMetadata(e)})()))),t.ready().then((()=>(setTimeout((()=>x()),0),R(),null))).catch((t=>{})),o.fire(ov)}function iT(t){return"dev"===t.request.build.js?"dev":A_}const rT={will:"willLikeVideo",did:"didLikeVideo"},oT={will:"willUnlikeVideo",did:"didUnlikeVideo"},sT={will:"willAddToWatchLater",did:"didAddToWatchLater"},aT={will:"willRemoveFromWatchLater",did:"didRemoveFromWatchLater"},uT={will:"willOpenVodPurchaseForm",did:"didOpenVodPurchaseForm"},lT={will:"willOpenShareOverlay",did:"didOpenShareOverlay"},cT={will:"willOpenLoginForm",did:"didOpenLoginForm"},dT={will:"willOpenCollectionsOverlay",did:"didOpenCollectionsOverlay"},hT={will:"willShowOutro",did:"didShowOutro"},fT={will:"willSendPlayLog",did:"didSendPlayLog"};function pT(t){var e,n,i,r,o=new Hb;function s(){return Date.now?Date.now():(new Date).getTime()}function a(){e=!1,n=t.backbone?t.backbone.currentTime:0,i=0,r=0}function u(e,n,i){t.verifyConfig().then((()=>{let r=n;r.signature=t.config.request.signature,r.session=t.config.request.session,r.time=t.config.request.timestamp,r.expires=t.config.request.expires;const s=JSON.stringify(r);if(null===r.sessionTime&&(Cg.captureBreadcrumb("sessionTime is null breadcrumbs",{endpoint:e,allParams:r}),Cg.captureException("sessionTime is null when making stats request")),!t.config.request.urls.player_telemetry_url)throw new Error("Stats logging failed due to lack of telemetry host");const a=t.config.request.urls.player_telemetry_url+e;return o.logRequestPromiseWithUrl(a,s).then((e=>{if(200!==e.status&&i<2){if(410===e.status)return void t.events.once(Vp,(()=>{u(a,n,i+1)}));setTimeout((()=>{u(a,n,i+1)}),1e3)}})).catch((t=>{throw t}))})).catch((t=>{}))}function l(e,n){var i,r;n=n||{};var o={referrer:t.config.request.referrer,embed:!t.config.embed.on_site,context:t.config.embed.context,id:t.config.video.id,vodId:null!=(i=t.config.video.vod)&&i.id?t.config.video.vod.id:null,vodSaleId:null!=(r=t.config.video.vod)&&r.sale_id?t.config.video.vod.sale_id:null,userId:t.config.user.id,userAccountType:t.config.user.account_type,userIsMod:t.config.user.mod?1:0,ownerId:t.config.video.owner?t.config.video.owner.id:0,duration:h_(t.config.video.duration),seconds:h_(t.backbone.currentTime),playbackRate:t.backbone.playbackRate,build:iT(t.config)};for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);u("/log/"+e,o)}return a(),function(){t.events.on(fo.TIME_UPDATE,(function({currentTime:t,Ru:o,xu:a,playbackRate:u}){!e&&r+1e3<s()&&(t>n&&!(0!==t&&0===n)&&(i+=(t-n)/u),n=t)})),t.events.on(Nf,(function(t,e){l("playback_rate_change",{oldPlaybackRate:e})})),t.events.on(Hf,(function(){r=s(),e=!0})),t.events.on(Ff,(function(){n=t.backbone.currentTime,e=!1})),t.events.on(Tf,(function(){t.backbone.isLive()||(i+=t.config.video.duration-n)}));let o=[],a=!1;function c(){let e=t.backbone.getEffectByName("ThreeSixtyEffect").currentCoordinates,n=100,r=Math.round(e.lat*n)/n,s=Math.round(e.long*n)/n;const u={sessionTime:i,videoTime:t.backbone.currentTime,coordinates:{lat:r,lon:s}};o.push(u),setTimeout((()=>{a&&c()}),1e3)}function d(){o.length&&t.performDelegateAction(fT,((e,n={})=>{var i,r;u("/log/spatial",{embed:!t.config.embed.on_site,id:t.config.video.id,context:t.config.embed.context,ownerId:t.config.video.owner?t.config.video.owner.id:0,referrer:t.config.request.referrer,vodId:null!=(i=t.config.video.vod)&&i.id?t.config.video.vod.id:null,vodSaleId:null!=(r=t.config.video.vod)&&r.sale_id?t.config.video.vod.sale_id:null,userId:t.config.user.id,userAccountType:t.config.user.account_type,userIsMod:t.config.user.mod?1:0,teamOriginUserId:t.config.user.team_origin_user_id?t.config.user.team_origin_user_id:null,teamId:t.config.user.team_id?t.config.user.team_id:null,build:iT(t.config),motionLog:JSON.stringify(o)},!1)}))}t.events.on(yo.MOTION_START,(()=>{a=!0,c()})),t.events.on(yo.MOTION_END,(()=>{a=!1,d()})),t.events.on(qp,(()=>{d(),o=[]})),window.addEventListener("pagehide",(function(){t.backbone&&t.backbone.currentTime>0&&d()}),!1)}(),function(){let e;[{type:"share_press",event:op},{type:"facebook_press",event:hp},{type:"twitter_press",event:fp},{type:"tumblr_press",event:pp},{type:"email_press",event:vp},{type:"embed_press",event:sp},{type:"login_success",event:Mp},{type:"airplay",event:hv},{type:"vod_press",event:ap},{type:"collection_press",event:up}].forEach((function(e){t.events.on(e.event,function(t){return function(){l(t)}}(e.type))})),t.events.on(Wv,(function(t){e=t})).on(Up,(function(){var n,i={outroType:t.config.embed.outro,ownerAccountType:t.config.video.owner.account_type,playerWidth:t.element.clientWidth,playerHeight:t.element.clientHeight};null!=(n=e)&&null!=(n=n.videos)&&n.length&&(i.outroVideos=e.videos.map((t=>t.id)).join(",")),l("outro_displayed",i)})).on(Xp,(function(e){l("outro_video_press",{ownerAccountType:t.config.video.owner.account_type,videoId:e})})).on(lp,(function(){l("outro_follow_press",{add:!t.config.user.following})})).on(tv,(function(e){l("outro_cta_press",{ownerAccountType:t.config.video.owner.account_type,link:e})})).on(Kp,(function(e){l("outro_link_press",{ownerAccountType:t.config.video.owner.account_type,link:e})})).on(Jp,(function(e){l("outro_image_press",{ownerAccountType:t.config.video.owner.account_type,link:e})})).on(ip,(function(){l("like_press",{add:!t.config.user.liked})})).on(rp,(function(){l("watch_later_press",{add:!t.config.user.watch_later})})).on(_p,(function(t){0===t.indexOf("login-")&&l("login_attempt")})).on(Wf,(function(t,e){e||(t?l("text_track_change",{textTrackLanguage:t.language,textTrackKind:t.kind}):l("text_track_change"))})).on(Qf,(function(t){1!==t&&12!==t||l("badge_press",{badgeId:t})})).on(nv,(function(e){l("card_press",{ownerAccountType:t.config.video.owner.account_type,cardId:e,cardType:"link"})})).on(ev,(function(e,n){t.config.embed.editor||l("card_displayed",{ownerAccountType:t.config.video.owner.account_type,cardId:e,cardType:n.url?"link":"text"})}))}(),t.events.on(Lp,(function(t){t&&a()})),t.events.fire(sv),{}}const vT={settings:{}};function _T(t=vT,{type:e,payload:n}){return e===Hw?Q(Q({},t),n.embed):t}var mT=Object.freeze({__proto__:null,default:_T,transparent:t=>t.embed.transparent});function bT(t={},{type:e,payload:n}){return e===Hw?Q(Q({},t),n.video):t}const yT=t=>t.video.height/t.video.width;var gT=Object.freeze({__proto__:null,default:bT,ratio:yT});const wT="CONTAINER_RESIZE",TT="PLAYER_CONTAINER_RESIZE";function CT(t={},e){return e.type===wT?Q(Q({},t),{},{width:e.payload.width,height:e.payload.height}):t}var ET=Object.freeze({__proto__:null,default:CT,width:t=>t.ui.container.width,height:t=>t.ui.container.height});function kT(t={},e){return e.type===TT?Q(Q({},t),{},{width:e.payload.width,height:e.payload.height}):t}var ST=Object.freeze({__proto__:null,default:kT,width:t=>t.ui.playercontainer.width,height:t=>t.ui.playercontainer.height});const AT="PREVIEW_SET_SIZE";function NT(t={},e){return e.type===AT?Q(Q({},t),{},{width:e.payload.width,height:e.payload.height}):t}var MT=Object.freeze({__proto__:null,default:NT,scaleFactor:t=>s_({width:t.ui.preview.width,height:t.ui.preview.height,elementWidth:VT.width(t),elementHeight:VT.height(t)}).scaleFactor});function OT(t=Cw,e){switch(e.type){case iw:return Q(Q({},t),Cw);case rw:return Q(Q({},t),{},{fontSize:e.payload});case aw:return Q(Q({},t),{},{color:e.payload});case ow:return Q(Q({},t),{},{fontFamily:e.payload});case sw:return Q(Q({},t),{},{fontOpacity:e.payload});case uw:return Q(Q({},t),{},{bgOpacity:e.payload});case lw:return Q(Q({},t),{},{bgColor:e.payload});case dw:return Q(Q({},t),{},{windowColor:e.payload});case cw:return Q(Q({},t),{},{windowOpacity:e.payload});case hw:return Q(Q({},t),{},{edgeStyle:e.payload});default:return t}}var IT=Object.freeze({__proto__:null,default:OT,calculatedFontSize:t=>Math.max(10,Math.round(.045*VT.height(t)*t.ui.captions.fontSize)),fontFamily:t=>t.ui.captions.fontFamily,fontOpacity:t=>t.ui.captions.fontOpacity,color:t=>t.ui.captions.color,backgroundOpacity:t=>t.ui.captions.bgOpacity,backgroundColor:t=>t.ui.captions.bgColor,edgeStyle:t=>t.ui.captions.edgeStyle});const LT=t=>{const e=e=>Math.min(t.height(e)/yT(e),t.width(e)),n=e=>Math.min(t.width(e)*yT(e),t.height(e)),i=i=>s_({width:e(i),height:n(i),elementWidth:t.width(i),elementHeight:t.height(i)}).scaleFactor,r=t=>i(t)>1,o=n=>n.embed.transparent&&!r(n)?e(n):t.width(n),s=e=>e.embed.transparent&&!r(e)?n(e):t.height(e),a=t=>t.embed.transparent&&!r(t)?"contain":"100% 100%",u=Tn((t=>({width:o(t),height:s(t)}))),l=Tn((t=>({ratio:yT(t),size:a(t)})));return{scaleFactor:i,width:o,height:s,size:a,boundingRect:u,settings:l}},RT={xxs:0,xs:430,sm:600,md:960,lg:1280,xl:1600,xxl:1920},xT=(t,e)=>{const n=Tn((n=>({width:t(n),height:e(n)}))),i=t=>{const{height:e,width:n}=t.video;return e>n},r=n=>{const r=t(n),o=e(n);if(i(n))return r<225;const s=ld(n.embed.settings.customLogo)&&r<300||o<169,a=!ld(n.embed.settings.customLogo)&&(r<338||o<190);return s||a},o=e=>{const n=t(e);if(i(e))return n<300;const r=ld(e.embed.settings.customLogo)&&n<=375,o=!ld(e.embed.settings.customLogo)&&n<=450;return r||o},s=e=>{const n=t(e);return n>=RT.xxs&&n<RT.xs},a=e=>{const n=t(e);return n>=RT.xs&&n<RT.sm},u=e=>{const n=t(e);return n>=RT.sm&&n<RT.md},l=e=>{const n=t(e);return n>=RT.md&&n<RT.lg},c=e=>{const n=t(e);return n>=RT.lg&&n<RT.xl},d=e=>{const n=t(e);return n>=RT.xl&&n<RT.xxl},h=e=>t(e)>=RT.xxl;return{width:t,height:e,breakpoint:t=>{const e={xxs:s,xs:a,sm:u,md:l,lg:c,xl:d,xxl:h};return Object.keys(RT).find((n=>e[n](t)))},xxl:h,xl:d,lg:c,md:l,sm:u,xs:a,xxs:s,mode:t=>r(t)?"tiny":o(t)?"mini":"normal",isMiniMode:o,isTinyMode:r,isVerticalVideo:i,boundingRect:n}};var PT=Object.freeze({__proto__:null,scaleFactor:t=>s_({width:t.video.width,height:t.video.height,elementWidth:VT.width(t),elementHeight:VT.height(t)}).scaleFactor});const DT=t=>VT.isVerticalVideo(t)?VT.isTinyMode(t):VT.isMiniMode(t)||VT.isTinyMode(t)||VT.xs(t)||VT.xxs(t);var BT=Object.freeze({__proto__:null,isPrefsMenuCentered:t=>Bt.touch&&VT.width(t)<415,isMenuFullWidth:DT,isMenuVerticalVideoMode:t=>!DT(t)&&VT.isVerticalVideo(t)&&VT.xxs(t)&&VT.height(t)>300,doMenuItemsWrap:t=>VT.width(t)<240});function $T(t={},e){return{container:CT(t.container,e),preview:NT(t.preview,e),captions:OT(t.captions,e),playercontainer:kT(t.playercontainer,e)}}const VT=xT((t=>FT.width(t)),(t=>FT.height(t))),jT=xT((t=>HT.width(t)),(t=>HT.height(t))),HT=LT(ET),FT=LT(ST);var UT=Object.freeze({__proto__:null,default:$T,container:ET,player:VT,appLayout:HT,playerLayout:FT,preview:MT,video:PT,controlbar:BT,captions:IT,playercontainer:ST,app:jT});function zT(t={},e){const n=Q(Q({},function(t={},e){return e.type===Hw?Q(Q({},t),e.payload):t}(t,e)),{},{embed:_T(t.embed,e),video:bT(t.video,e),liveEvent:Uw(t.liveEvent,e)});return Q(Q({},n),{},{ui:$T(t.ui,e)})}var XT=Object.freeze({__proto__:null,default:zT,embed:mT,video:gT,liveEvent:Yw,ui:UT});const GT=function(t){return(e,...n)=>(n.forEach((n=>{for(const i in n){const r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,Object.assign(r,t))}})),e)}({enumerable:!0,configurable:!0,writeable:!1});function WT(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function qT(){}function YT(t){var e=t();if(e&&e.then)return e.then(qT)}function KT(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function ZT(t,e,n){const i=KT((function(){return YT((function(){if(!l())return WT(t.ready(),(function(){u()}))}))})),r=KT((function(){return YT((function(){if(!l())return WT(t.playbackEngineReady(),(function(){u()}))}))})),o=l()?n.parentElement:n,s=n.querySelector(`.${X_.VP_VIDEO_WRAPPER}`),a=_g(u,150);function u(){(function(){const{width:t,height:n}=r_(o),i=e.get("ui.app.width"),r=e.get("ui.app.height"),s=i>0&&r>0,a=t>0&&n>0;(l()||!s||a)&&e.dispatch(((t,e)=>({type:wT,payload:{width:t,height:e}}))(t,n))})(),function(){const{width:t,height:n}=r_(s),i=e.get("ui.player.width"),r=e.get("ui.player.height"),o=i>0&&r>0,a=t>0&&n>0;(l()||!o||a)&&e.dispatch(((t,e)=>({type:TT,payload:{width:t,height:e}}))(t,n))}()}function l(){return n.parentElement===document.body}function c({size:t,ratio:e,bottom:i}){l()&&(o.classList.toggle("vp-center","contain"===t),function(t){[].concat(["height","max-width","max-height","bottom"]).map((e=>t.style.removeProperty(e)))}(n),"contain"!==t?i>0&&p_(n,{height:`calc(100% - ${i}px)`,bottom:i/2+"px"}):p_(n,i>0?{maxWidth:`calc((100vh - ${i}px) / ${e})`,maxHeight:`calc(100vh - ${i}px)`,height:`calc(${e} * 100vw)`,bottom:i/2+"px"}:{maxWidth:`calc(100vh / ${e})`,height:`calc(${e} * 100vw)`}))}e.watch("ui.appLayout.settings",c),c(e.get("ui.appLayout.settings")),new ResizeObserver(a).observe(o),window.addEventListener("orientationchange",a),t.events.on(tp,a),t.events.on(np,a),t.events.on(Lp,a),u(),r(),i(),WT()}function QT(t,e,n){this.constructorName="MessageApiError",this.message=t,this.name=e,this.source=n}function JT(t){return t}function tC(t){if(!t||""===t)return{};if("object"==typeof t)return t;try{return JSON.parse(t)}catch(t){return{}}}function eC(t){}QT.prototype=new Error;let nC={captureException(t){},captureMessage(t){},captureBreadcrumb(){}},iC=nC;var rC=function(t){iC=Object.assign({},nC,t)},oC=function(t,e,n="backbone",i="info"){return iC.captureBreadcrumb(t,e,n,i)};function sC(t={hidePrivateMethods:!0}){const e={},n={},i={parseMessage:tC,buildMessage:JT,logError:eC};let o,s,a={};const u={get methods(){return e},extendMethods(...t){ut.apply(void 0,[e].concat(t))},get listeners(){return a},set listeners(t){a=t},emit(t,...e){l.apply(void 0,[t].concat(e))&&h(c.apply(void 0,[t].concat(e)))},emitMethodEvent(t,e){h({method:t,value:e})},filter(t,e){e||"function"!=typeof t||(e=t,t=null),t?function(t,e){n.event=n.event||{},n.event[t]=n.event[t]||[],n.event[t].push(e)}(t,e):function(t){n.global=n.global||[],n.global.push(t)}(e)},hooks:(...t)=>ut.apply(void 0,[i].concat(t)),configureClient(t,e){o=t,s=e},tearDown(){window.removeEventListener("message",d)}};function l(...t){if(n){let e,i;if(n.global&&n.global.length)for(e=0;e<n.global.length;e++)if(i=n.global[e],!i.apply(i,t))return!1;let r=t[0];if(n.event&&n.event[r]&&n.event[r].length)for(e=0;e<n.event[r].length;e++)if(i=n.event[r][e],!i.apply(i,t))return!1}return!0}function c(t,...e){const n={event:t};return e&&void 0!==e[0]&&(n.data=e[0]),n}function d(n){if(o!==n.source)return;let s=i.parseMessage(n.data),{method:a,value:u,id:l}=s;if(!(void 0===a||"string"!=typeof a||t.hidePrivateMethods&&a.indexOf("_")>-1))try{let t,o=function(t,e){if(!t)return null;let n=Object.getOwnPropertyDescriptor(e,t);if(n&&"function"==typeof n.value)return n.value;if(n&&"function"==typeof n.get)return n.get;const i=t.substr(0,3),r=t.substr(3,1).toLowerCase()+t.substr(4);return n=Object.getOwnPropertyDescriptor(e,r),"get"===i&&n&&"function"==typeof n.get?n.get:"set"===i&&n&&"function"==typeof n.set?n.set:null}(a,e);if(!o)throw new QT(`“${n}” is not a valid method. Valid methods are: ${function(t){return Object.keys(t).reduce(((e,n)=>{if(n.indexOf("_")>-1)return e;const i=Object.getOwnPropertyDescriptor(t,n);return"function"==typeof i.value?(e.push(n),e):("function"==typeof i.get&&e.push("get"+n.charAt(0).toUpperCase()+n.slice(1)),"function"==typeof i.set&&e.push("set"+n.charAt(0).toUpperCase()+n.slice(1)),e)}),[]).sort()}(e).join(", ")}.`,"TypeError",a);oC("API message received",s,"api"),t=Array.isArray(u)?u:null==u?[]:[u],r.resolve(o.call.apply(o,[n].concat(et(t),[l]))).then((t=>{h({method:a,value:null==t?u:t})})).catch(i.logError)}catch(t){i.logError(t)}}function h(t){if(s&&function(t=window.parent){return!(!window.postMessage||!t.postMessage)}(o)){t=i.buildMessage(t);try{o.postMessage(t,s)}catch(t){}}}return window.addEventListener("message",d,!1),u}function aC(t){return t.account_type&&"basic"!==t.account_type&&!/_lapsed|_expired/.test(t.account_type)}var uC=self!==top,lC=function(){var t=document.createElement("video"),e={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","MSFullscreenError"]},n={};for(var i in e)for(var r=0,o=e[i].length;r<o;r++)if(e[i][r]in t||e[i][r]in document||"on"+e[i][r].toLowerCase()in document){n[i]=e[i][r];break}return n}(),cC={ENTER:"enter",EXIT:"exit",CHANGE:"change",ERROR:"error"},dC=[],hC={};function fC(){var t=Array.prototype.slice.apply(arguments),e=t.shift();hC[e].forEach((function(e){"function"==typeof e&&e.apply(e,t)}))}function pC(t){return function(e,n){-1!==dC.indexOf(e)&&t.call(this,e,n)}}function vC(t){var e=null;if("VIDEO"===t.tagName)e=t;else{var n=t.getElementsByTagName("video");n[0]&&(e=n[0])}return e}Object.keys(cC).forEach((function(t){dC.push(cC[t]),hC[cC[t]]=[]}));var _C=null,mC=function(){},bC=[];function yC(t){var e=vC(t);if(e&&e.webkitEnterFullscreen){try{e.readyState<e.HAVE_CURRENT_DATA?e.addEventListener("loadeddata",(function n(){e.removeEventListener("loadeddata",n,!1);try{e.webkitEnterFullscreen()}catch(e){return TC("cannot_enter_fullscreen",t)}}),!1):e.webkitEnterFullscreen(),_C=e}catch(e){return TC("not_supported",t)}return!0}return TC(void 0===lC.request?"not_supported":"not_enabled",t)}var gC=function(t){var e=bC[bC.length-1];e&&(t!==e.element&&t!==_C||!e.hasEntered)&&("VIDEO"===t.tagName&&(_C=t),1===bC.length&&CC.onenter(CC.element),e.enter.call(e.element,t||e.element),e.hasEntered=!0,fC(cC.ENTER,CC.element))},wC=function(){_C=null;var t=bC.pop();t&&(t.exit.call(t.element),fC(cC.EXIT,t.element),CC.element||(bC.forEach((function(t){t.exit.call(t.element),fC(cC.EXIT,t.element)})),bC=[],CC.onexit()))},TC=function(t,e){if(bC.length>0){var n=bC.pop();e=e||n.element,n.error.call(e,t),CC.onerror(e,t),fC(cC.ERROR,e,t)}},CC={request:function(t,e,n,i){if(t=t||document.body,bC.push({element:t,enter:e||mC,exit:n||mC,error:i||mC}),void 0===lC.request)return yC(t);if(uC&&!1===document[lC.enabled])return yC(t);try{t[lC.request]()}catch(e){TC("not_enabled",t)}},exit:function(){!document[lC.exit]&&CC.element?CC.element[lC.exit]():document[lC.exit]()},toggle:function(t,e,n,i){CC.element?CC.exit():CC.request(t,e,n,i)},videoEnabled:function(t){if(CC.enabled)return!0;var e=vC(t=t||document.body);return!(!e||void 0===e.webkitSupportsFullscreen)&&(e.readyState<e.HAVE_METADATA?"maybe":e.webkitSupportsFullscreen)},on:pC((function(t,e){hC[t].push(e)})),off:pC((function(t,e){var n=hC[t].indexOf(e);n>-1&&hC[t].splice(n,1)})),onenter:mC,onexit:mC,onchange:mC,onerror:mC};try{Object.defineProperties(CC,{element:{enumerable:!0,get:function(){return _C&&_C.webkitDisplayingFullscreen?_C:document[lC.element]||null}},enabled:{enumerable:!0,get:function(){return document[lC.enabled]||!1}}})}catch(t){CC.element=null,CC.enabled=!1}function EC(t){const{videoObject:e,element:n}=kC();if(e)try{Object.assign(e,t),n.textContent=JSON.stringify(e)}catch(t){}}function kC(){const t=document.body.querySelector("script[type='application/ld+json']");if(t)try{return{videoObject:JSON.parse(t.textContent),element:t}}catch(t){}return{}}function SC(t,e){switch(t.view){case E_.privateLocked:throw new QT("The video is private.","PrivacyError",e);case E_.privatePassword:throw new QT("The video is password-protected. The viewer must enter the password first.","PasswordError",e);case E_.geoBlocked:throw new QT("The video is not available in your region.","GeoBlockedError",e);case E_.error:throw new QT(t.message,"NotFoundError",e)}}function AC(t){let e=[];for(let n=0;n<t.length;n++)e.push([t.start(n),t.end(n)]);return e}lC.change&&document.addEventListener(lC.change,(function(t){if(CC.onchange(CC.element),fC(cC.CHANGE,CC.element),CC.element){var e=bC[bC.length-2];e&&e.element===CC.element?wC():gC(CC.element)}else wC()}),!1),document.addEventListener("webkitbeginfullscreen",(function(t){var e=!0;if(bC.length>0)for(var n=0,i=bC.length;n<i;n++)if(vC(bC[n].element)===t.srcElement){e=!1;break}e&&bC.push({element:t.srcElement,enter:mC,exit:mC,error:mC}),CC.onchange(t.srcElement),fC(cC.CHANGE,CC.srcElement),gC(t.srcElement)}),!0),document.addEventListener("webkitendfullscreen",(function(t){CC.onchange(t.srcElement),fC(cC.CHANGE,t.srcElement),wC(t.srcElement)}),!0),lC.error&&document.addEventListener(lC.error,(function(t){TC("not_allowed")}),!1);const NC=[k_.READY,k_.ERROR,k_.DRM_INIT_FAILED];function MC(t){const e=t.events;let n,i,o,s=new ri,u=!1,l=!1,c=null,d=!1,h=null,f=null,p=!1,v=[];function _(e){i!==e&&(i=e,t.config.embed.api=e)}function m(){n&&n.emit("exitFullscreen"),t.events.halt()}function b(){var e=h_(t.config.request.cookie.volume);return 1===i?Math.round(100*e):e}function y(n,i,r,o=[]){const s=j_[i];let a=t.config.embed[s];a||i!==D_||(a=t.config.embed.color);let u=t.config.embed.settings[`force_${s}`];if(u||i!==D_||(u=t.config.embed.settings.color),u&&!t.config.embed.on_site)throw new QT(`The creator of the video has chosen to always use ${new Hm(a).hex}.`,"EmbedSettingsError",r);try{const r=new Hm(n);e.fire($h,r.hex,i),o.forEach((function(e){const n=j_[e],i=t.config.embed[n];try{new Hm(i).contrast(r).ratio}catch(t){}}))}catch(t){throw new QT("The color should be a valid hex value.","TypeError",r)}}let g={ping:()=>t.config.video.id,notifyTimingObjectConnect(){t.bigPicture.sendEvent(qb.TIMING_OBJECT_CONNECT)},notifyTimingObjectDisconnect(){t.bigPicture.sendEvent(qb.TIMING_OBJECT_DISCONNECT)},fullscreenchange(e){t.element.classList.toggle("js-player-fullscreen-api",e);const i=!0;e?(t.events.prependOn(Rf,m),n.listeners.exitFullscreen=!0,t.events.fire(Jf),t.events.fire(tp,!0,i)):(t.events.off(Rf,m),n.listeners.exitFullscreen=!1,t.events.fire(ep),t.events.fire(np,i))},on(t,e){t in S_&&(t=S_[t]);const i=__(k_);if(i.indexOf(t)<0)throw new QT(`“${t}” is not a valid event. Valid events are: ${i.join(", ")}.`,"TypeError","on");e&&s.on(t,e),n&&(n.listeners[t]=!0),t===k_.LOADED&&S()},off(t,e){e&&s.off(t,e),n&&(n.listeners[t]=!1)},play:()=>new r(((n,i)=>{e.once(bf,n),e.once(mf,(t=>{i(new QT(t.message,t.name,"play"))})),SC(t.config,"play"),e.fire(g_.iu),e.fire(Pf,{fromUserGesture:!1})})),destroy(){e.fire(uf)},pause(){SC(t.config,"pause"),e.fire(g_.ru),e.fire(xf)},loadVideo(e){const{id:i,url:r,params:o}=function(t){if(!t)return{};if(t_(t))return{id:parseInt(t,10),params:{}};if("string"==typeof t)return 0!==t.indexOf("https://")?{}:{url:t,params:{}};if("url"in t){if(0!==t.url.indexOf("https://"))return{};const e=t.url;return delete t.url,{url:e,params:t}}if("id"in t){if(!t_(t.id))return{};const e=t.id;return delete t.id,{id:parseInt(e,10),params:t}}return{}}(e);if(!i&&!r)throw new QT("The video id must be an integer.","TypeError","loadVideo");if(r&&!function(t,e){return null!==t.match(new RegExp(`^https?://${e.player_url}/video/([0-9]+)`))||null!==t.match(new RegExp(`^https?://${e.vimeo_url}/([0-9]+)`))}(r,t.config))throw new QT("The url must be a valid Vimeo url.","TypeError","loadVideo");const s=function(t,e,n,i){var r;if(e===t.video.id)return!0;const o=`^https?://${t.player_url}/video/${t.video.id}(/(config/?)?)?(\\?.*)?$`,s=`^https?://${t.player_url}/video/([0-9]+)`;if(null!=n&&n.match(new RegExp(o)))return!0;const a=Ab(n||"","s")||(null==i||null==(r=i.s)?void 0:r.length);return!(!n||null===n.match(new RegExp(s))||!a)}(t.config,i,r,o)||!wy(t.element);if(s)return t.loadVideoViaConfig(r||i,o).then((()=>e)).catch((()=>{throw SC(t.config,"loadVideo"),new QT("An error occurred loading the video.","Error","loadVideo")}));throw t.loadVideoViaIframe(r||i,o,n.listeners),new QT("The player is being reloaded.","InternalError","loadVideo")},unload(){t.config.view!==E_.main&&t.config.view!==E_.privateUnlocked||e.fire(xh)},addCuePoint(n,i){if(n=parseFloat(n),isNaN(n)||n<0||n>t.config.video.duration)throw new QT(`Cue point time must be positive number less than the duration of the video (${h_(t.config.video.duration)}).`,"RangeError","addCuePoint");try{const r=t.backbone.addCuePoint(n,i);return setTimeout((()=>{e.fire(qf,r)}),0),r.id}catch(t){if("CuePointsNotSupported"===t.name)throw new QT("Cue points are not supported in the current player.","UnsupportedError","addCuePoint");throw new QT("Unable to add cue point","InvalidCuePoint","addCuePoint")}},removeCuePoint(n){const i=t.backbone.cuePoints.filter((t=>t.id===n))[0];if(!i)throw new QT(`Cue point “${n}” was not found.`,"InvalidCuePoint","removeCuePoint");t.backbone.removeCuePoint(i),setTimeout((()=>{e.fire(Yf,i)}),0)},enableTextTrack(n,o=null){let s=("text_tracks"in t.config.request?t.config.request.text_tracks:[]).map((t=>(t.language=t.lang,t)));const a=s.some((t=>t.language.toLowerCase()===n.toLowerCase()));if(!a)throw new QT(`There are no tracks for “${n.toUpperCase()}”.`,"InvalidTrackLanguageError","enableTextTrack");const u=o?`${n}.${o}`:n,{track:l}=((t,e=[])=>{if(!t||"null"===t||0===e.length)return{track:null};const[n,i]=t.split("."),[r]=n.split(/[-_]/),o=n!==r,s=e.filter((t=>o&&t.language===n||t.language===r)).sort(((t,e)=>{const o=2*Number(t.language===r&&t.kind===i)+2*Number(t.language===n)+1*Number(t.kind===i);return 2*Number(e.language===r&&e.kind===i)+2*Number(e.language===n)+1*Number(e.kind===i)-o}));return s.length>0?{track:s[0],exactMatch:s[0].language===n&&s[0].kind===i}:{track:null}})(u,s);if(!l||o&&l.kind!==o)throw new QT(`There are no ${o} tracks for “${n.toUpperCase()}”.`,"InvalidTrackError","enableTextTrack");return e.fire(zh,l.id),i<3?null:new r((t=>{e.once(Wf,(e=>{t({label:e.label,language:e.language,kind:e.kind})}))}))},disableTextTrack(){e.fire(Xh)},toggleFullscreen(t){const n={not_supported:{name:"UnsupportedError",msg:"Fullscreen is not supported at all or for this element."},not_enabled:{name:"Error",msg:"The request was made from an iframe that does not allow fullscreen."},not_allowed:{name:"NotAllowedError",msg:"The request failed, probably because it was not called from a user-initiated event."}};return new r(((i,r)=>{if(!CC.element===t){const o=()=>{CC.off("enter",o),i()},s=(e,i)=>{CC.off("error",s);const o=n[i]||n.not_supported;r(new QT(o.msg,o.name,(t?"request":"exit")+"Fullscreen"))};return CC.on("enter",o),CC.on("error",s),void e.fire(Rf)}i()}))},requestFullscreen:()=>g.toggleFullscreen(!0),exitFullscreen:()=>g.toggleFullscreen(!1),get fullscreen(){return!!CC.element},requestPictureInPicture:()=>t.backbone.requestPictureInPicture(),exitPictureInPicture:()=>t.backbone.exitPictureInPicture(),remotePlaybackPrompt(){try{t.backbone.showExternalDisplayPicker()}catch(t){throw new QT("Remote playback is not available.","NotFoundError","remotePlaybackPrompt")}},appendVideoMetadata:n=>new r(((i,r)=>{try{const r=a(t.backbone.chapters);t.parentUrl=n,function(t,e,n){const{duration:i,id:r,privacy:o}=t.video;if(o!==Sh&&o!==Ch&&o!==Nh)return;const s=function(t,e,n,i){if(e<30||0===i.length)return[];const r=[];return i.forEach(((o,s)=>{const{startTime:a,text:u}=o;if(a<e){var l;const e=null==i||null==(l=i[s+1])?void 0:l.startTime,o=`${R_}${t}`,[c]=n.split("#"),d=`${c}#${o}=${a}`;r.push({"@type":"Clip",name:u,startOffset:a,endOffset:e,url:d})}})),r.length&&(r[r.length-1].endOffset=e),r}(r,i,e,n);EC({hasPart:s})}(t.config,n,r),e.fire(Vv,n),i()}catch(t){r(new QT((null==t?void 0:t.message)||"",(null==t?void 0:t.name)||"","appendVideoMetadata"))}})),get pictureInPicture(){return t.backbone.pictureInPictureActive},get autopause(){return!!t.config.embed.autopause},set autopause(e){t.config.embed.autopause=!!e},get chromecasting(){return!!Dw.currentSession},get color(){var e;return t.config.embed.color_two?t.config.embed.color_two.replace("#",""):null==(e=t.config.embed.color)?void 0:e.replace("#","")},get colorOne(){var e;return null==(e=t.config.embed.color_one)?void 0:e.replace("#","")},get colorTwo(){var e;return t.config.embed.color_two?t.config.embed.color_two.replace("#",""):null==(e=t.config.embed.color)?void 0:e.replace("#","")},get colorThree(){var e;return null==(e=t.config.embed.color_three)?void 0:e.replace("#","")},get colorFour(){var e;return null==(e=t.config.embed.color_four)?void 0:e.replace("#","")},set color(t){y(t,D_,"setColor")},set colorOne(t){y(t,P_,"setColorOne",[D_,B_])},set colorTwo(t){y(t,D_,"setColorTwo",[P_])},set colorThree(t){y(t,B_,"setColorThree",[P_])},set colorFour(t){y(t,$_,"setColorFour")},get cuePoints(){return t.backbone.cuePoints.map((t=>({time:t.time,data:t.data,id:t.id})))},get currentTime(){return t.currentTime},set currentTime(n){if(n=parseFloat(n),isNaN(n)||n<0||n>t.config.video.duration)throw new QT(`Seconds must be a positive number less than the duration of the video (${h_(t.config.video.duration)}).`,"RangeError","setCurrentTime");return e.fire(g_.nu),t.config.embed.on_site||(t.progressController.maxPlayedTime=n),e.fire(Oh,n),e.fire(Tp),i<3?null:new r((t=>{e.once(fo.SEEKED,(({currentTime:e})=>{t(e)}))}))},get duration(){return h_(t.config.video.duration)},get ended(){return!!t.backbone.ended},get loop(){return!!t.config.embed.loop},set loop(t){e.fire(Ph,t)},set muted(t){e.fire(Lh,t,!0)},get muted(){return t.backbone.muted||0===b()},get paused(){return!t.backbone||!("paused"in t.backbone)||!!t.backbone.paused},get buffered(){return AC(t.backbone.buffered)},get played(){return AC(t.backbone.played)},get seekable(){return AC(t.backbone.seekable)},get seeking(){return t.backbone.seeking},get playbackRate(){return t.backbone?t.backbone.playbackRate:1},set playbackRate(n){if(!t.config.embed.settings.speed)throw new QT("Setting the playback rate is not enabled for this video.","Error","setPlaybackRate");if(isNaN(n)||n>2)throw new QT("Playback rate should be a number below or equal to 2.","RangeError","setPlaybackRate");e.fire(af,n)},get remotePlaybackAvailability(){return t.backbone.externalDisplayAvailable},get remotePlaybackState(){return t.backbone.externalDisplayActive?"connected":"disconnected"},get textTracks(){return(t.backbone?t.backbone.video.textTracks:[]).map((t=>({label:t.label,language:t.language,kind:t.kind,mode:t===h?"showing":"disabled"})))},get videoEmbedCode(){return t.config.video.embed_code},get videoHeight(){return t.backbone.videoHeight||t.config.video.height},get videoId(){return t.config.video.id},get videoTitle(){return t.config.video.title},get videoWidth(){return t.backbone.videoWidth||t.config.video.width},get videoUrl(){if(!t.config.video.url)throw new QT("The URL is not available because of the video’s privacy settings.","PrivacyError","getVideoUrl");return t.config.video.url},get volume(){return b()},set volume(t){if(t=parseFloat(t),1===i&&(t/=100),isNaN(t)||t<0||t>1)throw new QT("Volume should be a number between 0 and 1.","RangeError","setVolume");f=t;var n=!0;jl.settingVolume||0!==t?e.fire(Ih,t,n):e.fire(Lh,!0,n)},get qualities(){return t.backbone.qualities},get quality(){return t.backbone.quality},set quality(e){if(!aC(t.config.video.owner))throw new QT("Setting the quality is not enabled for this video.","Error","setQuality");e=e.toLowerCase();const n=t.backbone.qualities.map((t=>t.id));if(!n.includes(e))throw new QT(`“${e}” is not a valid quality. Valid qualities are: ${n.join(", ")}.`,"TypeError","on");t.backbone.quality=e},_loadVideo:(e,n)=>t.loadVideoViaConfig(e,n),get _like(){return!!t.config.user.liked},set _like(n){t.config.user.liked!==n&&e.fire(ip,n)},get _watchLater(){return!!t.config.user.watch_later},set _watchLater(n){t.config.user.watch_later!==n&&e.fire(rp,n)},get currentChapter(){const e=t.backbone.currentChapterID;if(!e)return null;const n=a(t.backbone.chapters),i=n.findIndex((t=>e===t.id));return{startTime:n[i].startTime,title:n[i].text,index:i+1}},get chapters(){return a(t.backbone.chapters).map(((t,e)=>({startTime:t.startTime,title:t.text,index:e+1})))},_addChapter(e,n){if(e=parseFloat(e),isNaN(e)||e<0||e>t.config.video.duration)throw new QT(`Chapter timecode must be positive number less than the duration of the video (${h_(t.config.video.duration)}).`,"RangeError","_addChapter");try{t.backbone.addChapter(e,n)}catch(t){if("ChaptersNotSupported"===t.name)throw new QT(t.message,"UnsupportedError","_addChapter");throw new QT("Unable to add chapter","InvalidChapter","_addChapter")}},_removeChapter(e){let n;try{n=t.backbone.chapters.getCueById(e)}catch(t){throw new QT("Chapters are not supported in this browser.","UnsupportedError","_removeChapter")}if(!n)throw new QT("Chapter was not found.","InvalidChapter","_removeChapter");try{t.backbone.removeChapter(n)}catch(t){if("ChaptersNotSupported"===t.name)throw new QT("Chapters are not supported in this browser.","UnsupportedError","_removeChapter");throw new QT("Unable to remove chapter","InvalidChapter","_removeChapter")}},_addCard(t){e.fire(of,t)},_removeCard(t){e.fire(sf,t)},_setOutro(n,i){t.config.embed.outro!==n?(e.fire(Kh),setTimeout((()=>{t.config.embed.outro=n,e.fire(Yh,n,i)}),400)):e.fire(Yh,n,i)},_hideOutro(){e.fire(Kh)},_fireEvent(...t){e.fire.apply(null,t)},_setEmbedEditor(e){t.config.embed.editor=!!e},_setLiveEventSettings(n){t.config.video.live_event&&(Object.keys(n).forEach((i=>{let r=n[i];r="object"==typeof r?r:Number(r),t.config.video.live_event.settings[i]=r,e.fire(Rp,i,r),e.fire(nd.SETTINGS_UPDATED,i,r)})),e.fire(Lp,!1,t.config))},_setEmbedSettings(n){Object.keys(n).forEach((i=>{let r=n[i];r="object"==typeof r?r:Number(r),"badge"===i&&(r?r=o:o=t.config.embed.settings.badge),t.config.embed.settings[i]=r,e.fire(jp,i,r)})),e.fire(Lp,!1,t.config)},_setEmbedSetting(n,i){i="object"==typeof i?i:Number(i),"badge"===n&&(i?i=o:o=t.config.embed.settings.badge),t.config.embed.settings[n]=i,e.fire(jp,n,i),e.fire(Lp,!1,t.config)},_setCreateInteractive(n,i){t.config.embed.create_interactive=n,t.config.embed.interactive=i,e.fire(Hp,n,t.config),e.fire(Lp,!1,t.config)},_setOTTVideoMetadata(n){var i;null!=(i=t.config.request.flags)&&i.ott&&(t.ottVideoMetadata=n,e.fire(Fp,n))},_toggleDebugPanel(){e.fire(mp)},_overrideControlbarBehavior(t){e.fire(Qh,t)},_setControlbarVisibility(t){e.fire(Zh,t)},get cameraProps(){const e=t.backbone.getEffectByName("ThreeSixtyEffect");if(t.backbone&&!e)throw new QT("Camera props are not available in the current player.","UnsupportedError","getCameraProps");return e.cameraProps},set cameraProps(e){const n=t.backbone.getEffectByName("ThreeSixtyEffect");if(t.backbone&&!n)throw new QT("Camera props are not available in the current player.","UnsupportedError","setCameraProps");try{n.cameraProps=e}catch(t){throw new QT(t.message,t.name,"setCameraProps")}},get _fieldOfView(){const e=t.backbone.getEffectByName("ThreeSixtyEffect");if(t.backbone&&!e)throw new QT("Field of view is not available in the current player.","UnsupportedError","getFieldOfView");return e.fieldOfView},set _fieldOfView(e){const n=t.backbone.getEffectByName("ThreeSixtyEffect");if(t.backbone&&!n)throw new QT("Field of view is not available in the current player.","UnsupportedError","setFieldOfView");n.fieldOfView=e},get _coordinates(){const e=t.backbone.getEffectByName("ThreeSixtyEffect");if(t.backbone&&!e)throw new QT("Coordinates are not available in the current player.","UnsupportedError","getCoordinates");return e.currentCoordinates},set _coordinates(e){const n=t.backbone.getEffectByName("ThreeSixtyEffect");if(t.backbone&&!n)throw new QT("Coordinates are not available in the current player.","UnsupportedError","setCoordinates");try{n.currentCoordinates=e}catch(t){throw new QT(t.message,"RangeError","setCoordinates")}},_setChromecastUI(t){const e=Dw.currentSession;e&&io(t)&&e.sendMessage(Ow,{action:"setCustomUIStyles",value:t})},get _controlSelectors(){return{details:`.${X_.VP_TITLE}`,sidedock:`.${X_.VP_SIDEDOCK}`,controls:`.${X_.VP_CONTROLS}`,customLogo:`.${X_.CUSTOM_LOGO}`}},get _controlAreas(){const e=t.element.offsetWidth,n=t.element.offsetHeight,i=10,r={get details(){const t=r_(document.querySelector(".headers > h1")),e=r_(document.querySelector(".sub-title")),n=r_(document.querySelector(".vp-portrait")),r=Math.max(t.width,e.width)+n.width,o=Math.max(n.height,t.height+e.height);return{top:i,left:i,width:Math.max(200,r),height:Math.max(60,o)}},get sidedock(){return{top:i,left:e-i-36,width:36,height:118}},get controls(){const t=r.customLogo,o=Math.max(60,t.height);return{height:o,top:n-i-o,left:i,width:e-20}},get customLogo(){const t=document.querySelector(".custom-logo"),r=t?r_(t):{width:0,height:0};return{top:n-i-r.height,left:e-i-r.width,width:r.width,height:r.height}}};return r},set _lowLatencyMode(e){t.backbone.lowLatencyMode=e},get _lowLatencyMode(){return t.backbone.lowLatencyMode},get _presentationDelay(){return t.backbone.presentationDelay},set _presentationDelay(e){t.backbone.presentationDelay=e},get _liveLatency(){return t.backbone.latency},get _downloadSpeed(){return t.backbone.downloadSpeed},get _backbone(){return t.backbone},Pu(){t.progressController.lockPlayback()},Du(){t.progressController.unlockPlayback()},addEventListener(...t){g.on.apply(g,t)},removeEventListener(...t){g.off.apply(g,t)},seekTo(t){g.currentTime=t},changeColor(t){g.color=t}};const w={addCuePoint:({time:t,data:e})=>g.addCuePoint(t,e),enableTextTrack({language:t,kind:e=null}){g.enableTextTrack(t,e)}};function T(t,e){n&&n.emit(t,e),s.fire(t,e)}const C=(t,e)=>(...n)=>{const i=e?e.apply(void 0,n):void 0;T(t,i)};function E({currentTime:t,duration:e,timeProgress:n}){return{seconds:h_(t),percent:h_(n),duration:h_(e)}}function k(t){return{playbackRate:t}}function S(){T(k_.LOADED,d?null:(d=!0,{id:t.config.video.id}))}function A(t){return c=t,N(function(t){switch(t){case"BrowserNotSupported":case"FilesNotPlayable":case"MediaSrcNotSupportedError":return new QT("This video is not supported in this browser.","NotSupportedError");case"FileError":return new QT("There was an error loading the files for this video.","FileError")}return new QT("An error occurred during playback.","PlaybackError")}(c))}function N(t){let e={message:"An error occurred.",name:"Error",method:t.source};return"MessageApiError"===t.constructorName&&(e={message:t.message,name:t.name,method:t.source}),e}return function(){var t;let e=new URL(window.location.href);p=!!e.searchParams.get("fromLoadVideo"),v=(null==(t=e.searchParams.get("listeners"))?void 0:t.split(","))||[],(p||v.length)&&(e.searchParams.delete("fromLoadVideo"),e.searchParams.delete("listeners"))}(),function(){const i=t.config.embed.on_site;i&&!wy(t.element)||(_(t.config.embed.api),n=new sC({hidePrivateMethods:!i}),n.configureClient(window.parent,"*"),n.filter((function(){return window.parent!=window})),n.listeners=__(k_).reduce(((t,e)=>Q(Q({},t),{},{[e]:!1})),{}),v.length?v.forEach((t=>{n.listeners[t]=!0})):NC.forEach((t=>n.listeners[t]=!0)),n.filter((t=>n.listeners[t])),e.on(Uv,((t,e,i)=>{n.addAllowedActor(t,null==e?void 0:e.contentWindow,i)})))}(),function(){if(!n)return;const e=GT({},g,w);n.extendMethods(e),n.hooks({logError(t){"InternalError"!==t.name&&T(k_.ERROR,N(t))},parseMessage(t){if(!t||""===t)return{};if(io(t))return _(3),t;try{const e=JSON.parse(t);return _(2),e}catch(t){return _(null),T(k_.ERROR,"The Vimeo Froogaloop v1 API is no longer supported.\n Please follow the upgrade instructions here: https://goo.gl/mueGRR"),{}}},buildMessage(e){var n;null!=(n=t.config.embed)&&n.player_id&&(e.player_id=t.config.embed.player_id);try{2===i&&(e=function(t){if(t.event){for(const e in S_)if(S_[e]===t.event){t.event=e;break}"cuechange"===t.event&&(t.data.text=t.data.cues[0].text,t.data.html=t.data.cues[0].html,delete t.data.cues)}return JSON.stringify(t)}(e)),io(e)&&"ready"===e.event&&(e=JSON.stringify(e))}catch(t){}return e}})}(),e.on(mo.BUFFER_STARTED,C(k_.BUFFER_START)),e.on(mo.BUFFER_ENDED,C(k_.BUFFER_END)),e.on(mo.CUE_POINT,C(k_.CUEPOINT,(function({time:t,data:e,id:n}){return{time:t,data:e,id:n}}))),e.on(mo.NO_SUPPORTED_CDM,C(k_.DRM_INIT_FAILED)),e.on(xc,C(k_.CUE_CHANGE,(function(t,e=[]){const{language:n=null,label:i=null,kind:r=null}=t||{};return{label:i,language:n,kind:r,cues:e}}))),e.on(jf,C(k_.CHAPTER_CHANGE,(function(e){const n=a(t.backbone.chapters).findIndex((t=>e===t.id));return n>=0?{startTime:t.backbone.chapters[n].startTime,title:t.backbone.chapters[n].text,index:n+1}:null}))),e.on(Tf,C(k_.ENDED,(function(){return l=!1,{seconds:h_(t.config.video.duration),percent:1,duration:h_(t.config.video.duration)}}))),e.on(yf,C(k_.PAUSE,(function(e){return l=!1,{seconds:h_(e),percent:h_(e/t.config.video.duration),duration:h_(t.config.video.duration)}}))),e.on(Nf,C(k_.PLAYBACK_RATE_CHANGE,k)),e.on(Nf,C(k_.RATE_CHANGE,k)),e.on(Wf,C(k_.TEXT_TRACK_CHANGE,(function(t){h=t;const{language:e=null,label:n=null,kind:i=null}=t||{};return{label:n,language:e,kind:i}}))),e.on(Cf,C(k_.VOLUME_CHANGE,(function(e){return{volume:h_(e),muted:t.backbone.muted}}))),e.on(Uf,C(k_.CONTROL_BAR_VISIBILITY_CHANGED,(function(t){return{visible:t}}))),e.on(zf,C(k_.TOAST_VISIBILITY_CHANGED,(function(t){return{visible:t}}))),e.on(Lp,(function(t){f&&setTimeout((function(){var t=!0;jl.settingVolume||0!==f?e.fire(Ih,f,t):e.fire(Lh,!0,t)}),0),t&&S()})),e.on(_f,(function(t){const e=A(t);u&&T(k_.ERROR,e)})),e.on(tp,C(k_.FULLSCREENCHANGE,(function(){return{fullscreen:!0}}))),e.on(np,C(k_.FULLSCREENCHANGE,(function(){return{fullscreen:!1}}))),e.on(kf,C(k_.QUALITY_CHANGE,(function(t){return{quality:t}}))),e.on(wv,C(k_.AD_STARTED)),e.on(_v,C(k_.AD_COMPLETED)),e.on(bv,C(k_.AD_ERROR)),e.on(Tv,C(k_.AD_SKIPPED)),e.on(Cv,C(k_.AD_ALL_COMPLETED)),e.on(mv,C(k_.AD_CLICKED)),e.on(kv,C(k_.INTERACTIVE_HOTSPOT_CLICKED,(function({hotspotId:t,customPayloadData:e,actionPreference:n,currentTime:i,action:r}){return{hotspotId:t,customPayloadData:e,actionPreference:n,currentTime:i,action:r}}))),e.on(Sv,C(k_.INTERACTIVE_OVERLAY_PANEL_CLICKED,(function({action:t,actionPreference:e,currentTime:n,customPayloadData:i,overlayId:r,panelId:o}){return{action:t,actionPreference:e,currentTime:n,customPayloadData:i,overlayId:r,panelId:o}}))),e.once(uv,(function(){u=!0,p?(S(),function(t,e){n&&n.emitMethodEvent(t,e)}(k_.LOAD_VIDEO,t.config.video.id)):T(k_.READY),c&&(T(k_.ERROR,A(c)),c=null)})),e.on(nd.EVENT_ENDED,C(k_.LIVE_EVENT_ENDED)),e.on(nd.EVENT_STARTED,C(k_.LIVE_EVENT_STARTED)),e.on(nd.STREAM_OFFLINE,C(k_.LIVE_STREAM_OFFLINE)),e.on(nd.STREAM_ONLINE,C(k_.LIVE_STREAM_ONLINE)),e.on(yo.CAMERA_CHANGE,C(k_.CAMERA_CHANGE,(function(t){return t}))),e.on(yo.MOTION_END,C(k_.MOTION_END)),e.on(yo.MOTION_START,C(k_.MOTION_START)),e.on(yo.WEBVR_HARDWARE_AVAILABLE,C(k_.WEBVR_HARDWARE_AVAILABLE)),e.on(yo.WEBVR_ENTER,C(k_.ENTER_WEBVR)),e.on(yo.WEBVR_EXIT,C(k_.EXIT_WEBVR)),e.on(yo.SPATIAL_UNSUPPORTED,C(k_.SPATIAL_UNSUPPORTED)),e.on(fo.PLAY,C(k_.PLAY,(function(e){return l?null:(l=!0,{seconds:h_(e),percent:h_(e/t.config.video.duration),duration:h_(t.config.video.duration)})}))),e.on(fo.PLAYING,C(k_.PLAYING,(function(){return l?{seconds:h_(t.currentTime),percent:h_(t.currentTime/t.config.video.duration),duration:h_(t.config.video.duration)}:null}))),e.on(fo.PROGRESS,C(k_.PROGRESS,(function({loaded:t,duration:e,loadProgress:n}){let r={seconds:h_(t),percent:h_(n),duration:h_(e)};return i<3&&(r.bytesLoaded=-1,r.bytesTotal=-1),r}))),e.on(fo.SEEKING,C(k_.SEEKING,E)),e.on(fo.SEEKED,C(k_.SEEKED,E)),e.on(fo.TIME_UPDATE,C(k_.TIME_UPDATE,(function({currentTime:t,duration:e,timeProgress:n}){return{seconds:h_(t),percent:h_(n),duration:h_(e)}}))),e.on(fo.LOADED_METADATA,C(k_.LOADED_METADATA)),e.on(fo.DURATION_CHANGE,C(k_.DURATION_CHANGE,(function(e){return{duration:t.backbone.duration}}))),e.on(fo.WAITING,C(k_.WAITING)),e.on(fo.LOADED_DATA,C(k_.LOADED_DATA)),e.on(fo.LOAD_START,C(k_.LOAD_START)),e.on(fo.RESIZE,C(k_.RESIZE,(function(){return{videoWidth:t.backbone.videoWidth,videoHeight:t.backbone.videoHeight}}))),e.on(fo.ENTER_PICTURE_IN_PICTURE,C(k_.ENTER_PICTURE_IN_PICTURE)),e.on(fo.LEAVE_PICTURE_IN_PICTURE,C(k_.LEAVE_PICTURE_IN_PICTURE)),e.on(Iw.connected,C(k_.CHROMECAST_CONNECTED)),e.on(cv,C(k_.REMOTE_PLAYBACK_AVAILABILITY_CHANGE,(()=>!0))),e.on(dv,C(k_.REMOTE_PLAYBACK_AVAILABILITY_CHANGE,(()=>!1))),e.on(hv,C(k_.REMOTE_PLAYBACK_CONNECT)),e.on(fv,C(k_.REMOTE_PLAYBACK_DISCONNECT)),e.on(xh,(function(){c=null,d=!1})),e.on(iv,(function(t={}){n&&(n.listeners[k_.SPACE_CHANGE]=!0,T(k_.SPACE_CHANGE,t))})),e.fire(av),g}var OC=Object.prototype.hasOwnProperty,IC=ao((function(t,e){if(xi(e)||Vi(e))ci(e,ji(e),t);else for(var n in e)OC.call(e,n)&&li(t,n,e[n])}));const LC=Q(Q({},jb),{},{CAPTIONS_ENABLED:"captions-enabled",CAPTIONS_DISABLED:"captions-disabled",CHROMECAST_CONNECTED:"chromecast-connected",CHROMECAST_DISCONNECTED:"chromecast-disconnected",DRM_KEY_SWITCH:"drm-key-switch",MEDIASESSION_PLAY:"mediasession-play",MEDIASESSION_PAUSE:"mediasession-pause",MEDIASESSION_SEEK_FORWARD:"mediasession-seekforward",MEDIASESSION_SEEK_BACKWARD:"mediasession-seekbackward",MEDIASESSION_SEEK_TO:"mediasession-seekto",SLATE_DISPLAYED:"slate-displayed",CLICK:"click",VIDEO_DURATION_MISMATCH:"video-duration-mismatch",VIDEO_FULLSCREEN_CHANGE:"video-fullscreen-change",VIDEO_MANIFEST_LOADED:"video-manifest-loaded",VIDEO_MANIFEST_TIMEOUT:"video-manifest-timeout",VIDEO_PICTURE_IN_PICTURE_CHANGE:"video-picture-in-picture-change",VIDEO_PLAYBACK_RATE_CHANGED:"video-playback-rate-changed",VIDEO_STREAM_CHANGE:"video-stream-change",VIDEO_SWITCH_BACK_TO_AUTO:"video-switch-back-to-auto",VIDEO_SWITCH_FROM_AUTO:"video-switch-from-auto",DOWNLOAD_TIMEOUT:"video-download-timeout",AD_BUFFERING:"ad-buffering",AD_COMPLETE:"ad-complete",AD_CLICKED:"ad-clicked",AD_ERROR:"ad-error",AD_PAUSED:"ad-paused",AD_RESUMED:"ad-resumed",AD_STARTED:"ad-started",AD_SKIPPED:"ad-skipped",ENTER_WEBVR:"enter-webvr",EXIT_WEBVR:"exit-webvr"});function RC(t){return m_("av01",t)?"AV1":m_("dvh1",t)?"HEVC_DVH1":m_("hvc1",t)?"HEVC":m_("avc1",t)?"AVC":t||""}function xC(t){return m_("mp4a",t)?"AAC":m_("opus",t)?"OPUS":t||""}function PC(t,e){const n=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function({identifier:e,data:{request:n,response:i,extraContext:o}}){const s=i.headers;return function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(i.arrayBuffer(),(function(r){if("video"===e.type){const s=t.backbone.representations.reverse(),a=s[e.stream];if(!a)return;const u=function(e,n,i,r,o,s){const a=i.headers;delete a[""];let u={};Object.keys(a).forEach((t=>{const e=a[t],n=t.replace(l,"_");u[n]=e}));let c=s.slice();return c.forEach((t=>{t.profile=String(t.profile||"")||null,t.id=String(t.id||"")||null})),{host:Jt(n.data.url),product:iy(t.config),duration:n.data.duration,size:r.byteLength,index:e.segment,session_id:t.config.request.session,profile_id:String(o.profile||"")||null,quality:o.quality,streams:c,clip_id:t.config.video.id,headers:u,buffered:h_(zt(t.backbone.currentTime,t.backbone.buffered),2),request_id:n.data.uuid?n.data.uuid:"",ttfb:ag()}}(e,n,i,r,a,s);let c=u;if(o&&(c=IC({extraContext:o},u)),t.events.fire(Ev,{name:LC.CHUNK_DOWNLOADED,data:c}),Math.random()<-1){const t=function({size:t,duration:e,quality:n}){return{chunk_request_duration:e,chunk_size:Math.floor(t),quality:n}}(u);W(LC.CHUNK_DOWNLOADED,t)}j+=r.byteLength,F=u}"akamai-grn"in s&&(L=s["akamai-grn"]),function({headers:t,url:e}){const n=vy(t);n===ob.CacheMiss?R={url:e,edge:!1,tier1:!1,tier2:!1}:n===ob.MidCacheHit?R={url:e,edge:!1,tier1:!0,tier2:!1}:n===ob.EdgeCacheHit&&(R={url:e,edge:!0,tier1:!0,tier2:!1})}(i);let a={};L&&(a.akamai_reference_id=L),a.manifest_load_durations=t.backbone.manifestLoadDurations,a.successful_segment_count=t.backbone.successfulSegments.length,a.failed_segment_count=t.backbone.failedSegments.length,P=a}))}));let i,o,s;const u=new ei,l=new RegExp("-","g");let c,d,h=null,f=null,p=!1,v=!1,_=!1,m="auto",b={},y={},g=null,w=null,T=null,C=[],E=null,k={},S=!1,A=!1,N=!1,M=0,O=0,I=0,L=null,R=null,x=!1,P=null,D=null,B=null,$=!1,V=!1,j=0,H=0,F=null,U="",z=Il;function X(){const e=u.get(t.backbone.videoElement);e?({Bu:o,$u:s}=e):(s=new Vb,o=new Xb(t.backbone.videoElement,W),G(),u.set(t.backbone.videoElement,{Bu:o,$u:s}))}function G(){const e=s;o.customizeHooks({bufferTracker:e,videoBufferCheck(){t.events.on(mo.BUFFER_STARTED,(()=>{p&&($||x||(x=!0,e.trackBufferStart(o.logBufferStart,{lower_profile_available:t.backbone.isLowerProfileAvailable})))})),t.events.on(mo.BUFFER_ENDED,(()=>{p&&x&&(x=!1,e.trackBufferEnd(o.logBufferEnd,{cdn_data:R}),e.resetLastBufferTime())}))},addEventData(t){const e=V;switch(V=!1,t){case LC.VIDEO_START_TIME:return P;case LC.VIDEO_SEEK:const t=D;return D=null,t;case LC.VIDEO_PLAYED:case LC.VIDEO_PAUSED:return{api_call:e};case LC.VIDEO_EXIT:return{bytes_loaded:j}}return null},customMinuteTracker:{shouldCount:()=>{var e;return t.backbone.isLive()&&(null==(e=t.config.video.live_event)?void 0:e.dvr)&&!t.backbone.atLiveEdge},onCount:t=>{H=t}}}),o.initHooks()}function W(n,r={}){(function(e){var n,i,r;switch(e){case LC.VIDEO_SEEK:case LC.VIDEO_SEEKED:return(null==(n=t.config.embed)?void 0:n.loop)||(null==(i=t.config.embed)||null==(i=i.settings)?void 0:i.background);case LC.VIDEO_PLAYBACK_RATE_CHANGED:return null==(r=t.config.video.live_event)?void 0:r.low_latency;case LC.VIDEO_PLAYBACK_ERROR&&(null==e?void 0:e.error_type)===mo.MEDIA_CAPABILITY_STREAMS_UNSUPPORTED:return wg(.1);default:return!1}})(n)||(r=Object.assign(o?o.globalProperties():{},Object.assign(function(){var n,i,r,o,s;const a={autoplay:1===t.config.embed.autoplay,background:!!t.config.embed.settings.background,clip_id:t.config.video.id,context:t.config.embed.context,device_pixel_ratio:window.devicePixelRatio||1,drm:!!t.config.request.drm,embed:!t.config.embed.on_site,has_sd_drm_fallback:!(null==(n=t.config.request.drm)||!n.fallback_asset),is_mod:!!t.config.user.mod,is_spatial:!(!Bt.spatialPlayback||!t.config.video.spatial),looping:!!t.config.embed.loop,owner_id:null==(i=t.config.video)||null==(i=i.owner)?void 0:i.id,product:iy(t.config),referrer:t.config.request.referrer,session_id:t.config.request.session,version:iT(t.config),version_backend:t.config.request.build.backend,viewer_id:null==(r=t.config.user)?void 0:r.id,viewer_team_id:null==(o=t.config.user)?void 0:o.team_id,viewer_team_origin_user_id:null==(s=t.config.user)?void 0:s.team_origin_user_id,vuid:Ny("vuid"),fps:t.config.video.fps};var u;return t.config.video.owner&&(a.account_type=t.config.video.owner.account_type),t.config.embed.api&&(a.api_version=t.config.embed.api),t.config.embed.app_id&&(a.app_id=String(t.config.embed.app_id)),t.config.video.privacy&&(a.privacy=t.config.video.privacy),e.get(Ww)&&(a.live_session_id=null==(u=t.config.video.live_event)?void 0:u.id),a}(),function(){var e,n,i;const r=t.backbone.video?t.backbone.video.currentFile:{},o=function(){const e={},n=Gt(),i=Md("asc"),r=t.backbone.currentScannerName,o=r===Mu,s="HTMLScanner"===r,u=[Au,Nu].includes(r);let l=[];s&&(l=Rn(t.config,"request.files.progressive")||Rn(t.config,"request.files.hls")||[]),o&&(l=Rn(t.config,"request.files.dash.streams",[])),u&&(l=t.backbone.video.currentFile.mime===Mh.dashMpd?Rn(t.config,"request.files.dash.streams",[]):Rn(t.config,"request.files.hls.streams",[]));const c=a(l).sort(i).map((t=>t.profile));let d=-1,h=0,f=null;if(Object.keys(y).forEach((t=>{const e=c.indexOf(parseInt(t,10));e>d&&(d=e);const i=y[t].reduce(((t,e)=>((e.end||n)-e.start)/1e3+t),0);i>h&&(h=i,f=t)})),e.highest_profile=c[d],e.highest_available_profile=c[c.length-1],e.most_used_profile=f,(o||u)&&C){e.max_speed=Math.round(Math.max.apply(Math,et(C)))/1e3,e.min_speed=Math.round(Math.min.apply(Math,et(C)))/1e3;const t=C.reduce(((t,e)=>t+e),0);e.average_speed=Math.round(t/C.length)/1e3}return e}();let{mime:s=Mh.h264,metadata:{profile:u=null}={}}=r,l=!1,c=!1;switch(s){case Mh.dash:0===r.restrictedStreamIndexes.length&&(l=!0),Rn(t.config,"request.files.dash.separate_av")&&(c=!0),u=b?b.profile:null;break;case Mh.hls:l=!0}let p={audio_bitrate:t.backbone.getBitrateAtTime(t.backbone.currentTime,"audio","average")/1e3,audio_provenance:q(),auto:l,average_speed:o.average_speed||0,cdn:r.metadata?r.metadata.cdn:"akamai",delivery:"live"!==C_[s]?C_[s]:"dash",display:t.expose.pictureInPicture?"pip":t.expose.fullscreen?"fs":t.backbone.videoElement.webkitCurrentPlaybackTargetIsWireless?"airplay":null,drm_cdm:U,drm_mode:z,dropped_frame_percent:I,event_time:h+qt(f),fullscreen:A,is_visible:(null==(e=d)?void 0:e.isInView)??!0,picture_in_picture:N,highest_available_profile:o.highest_available_profile?String(o.highest_available_profile):null,highest_profile:o.highest_profile?String(o.highest_profile):null,max_speed:isFinite(o.max_speed)?o.max_speed:0,mime:r.mime||null,min_speed:isFinite(o.min_speed)?o.min_speed:0,most_used_profile:o.most_used_profile?String(o.most_used_profile):null,profile_id:u?String(u):null,codec:RC(null==t.backbone.getCurrentStream||null==(n=t.backbone.getCurrentStream("video"))?void 0:n.codecs),audio_codec:xC(null==t.backbone.getCurrentStream||null==(i=t.backbone.getCurrentStream("audio"))?void 0:i.codecs),quality:b?b.quality:null,quality_downswitch_count:O,quality_upswitch_count:M,separate_av:c,target_profile_id:B,video_bitrate:t.backbone.getBitrateAtTime(t.backbone.currentTime,"video","average")/1e3,video_duration:h_(t.config.video.duration)};if(t.backbone.isLive()){var v;void 0!==t.backbone.latency&&(p.latency=t.backbone.latency),void 0!==t.backbone.lowLatencyMode&&(p.is_low_latency=t.backbone.lowLatencyMode);const e=!(null==(v=t.config.video.live_event)||!v.dvr);p.dvr=e,e&&(p.in_dvr_mode=e&&!t.backbone.atLiveEdge,p.dvr_minutes_watched=H)}if(t.config.video.ecdn){const e=t.config.video.ecdn.ecdn_provider,{ecdnBytesByCdn:n,ecdnBytesPeered:i,ecdnPeers:r}=yy(e);p.ecdn=!0,p.ecdn_provider=e,p.ecdn_bytes_via_cdn=n,p.ecdn_bytes_via_peering=i,p.ecdn_peers=r}return p}(),(t=>{const e=["example","live_test"],n=t.config.request.ab_tests||{},i=Array.isArray(t.abTests)?t.abTests:[],r=Object.keys(n).filter((t=>!e.includes(t))).map((t=>({test:t,group:n[t].group})));return{ab_tests:[].concat(et(r),et(i))}})(t)),r),r.name=n,t.events.fire(Ev,{name:n,data:r}),i.log(r).catch((t=>{})))}function q(){if(!t.config.request.audio_tracks)return null;let e=t.backbone.audioTracks.find((t=>!!t.active));if(!e)return null;if(e.provenance)return e.provenance;const n=t.config.request.audio_tracks.filter((t=>t.language===e.language));return 1===n.length?n[0].provenance:null}function Y(t,e={final:!0},n=null){const i={error_type:t,error_reason:n};o.handleExternalError(i,e)}f=Wt(),h=t.config.request.timestamp,i=new Hb(function(){const e=`?beacon=1&session-id=${t.config.request.session}`;return t.config.request.urls.fresnel+e}()),t.events.on(_f,Y),t.events.on(xh,(function(){S=!1})),t.events.on(Oh,(function(){$=!0})),t.events.on(tp,(function(){A=!0,W(LC.VIDEO_FULLSCREEN_CHANGE)})),t.events.on(np,(function(){A=!1,W(LC.VIDEO_FULLSCREEN_CHANGE)})),t.events.on(fo.ENTER_PICTURE_IN_PICTURE,(function(){N=!0,W(LC.VIDEO_PICTURE_IN_PICTURE_CHANGE)})),t.events.on(fo.LEAVE_PICTURE_IN_PICTURE,(function(){N=!1,W(LC.VIDEO_PICTURE_IN_PICTURE_CHANGE)})),t.events.on(Lp,(function(){h=t.config.request.timestamp,f=Wt(),p=!1,v=!1,_=!1,m="auto",b={},y={},g=null,w=null,T=null,C=[],E=null,k={},S=!1,A=!1,M=0,O=0,I=0,R=null,B=null,j=0,H=0,o&&(o.reset(),G())})),t.events.on(Mf,(function(){D={seek_type:"nudge"}})),t.events.on(Hf,(function(t){const e=null==t?void 0:t.seekType;D={seek_type:e}})),t.events.on(Vf,(function(t){D={seek_type:`chapter-${t}`}})),t.events.on(Nv,(function(t){D={seek_type:t.type}})),t.events.on(Av,(function(t){D={seek_type:t.type,seek_action:t.action}})),t.events.on(Lc,(function(){S||Dw.isCastConnected||t.performDelegateAction(fT,((t,e={})=>{S=!0,c.then((()=>o.logStartRequest())).catch((()=>{}))}))})),t.events.on(cp,(function(t){t===Kw&&W(LC.SLATE_DISPLAYED,{slate_type:Kw})})),t.events.on(Nf,(function(t,e){W(LC.VIDEO_PLAYBACK_RATE_CHANGED,{previous_playback_rate:e})})),t.events.on(Dh,(function(e){t.backbone.video.currentFile.mime===Mh.dash&&("auto"===e||v?"auto"===e&&v&&!_&&(W(LC.VIDEO_SWITCH_BACK_TO_AUTO,{quality:m,auto:1}),_=!0):(W(LC.VIDEO_SWITCH_FROM_AUTO,{quality:e,auto:0}),v=!0),m=e)})),t.events.on(zh,(function(t){E!==t&&(E=t,W(LC.CAPTIONS_ENABLED,{captions_id:String(t)}))})),t.events.on(Xh,(function(){E&&(E=null,W(LC.CAPTIONS_DISABLED))})),t.events.on(Iw.connected,(function(){W(LC.CHROMECAST_CONNECTED)})),t.events.on(Iw.disconnected,(function(){W(LC.CHROMECAST_DISCONNECTED)})),t.events.on(mo.STREAM_CHANGE,(function(t,e,n,i){var r;b=t;const o=t.profile?t.profile:t.id,s=Gt();if(y[o]=y[o]||[],g){const t=y[g].length-1;y[g][t]&&(y[g][t].end=s)}w&&(n[e].bitrate>w?M+=1:O+=1),y[o].push({start:s}),k[o]={bitrate:n[e].bitrate,width:n[e].width,height:n[e].height};let a={previous_audio_bitrate:T/1e3,previous_video_bitrate:w/1e3,previous_profile_id:String(g),reason:null==i?void 0:i.reasonForSwitch};o.toString()===(null==(r=F)?void 0:r.profile_id)&&(F.headers.akamai_request_bc||F.headers.x_cache)&&(a.cache_hit=vy(F.headers)),W(LC.VIDEO_STREAM_CHANGE,a),g=o,w=n[e].bitrate,T=n[e].audioBitrate})),t.events.on(mo.STREAM_TARGET_CHANGE,(function(t){t&&(B=String(t.profile||"")||null)})),t.events.on(fo.PLAYING,(function(){$=!1})),t.events.once(Af,(function(){p=!0})),t.events.on(vv,(function(){W(LC.AD_BUFFERING)})),t.events.on(_v,(function(){W(LC.AD_COMPLETE)})),t.events.on(mv,(function(){W(LC.AD_CLICKED)})),t.events.on(bv,(function(t){W(LC.AD_ERROR,{error_type:t.errorType,error_reason:t.errorReason})})),t.events.on(yv,(function(){W(LC.AD_PAUSED)})),t.events.on(gv,(function(){W(LC.AD_RESUMED)})),t.events.on(wv,(function(t){W(LC.AD_STARTED,{startup_duration:t.time?h_(t.time/1e3,2):null})})),t.events.on(Tv,(function(){W(LC.AD_SKIPPED)})),t.events.on(gf,(function(){Bt.iPhone&&o.setDisplayContext(1)})),t.events.on(wf,(function(){Bt.iPhone&&o.setDisplayContext(0)})),t.events.on(mo.DROPPED_FRAMES,(function(t){let e=t.dropped/t.total*100;I=Math.round(100*e)/100})),t.events.on(mo.BANDWIDTH,(function({speed:t}){C.push(t),C.length>500&&C.shift()})),t.events.on(mo.MANIFEST_TIMEOUT,(function(){W(LC.VIDEO_MANIFEST_TIMEOUT)})),t.events.on(mo.MANIFEST_LOADED,(function(){W(LC.VIDEO_MANIFEST_LOADED)})),t.events.on(mo.DOWNLOAD_END,n),t.events.on(mo.DOWNLOAD_TIMEOUT,(function(){W(LC.DOWNLOAD_TIMEOUT)})),t.events.on(mo.DRM_CDM_CHANGE,(function(t){U=t})),t.events.on(mo.DRM_KEY_SWITCH,(function(t){z=t,W(LC.DRM_KEY_SWITCH)})),t.events.on(mo.SCANNER_CHANGE,(function(){R=null})),t.events.on(mo.AV_DURATION_MISMATCH,(function(t){W(LC.VIDEO_DURATION_MISMATCH,{duration_difference:Math.round(100*t)/100})})),t.events.on(mo.QUOTA_EXCEEDED_ERROR,(function({buffered:t}){let e={error_type:mo.QUOTA_EXCEEDED_ERROR};e.buffered=h_(zt(0,t),2),e.bytes_loaded=j,W(LC.VIDEO_PLAYBACK_ERROR,e)})),t.events.on(mo.DROPPED_FRAME_PERCENT_EXCEEDED,(function(){let t={error_type:mo.DROPPED_FRAME_PERCENT_EXCEEDED};W(LC.VIDEO_PLAYBACK_ERROR,t)})),t.events.on(mo.MEDIA_CAPABILITY_STREAMS_UNSUPPORTED,(function({incompatibleStreams:t,incompatibleStreamsAttributes:e}){const n=["codecs","bitrate","framerate","quality","width","height","mime_type"];t.forEach(((t,i)=>{const r=n.reduce(((e,n)=>(e.push(t[n]),e)),[]).concat(e[i].join(",")).join("|"),o={error_type:mo.MEDIA_CAPABILITY_STREAMS_UNSUPPORTED,error_reason:r};W(LC.VIDEO_PLAYBACK_ERROR,o)}))})),t.events.on(go.MEDIASESSION_PLAY,(function(){W(LC.MEDIASESSION_PLAY)})),t.events.on(go.MEDIASESSION_PAUSE,(function(){W(LC.MEDIASESSION_PAUSE)})),t.events.on(go.MEDIASESSION_SEEK_FORWARD,(function(){W(LC.MEDIASESSION_SEEK_FORWARD)})),t.events.on(go.MEDIASESSION_SEEK_BACKWARD,(function(){W(LC.MEDIASESSION_SEEK_BACKWARD)})),t.events.on(go.MEDIASESSION_SEEK_TO,(function(){W(LC.MEDIASESSION_SEEK_TO)})),t.events.on(g_.nu,(function(){D={seek_type:"api"}})),t.events.on(g_.iu,(function(){V=!0})),t.events.on(g_.ru,(function(){V=!0})),t.events.on(yo.WEBVR_ENTER,(function(){W(LC.ENTER_WEBVR,!0)})),t.events.on(yo.WEBVR_EXIT,(function(){W(LC.EXIT_WEBVR,!0)})),t.events.on(nd.STALL_JUMP,(function({msg:t}){Y("livestall",{final:!1},t)})),t.events.on(nd.LOW_LATENCY_FALLBACK,(function({msg:t}){Y("livefallback",{final:!1},t)})),c=new r((e=>{var n;null!=(n=t.backbone)&&n.video&&e(),t.events.on(Ic,e)})),c.then(X).catch((()=>{})),d=Ft(t.element),t.events.on(Yp,X),t.events.on(uf,(()=>{var t;return null==(t=d)?void 0:t.cleanup()}))}var DC=n((function(t,e){Object.defineProperty(e,"Vu",{value:!0}),e.Tracker=void 0;var n=function(){function t(){}return t.getAttributeTypeMap=function(){return t.attributeTypeMap},t.attributeTypeMap=[{name:"name",baseName:"name",type:"string"},{name:"version",baseName:"version",type:"string"}],t}();e.Tracker=n}));let BC;const $C=new Uint8Array(16);function VC(){if(!BC&&(BC="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!BC))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return BC($C)}var jC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function HC(t){return"string"==typeof t&&jC.test(t)}const FC=[];for(let t=0;t<256;++t)FC.push((t+256).toString(16).slice(1));function UC(t,e=0){return FC[t[e+0]]+FC[t[e+1]]+FC[t[e+2]]+FC[t[e+3]]+"-"+FC[t[e+4]]+FC[t[e+5]]+"-"+FC[t[e+6]]+FC[t[e+7]]+"-"+FC[t[e+8]]+FC[t[e+9]]+"-"+FC[t[e+10]]+FC[t[e+11]]+FC[t[e+12]]+FC[t[e+13]]+FC[t[e+14]]+FC[t[e+15]]}let zC,XC,GC=0,WC=0;function qC(t){if(!HC(t))throw TypeError("Invalid UUID");let e;const n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n}function YC(t,e,n){function i(t,i,r,o){var s;if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));const e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof i&&(i=qC(i)),16!==(null===(s=i)||void 0===s?void 0:s.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+t.length);if(a.set(i),a.set(t,i.length),a=n(a),a[6]=15&a[6]|e,a[8]=63&a[8]|128,r){o=o||0;for(let t=0;t<16;++t)r[o+t]=a[t];return r}return UC(a)}try{i.name=t}catch(t){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}function KC(t){return 14+(t+64>>>9<<4)+1}function ZC(t,e){const n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function QC(t,e,n,i,r,o){return ZC(function(t,e){return t<<e|t>>>32-e}(ZC(ZC(e,t),ZC(i,o)),r),n)}function JC(t,e,n,i,r,o,s){return QC(e&n|~e&i,t,e,r,o,s)}function tE(t,e,n,i,r,o,s){return QC(e&i|n&~i,t,e,r,o,s)}function eE(t,e,n,i,r,o,s){return QC(e^n^i,t,e,r,o,s)}function nE(t,e,n,i,r,o,s){return QC(n^(e|~i),t,e,r,o,s)}const iE=YC("v3",48,(function(t){if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){const e=[],n=32*t.length,i="0123456789abcdef";for(let r=0;r<n;r+=8){const n=t[r>>5]>>>r%32&255,o=parseInt(i.charAt(n>>>4&15)+i.charAt(15&n),16);e.push(o)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[KC(e)-1]=e;let n=1732584193,i=-271733879,r=-1732584194,o=271733878;for(let e=0;e<t.length;e+=16){const s=n,a=i,u=r,l=o;n=JC(n,i,r,o,t[e],7,-680876936),o=JC(o,n,i,r,t[e+1],12,-389564586),r=JC(r,o,n,i,t[e+2],17,606105819),i=JC(i,r,o,n,t[e+3],22,-1044525330),n=JC(n,i,r,o,t[e+4],7,-176418897),o=JC(o,n,i,r,t[e+5],12,1200080426),r=JC(r,o,n,i,t[e+6],17,-1473231341),i=JC(i,r,o,n,t[e+7],22,-45705983),n=JC(n,i,r,o,t[e+8],7,1770035416),o=JC(o,n,i,r,t[e+9],12,-1958414417),r=JC(r,o,n,i,t[e+10],17,-42063),i=JC(i,r,o,n,t[e+11],22,-1990404162),n=JC(n,i,r,o,t[e+12],7,1804603682),o=JC(o,n,i,r,t[e+13],12,-40341101),r=JC(r,o,n,i,t[e+14],17,-1502002290),i=JC(i,r,o,n,t[e+15],22,1236535329),n=tE(n,i,r,o,t[e+1],5,-165796510),o=tE(o,n,i,r,t[e+6],9,-1069501632),r=tE(r,o,n,i,t[e+11],14,643717713),i=tE(i,r,o,n,t[e],20,-373897302),n=tE(n,i,r,o,t[e+5],5,-701558691),o=tE(o,n,i,r,t[e+10],9,38016083),r=tE(r,o,n,i,t[e+15],14,-660478335),i=tE(i,r,o,n,t[e+4],20,-405537848),n=tE(n,i,r,o,t[e+9],5,568446438),o=tE(o,n,i,r,t[e+14],9,-1019803690),r=tE(r,o,n,i,t[e+3],14,-187363961),i=tE(i,r,o,n,t[e+8],20,1163531501),n=tE(n,i,r,o,t[e+13],5,-1444681467),o=tE(o,n,i,r,t[e+2],9,-51403784),r=tE(r,o,n,i,t[e+7],14,1735328473),i=tE(i,r,o,n,t[e+12],20,-1926607734),n=eE(n,i,r,o,t[e+5],4,-378558),o=eE(o,n,i,r,t[e+8],11,-2022574463),r=eE(r,o,n,i,t[e+11],16,1839030562),i=eE(i,r,o,n,t[e+14],23,-35309556),n=eE(n,i,r,o,t[e+1],4,-1530992060),o=eE(o,n,i,r,t[e+4],11,1272893353),r=eE(r,o,n,i,t[e+7],16,-155497632),i=eE(i,r,o,n,t[e+10],23,-1094730640),n=eE(n,i,r,o,t[e+13],4,681279174),o=eE(o,n,i,r,t[e],11,-358537222),r=eE(r,o,n,i,t[e+3],16,-722521979),i=eE(i,r,o,n,t[e+6],23,76029189),n=eE(n,i,r,o,t[e+9],4,-640364487),o=eE(o,n,i,r,t[e+12],11,-421815835),r=eE(r,o,n,i,t[e+15],16,530742520),i=eE(i,r,o,n,t[e+2],23,-995338651),n=nE(n,i,r,o,t[e],6,-198630844),o=nE(o,n,i,r,t[e+7],10,1126891415),r=nE(r,o,n,i,t[e+14],15,-1416354905),i=nE(i,r,o,n,t[e+5],21,-57434055),n=nE(n,i,r,o,t[e+12],6,1700485571),o=nE(o,n,i,r,t[e+3],10,-1894986606),r=nE(r,o,n,i,t[e+10],15,-1051523),i=nE(i,r,o,n,t[e+1],21,-2054922799),n=nE(n,i,r,o,t[e+8],6,1873313359),o=nE(o,n,i,r,t[e+15],10,-30611744),r=nE(r,o,n,i,t[e+6],15,-1560198380),i=nE(i,r,o,n,t[e+13],21,1309151649),n=nE(n,i,r,o,t[e+4],6,-145523070),o=nE(o,n,i,r,t[e+11],10,-1120210379),r=nE(r,o,n,i,t[e+2],15,718787259),i=nE(i,r,o,n,t[e+9],21,-343485551),n=ZC(n,s),i=ZC(i,a),r=ZC(r,u),o=ZC(o,l)}return[n,i,r,o]}(function(t){if(0===t.length)return[];const e=8*t.length,n=new Uint32Array(KC(e));for(let i=0;i<e;i+=8)n[i>>5]|=(255&t[i/8])<<i%32;return n}(t),8*t.length))}));var rE={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function oE(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:case 3:return e^n^i;case 2:return e&n^e&i^n&i}}function sE(t,e){return t<<e|t>>>32-e}const aE=YC("v5",80,(function(t){const e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){const e=unescape(encodeURIComponent(t));t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const i=t.length/4+2,r=Math.ceil(i/16),o=new Array(r);for(let e=0;e<r;++e){const n=new Uint32Array(16);for(let i=0;i<16;++i)n[i]=t[64*e+4*i]<<24|t[64*e+4*i+1]<<16|t[64*e+4*i+2]<<8|t[64*e+4*i+3];o[e]=n}o[r-1][14]=8*(t.length-1)/Math.pow(2,32),o[r-1][14]=Math.floor(o[r-1][14]),o[r-1][15]=8*(t.length-1)&4294967295;for(let t=0;t<r;++t){const i=new Uint32Array(80);for(let e=0;e<16;++e)i[e]=o[t][e];for(let t=16;t<80;++t)i[t]=sE(i[t-3]^i[t-8]^i[t-14]^i[t-16],1);let r=n[0],s=n[1],a=n[2],u=n[3],l=n[4];for(let t=0;t<80;++t){const n=Math.floor(t/20),o=sE(r,5)+oE(n,s,a,u)+l+e[n]+i[t]>>>0;l=u,u=a,a=sE(s,30)>>>0,s=r,r=o}n[0]=n[0]+r>>>0,n[1]=n[1]+s>>>0,n[2]=n[2]+a>>>0,n[3]=n[3]+u>>>0,n[4]=n[4]+l>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));var uE=Object.freeze({__proto__:null,v1:function(t,e,n){let i=e&&n||0;const r=e||new Array(16);let o=(t=t||{}).node||zC,s=void 0!==t.clockseq?t.clockseq:XC;if(null==o||null==s){const e=t.random||(t.rng||VC)();null==o&&(o=zC=[1|e[0],e[1],e[2],e[3],e[4],e[5]]),null==s&&(s=XC=16383&(e[6]<<8|e[7]))}let a=void 0!==t.msecs?t.msecs:Date.now(),u=void 0!==t.nsecs?t.nsecs:WC+1;const l=a-GC+(u-WC)/1e4;if(l<0&&void 0===t.clockseq&&(s=s+1&16383),(l<0||a>GC)&&void 0===t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");GC=a,WC=u,XC=s,a+=122192928e5;const c=(1e4*(268435455&a)+u)%4294967296;r[i++]=c>>>24&255,r[i++]=c>>>16&255,r[i++]=c>>>8&255,r[i++]=255&c;const d=a/4294967296*1e4&268435455;r[i++]=d>>>8&255,r[i++]=255&d,r[i++]=d>>>24&15|16,r[i++]=d>>>16&255,r[i++]=s>>>8|128,r[i++]=255&s;for(let t=0;t<6;++t)r[i+t]=o[t];return e||UC(r)},v3:iE,v4:function(t,e,n){if(rE.randomUUID&&!e&&!t)return rE.randomUUID();const i=(t=t||{}).random||(t.rng||VC)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=i[t];return e}return UC(i)},v5:aE,NIL:"00000000-0000-0000-0000-000000000000",version:function(t){if(!HC(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)},validate:HC,stringify:function(t,e=0){const n=UC(t,e);if(!HC(n))throw TypeError("Stringified UUID is invalid");return n},parse:qC}),lE=n((function(t,e){Object.defineProperty(e,"Vu",{value:!0}),e.Envelope=void 0;var n=function(){function t(t,e){this.event=t,this.eid=(0,uE.v4)(),this.ts_ms=Date.now(),this.created_at=Date.now(),this.ju=new DC.Tracker,this.Hu=e}return Object.defineProperty(t.prototype,"tracker",{get:function(){return this.ju},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"global",{get:function(){return this.Hu},enumerable:!1,configurable:!0}),t.getAttributeTypeMap=function(){return t.attributeTypeMap},t.attributeTypeMap=[{name:"eid",baseName:"eid",type:"string"},{name:"ts_ms",baseName:"ts_ms",type:"number"},{name:"created_at",baseName:"created_at",type:"number"},{name:"event",baseName:"event",type:"Event"},{name:"global",baseName:"global",type:"Event"},{name:"tracker",baseName:"tracker",type:"Tracker"}],t}();e.Envelope=n})),cE=n((function(t,e){Object.defineProperty(e,"Vu",{value:!0}),e.Event=void 0;var n=function(){function t(t,e,n){this.name=t,this.ts_ms=Date.now(),this.version=e,this.fields=n}return t.getAttributeTypeMap=function(){return t.attributeTypeMap},t.attributeTypeMap=[{name:"name",baseName:"name",type:"string"},{name:"ts_ms",baseName:"ts_ms",type:"number"},{name:"version",baseName:"version",type:"number"},{name:"fields",baseName:"fields",type:"object"}],t}();e.Event=n})),dE=n((function(t,e){Object.defineProperty(e,"Vu",{value:!0}),e.EventContext=void 0;var n=function(){function t(t,e,n){this.name=t,this.ts_ms=Date.now(),this.version=e,this.fields=n}return t.getAttributeTypeMap=function(){return t.attributeTypeMap},t.attributeTypeMap=[{name:"name",baseName:"name",type:"string"},{name:"ts_ms",baseName:"ts_ms",type:"number"},{name:"version",baseName:"version",type:"number"},{name:"fields",baseName:"fields",type:"object"}],t}();e.EventContext=n})),hE=n((function(t,e){Object.defineProperty(e,"Vu",{value:!0}),e.GlobalContext=void 0;e.GlobalContext=function(t,e,n){this.name=t,this.ts_ms=Date.now(),this.version=e,this.fields=n}})),fE=n((function(t,n){var i=e&&e.Fu||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.Vu:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=e&&e.Uu||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(n,"Vu",{value:!0}),n.ObjectSerializer=void 0,r(lE,n),r(cE,n),r(dE,n),r(DC,n),r(hE,n);var o=cE,s=dE,a=DC,u=["string","boolean","double","integer","long","float","number","any"],l={},c={Envelope:lE.Envelope,Event:o.Event,Tracker:a.Tracker,EventContext:s.EventContext},d=function(){function t(){}return t.findCorrectType=function(t,e){if(null==t)return e;if(-1!==u.indexOf(e.toLowerCase()))return e;if("Date"===e)return e;if(l[e])return e;if(!c[e])return e;var n=c[e].discriminator;if(null==n)return e;if(t[n]){var i=t[n];return c[i]?i:e}return e},t.serialize=function(e,n){if(null==e)return e;if(-1!==u.indexOf(n.toLowerCase()))return e;if(0===n.lastIndexOf("Array<",0)){var i=n.replace("Array<","");i=i.substring(0,i.length-1);var r=[];for(var o in e){var s=e[o];r.push(t.serialize(s,i))}return r}if("Date"===n)return e.toISOString();if(l[n])return e;if(!c[n])return e;n=this.findCorrectType(e,n);var a=c[n].getAttributeTypeMap(),d={};for(var o in a){var h=a[o];d[h.baseName]=t.serialize(e[h.name],h.type)}return d},t.deserialize=function(e,n){if(n=t.findCorrectType(e,n),null==e)return e;if(-1!==u.indexOf(n.toLowerCase()))return e;if(0===n.lastIndexOf("Array<",0)){var i=n.replace("Array<","");i=i.substring(0,i.length-1);var r=[];for(var o in e){var s=e[o];r.push(t.deserialize(s,i))}return r}if("Date"===n)return new Date(e);if(l[n])return e;if(!c[n])return e;var a=new c[n],d=c[n].getAttributeTypeMap();for(var o in d){var h=d[o];a[h.name]=t.deserialize(e[h.baseName],h.type)}return a},t}();n.ObjectSerializer=d})),pE=n((function(t,e){Object.defineProperty(e,"Vu",{value:!0}),e.formatRequestEvent=e.parseJwt=e.getCookie=void 0,e.getCookie=function(t){if("undefined"==typeof document)return null;var e=document.cookie.match(new RegExp("(;\\s)?".concat(t,"=")));if(!e||0==e.length||void 0===e.index)return null;var n=document.cookie.indexOf(";",e.index+1),i=e.index+e[0].length,r=-1===n?document.cookie.substr(i):document.cookie.substring(i,n);return decodeURIComponent(r)},e.parseJwt=function(t){var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)},e.formatRequestEvent=function(t){var e=t.split(".");if(e.length<=2)return t;var n=e.pop();return"".concat(e.join("_"),".").concat(n)}})),vE=n((function(t,n){var i,o=e&&e.zu||function(t,e,n,i){return new(n||(n=r))((function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):function(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(s,a)}u((i=i.apply(t,e||[])).next())}))},s=e&&e.Xu||function(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof x&&(o[x.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=e&&e.Gu||function(t){var e="function"==typeof x&&x.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=e&&e.Wu||function(t,e){var n="function"==typeof x&&t[x.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s};Object.defineProperty(n,"Vu",{value:!0}),n.BigPictureClient=n.Configuration=n.Service=void 0,function(t){t.FRESNEL_PROD="https://fresnel-events.vimeocdn.com",t.FRESNEL_PROD_CN="https://fresnel-events.videoji.cn",t.FRESNEL_DEV="https://fresnel-event-staging.vimeows.com",t.EVENTS_PROD="https://lensflare.vimeo.com"}(i=n.Service||(n.Service={}));var l=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=""),this.service=t,this.globalBPO=e,this.contexts=n,this.endpoint=i};n.Configuration=l;var c=function(){function t(){}return Object.defineProperty(t,"isInitalized",{get:function(){return Boolean(t.conf.globalBPO)},enumerable:!1,configurable:!0}),t.configure=function(e){t.conf=e,t.WAIT_QUEUE.length>0&&(t.WAIT_QUEUE.map((function(e){var n=e.event,i=e.contexts;i?t.sendEventWithContexts(n,i):t.sendEvent(n)})),t.WAIT_QUEUE=[])},t.updateObject=function(e,n){return o(this,void 0,void 0,(function(){var i,r,o,l,c,d,h;return s(this,(function(s){try{for(i=a(Object.entries(e)),r=i.next();!r.done;r=i.next())if(o=u(r.value,2),l=o[0],c=o[1],l in n){if(c instanceof Object)return n[l]instanceof Object?(t.updateObject(c,n[l]),[2]):(n[l]=c,[2]);n[l]=c}}catch(t){d={error:t}}finally{try{r&&!r.done&&(h=i.return)&&h.call(i)}finally{if(d)throw d.error}}return[2]}))}))},t.updateContext=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(n){return"global"==e.context&&t.conf.globalBPO&&t.updateObject(e.fields,t.conf.globalBPO.fields),[2]}))}))},t.sendEvent=function(e,n){return o(this,void 0,void 0,(function(){var i,r,o,a,u,l;return s(this,(function(s){switch(s.label){case 0:if(null==e)throw new Error("Required parameter event was null or undefined when calling sendEvent.");return t.isInitalized?(i=JSON.stringify(fE.ObjectSerializer.serialize([new lE.Envelope(e,this.conf.globalBPO)],"Array<Envelope>")),r=(0,pE.formatRequestEvent)(e.name),o=""!==this.conf.endpoint?this.conf.endpoint:this.conf.service,a="".concat(o,"/add/").concat(encodeURIComponent(r)),navigator.sendBeacon&&!n?[3,2]:(u={method:"POST",headers:{"Content-Type":"application/json","User-Agent":navigator.userAgent,Origin:location.origin,Referer:document.referrer},body:i},n&&(u.headers.Authorization=n),[4,fetch(a,u)])):(t.WAIT_QUEUE.push({event:e}),t.waitAndFlushQueue(),[2]);case 1:return s.sent(),[3,3];case 2:l=new Blob([i]),navigator.sendBeacon(a,l),s.label=3;case 3:return[2]}}))}))},t.sendEventWithContexts=function(e,n,i){return o(this,void 0,void 0,(function(){var r,o,l,c,d,h,f,p,v,_,m,b,y,g,w,T;return s(this,(function(s){switch(s.label){case 0:if(null==e)throw new Error("Required parameter event was null or undefined when calling sendEvent.");if(!t.isInitalized)return t.WAIT_QUEUE.push({event:e,contexts:n}),t.waitAndFlushQueue(),[2];r=new lE.Envelope(e,this.conf.globalBPO),(o=fE.ObjectSerializer.serialize([r],"Array<Envelope>"))[0].contexts={};try{for(l=a(Object.entries(n)),c=l.next();!c.done;c=l.next())d=u(c.value,2),h=d[0],f=d[1],p=fE.ObjectSerializer.serialize(f,"EventContext"),o[0].contexts[h]=p}catch(t){w={error:t}}finally{try{c&&!c.done&&(T=l.return)&&T.call(l)}finally{if(w)throw w.error}}return v=JSON.stringify(o),_=(0,pE.formatRequestEvent)(e.name),m=""!==this.conf.endpoint?this.conf.endpoint:this.conf.service,b="".concat(m,"/add/").concat(encodeURIComponent(_)),navigator.sendBeacon&&!i?[3,2]:(y={method:"POST",headers:{"Content-Type":"application/json","User-Agent":navigator.userAgent,Origin:location.origin,Referer:document.referrer},body:v},i&&(y.headers.Authorization=i),[4,fetch(b,y)]);case 1:return s.sent(),[3,3];case 2:g=new Blob([v]),navigator.sendBeacon(b,g),s.label=3;case 3:return[2]}}))}))},t.waitAndFlushQueue=function(){t.flushQueueTimeoutHandler||(t.flushQueueTimeoutHandler=setTimeout((function(){t.WAIT_QUEUE.length>0&&(t.WAIT_QUEUE=[])}),t.FLUSH_QUEUE_TIMEOUT))},t.FLUSH_QUEUE_TIMEOUT=1e4,t.conf=new l(i.FRESNEL_PROD),t.WAIT_QUEUE=[],t}();n.BigPictureClient=c})),_E=n((function(t,e){Object.defineProperty(e,"Vu",{value:!0})})),mE=n((function(t,n){var i=e&&e.Fu||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.Vu:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=e&&e.Uu||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(n,"Vu",{value:!0}),r(vE,n),r(fE,n),r(_E,n)}));let bE=function(){function t(){G(this,"player",void 0),G(this,"bpSessionInfo",void 0),this.player=null,this.bpSessionInfo={transcriptId:null,transcriptStartTime:null,transcriptDefaultLanguage:null,leadUuid:null,contentType:null,vuid:Ny("vuid")}}var e=t.prototype;return e.init=function(t){this.player=t,this.player.doNotTrackEnabled||(this.qu(),this.Yu(),this.Ku())},e.Ku=function(){const t=this.Zu(),e=this.Qu(qb.WEB_GLOBAL),n=new mE.Configuration(t,e,null,this.player.config.request.urls.telemetry_base);mE.BigPictureClient.configure(n)},e.qu=function(){this.Ju(Q({vuid:Ny("vuid")},By(this.player.config)))},e.Yu=function(){this.player.events.on(xv,(({id:t,startTime:e,defaultLanguage:n})=>{this.Ju({transcriptId:t,transcriptStartTime:e,transcriptDefaultLanguage:n})})),this.player.events.on(Xv,(t=>{null!=t&&t.leadUuid&&this.Ju({leadUuid:t.leadUuid})})),this.player.events.on(Lp,(()=>{this.Ju(Q({},By(this.player.config)))}))},e.tl=function(){if(this.bpSessionInfo.vuid)return;const t=Ny("vuid");t&&(this.Ju({vuid:t}),this.Ku())},e.Zu=function(){let t;switch(this.player.config.request.urls.telemetry_base){case mE.Service.FRESNEL_PROD_CN:t=mE.Service.FRESNEL_PROD_CN;break;case mE.Service.EVENTS_PROD:t=mE.Service.EVENTS_PROD;break;case mE.Service.FRESNEL_PROD:t=mE.Service.FRESNEL_PROD;break;default:t=mE.Service.FRESNEL_DEV}return t},e.Ju=function(t){Object.assign(this.bpSessionInfo,t)},e.el=function(t){return t},e.nl=function(t){return Zb[t]},e.il=function(t){var e,n,i,r,o;const s=this.player.config,{user:a,request:u,video:l,embed:c}=s,d=(null==(e=this.player.backbone)?void 0:e.currentTime)||0;switch(t){case qb.WEB_GLOBAL:return this.el({user:{subscription_type:a.account_type||null,is_mod:!!a.mod,session_id:u.session||null,teams:a.team_id?[{team_id:a.team_id,team_role:uy(s)}]:[],user_id:a.id||null,vuid:this.bpSessionInfo.vuid||null,flags:u.flags?Object.keys(u.flags):null,is_free_trial:!1},application:{application:"vimeo",vimeo_language:u.lang||"en",product:iy(s),build_environment:"production",version:ry()},platform:{device_language:(null==(n=window.navigator)?void 0:n.language)??"",screen:{dpi:screen.pixelDepth,height:screen.height,width:screen.width,size:`${screen.width} x ${screen.height}`},network:null,platform:"web"}});case qb.COPY_VIDEO_EMBED_CODE:return this.el({hash:l.unlisted_hash,height:l.height,is_video_password_protected:l.privacy===kh,product:ny.WORKFLOW,sizing:c.playsinline?"fixed":"responsive",video_embed_privacy:l.embed_permission,video_id:`${l.id||""}`,video_privacy:l.privacy,width:l.width,actor_resource_role:null,actor_team_role:null,entry_page:null,is_preset_applied:null,location:null,page:null,path:null,team_owner_id:null,team_size:null,team_subscription_type:null,upload_id:null,video_app_id:null,video_status:null,video_type:null});case qb.PLAYER_PERFORMANCE_MEASUREMENT:return this.el({module_player:!1,device_type:sy(),browser:Object.keys(Bt.browser).find((t=>Bt.browser[t]))||"",device_os:ay(),iframed:Ty(),measurement_type:null,measurement_value:null});case qb.CHAPTER_SEGMENT_CLICK:return this.el({video_id:l.id,team_owner_id:(null==(i=l.owner)?void 0:i.id)||0,is_creator_mode:!!a.owner,chapter_seek_event_delta:null,fragment_no_chapters_at_seek:null,is_chapter_seek:null,nearest_chapter_start_time:null,seek_event_start_time:null,total_no_chapters_at_seek:null});case qb.CLICK:return this.el({page:Mb(s),click_type:null,copy:null,device_type:null,feature:null,location:null,name:null,path:null,target:null,target_path:null,type:null});case qb.EMBEDDED_TRANSCRIPT_CLICK:return this.el({video_id:l.id,team_owner_id:(null==(r=l.owner)?void 0:r.id)||0,total_clip_duration:h_(l.duration,2),embedded_transcript_session_id:this.bpSessionInfo.transcriptId,session_duration:h_(Om(this.bpSessionInfo.transcriptStartTime),2),default_transcript_language:this.bpSessionInfo.transcriptDefaultLanguage,video_timestamp:h_(d,2)||0,copy:null,current_transcript_language:null,element:null,location:null,name:null});case qb.CLOSED_CAPTIONS_CLICK:return this.el({video_id:l.id,video_privacy:l.privacy,final_action_reset_all:null,has_changed_background:null,has_changed_font:null,has_changed_window:null,has_clicked_background:null,has_clicked_window:null,has_clicked_customize:null,has_clicked_font:null,has_customized:null,has_reset_all:null,language_selected:null,has_updated_language:null,language_provenance:null,prev_language_provenance:null,prev_selected_language:null});case qb.MULTI_AUDIO_TRACK_CLICK:return this.el({video_id:`${l.id||""}`,video_privacy:l.privacy,video_owner_id:`${null==(o=l.owner)?void 0:o.id}`,page:Mb(s),event_name:null,has_selected_track:null,initial_track:null,initial_track_provenance:null,track_selected:null,track_selected_provenance:null});case qb.OPEN_AI_OPTIONS:return this.el({if_uploader:!!a.owner,value:null});case qb.REACH_TIME_ACTION:return this.el({time_action_id:null});case qb.VIEW_HOTSPOT:return this.el({hotspot_id:null});case qb.CLICK_HOTSPOT:return this.el({hotspot_id:null,overlay_id:null,click_action_type:null,clickout_id:null});case qb.VIEW_OVERLAY:return this.el({overlay_id:null});case qb.CLOSE_OVERLAY:return this.el({overlay_id:null,dwell_time:null});case qb.CLICK_OVERLAY:return this.el({overlay_id:null,click_action_type:null,clickout_id:null});case qb.VIEW_POLL:return this.el({poll_id:null});case qb.VOTE_POLL:return this.el({poll_id:null,poll_option_id:null,is_poll_option_correct:null});case qb.SELECT_PLAYER_SHARE:case qb.SELECT_PLAYER_SHARE_COMPLETE:return this.el({ab_group:null});default:return{}}},e.rl=function(t,e={}){return Object.assign({},this.il(t),e)},e.Qu=function(t,e={}){const n=this.rl(t,e),i=this.nl(t);return new mE.Event(t,i,n)},e.ol=function(t){var e,n,i,r,o;const s=this.player.config,{embed:a,user:u,request:l,video:c}=s,d=_y(this.player.backbone),h=this.player.store.get("ui.player.breakpoint"),f=this.player.store.get("ui.player.width")||0,p=this.player.store.get("ui.player.height")||0,v=(null==(e=this.player.backbone)?void 0:e.currentTime)||0;switch(t){case Yb.TEAM:return this.el({team_owner_id:u.team_origin_user_id,team_subscription_type:u.account_type,team_role:uy(s),team_id:u.team_id,joined_team_at:null,resource_permission_level:null,team_size:null});case Yb.WEB:return this.el({location:"player",page_name:Mb(s),referrer:l.referrer,copy:null,path:null,referrer_page_name:null,target:null,target_path:null});case Yb.VIDEO:return this.el({video_id:c.id,title:c.title,video_privacy:c.privacy,video_embed_privacy:c.embed_permission,content_rating:[`${null==(n=c.rating)?void 0:n.id}`],duration:Math.round(c.duration),resolution:`${c.width}x${c.height}`,video_height:c.height,video_width:c.width,orientation:ly(c.width,c.height),is_auto_cc_enabled:null,upload_method_api:null,upload_method_api_id:null,is_demo:null,video_owner_id:(null==(i=c.owner)?void 0:i.id)||0,video_owner_account_type:(null==(r=c.owner)?void 0:r.account_type)||"",video_categories:null,has_embed_available:!!a.settings.embed,video_version_id:hy(null==(o=c.version)?void 0:o.available),embed_context:a.context,is_drm_enabled:!!l.drm,is_intaractive:!!a.interactive,language:null,audio_track_lang:d.audioTrackLang,audio_track_provenance:d.audioTrackProvenance,audio_track_type:d.audioTrackType,text_track_lang:d.textTrackLang,text_track_provenance:d.textTrackProvenance,text_track_type:d.textTrackType});case Yb.PLAYER:return this.el({player_session_id:l.session,total_video_duration:c.duration,video_timestamp:h_(v,2)||0,player_location:a.on_site?"onsite":"embed",player_breakpoint:h||null,player_width:Math.floor(f),player_height:Math.floor(p)});case Yb.ACTION:return this.el({feature:"player",action_type:Bt.touch?"tap":"click"});case Yb.VIEW:return this.el({feature:"player",view_type:"impression"});case Yb.LIVE:return this.el({recurring_live_event_id:`${c.live_event_id}`,live_event_id:null,live_status:cy(null==c?void 0:c.live_event),live_production_method:null,encoder_type:null,audience_type:dy(c),lead_source:null,event_privacy:fy(c.privacy),live_feature:null,is_guest_speaker:null});case Yb.PRODUCT_ANALYTICS:return this.el({product:"viewer_experience",feature:"player",location:"player",modal_name:null,flow:null,element:null,copy:null,device_type:sy(),is_user_facing_data:null,entity_type:null,cta_location_id:null,scrolling_percentage:null});case Yb.TARGET_TEAM:return this.el({is_team_member:!!u.team_id,team_owner_id:u.team_origin_user_id,team_subscription_type:u.account_type,team_role:uy(s),team_id:u.team_id,team_size:null,resource_permission_level:null,joined_team_at:null});case Yb.USER_FACING_VIDEO_ANALYTICS:const t=l.atid,[e,_]=t.split(".").map(Number);return this.el({session_ts:_,session_id:e,lead_id:this.bpSessionInfo.leadUuid,content_type:this.bpSessionInfo.contentType,is_do_not_track:!!a.dnt,playback_route:"player_embed",is_session_live:null});case Yb.THIRD_PARTY_INTEGRATION:return this.el({is_integration:!1,integration_id:null,integration_type:null,integration_name:null,app_id:null,managed_user_id:null,partner_bucket:null,is_partner:null});default:return{}}},e.sl=function(t,e={}){return Object.assign({},this.ol(t),e)},e.al=function(t,e={}){const n=this.player.config,i=ty[t];return i?i.reduce(((t,i)=>{var r;if(i===Yb.LIVE&&(null==(r=n.video)||!r.live_event_id))return t;const o=this.nl(i),s=e[i]||{},a=this.sl(i,s);return t[i]=new mE.EventContext(i,o,a),t}),{}):{}},e.sendEvent=function(t,e={},n={}){if(!this.player||this.player.doNotTrackEnabled)return;this.tl();const i=this.Qu(t,e),r=this.al(t,n);mE.BigPictureClient.sendEventWithContexts(i,r)},t}();function yE(t){let e,n,i=t.config.ott||{};const o=i.analytics_url||"https://collector.vhx.tv/events.gif",s=new Hb(o),a=_g((function(){c("timeupdate")}),1e4,{leading:!1}),u=_g((function(){c("seeking")}),500);function l(){i=t.config.ott||{},n=!1,e=!1}function c(n,r){(r=Object.assign({},r,{name:i.video_title,user_id:i.viewer_user_id,user_email:i.viewer_user_email,site_id:i.site_id,user_agent:navigator.userAgent,url:top===self?window.location.href:document.referrer,referrer:t.config.request.referrer,session_id:t.config.request.session,device:"html5",device_id:null,collection_id:i.collection_id,product_id:i.product_id,platform:i.platform,platform_id:null,platform_version:i.platform_version},{type:"video",video_id:i.video_id,current_src:t.backbone.currentFile.src,current_subtitle:"none",current_type:i.video_content_type,duration:i.video_duration,is_drm:t.config.request.drm?1:0,is_fullscreen:e?1:0,is_trailer:i.is_trailer?1:0,is_chromecast:Dw.isCastConnected?1:0,is_live:t.config.video.live_event?1:0,seconds:10,timecode:t.currentTime})).name=n,void 0===r.timestamp&&(r.timestamp=Math.round(.001*Date.now()));const a=Qt(o,r);return s.logRequestPromiseWithUrl(a,{},!0,"GET").catch((t=>{}))}function d(){t.events.on(fo.ENDED,h),t.events.on(fo.ERROR,f),t.events.on(fo.PAUSE,p),t.events.on(fo.PLAY,v),t.events.on(fo.TIME_UPDATE,a),t.events.on(fo.SEEKING,u),t.events.on(fo.SEEKED,_),t.events.on(fo.WAITING,m),t.events.on(tp,b),t.events.on(np,y),t.events.on(_v,g),t.events.on(mv,w),t.events.on(bv,T),t.events.on(wv,C),t.events.on(Tv,E)}function h(){a.cancel(),c("ended")}function f(){a.cancel(),c("error")}function p(){a.cancel(),c("pause")}function v(){if(!n)return n=!0,void c("firstplay");c("play")}function _(){u.cancel(),c("seeked")}function m(){c("waiting")}function b(){e=!0}function y(){e=!1}function g(){c(LC.AD_COMPLETE)}function w(){c(LC.AD_CLICKED)}function T(){c(LC.AD_ERROR)}function C(){c(LC.AD_STARTED)}function E(){c(LC.AD_SKIPPED)}t.events.on(Lp,l),l(),t.config.ott?d():new r((e=>{t.ottVideoMetadata?e():t.events.on(Fp,(t=>{e()}))})).then((()=>{i=t.ottVideoMetadata,d()})).catch((t=>{}))}const gE=function(t){return(e,...n)=>(n.forEach((n=>{for(const i in n){const r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,Object.assign(r,t))}})),e)}({enumerable:!0,configurable:!0,writeable:!1}),wE="ad-buffering",TE="ad-complete",CE="ad-click",EE="ad-skipped",kE="all-ads-completed",SE="ad-error",AE="ad-started",NE="ads-manager-loaded",ME="content-pause-requested",OE="content-resume-requested";function IE(t,e){const n=new ri;let i,r,o,s,a,u,l=!1,c=1,d=!1;function h(){return Bt.iOS?e.videoPlayer.videoElement:e.videoPlayer}function f(){s=new u.AdsRequest,e.adUrl&&(s.adTagUrl=e.adUrl),s.linearAdSlotWidth=e.width.linear,s.linearAdSlotHeight=e.height.linear,s.nonLinearAdSlotWidth=e.width.nonlinear,s.nonLinearAdSlotHeight=e.height.nonlinear,s.setAdWillAutoPlay(e.autoplay),s.setAdWillPlayMuted(e.muted),r.requestAds(s)}function p(t){const e=new u.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.uiElements=[],e.enablePreloading=!0,o=t.getAdsManager(h(),e);const i=d&&a?0:1;o.setVolume(i),n.fire(NE),o.addEventListener(u.AdErrorEvent.Type.AD_ERROR,A),o.addEventListener(u.AdEvent.Type.CONTENT_PAUSE_REQUESTED,y),o.addEventListener(u.AdEvent.Type.CONTENT_RESUME_REQUESTED,g),o.addEventListener(u.AdEvent.Type.AD_BUFFERING,w),o.addEventListener(u.AdEvent.Type.STARTED,T),o.addEventListener(u.AdEvent.Type.COMPLETE,C),o.addEventListener(u.AdEvent.Type.CLICK,E),o.addEventListener(u.AdEvent.Type.SKIPPED,k),o.addEventListener(u.AdEvent.Type.ALL_ADS_COMPLETED,S)}function v(){e.videoPlayer.pause(),d=!0,a=!1,f()}function _(){e.videoPlayer.volume=0,e.videoPlayer.muted=!0;const t=e.videoPlayer.play();void 0!==t&&t.then(m).catch(b)}function m(){e.videoPlayer.pause(),d=!0,a=!0,f()}function b(){e.videoPlayer.volume=1,e.videoPlayer.muted=!1,d=!1,a=!1,f()}function y(t){n.fire(ME,t)}function g(t){n.fire(OE,t)}function w(t){n.fire(wE,t)}function T(t){n.fire(AE,t)}function C(t){n.fire(TE,t)}function E(t){o.pause(),n.fire(CE,t)}function k(t){n.fire(EE,t)}function S(t){n.fire(kE,t)}function A(t){n.fire(SE,t.getError()),o&&o.destroy()}const N={isAutoPlayAllowed:()=>d,start:(t,e)=>(l||(i.initialize(),l=!0),o.init(t,e,u.ViewMode.NORMAL),o.start()),stop:()=>o.stop(),pause:()=>o.pause(),play:()=>o.resume(),skip:()=>o.skip(),resize:(t,e,n)=>n?o.resize(t,e,u.ViewMode.FULLSCREEN):o.resize(t,e,u.ViewMode.NORMAL),destroy(){n.off(),o.destroy(),r.destroy(),i.destroy()},get volume(){return pt(o.getVolume())},set volume(t){c=ft(t),o.setVolume(c)},get muted(){return 0===o.getVolume()},set muted(t){t?o.setVolume(0):o.setVolume(c)},get remainingTime(){return o.getRemainingTime()},setContentComplete(){r&&r.contentComplete()},on(t,e){return n.on(t,e),this},off(t,e){return n.off(t,e),this}};return function(t,e,n){if(document.getElementById(t))n&&n();else{const e=document.createElement("script");e.id=t,e.src="https://imasdk.googleapis.com/js/sdkloader/ima3.js",e.onload=()=>{n&&n()},document.getElementsByTagName("body")[0].appendChild(e)}}("vp-ima-sdk",0,(function(){u=google.ima,i=new u.AdDisplayContainer(t,h()),r=new u.AdsLoader(i),r.addEventListener(u.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,p,!1),r.addEventListener(u.AdErrorEvent.Type.AD_ERROR,A,!1),function(){const t=e.videoPlayer.play();void 0!==t&&t.then(v).catch(_)}()})),gE(this,N)}function LE(t,e){const n=new ri;let i,r,o,s,a,u,l,c,d,h;function f(){var e,n;t.events.on(fo.ERROR,k),t.events.on(Lc,S),t.events.on(vo.ACTIVATED,E),i=document.querySelector(`.${X_.ADS_WRAPPER}`),i||(i=document.createElement("div"),i.classList.add(X_.ADS_WRAPPER),i.innerHTML=`\n                <div class="${X_.ADS_TAG} hidden">\n                    <span class="${X_.ADS_COUNTDOWN}"></span>\n                </div>\n            `,document.querySelector(".player").appendChild(i)),r=i.querySelector(`.${X_.ADS_TAG}`),o={adCode:t.config.request.ads.adcode||null,adUnit:t.config.request.ads.adunit||null,adUrl:t.config.request.ads.adurl||null,autoplay:Boolean(null==(e=t.config)||null==(e=e.embed)?void 0:e.autoplay),muted:Boolean(null==(n=t.config)||null==(n=n.embed)?void 0:n.muted),videoPlayer:t.backbone,width:{linear:488,nonlinear:488},height:{linear:252,nonlinear:150}},a=new IE(i,o),a.on(NE,(()=>{a.on(wE,v),a.on(TE,m),a.on(CE,_),a.on(SE,b),a.on(AE,y),a.on(EE,g),a.on(kE,w),a.on(ME,T),a.on(OE,C),t.events.on(fo.ENDED,N),t.store.watch("ui.player.width",x),t.events.on(tp,x,!0),t.events.on(np,x,!1),t.events.fire(gf),a.isAutoPlayAllowed()&&R()}))}function p(){r&&(I(),r=null),a&&(a.destroy(),a=null),l&&(clearInterval(l),l=null),i=null,o={},s=null,u=!1,c=!1,d=!1,h=!1,t.events.off(Lc,S),t.events.off(tp,x),t.events.off(np,x),t.events.off(vo.ACTIVATED,E),t.events.off(fo.ENDED,N),t.events.off(fo.ERROR,k),t.events.off(fo.PLAYING,A),t.store.unwatch("ui.player.width",x)}function v(){c&&t.events.fire(vv)}function _(){t.events.fire(mv)}function m(){Bt.iPhone&&t.backbone.addVideoEventListeners(),l&&clearInterval(l),c=!1,t.events.fire(_v)}function b(e){const n={errorType:e.o,errorReason:e.l};t.events.fire(bv,n),"adPlayError"===n.errorType&&t.events.fire(wf)}function y(e){Bt.iPhone&&t.backbone.removeVideoEventListeners();let n=e.getAd();const r=n.getTraffickingParameters();n.isLinear()&&"0"!==r.ad&&(l=setInterval((()=>{let t="AD "+(t=>{if(t<0)return"00:00";let e=Math.floor(t/60),n=Math.round(t%60);return e=e<10?"0"+e:e,n=n<10?"0"+n:n,e+":"+n})(a.remainingTime);i.querySelector(`.${X_.ADS_COUNTDOWN}`).innerHTML=t}),1e3),setTimeout(O,1e3)),c=!0;let o={type:n.isLinear()?"linear":"nonlinear"};s&&(o.time=Date.now()-s,s=null),t.events.fire(wv,o)}function g(e){t.events.fire(Tv,e)}function w(e){u=!0,Bt.iPhone||p(),t.events.fire(Cv,e)}function T(){t.events.fire(gf),s=Date.now(),h=!0,d||(t.backbone.paused?t.events.once(fo.PLAYING,A):t.backbone.pause())}function C(){I(),t.events.fire(wf),Bt.iPhone&&u&&a.destroy(),d||(t.events.off(fo.PLAYING,A),M())}function E(){p()}function k(t){t&&("NotAllowedError"===t.name||t.name)}function S(){}function A(){t.backbone.pause()}function N(){d=!0,a.setContentComplete()}function M(){h=!1,t.backbone.play()}function O(){r=i.querySelector(`.${X_.ADS_TAG}`),r.classList.remove("hidden"),r.removeAttribute("hidden")}function I(){r.classList.add("hidden"),r.setAttribute("hidden","")}function L(){const t=e.getBoundingClientRect();return{height:t.height,width:t.width}}function R(){const{width:e,height:n}=L();try{a.start(e,n)}catch(e){d&&t.events.fire(_v),h&&M()}}function x(t){const{width:e,height:n}=L();a.resize(e,n,t)}const P={pause:()=>(t.events.fire(yv),a.pause()),play:()=>(t.events.fire(gv),R(),a.play()),get volume(){return a.volume},set volume(t){a.volume=t},get muted(){return a.muted},set muted(t){a.muted=t},events:n};return p(),f(),t.events.on(Lp,(()=>{p(),f()})),P}function RE(t,e,n,i){if(!Ze(t))return t;for(var r=-1,o=(e=On(e,t)).length,s=o-1,a=t;null!=a&&++r<o;){var u=In(e[r]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(r!=s){var c=a[u];void 0===(l=i?i(c,u,a):void 0)&&(l=Ze(c)?c:wi(e[r+1])?[]:{})}li(a,u,l),a=a[u]}return t}function xE(t,e){return null!=t&&e in Object(t)}function PE(t,e){return function(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=Ln(t,s);n(0,s)&&RE(o,On(s,t),a)}return o}(t,e,(function(e,n){return function(t,e){return null!=t&&function(t,e,n){for(var i=-1,r=(e=On(e,t)).length,o=!1;++i<r;){var s=In(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Ti(r)&&wi(s,r)&&(Pe(t)||vi(t))}(t,e,xE)}(t,n)}))}var DE=Ve?Ve.isConcatSpreadable:void 0;function BE(t){return Pe(t)||vi(t)||!!(DE&&t&&t[DE])}function $E(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=BE),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?$E(a,e-1,n,i,r):Ji(r,a):i||(r[r.length]=a)}return r}function VE(t){return null!=t&&t.length?$E(t,1):[]}var jE=function(t){return qr(zr(t,void 0,VE),t+"")}((function(t,e){return null==t?{}:PE(t,e)}));let HE=function(t){return t.MARKER_SEEKED="seeked",t.MARKER_ENDED="ended",t.MARKER_UPSWITCH="upswitch",t.MARKER_DOWNSWITCH="downswitch",t.MARKER_SWITCH_COMPLETE="switchcomplete",t.MARKER_RESIZE="resize",t.MARKER_SCANNER_CHANGE="scannerchange",t.MARKER_FILE_CHANGE="filechange",t.MARKER_STALLED="stalled",t.MARKER_BUFFER_GAP_JUMP="buffergapjump",t.MARKER_BUFFER_GAP_JUMP_PREVENT="buffergapjumpprevent",t.MARKER_STALL_JUMP="stalljump",t}({}),FE=function(t){return t.FIELD_MARKERS="markers",t.FIELD_CLIP_ID="clip_id",t.FIELD_PROFILE_ID="profile_id",t.FIELD_PLAYER_SIZE="player_size",t.FIELD_DROPPED_FRAMES="dropped_frames",t.FIELD_TOTAL_FRAMES="total_frames",t.FIELD_BANDWIDTH="bandwidth",t.FIELD_STREAMS="streams",t.FIELD_FILES="files",t.FIELD_VIDEO_DIMS="video_dims",t.FIELD_MIN_BANDWIDTH="min_bandwidth",t.FIELD_MAX_BANDWIDTH="max_badwidth",t.FIELD_BUFFER_OCCUPANCY="buffer_occupancy",t.FIELD_LIVE_LATENCY="live_latency",t.FIELD_SCANNERS="scanner",t.FIELD_VR_HEADSET="vr_headset",t}({}),UE=function(t){return t.MARKER_SEEKED="#0088cc",t.MARKER_ENDED="#503873",t.MARKER_UPSWITCH="#5a9e02",t.MARKER_DOWNSWITCH="#d93636",t.MARKER_RESIZE="#FF8A00",t.MARKER_SCANNER_CHANGE="#e9ff00",t.MARKER_FILE_CHANGE="#b5d3e2",t.MARKER_STALLED="#f44283",t}({});const zE={[tT.KOLLECTIVE]:"Kollective",[tT.HIVE]:"Hive"},XE=["bandwidthSeriesData"];function GE(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function WE(){}const qE=[LC.VIDEO_PLAYBACK_ERROR,LC.VIDEO_LOAD_FAILURE];let YE=function(){function t(t,e){G(this,"_core",void 0),G(this,"_debugPayloadCollectionPolicy",void 0),G(this,"_seriesStore",void 0),G(this,"_latencyInterval",void 0),this.lu=t,this.ul=e||"none",this.ll={},this.Kn=null,this.cl(),this.dl(),this.hl(),this.fl()}var e=t.prototype;return e.reset=function(){this.cl(),this.fl(),this.lu.events.fire(gp)},e.pl=function(t,e){return Object.assign(this.ll,{[t]:[e]}),this.lu.events.fire(gp),this.ll[t]},e.vl=function(t,e){return this.ll[t].push(e),this.ll[t].length>300&&this.ll[t].splice(0,25),this.lu.events.fire(gp),this.ll[t]},e.getCurrent=function(t){return this.ll[t].slice(-1)[0]},e.getSeries=function(t){return this.ll[t]},e.getDebugPayload=function(){var t,e,n,i,r;const{config:o,backbone:s}=this.lu,{session:a}=o.request,u=this.getCurrent(FE.FIELD_VIDEO_DIMS),l=this.getCurrent(FE.FIELD_TOTAL_FRAMES)||0,c=this.getCurrent(FE.FIELD_DROPPED_FRAMES)||0,d=this.getCurrent(FE.FIELD_FILES),h=this.getCurrent(FE.FIELD_STREAMS),f=this.getCurrent(FE.FIELD_SCANNERS),p=this.getCurrent(FE.FIELD_BANDWIDTH),v=this._l(f),_=f===Mu,m=Xt(s.currentTime,s.buffered),b=s.currentTime+m,y=this.ml(s.buffered),g=s.bufferTarget,w=s.presentationDelay,T=o.embed.dnt||(null==(t=o.request.flags)?void 0:t.dnt),C={isLive:v,isDash:_,embedSize:u,sessionId:a,testGroup:Object.keys(o.request.ab_tests).map((t=>{var e;return`${t}: ${null==(e=o.request.ab_tests[t])?void 0:e.group}`})).join(", "),isDNTEnabled:T,totalFrames:l,droppedFrames:c,bufferTarget:g,presentationDelay:w,ua:null==(e=navigator)?void 0:e.userAgent,clipId:o.video.id,readyState:s.readyState,support:JSON.stringify(Bt),bufferEnd:h_(b,3),bufferAhead:h_(m,3),currentTime:h_(s.currentTime,3),clientIp:null==(n=o.request)||null==(n=n.client)?void 0:n.ip,playerVersion:iT(o),bufferedRanges:JSON.stringify(y),brainDebug:JSON.stringify(s.brainDebug),codec:h?h.codec:null,hideCloseButton:!!o.embed.settings.background,isCopyDisabled:!!T,vrHeadsetName:this.getCurrent(FE.FIELD_VR_HEADSET),droppedFramesPercent:0!==l?`${(c/l*100).toFixed(2)}%`:0,resolution:h?`${h.width}×${h.height}@${Math.round(h.framerate)} ${Math.round(h.avgBitrate/1e3).toLocaleString()} Kbps ${h.audioBitrate?` / ${Math.round(h.audioBitrate/1e3).toLocaleString()} Kbps`:""}`:null,payloadId:`${o.video.owner.id}_${o.video.id}_${o.request.session}_${Math.floor(Date.now()/1e3)}`,bandwidthKbps:p?`${Math.floor(p.value/1e3).toLocaleString()} Kbps`:0,bandwidthMinKbps:`${Math.floor(this.getCurrent(FE.FIELD_MIN_BANDWIDTH)/1e3).toLocaleString()} Kbps`,bandwidthMaxKbps:`${Math.floor(this.getCurrent(FE.FIELD_MAX_BANDWIDTH)/1e3).toLocaleString()} Kbps`,separateAudioVideo:!(null==(i=o.request.files)||!i.dash||!o.request.files.dash.separate_av),bandwidthSeriesData:this.bl()};null!=h&&h.audioChannels&&(C.resolution+=h.ambisonicConnected&&h.ambisonicOrder?` ambisonic ${h.ambisonicOrder} (${h.audioChannels}ch)`:` ${h.audioChannels}ch`),d&&(C.delivery=d.mime);const E=null==(r=o.video.ecdn)?void 0:r.ecdn_provider;if(E){const{ecdnBytesByCdn:t,ecdnBytesPeered:e,ecdnPeers:n}=yy(E),i={p2pSources:n.toString(),p2pOffload:`${this.yl(e,t)}%`,ecdnVendor:zE[E]};Object.assign(C,i)}return v&&Object.assign(C,this.gl()),C},e.sendDebugPayload=function(){try{const t=this,e=t.lu.config,{signature:n,expires:i,timestamp:r,session:o}=e.request,{id:s,owner:a}=e.video,u=`/debug_payload/${s}/${a.id}_${s}_${o}_${Math.floor(Date.now()/1e3)}?s=${n}&expires=${i}&time=${r}`,l=`https://${e.player_url}${u}`,c=t.getDebugPayload(),{bandwidthSeriesData:d}=c,h={version:2,tpl:J(c,XE),mark:d.debugMarkers};return GE(Ne({url:l,method:"post",json:h,timeout:1e4}).json())}catch(t){return r.reject(t)}},e.wl=function(t={}){const e=t.name,n=zd({},t.data),i=this.Tl(e,n);this.Cl(e,e,i),this.El(e)},e.El=function(t){try{const e=this;if(!e.ul)return GE();const n="on_error"===e.ul&&qE.includes(t);return GE(function(){var t=function(){if(n)return function(t){if(t&&t.then)return t.then(WE)}(function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return function(t){if(!void 0)return t&&t.then?t.then(WE):r.resolve()}(e.sendDebugPayload())}),(function(t){})))}();if(t&&t.then)return t.then(WE)}())}catch(t){return r.reject(t)}},e.Tl=function(t,e){let n;if(t===LC.CHUNK_DOWNLOADED){let t="number"==typeof e.duration?e.duration:0,i="number"==typeof e.buffered?e.buffered:0,r="number"==typeof e.ttfb?e.ttfb:0;return n={},n.host=e.host,n.duration=h_(t,2),n.size=e.size,n.index=e.index,n.profile_id=e.profile_id,n.quality=e.quality,n.buffered=h_(i,2),n.ttfb=h_(r,2),n.extraContext=e.extraContext,n.headers=jE(e.headers,["x_cache","akamai_request_bc","akamai_grn","content_type"]),n.cache_hit=vy(n.headers),n}return t===LC.VIDEO_PLAYBACK_ERROR||t===LC.VIDEO_LOAD_FAILURE||t===LC.VIDEO_START_FAILURE||t===LC.VIDEO_READY?e:t===LC.DRM_KEY_SWITCH?{cdn:e.cdn,quality:e.quality,drm_cdm:e.drm_cdm,drm_mode:e.drm_mode}:void 0!==e.autoplay&&void 0!==e.looping?(n={},n.cdn=e.cdn,n.quality=e.quality,void 0!==e.reason&&(n.reason=e.reason),n):e},e.Cl=function(t,e,n={}){const i=this.lu.backbone.currentTime,r=Date.now(),o=h_(zt(i,this.lu.backbone.buffered),2);this.vl(FE.FIELD_MARKERS,{type:t,title:e,vt:i,t:r,bt:o,data:n})},e.dl=function(){this.lu.events.on(Lp,(()=>{this.reset()})),this.lu.events.on(mo.BANDWIDTH,this.kl.bind(this)),this.lu.events.on(mo.BUFFER_OCCUPANCY,this.Sl.bind(this)),this.lu.events.on(mo.CURRENT_FILE_CHANGE,this.Al.bind(this)),this.lu.events.on(mo.DROPPED_FRAMES,this.Nl.bind(this)),this.lu.events.on(mo.SCANNER_CHANGE,this.Ml.bind(this)),this.lu.events.on(mo.STREAM_CHANGE,this.Ol.bind(this)),this.lu.events.on(mo.STREAM_CHANGE_START,this.Il.bind(this)),this.lu.events.on(fo.TIME_UPDATE,this.Ll.bind(this)),this.lu.events.on(yo.WEBVR_HARDWARE_AVAILABLE,this.Rl.bind(this)),this.lu.events.on(Ev,this.wl.bind(this)),this.lu.events.on(nd.BUFFER_GAP_JUMP_PREVENT,this.Pl.bind(this)),this.lu.events.on(nd.BUFFER_GAP_JUMP,this.Dl.bind(this)),this.lu.events.on(nd.STALL_JUMP,this.Bl.bind(this))},e._l=function(t){return[Au,Nu].includes(t)},e.Rl=function(t){t.displayName&&this.pl(FE.FIELD_VR_HEADSET,t.displayName)},e.$l=function(){this.Kn=setInterval((()=>{const t=this.lu.backbone.buffered,e=this.lu.backbone.videoElement;if(t&&t.length&&e&&e.currentTime){const t=this.lu.backbone.latency;this.pl(FE.FIELD_LIVE_LATENCY,t)}else this.pl(FE.FIELD_LIVE_LATENCY,0)}),500)},e.Vl=function(){clearInterval(this.Kn)},e.hl=function(){this.lu.store.watch("ui.player.boundingRect",(t=>{const e=this.getCurrent(FE.FIELD_VIDEO_DIMS),n=this.jl(t);this.vl(FE.FIELD_VIDEO_DIMS,n);const i=e?`Resized from ${e} to ${n}`:`Resized to ${n}`;this.Cl(HE.MARKER_RESIZE,i)}))},e.jl=function(t){const e=`${Math.round(t.width)}px`,n=`${Math.round(t.height)}px`,i=window.devicePixelRatio&&window.devicePixelRatio>1?`@${h_(window.devicePixelRatio,3)}x`:"";return e&&n?`${parseInt(e,10)}×${parseInt(n,10)} ${i}`:""},e.cl=function(){this.ll=Object.values(FE).reduce(((t,e)=>(t[e]=[],t)),{})},e.fl=function(){const t=this.lu.backbone.currentFile,e=this.lu.backbone.currentScannerName;this.vl(FE.FIELD_FILES,t),this.vl(FE.FIELD_SCANNERS,e),this._l(e)&&this.$l(),this.pl(FE.FIELD_MIN_BANDWIDTH,0),this.pl(FE.FIELD_MAX_BANDWIDTH,0);const n=this.lu.store.get("ui.player.boundingRect"),i=this.jl(n);this.vl(FE.FIELD_VIDEO_DIMS,i)},e.kl=function(t){const e=Math.round(100*t.speed)/100;this.vl(FE.FIELD_BANDWIDTH,{videoTime:this.lu.backbone.currentTime,time:Date.now(),value:e});let n=this.getCurrent(FE.FIELD_MAX_BANDWIDTH),i=this.getCurrent(FE.FIELD_MIN_BANDWIDTH);(!i||e<i)&&this.pl(FE.FIELD_MIN_BANDWIDTH,e),(!n||e>n)&&this.pl(FE.FIELD_MAX_BANDWIDTH,e)},e.Nl=function(t){const{dropped:e,total:n}=t;this.pl(FE.FIELD_TOTAL_FRAMES,n),this.pl(FE.FIELD_DROPPED_FRAMES,e)},e.Jo=function(){this.Cl(HE.MARKER_SEEKED,`Seeked to ${this.lu.backbone.currentTime}`)},e.Hl=function(){this.Cl(HE.MARKER_ENDED,"Ended")},e.Il=function({previousStreamIndex:t,index:e,streams:n}){const i=n[e],r=n[t],o=r?r.bitrate:null;if(o!==i.bitrate&&null!==o){const t=this.Fl(r),e=this.Fl(i);i.bitrate<o?this.Cl(HE.MARKER_DOWNSWITCH,`Starting Downswitch from ${t} to ${e}`):i.bitrate>o&&this.Cl(HE.MARKER_UPSWITCH,`Starting Upswitch from ${t} to ${e}`)}},e.Ol=function(t,e,n){var i,r;const o=n[e],s=this.Fl(o),a=RC(o.codecs),u=null==(i=this.lu.backbone)||null==i.getCurrentStream?void 0:i.getCurrentStream("audio"),l=xC(null==u?void 0:u.codecs),c=`${a}${l?` / ${l}`:""}`,d=null==(r=this.lu.backbone)?void 0:r.telecine.getEffectByName("AmbisonicEffect");this.Cl(HE.MARKER_SWITCH_COMPLETE,`Completed switch to ${s}`),this.vl(FE.FIELD_STREAMS,{profile:void 0!==t?t.profile:null,quality:void 0!==t?t.quality:`${o.height}p`,avgBitrate:o.avg_bitrate,ambisonicConnected:null==d?void 0:d.connected,ambisonicOrder:null==u?void 0:u.ambisonic_order,audioBitrate:null==u?void 0:u.avg_bitrate,audioChannels:(null==u?void 0:u.channels)??o.channels??void 0,framerate:o.framerate,height:o.height,width:o.width,id:o.id,codec:c})},e.Al=function(){const t=this.getCurrent(FE.FIELD_FILES),e=this.lu.backbone.currentFile;this.vl(FE.FIELD_FILES,e);const n=e.metadata.cdn,i=t?t.metadata.cdn:null,r=t?C_[t.mime]:null,o=C_[e.mime];let s=`CDN to ${n}/${o}`;i&&(s=`CDN from ${i}/${r} to ${n}/${o}`),this.Cl(HE.MARKER_FILE_CHANGE,s)},e.Sl=function(t){const e=Math.round(1e3*t)/1e3;this.vl(FE.FIELD_BUFFER_OCCUPANCY,{videoTime:this.lu.backbone.currentTime,time:Date.now(),value:e})},e.Ml=function(){const t=this.getCurrent(FE.FIELD_SCANNERS),e=this.lu.backbone.currentScannerName;this.pl(FE.FIELD_SCANNERS,e),t&&this.Cl(HE.MARKER_SCANNER_CHANGE,`Scanner change to ${e}`),this._l(e)?this.$l():this.Vl()},e.Dl=function(t){this.Cl(HE.MARKER_BUFFER_GAP_JUMP,t.msg)},e.Pl=function(t){this.Cl(HE.MARKER_BUFFER_GAP_JUMP_PREVENT,t.msg)},e.Bl=function(t){this.Cl(HE.MARKER_STALL_JUMP,t.msg)},e.Ul=function(){this.Cl(HE.MARKER_STALLED,"Stalled")},e.Fl=function(t){return`${t.width}×${t.height}@${Math.round(t.framerate)} ${Math.round(t.bitrate/1e3).toLocaleString()} Kbps`},e.Ll=function(){this.lu.events.fire(gp)},e.ml=function(t){if(!t)return null;const e=t.length;let n=0,i=[];for(;n<e;n++){const e=t.start(n),r=t.end(n);i.push({i:n,start:e,end:r})}return i},e.yl=function(t,e){return 0===t&&0===e?0:h_(t/(e+t)*100,1)},e.gl=function(){var t;const e=(null==(t=this.lu.config.video.live_event)?void 0:t.id)||null;let n="";try{n=`${(this.getCurrent(FE.FIELD_LIVE_LATENCY)??0).toFixed(2)}`}catch(t){}return{liveLatency:n,liveSessionID:e}},e.bl=function(){const t=this.getSeries(FE.FIELD_BANDWIDTH)||[],e=this.getCurrent(FE.FIELD_MAX_BANDWIDTH)||1;return{debugMarkers:this.getSeries(FE.FIELD_MARKERS)||[],timeSeries:t,max:e}},t}(),KE=function(){function t(t){this.su=t,this.zl=null,this.dl()}var e=t.prototype;return e.dl=function(){this.vu=()=>this.reset(),this.su.events.on(xh,this.vu)},e.Xl=function(){this.su.events.off(xh,this.vu)},e.hibernate=function(){this.Xl()},e.wake=function(){this.dl()},e.Gl=function(t,e,n){if(ld(n))return{startTime:0,endTime:e,duration:e};const i=1e3*t,r=n.findIndex(((t,e)=>{const r=n[e+1],o=e===n.length-1;return t<=i&&(i<r||o)})),o=r===n.length-1,s=n[r]/1e3,a=n[r+1],u=o?e:(a-1)/1e3;return{startTime:s,endTime:u,duration:u-s}},e.Wl=function({currentTime:t,duration:e}){this.checkForNewFragment(t,e)},e.checkForNewFragment=function(t,e){if(!(this.zl&&this.zl.startTime<=t&&t<=this.zl.endTime)){var n;const i=null==(n=this.su.config.embed.interactive)?void 0:n.fragments;this.zl=this.Gl(t,e,i),this.su.events.fire(Lf)}},e.reset=function(){var t;this.zl=null,this.su.events.off(fo.TIME_UPDATE,this.Wl.bind(this));const e=this.su.config.video.duration;!ld(null==(t=this.su.config.embed.interactive)?void 0:t.fragments)&&(this.checkForNewFragment(0,e),this.su.events.on(fo.TIME_UPDATE,this.Wl.bind(this)))},e.getFragmentFromTime=function(t){var e;const n=null==(e=this.su.config.embed.interactive)?void 0:e.fragments,i=this.su.config.video.duration;return this.Gl(t,i,n)},X(t,[{key:"firstFragmentDuration",get:function(){var t;const e=null==(t=this.su.config.embed.interactive)?void 0:t.fragments;return!ld(e)&&e.length>1?(e[1]-1)/1e3:this.su.config.video.duration}},{key:"currentFragment",get:function(){var t;return ld(null==(t=this.su.config.embed.interactive)?void 0:t.fragments)?{startTime:0,endTime:this.su.config.video.duration,duration:this.su.config.video.duration}:this.zl}}])}();var ZE,QE,JE,tk,ek=function(t,e){return{name:t,value:void 0===e?-1:e,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},nk=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},ik=function(t,e){var n=function n(i){"pagehide"!==i.type&&"hidden"!==document.visibilityState||(t(i),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},rk=function(t){addEventListener("pageshow",(function(e){e.persisted&&t(e)}),!0)},ok=function(t,e,n){var i;return function(r){e.value>=0&&(r||n)&&(e.delta=e.value-(i||0),(e.delta||void 0===i)&&(i=e.value,t(e)))}},sk=-1,ak=function(){return"hidden"===document.visibilityState?0:1/0},uk=function(){ik((function(t){var e=t.timeStamp;sk=e}),!0)},lk=function(){return sk<0&&(sk=ak(),uk(),rk((function(){setTimeout((function(){sk=ak(),uk()}),0)}))),{get firstHiddenTime(){return sk}}},ck=function(t,e){var n,i=lk(),r=ek("FCP"),o=function(t){"first-contentful-paint"===t.name&&(a&&a.disconnect(),t.startTime<i.firstHiddenTime&&(r.value=t.startTime,r.entries.push(t),n(!0)))},s=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],a=s?null:nk("paint",o);(s||a)&&(n=ok(t,r,e),s&&o(s),rk((function(i){r=ek("FCP"),n=ok(t,r,e),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,n(!0)}))}))})))},dk=!1,hk=-1,fk={passive:!0,capture:!0},pk=new Date,vk=function(t,e){ZE||(ZE=e,QE=t,JE=new Date,bk(removeEventListener),_k())},_k=function(){if(QE>=0&&QE<JE-pk){var t={entryType:"first-input",name:ZE.type,target:ZE.target,cancelable:ZE.cancelable,startTime:ZE.timeStamp,processingStart:ZE.timeStamp+QE};tk.forEach((function(e){e(t)})),tk=[]}},mk=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,e){var n=function(){vk(t,e),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,fk),removeEventListener("pointercancel",i,fk)};addEventListener("pointerup",n,fk),addEventListener("pointercancel",i,fk)}(e,t):vk(e,t)}},bk=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(e){return t(e,mk,fk)}))},yk={},gk=function(t){return t.FIRST_INPUT_DELAY="firstInputDelay",t.CUMULATIVE_LAYOUT_SHIFT="cumulativeLayoutShift",t.LARGEST_CONTENTFUL_PAINT="largestContentfulPaint",t}(gk||{});const wk=4e-4/Object.keys(gk).length,Tk={};var Ck,Ek,kk,Sk,Ak,Nk,Mk,Ok={},Ik=[],Lk=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Rk(t,e){for(var n in e)t[n]=e[n];return t}function xk(t){var e=t.parentNode;e&&e.removeChild(t)}function Pk(t,e,n){var i,r,o,s={};for(o in e)"key"==o?i=e[o]:"ref"==o?r=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?Ck.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===s[o]&&(s[o]=t.defaultProps[o]);return Dk(t,s,i,r,null)}function Dk(t,e,n,i,r){var o={type:t,props:e,key:n,ref:i,ql:null,Yl:null,Kl:0,Zl:null,Ql:void 0,Jl:null,tc:null,constructor:void 0,ec:null==r?++kk:r};return null==r&&null!=Ek.vnode&&Ek.vnode(o),o}function Bk(t){return t.children}function $k(t,e){this.props=t,this.context=e}function Vk(t,e){if(null==e)return t.Yl?Vk(t.Yl,t.Yl.ql.indexOf(t)+1):null;for(var n;e<t.ql.length;e++)if(null!=(n=t.ql[e])&&null!=n.Zl)return n.Zl;return"function"==typeof t.type?Vk(t):null}function jk(t){var e,n;if(null!=(t=t.Yl)&&null!=t.Jl){for(t.Zl=t.Jl.base=null,e=0;e<t.ql.length;e++)if(null!=(n=t.ql[e])&&null!=n.Zl){t.Zl=t.Jl.base=n.Zl;break}return jk(t)}}function Hk(t){(!t.Ql&&(t.Ql=!0)&&Sk.push(t)&&!Fk.nc++||Nk!==Ek.debounceRendering)&&((Nk=Ek.debounceRendering)||Ak)(Fk)}function Fk(){for(var t;Fk.nc=Sk.length;)t=Sk.sort((function(t,e){return t.ec.Kl-e.ec.Kl})),Sk=[],t.some((function(t){var e,n,i,r,o,s;t.Ql&&(o=(r=(e=t).ec).Zl,(s=e.rc)&&(n=[],(i=Rk({},r)).ec=r.ec+1,Zk(s,r,i,e.oc,void 0!==s.ownerSVGElement,null!=r.tc?[o]:null,n,null==o?Vk(r):o,r.tc),Qk(n,r),r.Zl!=o&&jk(r)))}))}function Uk(t,e,n,i,r,o,s,a,u,l){var c,d,h,f,p,v,_,m=i&&i.ql||Ik,b=m.length;for(n.ql=[],c=0;c<e.length;c++)if(null!=(f=n.ql[c]=null==(f=e[c])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?Dk(null,f,null,null,f):Array.isArray(f)?Dk(Bk,{children:f},null,null,null):f.Kl>0?Dk(f.type,f.props,f.key,null,f.ec):f)){if(f.Yl=n,f.Kl=n.Kl+1,null===(h=m[c])||h&&f.key==h.key&&f.type===h.type)m[c]=void 0;else for(d=0;d<b;d++){if((h=m[d])&&f.key==h.key&&f.type===h.type){m[d]=void 0;break}h=null}Zk(t,f,h=h||Ok,r,o,s,a,u,l),p=f.Zl,(d=f.ref)&&h.ref!=d&&(_||(_=[]),h.ref&&_.push(h.ref,null,f),_.push(d,f.Jl||p,f)),null!=p?(null==v&&(v=p),"function"==typeof f.type&&f.ql===h.ql?f.Ql=u=zk(f,u,t):u=Gk(t,f,h,m,p,u),"function"==typeof n.type&&(n.Ql=u)):u&&h.Zl==u&&u.parentNode!=t&&(u=Vk(h))}for(n.Zl=v,c=b;c--;)null!=m[c]&&("function"==typeof n.type&&null!=m[c].Zl&&m[c].Zl==n.Ql&&(n.Ql=Vk(i,c+1)),eS(m[c],m[c]));if(_)for(c=0;c<_.length;c++)tS(_[c],_[++c],_[++c])}function zk(t,e,n){for(var i,r=t.ql,o=0;r&&o<r.length;o++)(i=r[o])&&(i.Yl=t,e="function"==typeof i.type?zk(i,e,n):Gk(n,i,i,r,i.Zl,e));return e}function Xk(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){Xk(t,e)})):e.push(t)),e}function Gk(t,e,n,i,r,o){var s,a,u;if(void 0!==e.Ql)s=e.Ql,e.Ql=void 0;else if(null==n||r!=o||null==r.parentNode)t:if(null==o||o.parentNode!==t)t.appendChild(r),s=null;else{for(a=o,u=0;(a=a.nextSibling)&&u<i.length;u+=2)if(a==r)break t;t.insertBefore(r,o),s=o}return void 0!==s?s:r.nextSibling}function Wk(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||Lk.test(e)?n:n+"px"}function qk(t,e,n,i,r){var o;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof i&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||Wk(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||Wk(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?i||t.addEventListener(e,o?Kk:Yk,o):t.removeEventListener(e,o?Kk:Yk,o);else if("dangerouslySetInnerHTML"!==e){if(r)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function Yk(t){this.l[t.type+!1](Ek.event?Ek.event(t):t)}function Kk(t){this.l[t.type+!0](Ek.event?Ek.event(t):t)}function Zk(t,e,n,i,r,o,s,a,u){var l,c,d,h,f,p,v,_,m,b,y,g=e.type;if(void 0!==e.constructor)return null;null!=n.tc&&(u=n.tc,a=e.Zl=n.Zl,e.tc=null,o=[a]),(l=Ek.Kl)&&l(e);try{t:if("function"==typeof g){if(_=e.props,m=(l=g.contextType)&&i[l.Jl],b=l?m?m.props.value:l.Yl:i,n.Jl?v=(c=e.Jl=n.Jl).Yl=c.sc:("prototype"in g&&g.prototype.render?e.Jl=c=new g(_,b):(e.Jl=c=new $k(_,b),c.constructor=g,c.render=nS),m&&m.sub(c),c.props=_,c.state||(c.state={}),c.context=b,c.oc=i,d=c.Ql=!0,c.tc=[]),null==c.ac&&(c.ac=c.state),null!=g.getDerivedStateFromProps&&(c.ac==c.state&&(c.ac=Rk({},c.ac)),Rk(c.ac,g.getDerivedStateFromProps(_,c.ac))),h=c.props,f=c.state,d)null==g.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.tc.push(c.componentDidMount);else{if(null==g.getDerivedStateFromProps&&_!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(_,b),!c.Zl&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(_,c.ac,b)||e.ec===n.ec){c.props=_,c.state=c.ac,e.ec!==n.ec&&(c.Ql=!1),c.ec=e,e.Zl=n.Zl,e.ql=n.ql,e.ql.forEach((function(t){t&&(t.Yl=e)})),c.tc.length&&s.push(c);break t}null!=c.componentWillUpdate&&c.componentWillUpdate(_,c.ac,b),null!=c.componentDidUpdate&&c.tc.push((function(){c.componentDidUpdate(h,f,p)}))}c.context=b,c.props=_,c.state=c.ac,(l=Ek.nc)&&l(e),c.Ql=!1,c.ec=e,c.rc=t,l=c.render(c.props,c.state,c.context),c.state=c.ac,null!=c.getChildContext&&(i=Rk(Rk({},i),c.getChildContext())),d||null==c.getSnapshotBeforeUpdate||(p=c.getSnapshotBeforeUpdate(h,f)),y=null!=l&&l.type===Bk&&null==l.key?l.props.children:l,Uk(t,Array.isArray(y)?y:[y],e,n,i,r,o,s,a,u),c.base=e.Zl,e.tc=null,c.tc.length&&s.push(c),v&&(c.sc=c.Yl=null),c.Zl=!1}else null==o&&e.ec===n.ec?(e.ql=n.ql,e.Zl=n.Zl):e.Zl=Jk(n.Zl,e,n,i,r,o,s,u);(l=Ek.diffed)&&l(e)}catch(t){e.ec=null,(u||null!=o)&&(e.Zl=a,e.tc=!!u,o[o.indexOf(a)]=null),Ek.Zl(t,e,n)}}function Qk(t,e){Ek.Jl&&Ek.Jl(e,t),t.some((function(e){try{t=e.tc,e.tc=[],t.some((function(t){t.call(e)}))}catch(t){Ek.Zl(t,e.ec)}}))}function Jk(t,e,n,i,r,o,s,a){var u,l,c,d=n.props,h=e.props,f=e.type,p=0;if("svg"===f&&(r=!0),null!=o)for(;p<o.length;p++)if((u=o[p])&&"setAttribute"in u==!!f&&(f?u.localName===f:3===u.nodeType)){t=u,o[p]=null;break}if(null==t){if(null===f)return document.createTextNode(h);t=r?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),o=null,a=!1}if(null===f)d===h||a&&t.data===h||(t.data=h);else{if(o=o&&Ck.call(t.childNodes),l=(d=n.props||Ok).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!a){if(null!=o)for(d={},p=0;p<t.attributes.length;p++)d[t.attributes[p].name]=t.attributes[p].value;(c||l)&&(c&&(l&&c.uc==l.uc||c.uc===t.innerHTML)||(t.innerHTML=c&&c.uc||""))}if(function(t,e,n,i,r){var o;for(o in n)"children"===o||"key"===o||o in e||qk(t,o,null,n[o],i);for(o in e)r&&"function"!=typeof e[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===e[o]||qk(t,o,e[o],n[o],i)}(t,h,d,r,a),c)e.ql=[];else if(p=e.props.children,Uk(t,Array.isArray(p)?p:[p],e,n,i,r&&"foreignObject"!==f,o,s,o?o[0]:n.ql&&Vk(n,0),a),null!=o)for(p=o.length;p--;)null!=o[p]&&xk(o[p]);a||("value"in h&&void 0!==(p=h.value)&&(p!==t.value||"progress"===f&&!p||"option"===f&&p!==d.value)&&qk(t,"value",p,d.value,!1),"checked"in h&&void 0!==(p=h.checked)&&p!==t.checked&&qk(t,"checked",p,d.checked,!1))}return t}function tS(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){Ek.Zl(t,n)}}function eS(t,e,n){var i,r;if(Ek.unmount&&Ek.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.Zl||tS(i,null,e)),null!=(i=t.Jl)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(t){Ek.Zl(t,e)}i.base=i.rc=null}if(i=t.ql)for(r=0;r<i.length;r++)i[r]&&eS(i[r],e,"function"!=typeof t.type);n||null==t.Zl||xk(t.Zl),t.Zl=t.Ql=void 0}function nS(t,e,n){return this.constructor(t,n)}function iS(t,e,n){var i,r,o;Ek.Yl&&Ek.Yl(t,e),r=(i="function"==typeof n)?null:n&&n.ql||e.ql,o=[],Zk(e,t=(!i&&n||e).ql=Pk(Bk,null,[t]),r||Ok,Ok,void 0!==e.ownerSVGElement,!i&&n?[n]:r?null:e.firstChild?Ck.call(e.childNodes):null,o,!i&&n?n:r?r.Zl:e.firstChild,i),Qk(o,t)}function rS(t,e){iS(t,e,rS)}function oS(t,e,n){var i,r,o,s=Rk({},t.props);for(o in e)"key"==o?i=e[o]:"ref"==o?r=e[o]:s[o]=e[o];return arguments.length>2&&(s.children=arguments.length>3?Ck.call(arguments,2):n),Dk(t.type,s,i||t.key,r||t.ref,null)}function sS(t,e){var n={Jl:e="__cC"+Mk++,Yl:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,i;return this.getChildContext||(n=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(Hk)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.Yl=n.Consumer.contextType=n}Ck=Ik.slice,Ek={Zl:function(t,e){for(var n,i,r;e=e.Yl;)if((n=e.Jl)&&!n.Yl)try{if((i=n.constructor)&&null!=i.getDerivedStateFromError&&(n.setState(i.getDerivedStateFromError(t)),r=n.Ql),null!=n.componentDidCatch&&(n.componentDidCatch(t),r=n.Ql),r)return n.sc=n}catch(e){t=e}throw t}},kk=0,$k.prototype.setState=function(t,e){var n;n=null!=this.ac&&this.ac!==this.state?this.ac:this.ac=Rk({},this.state),"function"==typeof t&&(t=t(Rk({},n),this.props)),t&&Rk(n,t),null!=t&&this.ec&&(e&&this.tc.push(e),Hk(this))},$k.prototype.forceUpdate=function(t){this.ec&&(this.Zl=!0,t&&this.tc.push(t),Hk(this))},$k.prototype.render=Bk,Sk=[],Ak="function"==typeof r?r.prototype.then.bind(r.resolve()):setTimeout,Fk.nc=0,Mk=0;var aS,uS,lS,cS=0,dS=[],hS=Ek.Kl,fS=Ek.nc,pS=Ek.diffed,vS=Ek.Jl,_S=Ek.unmount;function mS(t,e){Ek.tc&&Ek.tc(uS,t,cS||e),cS=0;var n=uS.lc||(uS.lc={Yl:[],tc:[]});return t>=n.Yl.length&&n.Yl.push({}),n.Yl[t]}function bS(t){return cS=1,yS(LS,t)}function yS(t,e,n){var i=mS(aS++,2);return i.t=t,i.Jl||(i.Yl=[n?n(e):LS(void 0,e),function(t){var e=i.t(i.Yl[0],t);i.Yl[0]!==e&&(i.Yl=[e,i.Yl[1]],i.Jl.setState({}))}],i.Jl=uS),i.Yl}function gS(t,e){var n=mS(aS++,3);!Ek.ac&&IS(n.lc,e)&&(n.Yl=t,n.lc=e,uS.lc.tc.push(n))}function wS(t,e){var n=mS(aS++,4);!Ek.ac&&IS(n.lc,e)&&(n.Yl=t,n.lc=e,uS.tc.push(n))}function TS(t){return cS=5,CS((function(){return{current:t}}),[])}function CS(t,e){var n=mS(aS++,7);return IS(n.lc,e)&&(n.Yl=t(),n.lc=e,n.tc=t),n.Yl}function ES(t,e){return cS=8,CS((function(){return t}),e)}function kS(t){var e=uS.context[t.Jl],n=mS(aS++,9);return n.c=t,e?(null==n.Yl&&(n.Yl=!0,e.sub(uS)),e.props.value):t.Yl}function SS(t,e){Ek.useDebugValue&&Ek.useDebugValue(e?e(t):t)}function AS(){for(var t;t=dS.shift();)if(t.rc)try{t.lc.tc.forEach(MS),t.lc.tc.forEach(OS),t.lc.tc=[]}catch(e){t.lc.tc=[],Ek.Zl(e,t.ec)}}Ek.Kl=function(t){uS=null,hS&&hS(t)},Ek.nc=function(t){fS&&fS(t),aS=0;var e=(uS=t.Jl).lc;e&&(e.tc.forEach(MS),e.tc.forEach(OS),e.tc=[])},Ek.diffed=function(t){pS&&pS(t);var e=t.Jl;e&&e.lc&&e.lc.tc.length&&(1!==dS.push(e)&&lS===Ek.requestAnimationFrame||((lS=Ek.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(i),NS&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);NS&&(e=requestAnimationFrame(n))})(AS)),uS=null},Ek.Jl=function(t,e){e.some((function(t){try{t.tc.forEach(MS),t.tc=t.tc.filter((function(t){return!t.Yl||OS(t)}))}catch(n){e.some((function(t){t.tc&&(t.tc=[])})),e=[],Ek.Zl(n,t.ec)}})),vS&&vS(t,e)},Ek.unmount=function(t){_S&&_S(t);var e,n=t.Jl;n&&n.lc&&(n.lc.Yl.forEach((function(t){try{MS(t)}catch(t){e=t}})),e&&Ek.Zl(e,n.ec))};var NS="function"==typeof requestAnimationFrame;function MS(t){var e=uS,n=t.Jl;"function"==typeof n&&(t.Jl=void 0,n()),uS=e}function OS(t){var e=uS;t.Jl=t.Yl(),uS=e}function IS(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function LS(t,e){return"function"==typeof e?e(t):e}function RS(){return RS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},RS.apply(this,arguments)}function xS(t,e){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xS(t,e)}var PS,DS,BS,$S=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,xS(e,n);var r=i.prototype;return r.componentDidMount=function(){this.props.nodeRef.current=this.base},r.componentWillUnmount=function(){this.props.nodeRef.current=void 0},r.render=function(){return Pk(Bk,{},this.props.children)},i}($k);!function(t){t.APPEAR="appear",t.APPEAR_ACTIVE="appearActive",t.APPEAR_DONE="appearDone",t.ENTER="enter",t.ENTER_ACTIVE="enterActive",t.ENTER_DONE="enterDone",t.EXIT="exit",t.EXIT_ACTIVE="exitActive",t.EXIT_DONE="exitDone"}(DS||(DS={})),function(t){t.ENTER="onEnter",t.ENTERING="onEntering",t.ENTERED="onEntered",t.EXIT="onExit",t.EXITING="onExiting",t.EXITED="onExited"}(BS||(BS={}));var VS=((PS={})[DS.APPEAR]=[BS.ENTER,DS.APPEAR_ACTIVE],PS[DS.APPEAR_ACTIVE]=[BS.ENTERING,DS.APPEAR_DONE,!0],PS[DS.APPEAR_DONE]=[BS.ENTERED],PS[DS.ENTER]=[BS.ENTER,DS.ENTER_ACTIVE],PS[DS.ENTER_ACTIVE]=[BS.ENTERING,DS.ENTER_DONE,!0],PS[DS.ENTER_DONE]=[BS.ENTERED],PS[DS.EXIT]=[BS.EXIT,DS.EXIT_ACTIVE],PS[DS.EXIT_ACTIVE]=[BS.EXITING,DS.EXIT_DONE,!0],PS[DS.EXIT_DONE]=[BS.EXITED],PS);function jS(t){var e=t.children,n=t.in,i=void 0!==n&&n,r=t.appear,o=void 0!==r&&r,s=t.enter,a=void 0===s||s,u=t.exit,l=void 0===u||u,c=t.duration,d=void 0===c?500:c,h=t.alwaysMounted,f=void 0!==h&&h,p=t.addEndListener,v=TS(),_=TS(),m=!1,b=bS((function(){return m=!0,i?o?DS.APPEAR:DS.APPEAR_DONE:DS.EXIT_DONE})),y=b[0],g=b[1];gS((function(){var e=window,n=e.setTimeout,i=e.clearTimeout,r=VS[y],o=r[1],s=r[2],a=t[r[0]];return null==a||a(v.current),o&&(s?p?p(v.current,(function(){return g(o)})):_.current=n(g,d,o):g(o)),function(){i(_.current)}}),[y,d]),wS((function(){m||g(i?a?DS.ENTER:DS.ENTER_DONE:l?DS.EXIT:DS.EXIT_DONE)}),[i]);var w=CS((function(){var t={};return Object.keys(VS).forEach((function(e){t[e]=y===e})),t}),[y]);return f||(l?y!==DS.EXIT_DONE:i)?Pk($S,{nodeRef:v,children:e(w,y)}):null}var HS,FS=["children","styles"];function US(t){var e=t.children,n=t.styles,i=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)e.indexOf(n=o[i])>=0||(r[n]=t[n]);return r}(t,FS);return Pk(jS,i,(function(t,i){var r=e.props.style,o=CS((function(){return RS({},function(t,e){var n=e[t];switch(t){case DS.APPEAR_ACTIVE:return RS({},e[DS.APPEAR],n);case DS.ENTER_ACTIVE:return RS({},e[DS.ENTER],n);case DS.EXIT_ACTIVE:return RS({},e[DS.EXIT],n);default:return n}}(i,n),r)}),[r,n,i]);return oS(e,{style:o})}))}function zS(t,e){for(var n in e)t[n]=e[n];return t}function XS(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var i in e)if("__source"!==i&&t[i]!==e[i])return!0;return!1}function GS(t){this.props=t}(HS={})[DS.APPEAR]="-appear",HS[DS.APPEAR_ACTIVE]="-appear-active",HS[DS.APPEAR_DONE]="-appear-done",HS[DS.ENTER]="-enter",HS[DS.ENTER_ACTIVE]="-enter-active",HS[DS.ENTER_DONE]="-enter-done",HS[DS.EXIT]="-exit",HS[DS.EXIT_ACTIVE]="-exit-active",HS[DS.EXIT_DONE]="-exit-done",(GS.prototype=new $k).isPureReactComponent=!0,GS.prototype.shouldComponentUpdate=function(t,e){return XS(this.props,t)||XS(this.state,e)};var WS=Ek.Kl;Ek.Kl=function(t){t.type&&t.type.dc&&t.ref&&(t.props.ref=t.ref,t.ref=null),WS&&WS(t)};var qS=void 0!==x&&x.for&&x.for("react.forward_ref")||3911;function YS(t){function e(e,n){var i=zS({},e);return delete i.ref,t(i,(n=e.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return e.$$typeof=qS,e.render=e,e.prototype.isReactComponent=e.dc=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var KS=function(t,e){return null==t?null:Xk(Xk(t).map(e))},ZS={map:KS,forEach:KS,count:function(t){return t?Xk(t).length:0},only:function(t){var e=Xk(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:Xk},QS=Ek.Zl;Ek.Zl=function(t,e,n){if(t.then)for(var i,r=e;r=r.Yl;)if((i=r.Jl)&&i.Jl)return null==e.Zl&&(e.Zl=n.Zl,e.ql=n.ql),i.Jl(t,e);QS(t,e,n)};var JS=Ek.unmount;function tA(){this.hc=0,this.t=null,this.Kl=null}function eA(t){var e=t.Yl.Jl;return e&&e.Zl&&e.Zl(t)}function nA(){this.u=null,this.o=null}Ek.unmount=function(t){var e=t.Jl;e&&e.fc&&e.fc(),e&&!0===t.tc&&(t.type=null),JS&&JS(t)},(tA.prototype=new $k).Jl=function(t,e){var n=e.Jl,i=this;null==i.t&&(i.t=[]),i.t.push(n);var r=eA(i.ec),o=!1,s=function(){o||(o=!0,n.fc=null,r?r(a):a())};n.fc=s;var a=function(){if(! --i.hc){if(i.state.Zl){var t=i.state.Zl;i.ec.ql[0]=function t(e,n,i){return e&&(e.ec=null,e.ql=e.ql&&e.ql.map((function(e){return t(e,n,i)})),e.Jl&&e.Jl.rc===n&&(e.Zl&&i.insertBefore(e.Zl,e.Ql),e.Jl.Zl=!0,e.Jl.rc=i)),e}(t,t.Jl.rc,t.Jl.vc)}var e;for(i.setState({Zl:i.Kl=null});e=i.t.pop();)e.forceUpdate()}},u=!0===e.tc;i.hc++||u||i.setState({Zl:i.Kl=i.ec.ql[0]}),t.then(s,s)},tA.prototype.componentWillUnmount=function(){this.t=[]},tA.prototype.render=function(t,e){if(this.Kl){if(this.ec.ql){var n=document.createElement("div"),i=this.ec.ql[0].Jl;this.ec.ql[0]=function t(e,n,i){return e&&(e.Jl&&e.Jl.lc&&(e.Jl.lc.Yl.forEach((function(t){"function"==typeof t.Jl&&t.Jl()})),e.Jl.lc=null),null!=(e=zS({},e)).Jl&&(e.Jl.rc===i&&(e.Jl.rc=n),e.Jl=null),e.ql=e.ql&&e.ql.map((function(e){return t(e,n,i)}))),e}(this.Kl,n,i.vc=i.rc)}this.Kl=null}var r=e.Zl&&Pk(Bk,null,t.fallback);return r&&(r.tc=null),[Pk(Bk,null,e.Zl?null:t.children),r]};var iA=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function rA(t){return this.getChildContext=function(){return t.context},t.children}function oA(t){var e=this,n=t.i;e.componentWillUnmount=function(){iS(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.ec?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,n){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),iS(Pk(rA,{context:e.context},t.ec),e.l)):e.l&&e.componentWillUnmount()}function sA(t,e){return Pk(oA,{ec:t,i:e})}(nA.prototype=new $k).Zl=function(t){var e=this,n=eA(e.ec),i=e.o.get(t);return i[0]++,function(r){var o=function(){e.props.revealOrder?(i.push(r),iA(e,t,i)):r()};n?n(o):o()}},nA.prototype.render=function(t){this.u=null,this.o=new xe;var e=Xk(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},nA.prototype.componentDidUpdate=nA.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){iA(t,n,e)}))};var aA=void 0!==x&&x.for&&x.for("react.element")||60103,uA=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,lA="undefined"!=typeof document,cA=function(t){return(void 0!==x&&"symbol"==typeof x()?/fil|che|rad/i:/fil|che|ra/i).test(t)};$k.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty($k.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var dA=Ek.event;function hA(){}function fA(){return this.cancelBubble}function pA(){return this.defaultPrevented}Ek.event=function(t){return dA&&(t=dA(t)),t.persist=hA,t.isPropagationStopped=fA,t.isDefaultPrevented=pA,t.nativeEvent=t};var vA,_A={configurable:!0,get:function(){return this.class}},mA=Ek.vnode;Ek.vnode=function(t){var e=t.type,n=t.props,i=n;if("string"==typeof e){var r=-1===e.indexOf("-");for(var o in i={},n){var s=n[o];lA&&"children"===o&&"noscript"===e||"value"===o&&"defaultValue"in n&&null==s||("defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===s?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!cA(n.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():r&&uA.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===s&&(s=void 0),i[o]=s)}"select"==e&&i.multiple&&Array.isArray(i.value)&&(i.value=Xk(n.children).forEach((function(t){t.props.selected=-1!=i.value.indexOf(t.props.value)}))),"select"==e&&null!=i.defaultValue&&(i.value=Xk(n.children).forEach((function(t){t.props.selected=i.multiple?-1!=i.defaultValue.indexOf(t.props.value):i.defaultValue==t.props.value}))),t.props=i,n.class!=n.className&&(_A.enumerable="className"in n,null!=n.className&&(i.class=n.className),Object.defineProperty(i,"className",_A))}t.$$typeof=aA,mA&&mA(t)};var bA=Ek.nc;Ek.nc=function(t){bA&&bA(t),vA=t.Jl};var yA={ReactCurrentDispatcher:{current:{readContext:function(t){return vA.oc[t.Jl].props.value}}}};function gA(t){return!!t&&t.$$typeof===aA}var wA={useState:bS,useReducer:yS,useEffect:gS,useLayoutEffect:wS,useRef:TS,useImperativeHandle:function(t,e,n){cS=6,wS((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==n?n:n.concat(t))},useMemo:CS,useCallback:ES,useContext:kS,useDebugValue:SS,version:"17.0.2",Children:ZS,render:function(t,e,n){return null==e.ql&&(e.textContent=""),iS(t,e),"function"==typeof n&&n(),t?t.Jl:null},hydrate:function(t,e,n){return rS(t,e),"function"==typeof n&&n(),t?t.Jl:null},unmountComponentAtNode:function(t){return!!t.ql&&(iS(null,t),!0)},createPortal:sA,createElement:Pk,createContext:sS,createFactory:function(t){return Pk.bind(null,t)},cloneElement:function(t){return gA(t)?oS.apply(null,arguments):t},createRef:function(){return{current:null}},Fragment:Bk,isValidElement:gA,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:$k,PureComponent:GS,memo:function(t,e){function n(t){var n=this.props.ref,i=n==t.ref;return!i&&n&&(n.call?n(null):n.current=null),e?!e(this.props,t)||!i:XS(this.props,t)}function i(e){return this.shouldComponentUpdate=n,Pk(t,e)}return i.displayName="Memo("+(t.displayName||t.name)+")",i.prototype.isReactComponent=!0,i.dc=!0,i},forwardRef:YS,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:function(t,e){return t(e)},StrictMode:Bk,Suspense:tA,SuspenseList:nA,lazy:function(t){var e,n,i;function r(r){if(e||(e=t()).then((function(t){n=t.default||t}),(function(t){i=t})),i)throw i;if(!n)throw e;return Pk(n,r)}return r.displayName="Lazy",r.dc=!0,r},_c:yA};const TA="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?gS:wS;function CA(t){const e="function"==typeof t?function(t){let e;const n=new No,i=(t,i)=>{const r="function"==typeof t?t(e):t;if(r!==e){const t=e;e=i?r:Object.assign({},e,r),n.forEach((n=>n(e,t)))}},r=()=>e,o={setState:i,getState:r,subscribe:(t,i,o)=>i||o?((t,i=r,o=Object.is)=>{let s=i(e);function a(){const n=i(e);if(!o(s,n)){const e=s;t(s=n,e)}}return n.add(a),()=>n.delete(a)})(t,i,o):(n.add(t),()=>n.delete(t)),destroy:()=>n.clear()};return e=t(i,r,o),o}(t):t,n=(t=e.getState,n=Object.is)=>{const[,i]=yS((t=>t+1),0),r=e.getState(),o=TS(r),s=TS(t),a=TS(n),u=TS(!1),l=TS();let c;void 0===l.current&&(l.current=t(r));let d=!1;(o.current!==r||s.current!==t||a.current!==n||u.current)&&(c=t(r),d=!n(l.current,c)),TA((()=>{d&&(l.current=c),o.current=r,s.current=t,a.current=n,u.current=!1}));const h=TS(r);TA((()=>{const t=()=>{try{const t=e.getState(),n=s.current(t);a.current(l.current,n)||(o.current=t,l.current=n,i())}catch(t){u.current=!0,i()}},n=e.subscribe(t);return e.getState()!==h.current&&t(),n}),[]);const f=d?c:l.current;return SS(f),f};return Object.assign(n,e),n[x.iterator]=function(){const t=[n,e];return{next(){const e=t.length<=0;return{value:t.shift(),done:e}}}},n}function EA(){const t=sS(void 0);return{Provider:({initialStore:e,createStore:n,children:i})=>{const r=TS();return r.current||(e&&(n||(n=()=>e)),r.current=n()),Pk(t.Provider,{value:r.current},i)},useStore:(e,n=Object.is)=>{const i=kS(t);if(!i)throw new Error("Seems like you have not used zustand provider as an ancestor.");return i(e,n)},useStoreApi:()=>{const e=kS(t);if(!e)throw new Error("Seems like you have not used zustand provider as an ancestor.");return CS((()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy})),[e])}}}function kA({debugCollector:t}){return t.getDebugPayload()}let SA=function(){function t(t=(t,e)=>t<e){this.mc={},this.bc=[],this.yc=t}var e=t.prototype;return e.gc=function(t){var e=this.bc.length;if(0===e)this.bc.push(t);else{for(var n=0;n<e;n++)if(this.yc(t,this.bc[n])){this.bc[n-1]!==t&&this.bc.splice(n,0,t);break}n===e&&this.bc[n-1]!==t&&this.bc.splice(n,0,t)}},e.wc=function(t,e,n,i){if(i<n)return-1;let r=parseInt(n+(i-n)/2,10);return t[r]>e?this.wc(t,e,n,r-1):t[r]<e?this.wc(t,e,r+1,i):r},e.delete=function(t){const e=this.wc(this.bc,t,0,this.bc.length);if(-1===e)throw new Error("key does not exist");this.bc.splice(e,1),delete this.mc[t]},e.set=function(t,e){return this.mc[t]=e,this.gc(t),this},e.get=function(t){return this.mc[t]},e.keys=function(){return this.bc.slice()},e.values=function(){return this.keys().map((t=>this.mc[t]))},e.forEach=function(t){const e=this.bc.length;for(let n=0;n<e&&!1!==t(this.mc[this.bc[n]],this.bc[n],this);n++);},X(t,[{key:"size",get:function(){return this.bc.length}}])}();const AA={},NA=t=>{var e;const n=new SA;return null!=(e=t.embed)&&null!=(e=e.cards)&&e.length&&t.embed.cards.forEach((t=>{const e=t.url?Q(Q({},t),{},{url:Ib(t.url)}):t;n.set(t.timecode,jw(e))})),n},MA=t=>{const{events:e,set:n}=t,i=function(t){return{cardsMap:NA(t.config),activeCard:null,hoveredCard:null,displayedCard:null,cardPressed:void 0}}(t),r=t=>{const{hoveredCard:e,activeCard:n}=t,i=null!==e?e:n;return{cards:Q(Q({},t),{},{displayedCard:i})}},o=t=>{t&&e.fire(ev,t.id,t)},s=t=>t.timecode;return e.on(Lp,((t,e)=>{n((t=>{const n=Q(Q({},t.cards),{},{cardsMap:NA(e),activeCard:null,hoveredCard:null});return r(n)}))})),e.on(of,(t=>{n((e=>{let{cardsMap:n}=e.cards;n.set(t.timecode,t),o(t);const i=Q(Q({},e.cards),{},{cardsMap:n,activeCard:t.timecode});return r(i)}))})),e.on(sf,(t=>{n((e=>{let{cardsMap:n}=e.cards;n.delete(t.timecode);const i=Q(Q({},e.cards),{},{cardsMap:n,activeCard:null,hoveredCard:null});return r(i)}))})),e.on(fo.TIME_UPDATE,(({currentTime:t})=>{n((e=>{const n=((t,e)=>{const{cardsMap:n}=t.cards;let i=n.values().filter((t=>((t,e)=>e>=s(t)&&e<(t=>s(t)+(t.displayTime||6))(t))(t,e))).slice(-1)[0];return(null==i?void 0:i.timecode)||null})(e,t),i=e.cards.cardsMap.get(n);if(n===e.cards.activeCard)return AA;const a=Q(Q({},e.cards),{},{activeCard:n});return o(i),r(a)}))})),e.on(Tf,(()=>{n((t=>{const e=Q(Q({},t.cards),{},{activeCard:null,hoveredCard:null});return r(e)}))})),{cards:i,setCards:(t,i)=>{"cardPressed"!==t||"string"!=typeof i&&void 0!==i?((t,e)=>{n((n=>{const i=Q(Q({},n.cards),{},{[t]:e});return r(i)}))})(t,i):e.fire(nv,i)}}};function OA(t){var e,n,i;const{config:r}=t,{title:o}=r.video,{title:s,portrait:a}=r.embed.settings,u=Ty(),l=r.embed.settings.spatial_label,c=!(!r.video.spatial||!l),d=r.request.file_codecs||r.video.file_codecs,h=!ld(d),f=r.request.hdr_formats||[],p=h&&(null==(e=d.hevc)||null==(e=e.hdr)?void 0:e.length)>0,v=f.includes(Jw.HDR10_PLUS),_=f.includes(Jw.DV84)||h&&(null==(n=d.hevc)||null==(n=n.dvh1)?void 0:n.length)>0,m=!!r.video.ai,b=r.video.channel_layout||"stereo",y=r.video.owner[Bt.devicePixelRatio>1?"img_2x":"img"],g=r.video.owner.name,w=function(t){let e={displayByline:!1,displayBadge:!1};if(t.embed.settings.byline){const{type:n,url:i}=t.embed.settings.byline_badge||{};Object.assign(e,{displayByline:!0,displayBadge:!t.video.live_event,bylineBadgeType:n,bylineBadgeUrl:i})}return e}(r);let T=yb(wh,r),C=yb(gh,r),E=yb(yh,r);t.segmentedPlaybackEnabled&&(E=Pb(E,t.startTime,t.endTime));const k=null==(i=r.request.ab_tests)?void 0:i.persistent_logo;return k&&(T=xb(T,k),C=xb(C,k),E=xb(E,k)),Q({ownerLinkUrl:T,titleLinkUrl:E,bylineLinkUrl:C,displayTitle:!!s,displayPortrait:!!a,ownerName:g,targetBlank:u,portraitImg:y,title:o,is360:c,hasAIContent:m,hasHDR:p,hasHDR10Plus:v,hasDolbyVision:_,channelLayout:b},w)}let IA;function LA(t){var e,n;const{config:i,store:r}=t,{request:o,video:s}=i,a=null==(e=s.vod)?void 0:e.button_text,u=r.get("ui.player.breakpoint"),l=r.get("ui.player.mode"),c=rg(ig.FULL_CONTROLS,l,u);let d=yb(bh,t.config);const h=null==(n=i.request.ab_tests)?void 0:n.persistent_logo;return h&&(d=xb(d,h)),{overrideBehavior:!1,trailerButtonText:a,vimeoLogoUrl:d,thumbnailPreview:o.thumb_preview,showAllControls:c,expandedState:"collapsed",isExpanded:!1,shouldRestoreButtonsDisplayed:!1}}let RA=function(t){return t.EMPTY="empty",t.UNMUTE="unmute",t.WATCH_FULL_VIDEO="watchFullVideo",t.SPATIAL_INSTRUCTIONS_CLICK="spatialInstructionsClick",t.SPATIAL_INSTRUCTIONS_ARROWS="spatialInstructionsArrows",t}({});const xA=[RA.SPATIAL_INSTRUCTIONS_CLICK,RA.SPATIAL_INSTRUCTIONS_ARROWS,RA.WATCH_FULL_VIDEO,RA.UNMUTE];function PA(t){const{config:e}=t,{autoplay:n,settings:i}=e.embed;return{purpose:t.segmentedPlaybackEnabled&&n&&i.watch_full_video?RA.WATCH_FULL_VIDEO:RA.EMPTY}}function DA({displayList:t,playback:e,embed:n}){const{outro:i,controlBar:r}=t,{isSegmentedPlaybackEnabled:o,paused:s,scrubbing:a}=e;return!!o&&(!i&&r&&!(s&&!a)&&n.watchFullVideo)}function BA(t){const e=t.embed.access_gates;if(!e)return null;const n=e.find((t=>t.placement===Oy.BEFORE_VIDEO));return n?Dy(null==n?void 0:n.gate_type,t)?null:((t,e)=>{const n=Ly[t];return!n||n.includes(e.view)})(null==n?void 0:n.gate_type,t)?n:null:null}const $A=t=>!t.title&&!t.portrait&&!t.byline,VA=t=>{var e;const{config:n,element:i,get:r}=t,{embed:o}=n,s=i.classList.contains("player-tiny"),a=PA(t),u=(null==a?void 0:a.purpose)===RA.WATCH_FULL_VIDEO;return!(s||null!==BA(n)||(null==(e=r())||null==(e=e.overlay)?void 0:e.purpose)===Am.INTERACTIVE||n.view&&!pm(n.view)||null!=o&&o.autoplay||$A(null==o?void 0:o.settings)||!Mm(o)||u)},jA=t=>{var e;const{config:n,get:i}=t,{view:r,video:o,embed:s,request:a}=n,{vod:u}=o,l=r!==E_.main&&r!==E_.privateUnlocked,c=!!s.settings.instant_sidedock,d=u&&"purchase_options"in u&&!!u.purchase_options.length,h=u&&fm(u.countries,a.country);return(null==(e=i())||null==(e=e.overlay)?void 0:e.purpose)!==Am.INTERACTIVE&&null===BA(n)&&!!Mm(s)&&!t.segmentedPlaybackEnabled&&(Bt.touch||l||c||d&&h)},HA=t=>{var e,n;const{config:i,get:r}=t,{view:o,embed:s,request:a}=i;return!(null!==BA(t.config)||(null==(e=r())||null==(e=e.overlay)?void 0:e.purpose)===Am.INTERACTIVE||o&&!pm(o)||s.autoplay&&null!=(n=a.flags)&&n.autohide_controls||!Mm(s))};let FA=function(t){return t.IMAGE="image",t.STATIC_IMAGE="static-image",t.VOD="vod",t.LINK="link",t.NOTHING="nothing",t.BLANK="blank",t.SHARE="share",t.TEXT="text",t.BEGINNING="beginning",t.VIDEOS="videos",t.THREEVIDEOS="threevideos",t.PROMOTED="promoted",t.APP_REDIRECT="app-redirect",t}({});const UA=(t,e,n)=>!(t&&t===e)&&!1!==n.final;function zA({get:t,set:e}){return{purpose:Am.EMPTY,spatialRedirectContext:null,overlayElementsUpdatedCount:0,showCloseButton:!0,incrementOverlayElementsUpdatedCount:()=>{e((e=>({overlay:Q(Q({},e.overlay),{},{overlayElementsUpdatedCount:t().overlay.overlayElementsUpdatedCount+1})})))}}}function XA(t){return Object.values(Am).includes(t)}let GA=function(t){return t.EMPTY="empty",t.SPATIAL_UNSUPPORTED="spatial-unsupported",t.SPATIAL_FAILURE="spatial-failure",t}({});const WA=({element:t,config:e})=>{if(t.classList.contains("player-mini")||t.classList.contains("player-tiny"))return!1;const{embed:n}=e;return!(!n.settings.badge||n.autoplay&&16!==n.settings.badge.id)};let qA=function(t){return t.IDLE="idle",t.LOADED="loaded",t.ERROR="error",t.LOADING="loading",t}({}),YA=function(t){return t.MAIN="main",t.LANGUAGE="language",t}({}),KA=function(t){return t.SMALL="small",t.MEDIUM="medium",t.LARGE="large",t}({}),ZA=function(t){return t.PREV="prev",t.NEXT="down",t.FIRST="first",t.LAST="last",t}({});const QA="en",JA=t=>{const e=document.createElement("div");return e.innerHTML=t,e.textContent||""},tN={language:QA,id:"",label:"Transcript",rtl:!1},eN=(t,e)=>{const{lang:n,cookie:i}=t.request,{captions:r,transcript:o}=i,[s]=(o||"").split("."),[a]=(r||"").split("."),u=o&&e.find((t=>t.language.includes(s)))||a&&e.find((t=>t.language.includes(a)))||n&&e.find((t=>n.includes(t.language)))||e.find((t=>t.language.includes(QA)))||e[0]||tN;return u},nN=(t,e)=>!!t.find((t=>t.index===e));function iN(t,e,n,i){const r=(t=>t.map(((t,e)=>({startTime:t.startTime,endTime:t.endTime,startTimeDisplay:"",text:JA(t.text),originalIndex:e}))))(t),o=((t,e,n=null,i=null)=>{let r;return r=e?t.reduce(((t,n)=>(n.startTime>=e.startTime&&n.endTime<=e.endTime&&t.push(Q(Q({},n),{},{startTimeDisplay:xm(ym(n.startTime,e))})),t)),[]):(t=>t.map((t=>Q(Q({},t),{},{startTimeDisplay:xm(t.startTime)}))))(null!==n||null!==i?t.filter((t=>{const e=null===n||t.startTime>=n,r=null===i||t.startTime<=i;return e&&r})):t),r})(r,!Bt.isGoogleBot&&e,n,i),s=(t=>t.map(((t,e,n)=>{const i=n[e+1];return i&&i.startTime<t.endTime?Q(Q({},t),{},{endTime:i.startTime}):t})))(((t,e=20,n=20,i=10)=>{if(0===t.length)return[];let r,o,s,a,u;return l(t[0]),t.reduce((function(s,a,u,d){var h;const{text:f,endTime:p}=a,v=function(t,e){return t+1===e.length}(u,d);if(o+=`${f} `,v)return c(p,s);const _=f.split(" "),m=function(t){return function(t){return[".","?","!"].some((e=>t.trim().endsWith(e)))}(t[t.length-1])}(_);r+=_.length;const b=r>=n,y=r>=e&&m,g=function(t,e,n){return e-t>n}(a.endTime,null==(h=d[u+1])?void 0:h.startTime,i);return(b||y||g)&&(s=c(p,s),l(t[u+1])),s}),[]).map(((t,e)=>Q(Q({},t),{},{originalIndex:e})));function l(t){t&&(r=0,o="",s=t.startTime,a=t.originalIndex,u=t.startTimeDisplay)}function c(t,e){return e.concat({originalIndex:a,text:o.trim(),startTime:s,startTimeDisplay:u,endTime:t})}})(o));return s}const rN=t=>Bt.isGoogleBot||Boolean(null==t?void 0:t.config.embed.tq),oN=[Am.EMPTY,Am.HELP,Am.SHARE,Am.INTERACTIVE],sN=({config:t,store:e})=>{const{embed:n}=t;if(!n.settings.playbar)return!1;if(!Mm(n))return!1;const i=e.get("ui.player.breakpoint"),r=e.get("ui.player.mode");return rg(ig.PROGRESS_BAR,r,i)},aN=t=>{const e=rN(t);return Bt.isGoogleBot&&e};function uN(t){t((t=>({displayList:Q(Q({},t.displayList),{},{aiWidget:!1})})))}const lN=({config:t,store:e})=>{const{embed:n}=t;if(!Mm(n))return!1;const i=e.get("ui.player.breakpoint"),r=e.get("ui.player.mode");return rg(ig.FULL_CONTROLS,r,i)},cN=t=>{const{set:e,get:n}=t,i=function(t){const e=jA(t),n=VA(t),i=(t=>zA(t).purpose!==Am.EMPTY)(t),r=(({store:t,config:e,events:n,set:i})=>{var r;return n.on(Lp,((t,e)=>{i((t=>{var n;return{displayList:Q(Q({},t.displayList),{},{cards:!(null==(n=e.embed)||null==(n=n.cards)||!n.length||t.appearance.isMenuBlockingUI)})}}))})),!(null==(r=e.embed)||null==(r=r.cards)||!r.length||t.get("ui.controlbar.isMenuFullWidth"))})(t),o=WA(t),s=HA(t),a=sN(t),u=aN(t),l=rN(t),c=function(t){const{purpose:e}=PA(t);return e!==RA.EMPTY}(t),d=(t=>{const{config:e}=t;return null!==BA(e)})(t),h=lN(t),f=i||d;return(({set:t,get:e,events:n,subscribe:i,performDelegateAction:r})=>{const o=t=>{e().displayList.outro!==t&&(t&&(e().displayList.accessGate||e().displayList.ad||e().embed.background||e().embed.loop||e().outro.purpose===FA.BEGINNING)||(t?r(hT,(()=>{a(t)})):a(t)))};function s(t){t?o(!1):e().playback.ended&&o(!0)}function a(e){t((t=>({displayList:Q(Q({},t.displayList),{},{outro:e})}))),n.fire(e?Up:zp)}n.on([fo.PLAY,fo.SEEKED,Hf,Kh,xh],(()=>o(!1))),n.on(Yh,(()=>o(!0))),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.ended}),(t=>o(t))),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.accessGate}),s),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.ad}),s)})(t),(({store:t,config:e,set:n})=>{t.watch("ui.controlbar.isMenuFullWidth",(t=>{n((n=>{var i;return{displayList:Q(Q({},n.displayList),{},{cards:!(null==(i=e.embed)||null==(i=i.cards)||!i.length||t)})}}))}))})(t),(({set:t,events:e,store:n})=>{n.watch("ui.player.mode",(e=>{e===Zm.TINY&&t((t=>({displayList:Q(Q({},t.displayList),{},{debugPanel:!1})})))})),e.on(mp,(()=>{t((t=>n.get("ui.player.mode")===Zm.TINY?AA:{displayList:Q(Q({},t.displayList),{},{debugPanel:!t.displayList.debugPanel})}))}))})(t),(t=>{const{set:e,get:n,subscribe:i,events:r}=t;function o(t={}){n().displayList.sideDock&&e((e=>{const{playback:n,displayList:i,appearance:o,embed:s,cards:a}=e,{fullPlayerElement:u,alert:l,menu:d,toast:h}=i,{playInitiated:f,targetTimeReached:p}=n,{forceExitedFullscreen:v}=o,_=hm(o,t,"mousedOverSidedock"),m=u||l||d&&o.isMenuBlockingUI||!!a.displayedCard||h&&c();return v?AA:f&&p||m||s.autoHideControls?_?AA:!o.externalDisplay&&!o.pictureInPictureActive||m?(r.fire(Xf,!1),{appearance:Q(Q({},e.appearance),{},{mousedOverSidedock:_}),displayList:Q(Q({},e.displayList),{},{sideDock:!1})}):AA:AA}))}function s(t={}){n().displayList.sideDock||e((e=>{const{displayList:n,appearance:i,embed:o,cards:s,playback:a}=e,{menu:u,fullPlayerElement:l,alert:d,toast:h}=n,f=l||d||u&&i.isMenuBlockingUI||!!s.displayedCard||h&&c();return Mm(o)?f||a.isSegmentedPlaybackEnabled?AA:(r.fire(Xf,!0),{appearance:Q(Q({},e.appearance),{},{mousedOverSidedock:hm(e.appearance,t,"mousedOverSidedock")}),displayList:Q(Q({},e.displayList),{},{sideDock:!0})}):AA}))}function a(){return o({mousedOverSidedock:!1})}function u(t,e){t&&e&&a()}function l(t,e){!t&&e&&s()}function c(){return[qy.XXS,qy.XS].includes(n().appearance.playerBreakpoint)}r.on([wp,Cp,Mf],o),r.on([Tp,hv,fo.ENTER_PICTURE_IN_PICTURE],s),r.on(Lp,(function(n,i){const r=jA(Q(Q({},t),{},{config:i}));e((t=>({displayList:Q(Q({},t.displayList),{},{sideDock:r})})))})),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.targetTimeReached}),(t=>t&&o())),i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.fullscreen}),(t=>!t&&a())),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.alert}),(t=>t&&o())),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.menu}),(t=>t?u(t,n().appearance.isMenuBlockingUI):l(t,n().appearance.isMenuBlockingUI))),i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.isMenuBlockingUI}),(t=>t?u(n().displayList.menu,t):l(n().displayList.menu,t))),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.fullPlayerElement}),(t=>t?a():s())),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.ad}),(t=>{t?e((t=>({displayList:Q(Q({},t.displayList),{},{sideDock:!1})}))):n().displayList.sideDock||s()})),i((t=>{var e;return null==t||null==(e=t.cards)?void 0:e.displayedCard}),(t=>t&&a())),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.toast}),(t=>t&&c()&&a())),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.isSegmentedPlaybackEnabled}),(t=>{t?a():s()}))})(t),(t=>{const{set:e,get:n,subscribe:i,events:r,config:o}=t;function s(){e((t=>{const{appearance:e,playback:n,embed:i}=t,{externalDisplay:r}=e,{scrubbing:s,paused:a}=n,u=c(t),{embed:l}=o;return Mm(i)?e.playerSizeMode===Zm.TINY||$A(l.settings)||u?AA:r?{displayList:Q(Q({},t.displayList),{},{title:!0})}:!a||s?AA:{displayList:Q(Q({},t.displayList),{},{title:!0})}:AA}))}function a(){e((t=>{const{appearance:e,playback:n}=t,{externalDisplay:i}=e,{playInitiated:r}=n,o=c(t);return e.playerSizeMode===Zm.TINY||o?{displayList:Q(Q({},t.displayList),{},{title:!1})}:i||!r?AA:{displayList:Q(Q({},t.displayList),{},{title:!1})}}))}function u(t,e){t&&e&&a()}function l(t,e){!t&&e&&s()}function c(t){const{fullPlayerElement:e,outro:n,menu:i,toast:r,topCenterActionItem:o}=t.displayList,{isMenuBlockingUI:s}=t.appearance;return e||n||i&&s||r||o}i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.playInitiated}),(t=>t&&a())),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.paused}),(t=>{t?s():a()})),i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.fullscreen}),(t=>{t?a():s()})),i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.externalDisplay}),(t=>{t?s():a()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.outro}),(t=>{t?a():s()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.fullPlayerElement}),(t=>{t?a():s()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.menu}),(t=>t?u(t,n().appearance.isMenuBlockingUI):l(t,n().appearance.isMenuBlockingUI))),i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.isMenuBlockingUI}),(t=>t?u(n().displayList.menu,t):l(n().displayList.menu,t))),i((t=>{var e;return null==t||null==(e=t.overlay)?void 0:e.purpose}),(t=>{[Am.NOT_SUPPORTED,Am.HELP,Am.EMPTY].includes(t)||a()})),i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.playerSizeMode}),(t=>{t===Zm.TINY?a():s()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.toast}),(t=>t?a():s())),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.topCenterActionItem}),(t=>t?a():s())),r.on(Tf,a).on(xh,s).on(Lp,((n,i)=>{e((e=>({displayList:Q(Q({},e.displayList),{},{title:VA(Q(Q({},t),{},{config:i}))})})))}))})(t),(({set:t,subscribe:e})=>{e((t=>{var e;return null==t||null==(e=t.overlay)?void 0:e.purpose}),(e=>(e=>{t((t=>({displayList:Q(Q({},t.displayList),{},{overlay:e})})))})(!Nm(e))))})(t),(({get:t,set:e,subscribe:n})=>{n((t=>{var e;return null==t||null==(e=t.alert)?void 0:e.currentAlert}),(n=>{const i=t().displayList.alert;if(!i&&n===GA.EMPTY)return;if(i&&n!==GA.EMPTY)return;const r=n!==GA.EMPTY;e((t=>({displayList:Q(Q({},t.displayList),{},{alert:r})})))}))})(t),(({events:t,subscribe:e,set:n,get:i})=>{function r(){n((t=>{const{menu:e}=t.displayList;return e?{displayList:Q(Q({},t.displayList),{},{menu:!1})}:AA}))}t.on(xh,r),e((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.menu}),(e=>{const n=e?x_:"";t.fire(Gf,n)})),e((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.transcript}),(t=>{var e,n,o,s;return t&&((null==(e=i())?void 0:e.appearance.appBreakpoint)===qy.XS||(null==(n=i())?void 0:n.appearance.appBreakpoint)===qy.XXS||(null==(o=i())?void 0:o.appearance.appSizeMode)===Zm.MINI||(null==(s=i())?void 0:s.appearance.appSizeMode)===Zm.TINY)&&r()})),e((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.appBreakpoint}),(t=>{var e;return(null==(e=i())?void 0:e.displayList.transcript)&&(t===qy.XS||t===qy.XXS)&&r()})),e((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.appSizeMode}),(t=>{var e;return(null==(e=i())?void 0:e.displayList.transcript)&&(t===Zm.MINI||t===Zm.TINY)&&r()}))})(t),(({set:t,events:e})=>{const n=e=>t((t=>({displayList:Q(Q({},t.displayList),{},{ad:e})})));e.on(gf,(()=>n(!0))),e.on([wf,xh],(()=>n(!1)))})(t),(({set:t,get:e,config:n,events:i,subscribe:r,store:o,element:s})=>{let a=n;const u=(e={})=>{var n;(16!==(null==(n=a.embed)||null==(n=n.settings)||null==(n=n.badge)?void 0:n.id)||e.isStockBadgeBehavior)&&t((t=>({displayList:Q(Q({},t.displayList),{},{badge:!1})})))},l=(e={})=>{var n;(16!==(null==(n=a.embed)||null==(n=n.settings)||null==(n=n.badge)?void 0:n.id)||e.isStockBadgeBehavior)&&t((t=>{const{appearance:e}=t;return[Zm.MINI,Zm.TINY].includes(e.playerSizeMode)?AA:a.embed.settings.badge?{displayList:Q(Q({},t.displayList),{},{badge:!0}),appearance:Q(Q({},t.appearance),{},{shouldRestoreBadge:!1})}:AA}))};function c(e){t((t=>({displayList:Q(Q({},t.displayList),{},{badge:WA({config:e,element:s})})})))}i.on(Uf,(t=>{var e;16===(null==(e=a.embed)||null==(e=e.settings)||null==(e=e.badge)?void 0:e.id)&&(t?l({isStockBadgeBehavior:!0}):u({isStockBadgeBehavior:!0}))})),i.on(Tf,u),i.on(Lp,((t,e)=>{a=e,c(e)})),i.on(xh,(()=>{c(a)})),o.watch("ui.player.mode",(n=>{n!==Zm.TINY&&n!==Zm.MINI||!e().displayList.badge?e().appearance.shouldRestoreBadge&&l():t((t=>({displayList:Q(Q({},t.displayList),{},{badge:!1}),appearance:Q(Q({},t.appearance),{},{shouldRestoreBadge:!0})})))})),r((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.paused}),(t=>{t?l():u()})),r((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.playInitiated}),(t=>t&&u())),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.fullPlayerElement}),(t=>{(function(t){return[Am.NOT_SUPPORTED,Am.HELP,null].includes(t)})(t)||u(),t||e().playback.playInitiated||l()}))})(t),(({set:t,subscribe:e})=>{e((t=>{var e;return null==t||null==(e=t.notification)?void 0:e.currentNotification}),(e=>{(e=>{t((t=>({displayList:Q(Q({},t.displayList),{},{notification:e})})))})(!!e)}))})(t),(({set:t,events:e})=>{const n=e=>{t((t=>({displayList:Q(Q({},t.displayList),{},{pipOverlay:e})})))};e.on(fo.ENTER_PICTURE_IN_PICTURE,(()=>n(!0))),e.on(fo.LEAVE_PICTURE_IN_PICTURE,(()=>n(!1)))})(t),(t=>{const{set:e,events:n,config:i,subscribe:r}=t;function o(t={}){e((e=>{const{controlBar:i,embed:r,playback:o,displayList:s,appearance:a}=e,u=hm(a,t,"mousedOverControlBar"),l={appearance:Q(Q({},e.appearance),{},{mousedOverControlBar:u})};return i.overrideBehavior||a.forceExitedFullscreen?l:o.playInitiated&&o.targetTimeReached||s.fullPlayerElement||r.autoHideControls||s.ad?u?l:!a.externalDisplay&&!a.pictureInPictureActive||s.fullPlayerElement?o.buffering||o.scrubbing?l:(n.fire(Uf,!1),Q(Q({},l),{},{displayList:Q(Q({},e.displayList),{},{controlBar:!1})})):l:l}))}function s(){e((t=>{const{displayList:e,controlBar:i,embed:r}=t;return e.controlBar?AA:Mm(r)?i.overrideBehavior||e.fullPlayerElement?AA:(n.fire(Uf,!0),{displayList:Q(Q({},t.displayList),{},{controlBar:!0})}):AA}))}function a(){return o({mousedOverControlBar:!1})}function u(n){const i=HA(Q(Q({},t),{},{config:n}));e((t=>({displayList:Q(Q({},t.displayList),{},{controlBar:i})})))}n.on([Tp,Hf,Ih,xh],s),n.on(wp,a),n.on(Cp,o),n.on(Lp,(function(t,e){u(e)})),n.on([nd.STREAM_ONLINE,nd.STREAM_OFFLINE,nd.EVENT_ENDED],(function(){u(i)})),n.on(Zh,(function(t){e((e=>e.controlBar.overrideBehavior?{displayList:Q(Q({},e.displayList),{},{controlBar:t})}:AA))})),r((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.externalDisplay}),(t=>t&&s())),r((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.targetTimeReached}),(t=>t&&o())),r((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.fullscreen}),(t=>{t?a():s()})),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.fullPlayerElement}),(t=>{t?o():s()})),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.menu}),(t=>{t&&s()}))})(t),(t=>{const{get:e,set:n,events:i,subscribe:r,config:o,bigPicture:s}=t;function a(){n((t=>{const{transcript:e}=t.displayList;return e?u(t,!1):AA}))}function u(t,e){return{displayList:Q(Q({},t.displayList),{},{transcript:e})}}i.on(Lp,(()=>{n((e=>u(e,rN(t))))})),i.on(Pv,(function(){var t,i,r,o,a;const u=null==(t=e())||null==(t=t.overlay)?void 0:t.purpose,l=null==(i=e().displayList)?void 0:i.transcript,c=null==(r=e())||null==(r=r.displayList)?void 0:r.outro,d=null==(o=e())||null==(o=o.displayList)?void 0:o.accessGate,h=null==(a=e())||null==(a=a.captions)?void 0:a.textTracks,f=!!l||!c&&oN.includes(u)&&!!h.length&&!d;e().embed.transcript&&f&&(n((t=>Q(Q({},t),{},{displayList:Q(Q({},t.displayList),{},{transcript:!t.displayList.transcript})}))),s.sendEvent(qb.EMBEDDED_TRANSCRIPT_CLICK,{name:l?"exit_embed_transcript":"open_embed_transcript",copy:null,location:"keyboard_shortcut",element:"",current_transcript_language:""}))})),i.on(Lv,a),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.outro}),(t=>t&&a())),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.ad}),(t=>t&&a())),r((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.stereoscopicEnabled}),(t=>t&&a())),r((t=>{var e,n;return(null==t||null==(e=t.displayList)?void 0:e.overlay)&&!oN.includes(null==t||null==(n=t.overlay)?void 0:n.purpose)}),(t=>t&&a())),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.accessGate}),(t=>t&&a())),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.transcript}),(t=>{var n;(({events:t},e)=>{t.fire(hf,e)})({events:i},t);const r=null==(n=e())||null==(n=n.captions)?void 0:n.textTrackEls;t&&(({config:t,events:e},n)=>{var i;const r=n.map((t=>({id:t.id,label:t.label,language:t.srclang}))),o=(null==(i=eN(t,r))?void 0:i.language)||"";e.fire(xv,{id:te(),startTime:Date.now(),defaultLanguage:o})})({config:o,events:i},r)})),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.aiWidget}),(t=>t&&a()))})(t),(t=>{const{set:e,get:n,subscribe:i,events:r}=t;function o(){e((t=>({displayList:Q(Q({},t.displayList),{},{progressBar:!1})})))}function s(){e((t=>{const{appearance:e,displayList:n,embed:i,controlBar:r}=t,{playerSizeMode:o,playerBreakpoint:s}=e;return i.playbar?n.ad?AA:rg(ig.PROGRESS_BAR,o,s)?!r.showAllControls&&n.controlBarButtons?AA:{displayList:Q(Q({},t.displayList),{},{progressBar:!0})}:AA:AA}))}i((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.playerSizeMode}),(t=>{t===Zm.TINY?o():s()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.controlBarButtons}),(t=>{t&&!n().controlBar.showAllControls?o():s()})),i((t=>{var e;return null==t||null==(e=t.controlBar)?void 0:e.showAllControls}),(t=>{!t&&n().displayList.controlBarButtons?o():s()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.ad}),(t=>{t?o():s()})),r.on(Lp,((n,i)=>{e((e=>({displayList:Q(Q({},e.displayList),{},{progressBar:sN(Q(Q({},t),{},{config:i}))})})))}))})(t),(t=>{const{subscribe:e,set:n,get:i,events:r}=t;function o(t){r.fire(Ov,t),n((e=>({displayList:Q(Q({},e.displayList),{},{rightContentArea:t}),appearance:Q(Q({},e.appearance),{},{rightContentAreaAnimating:!0})}))),clearTimeout(s),s=setTimeout((function(){n((t=>({appearance:Q(Q({},t.appearance),{},{rightContentAreaAnimating:!1})})))}),400)}let s;e((t=>{var e,n;return(null==t||null==(e=t.displayList)?void 0:e.transcript)||(null==t||null==(n=t.displayList)?void 0:n.aiWidget)}),(t=>{var e;const n=null==(e=i())||null==(e=e.displayList)?void 0:e.rightContentArea;t&&!n?o(!0):!t&&n&&o(!1)})),aN(t)&&r.fire(Ov,!0)})(t),(({set:t,get:e,events:n,subscribe:i,config:r,backbone:o})=>{function s(){t((t=>({displayList:Q(Q({},t.displayList),{},{captions:!1})})))}function a(){t((t=>{const{appearance:e,embed:n}=t;return n.cc?e.pictureInPictureActive||n.background?AA:{displayList:Q(Q({},t.displayList),{},{captions:!0})}:(o.disableTextTrack(),AA)}))}n.on(Lc,a),n.on(fo.ENTER_PICTURE_IN_PICTURE,s),n.on(fo.LEAVE_PICTURE_IN_PICTURE,a),n.on(Tf,(()=>{r.embed.outro!==FA.NOTHING&&s()})),n.on(xh,s),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.fullPlayerElement}),(t=>{t?s():a()})),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.paused}),(t=>{!t&&a()})),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.scrubbing}),(t=>{t&&a()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.ad}),(t=>{t?s():a()})),i((t=>{var e;return null==t||null==(e=t.captions)?void 0:e.activeCues}),(t=>{var n;t.length&&null!=(n=e())&&null!=(n=n.playback)&&n.playInitiated?a():s()}))})(t),(t=>{const{subscribe:e,events:n}=t;e((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.toast}),(t=>n.fire(zf,t)))})(t),(t=>{const{subscribe:e,set:n,get:i,events:r}=t;e((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.transcript}),(t=>t&&uN(n))),r.on(df,(t=>{t===K_.AI_WIDGET_ID&&uN(n)})),r.on(Dv,(()=>{const{toggleDisplayList:t,embed:e}=i();e.aiWidget&&t("aiWidget")}))})(t),(t=>{const{set:e,events:n}=t,i=t=>{e((e=>({displayList:Q(Q({},e.displayList),{},{accessGate:t})})))};n.on(zv,(()=>{i(!0)})),n.on(Xv,(()=>{i(!1)}))})(t),(({set:t,get:e,subscribe:n})=>{function i(){t((t=>({displayList:Q(Q({},t.displayList),{},{fullPlayerElement:e().displayList.accessGate||e().displayList.overlay})})))}n((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.overlay}),(()=>i())),n((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.accessGate}),(()=>i()))})(t),(t=>{const{set:e,get:n,subscribe:i,events:r}=t;function o(){e((t=>({displayList:Q(Q({},t.displayList),{},{controlBarButtons:!1})})))}function s(){Mm(n().embed)&&(n().controlBar.isExpanded||e((t=>({displayList:Q(Q({},t.displayList),{},{controlBarButtons:!0})}))))}i((t=>{var e;return null==t||null==(e=t.controlBar)?void 0:e.showAllControls}),(t=>{t||n().controlBar.shouldRestoreButtonsDisplayed?s():o()})),i((t=>{var e;return null==t||null==(e=t.controlBar)?void 0:e.isExpanded}),(t=>{!t&&n().controlBar.showAllControls?s():o()})),r.on(Lp,((n,i)=>{e((e=>({displayList:Q(Q({},e.displayList),{},{controlBarButtons:lN(Q(Q({},t),{},{config:i}))})})))}))})(t),{debugPanel:false,cards:r,sideDock:e,title:n,controlBar:s,outro:false,overlay:i,alert:false,menu:false,ad:false,badge:o,notification:false,nudgeNotification:false,pipOverlay:false,transcript:l,progressBar:a,rightContentArea:u,captions:false,toast:false,topCenterActionItem:c,aiWidget:false,accessGate:d,fullPlayerElement:f,controlBarButtons:h}}(t),r=(t,n)=>{e((e=>({displayList:Q(Q({},e.displayList),{},{[t]:n})})))};return{displayList:i,setDisplayList:r,toggleDisplayList:t=>{const e=n().displayList[t];r(t,!e)}}};function dN(t){const{config:e,store:n}=t,{video:i}=e,r=n.get("ui.player.width"),o=n.get("ui.player.height"),s=i.width,a=i.height,{videoWidth:u,videoHeight:l}=hN(r,o,s,a),c=Kg(t);return{playerBreakpoint:n.get("ui.player.breakpoint"),appBreakpoint:n.get("ui.app.breakpoint"),playerSizeMode:n.get("ui.player.mode"),appSizeMode:n.get("ui.app.mode"),transcriptNavActive:!1,fullscreen:!1,forceExitedFullscreen:!1,pictureInPictureActive:!1,externalDisplay:!1,mousedOverSidedock:!1,mousedOverControlBar:!1,isMenuBlockingUI:n.get("ui.controlbar.isMenuFullWidth"),isMenuVerticalVideoMode:n.get("ui.controlbar.isMenuVerticalVideoMode"),shouldRestoreBadge:!1,isVerticalVideo:n.get("ui.player.isVerticalVideo"),boundingClientRect:r_(t.element),isDisplayContextBackbone:t.displayContext===t.backbone,showAirPlayPicker:!1,shouldMenuItemsWrap:n.get("ui.controlbar.doMenuItemsWrap"),stereoscopicEnabled:!1,videoWidth:u,videoHeight:l,playerWidth:r,playerHeight:o,containerWidth:n.get("ui.container.width"),containerHeight:n.get("ui.container.height"),placeholderThumbnail:Qt(null==i?void 0:i.thumbnail_url,{mw:"80",q:"85"}),rightContentAreaAnimating:!1,isStartTimeThumbLoading:c}}function hN(t,e,n,i){const r=n/i,o=r>t/e;return{videoWidth:o?t:Math.round(e*r),videoHeight:o?Math.round(t/r):e}}const fN=(t,e)=>{gS((()=>{const n=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){return function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(e.playbackEngineReady(),(function(){t()}))}));n()}))},pN=t=>({onClick:e=>{e.preventDefault(),e.stopPropagation(),t(e)},onKeyDown:e=>{["Enter"," "].includes(e.key)&&document.body.classList.contains(X_.SHOWFOCUS)&&(e.preventDefault(),e.stopPropagation(),t(e))},onMouseDown:t=>{t.preventDefault()}}),vN=()=>{const t=QO((t=>t.playback.paused)),e=QO((t=>t.playback.scrubbing)),n=QO((t=>t.playback.scrubbingByFrame)),i=QO((t=>t.playback.playInitiated)),r=QO((t=>t.chromecast.isChromecastPlaying)),o=QO((t=>t.chromecast.isChromecastConnected)),s=QO((t=>t.playback.buffering)),a=QO((t=>t.playback.isAdPlaying)),u=QO((t=>t.embed.isTrailer)),l=QO((t=>t.embed.autoPlay)),c=QO((t=>t.displayList.outro)),d=QO((t=>t.displayList.ad)),h=u&&!i;let f=eb.PLAY;h?f=eb.TRAILER:l&&(f=eb.PAUSE);const[p,v]=bS(f);return o&&v(r?eb.PAUSE:eb.PLAY),d&&v(a?eb.PAUSE:eb.PLAY),gS((()=>{c?v(eb.REPLAY):e&&!c&&v(t?eb.PLAY:eb.PAUSE)}),[c]),gS((()=>{e&&!n||s||h||o||c||d||v(t?eb.PLAY:eb.PAUSE)}),[t,s,h,o,c,d]),gS((()=>{i&&v(eb.PAUSE)}),[i]),{buttonState:p,setButtonState:v}};let _N=function(t){return t.PREFS="prefs",t.CHAPTERS="chapters",t.CC="cc",t.TRANSCRIPT="transcript",t.SIDEDOCK="sidedock",t}({}),mN=function(t){return t.EMPTY="empty",t.PREFS="prefs",t.QUALITY="quality",t.SPEED="speed",t.AUDIO="audio",t.CHAPTERS="chapters",t.LANGUAGES="languages",t.SUBTITLES="subtitles",t.CUSTOMIZE="customize",t.FONT="font",t.BACKGROUND="background",t.WINDOW="window",t.PREVIEW="preview",t.TRANSCRIPT_SETTINGS="transcriptSettings",t.TRANSCRIPT_LANGUAGES="transcriptLanguages",t.SIDEDOCK="sidedock",t}({}),bN=function(t){return t.SMALL="small",t.MEDIUM="medium",t.LARGE="large",t}({});const yN=()=>{const t=xM(),e=QO((t=>t.embed.cc)),n=QO((t=>t.embed.speedChangeEnabled)),i=QO((t=>t.playback.qualities)),r=QO((t=>t.embed.quality)),o=QO((t=>t.chromecast.isChromecastConnected)),s=QO((t=>t.chapters.chapters)),a=QO((t=>t.embed.transcript)),u=QO((t=>t.embed.chapters)),l=QO((t=>t.playback.isSegmentedPlaybackEnabled)),c=QO((t=>t.playback.audioTracks)),d=QO((t=>t.displayList.ad)),h=QO((t=>t.appearance.isDisplayContextBackbone)),f=QO((t=>{var e;return!(null==(e=t.embed.flags)||!e.new_subtitles_ui)})),p=t&&e,v=!(!r||null==i||!i.length),_=c.length>1,m=h&&!!(n||v||_||p&&f)&&!o&&!d,b=!(null==s||!s.length)&&u&&!d&&!l,y=t&&a;return{[_N.CC]:p,[_N.PREFS]:m,[_N.CHAPTERS]:b,[_N.TRANSCRIPT]:y}};let gN=function(t){return t.IDLE="idle",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error",t}({});function wN(){}const TN=t=>{const[e,n]=bS(gN.IDLE),i=TS(),o=ES(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){if(null==i||!i.current)return function(t){if(t&&t.then)return t.then(wN)}(function(e,o){try{var s=function(){let e;return n(gN.LOADING),function(t,e){var n=t();return n&&n.then?n.then(e):e(n)}((function(){return function(t,e){if(void 0)return e?e(t()):t();try{var n=r.resolve(t());return e?n.then(e):n}catch(t){return r.reject(t)}}(t,(function(t){e=t}))}),(function(){i.current=e,n(gN.LOADED)}))}()}catch(t){return o()}return s&&s.then?s.then(void 0,o):s}(0,(function(t){n(gN.ERROR)})))})),[t]);return{readyState:e,load:o,module:(null==i?void 0:i.current)||null}},CN=(t,e,n)=>{gS((()=>{function i(n){n.key!==t&&n.code!==t||e(n)}function r(e){e.key!==t&&e.code!==t||!n||n(e)}return window.addEventListener("keydown",i),n&&window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",i),n&&window.removeEventListener("keyup",r)}}),[e,n,t])};let EN=function(t){return t[t.AUTO=0]="AUTO",t[t.BOTTOM=1]="BOTTOM",t[t.CENTER=2]="CENTER",t}({});const kN=()=>{const t=QO((t=>t.embed.playButtonPosition)),e=QO((t=>t.embed.playbar)),n=QO((t=>t.appearance.playerSizeMode)),i=QO((t=>t.appearance.isVerticalVideo)),{buttonState:r}=vN(),o=n===Zm.TINY,s=n===Zm.MINI&&i;return r===eb.REPLAY?EN.BOTTOM:o||s||t===EN.CENTER?EN.CENTER:t===EN.BOTTOM||t!==EN.AUTO||e?EN.BOTTOM:EN.CENTER},SN=()=>{const t=QO((t=>t.playback.volume)),e=QO((t=>t.playback.muted)),n=QO((t=>t.setPlayback)),i=()=>{n("muted",!1),t<=0&&n("volume",100)},r=()=>{n("muted",!0)};return{mute:r,unmute:i,toggleMuted:()=>{e||t<=0?i():r()}}},AN=(t=1e4)=>{const[e,n]=bS(!1),[i,r]=bS(t),[o,s]=bS(Date.now());return{hasError:e,componentTimeout:i,componentVersion:o,onError:()=>{n(!0)},onReload:()=>{n(!1),r(i+1e3),s(Date.now())}}};let NN=function(t){return t.VOLUME="volume",t.CHROMECAST="chromecast",t.AIRPLAY="airplay",t.STEREOSCOPIC="stereoscopic",t.PIP="pip",t.FULLSCREEN="fullscreen",t.VIMEO_LOGO="vimeo_logo",t}({});const MN=t=>{const e=QO((t=>t.appearance.playerSizeMode)),n=QO((t=>t.appearance.playerBreakpoint));return rg(t,e,n)},ON=t=>{let e=[];return(null!=t&&t.children?a(t.children):[]).forEach((t=>{var n;const i=window.getComputedStyle(t);if(!i.display||"none"===i.display)return;const r="none"!==i.pointerEvents;t.tabIndex>-1&&r&&e.push(t),null!=(n=t.children)&&n.length&&(e=e.concat(ON(t)))})),e},IN=t=>{document.body.classList.toggle(X_.SHOWFOCUS,t)};function LN(){return document.activeElement}function RN(t){return null==t?void 0:t.contains(LN())}function xN(t,e){let n=ON(t),i=n.indexOf(LN()),r="prev"===e?i-1:i+1,o=null;o=r>=n.length?n[0]:r<0?n[n.length-1]:n[r],o&&o.focus()}const PN=["s","?"],DN=({parentRef:t,isActive:e,toggleKey:n,customKeyHandlers:i={},externalElement:r,onEscape:o=qm,onToggle:s=qm})=>{const a=QO((t=>t.config.view)),u=QO((t=>t.embed.controls)),l=QO((t=>t.embed.background)),c=QO((t=>t.embed.keyboard)),d=QO((t=>t.element)),h=TS(null),f=TS(e),p=TS(null),v=TS(null);function _(t){0!==t.detail&&IN(!1)}function m(t,e=0){e>=5||t&&(t.focus(),t!==LN()&&(clearTimeout(p.current),p.current=setTimeout((()=>m(t,e+1)),100)))}function b(){const e=ON(t.current);e.length>0&&m(e[0])}function y(){h.current&&(m(h.current),h.current=null),clearTimeout(v.current),v.current=setTimeout((()=>{!d.contains(LN())&&null!=r&&r.current&&m(r.current)}),500)}function g(){var e;return null==t||null==(e=t.current)?void 0:e.contains(LN())}function w(t){if(PN.includes(t.key)||"Space"===t.code)return!0;if(t.ctrlKey||t.metaKey||t.altKey||"Shift"===t.key)return!0;if("keydown"!==t.type)return!0;if(!u||l)return!0;const e=t.target||t.srcElement,n=d.contains(e),i=e.tagName;if("INPUT"===i||"SELECT"===i||"TEXTAREA"===i||e.isContentEditable){const e=!n,i=n&&"Escape"!==t.key&&"Tab"!==t.key&&t.shiftKey;if(e||i)return!0}return!pm(a)}const T=ES((r=>{if(w(r))return;"Escape"!==r.key?IN(!0):IN(!1);const a=r.key,u={Escape:()=>{null!=t&&t.current&&f.current&&(r.preventDefault(),null==o||o(),y())},Tab:()=>{var n;const i=r.shiftKey?"prev":"next",o="dialog"===(null==t||null==(n=t.current)||null==n.getAttribute?void 0:n.getAttribute("role"));(e||g())&&o&&(r.preventDefault(),xN(t.current,i))}};n&&(u[n]=()=>{null==s||s(!f.current)}),"function"==typeof u[a]&&u[a](),"function"==typeof i[a]&&i[a](r)}),[i,e,g,o,s,t,w,n]);return gS((()=>{e?b():!e&&f.current&&y(),f.current=e}),[e]),gS((()=>(c&&(document.addEventListener("click",_,!1),document.addEventListener("keydown",T,!1)),()=>{document.removeEventListener("click",_,!1),document.removeEventListener("keydown",T,!1)})),[c,T]),{onFocus:function(e){var n,i;(null==(n=t.current)?void 0:n.contains(LN()))&&(null==(i=t.current)||!i.contains(e.relatedTarget))&&!h.current&&(h.current=e.relatedTarget)},focusFirstItem:b}},BN=({menuRef:t,panelRef:e,buttonRef:n,isActive:i,toggleKey:r,shouldTrapFocus:o=!1,onBack:s=qm,setMenuDisplayed:a=qm})=>{const u=ES((t=>{RN(e.current)&&(t.preventDefault(),xN(e.current,"prev"))}),[e]),l=ES((t=>{RN(e.current)&&(t.preventDefault(),xN(e.current,"next"))}),[e]),c=ES((t=>{if(RN(e.current)){const e=t.target,n=e.getAttribute("aria-haspopup"),i=e.getAttribute("aria-expanded");"true"===n&&"true"===i?e.click():s(t)}}),[e,s]),d=ES((t=>{if(RN(e.current)){const e=t.target,n=e.getAttribute("aria-haspopup"),i=e.getAttribute("aria-expanded");"true"===n&&"false"===i&&e.click()}}),[e]),h=ES((e=>{var i;if((null==(i=t.current)?void 0:i.contains(e.target))&&null!=n&&n.current){const i=!e.shiftKey;if(o){const n=i?"next":"prev";return e.preventDefault(),void xN(t.current,n)}const s=ON(t.current),a=s.indexOf(e.target);var r;(i&&a===s.length-1||!i&&0===a)&&(e.preventDefault(),null==(r=n.current)||r.focus())}}),[t,n,o]);return DN({parentRef:e,isActive:i,toggleKey:r,onEscape:()=>{a(!1)},onToggle:t=>{a(t)},externalElement:n,customKeyHandlers:{ArrowUp:u,ArrowDown:l,ArrowLeft:c,ArrowRight:d,Tab:h}})},$N=t=>{const e=QO((t=>t.appearance.appSizeMode)),n=QO((t=>t.appearance.appBreakpoint)),i=e===Zm.MINI||e===Zm.TINY||n===qy.XXS||n===qy.XS;return{role:i?"dialog":void 0,ariaModal:!!i||void 0,ariaHidden:!t||void 0}},VN=(t,e,n=300)=>{const i=vg(e,n),r=TS(new ResizeObserver(i));gS((()=>{const e=r.current,n=null==t?void 0:t.current;return n&&e.observe(n),()=>{n&&e.unobserve(n)}}),[])};let jN=function(t){return t.DOLBY_VISION="dolbyVision",t.CLOSE="close",t.PIP="pip",t.AIRPLAY="airPlay",t.ENTER_FULLSCREEN="enterFullscreen",t.EXIT_FULLSCREEN="exitFullscreen",t.GEAR="gear",t.VIMEO="vimeo",t.VIMEO_SMALL="vimeoSmall",t.ENTER_PICTURE_IN_PICTURE="enterPictureInPicture",t.EXIT_PICTURE_IN_PICTURE="exitPictureInPicture",t.PAUSE="pause",t.PLAY="play",t.REPLAY="replay",t.CHAPTERS="chapters",t.POINT="point",t.CC="cc",t.CC_FILLED="ccFilled",t.CHECKMARK="checkmark",t.STEREOSCOPIC="stereoscopic",t.PERSON_FILLED="personFilled",t.CHEVRON_DOWN="chevronDown",t.CHEVRON_RIGHT="chevronRight",t.CLOCK="clock",t.CLOCK_FILLED="clockFilled",t.COLLECTIONS="collections",t.DISMISS_X="dismissX",t.HEART="heart",t.HEART_FILLED="heartFilled",t.HEART_WIDER_FILLED="heartWiderFilled",t.HEART_WIDER_BROKEN_FILLED="heartWiderBrokenFilled",t.ONDEMAND="ondemand",t.PAPER_PLANE="paperPlane",t.POP_OUT="popOut",t.VOLUME_OFF_FILLED="volumeOffFilled",t.VOLUME_ON_FILLED="volumeOnFilled",t.FAST_FORWARD="fastForward",t.INFO_CIRCLE="infoCircle",t.TRANSCRIPT_ON="transcriptOn",t.TRANSCRIPT_OFF="transcriptOff",t.SEARCH="search",t.CHEVRON_UP="chevronUp",t.CLOSE_CIRCLE="closeCircle",t.SPINNER="spinner",t.SLIDERS="sliders",t.SWITCH_CONTAINER="switchContainer",t.SWITCH_CIRCLE="switchCircle",t.WARN_CIRCLE="warnCircle",t.THUMBS_UP="thumbsUp",t.THUMBS_DOWN="thumbsDown",t.THUMBS_UP_FILLED="thumbsUpFilled",t.THUMBS_DOWN_FILLED="thumbsDownFilled",t.LINK="link",t.SPARKLE_TWO_STARS_FILLED="sparkleTwoStarsFilled",t.WARN_TRIANGLE="warnTriangle",t.VERTICAL_ELLIPSIS="verticalEllipsis",t.PLUS_SYMBOL="plusSymbol",t.FACEBOOK="facebook",t.TUMBLR="tumblr",t.EMAIL="email",t.EMBED="embed",t.PREVIOUS="previous",t.TWITTER="twitter",t.VOD="vod",t.VOD_DOWNLOAD="vodDownload",t.VOD_RENT="vodRent",t.VOD_SUBSCRIBE="vodSubscribe",t.CAMERA="camera",t}({});const HN=()=>{const t=QO((t=>t.toggleDisplayList));return{label:"Ask Vimeo AI",enabled:QO((t=>t.embed.aiWidget)),onSelect:()=>t("aiWidget"),icon:jN.SPARKLE_TWO_STARS_FILLED}},FN=()=>{const t=QO((t=>t.setUser));return{label:"Add to collections",enabled:QO((t=>t.embed.collections)),onSelect:()=>t("collected",!0),icon:jN.COLLECTIONS}};var UN=0;function zN(t,e,n,i,r){var o,s,a={};for(s in e)"ref"==s?o=e[s]:a[s]=e[s];var u={type:t,props:a,key:n,ref:o,ql:null,Yl:null,Kl:0,Zl:null,Ql:void 0,Jl:null,tc:null,constructor:void 0,ec:--UN,Tc:i,Cc:r};if("function"==typeof t&&(o=t.defaultProps))for(s in o)void 0===a[s]&&(a[s]=o[s]);return Ek.vnode&&Ek.vnode(u),u}const{Provider:XN,useStore:GN}=EA(),WN=({player:t,children:e})=>(function(){var t=mS(aS++,10),e=bS();t.Yl=t=>{},uS.componentDidCatch||(uS.componentDidCatch=function(n){t.Yl&&t.Yl(n),e[1](n)}),e[0]}(),zN(XN,{createStore:()=>CA(((e,n)=>{const{config:i,events:r,uuid:o,element:s,store:a,loadVideoViaIframe:u,loadVideoViaConfig:l,performDelegateAction:c,bigPicture:d}=t,h={set:e,get:n,events:r,store:a,get config(){return t.config},get bigPicture(){return t.bigPicture},get backbone(){return t.backbone}};return Q(Q(Q(Q(Q(Q(Q(Q({config:i,element:s,uuid:o,view:i.view,events:r,bigPicture:d,performDelegateAction:c,loadVideoViaIframe:u,loadVideoViaConfig:l},(t=>{const e=Q(Q({},function(){const e=BA(t.config),n=(null==e?void 0:e.gate_type)||My.EMPTY;return xy(n,t.config,null==e?void 0:e.gate_id)}()),{},{accessGateLoaded:!1,accessGateReady:!1,setAccessGateLoaded:function(){t.set((t=>({accessGate:Q(Q({},null==t?void 0:t.accessGate),{},{accessGateLoaded:!0})})))},setAccessGateReady:function(){t.set((t=>({accessGate:Q(Q({},null==t?void 0:t.accessGate),{},{accessGateReady:!0})}))),n(Iy.OPENED)},closeAccessGate:r,sendGateBPEvent:n});function n(e,n){var i;null!=(i=t.config.embed.access_gates)&&i.length&&t.bigPicture.sendEvent(qb.PROCESS_STEP,{process_name:"access_gate",step_name:e,status:e===Iy.ERROR?"fail":"success",error:(null==n?void 0:n.message)||null,error_code:"number"==typeof(null==n?void 0:n.code)?`${n.code}`:null})}function i(e,n=null){const i=xy(e,t.config,n);t.set((t=>({accessGate:Q(Q({},null==t?void 0:t.accessGate),i)}))),t.events.fire(zv,i.purpose)}function r(e){t.set((e=>({accessGate:Q(Q({},null==e?void 0:e.accessGate),{},{accessGateLoaded:!1,accessGateReady:!1},xy(My.EMPTY,t.config))}))),t.events.fire(Xv,e),n(Iy.CLOSED)}function o(){var e,n;const o=t.config.embed.access_gates;null!=o&&o.length&&o.forEach((e=>{!function(e){const{gate_type:n,placement:r,timecode:o,gate_id:s}=e;function a({currentTime:e}){e>=o&&(i(n,s),t.events.off(fo.TIME_UPDATE,a))}function u(){i(n,s),t.events.off(Tf,u)}Dy(n,t.config)||(r===Oy.DURING_VIDEO&&t.events.on(fo.TIME_UPDATE,a),r===Oy.AFTER_VIDEO&&t.events.on(Tf,u),t.events.on(Lp,(function(){t.events.off(fo.TIME_UPDATE,a),t.events.off(Tf,u)})))}(e)}));const s=BA(t.config),a=null==(e=t.get())||null==(e=e.accessGate)?void 0:e.gateId,u=(null==(n=t.get())||null==(n=n.accessGate)?void 0:n.purpose)||My.EMPTY,l=null==s?void 0:s.gate_id,c=(null==s?void 0:s.gate_type)||My.EMPTY,d=a!==l||u!==c;u!==My.EMPTY&&d&&r(),c!==My.EMPTY&&l&&d&&(i(c,l),t.events.once(uv,(()=>{t.events.fire(zv,c)})))}return o(),t.events.on(Lp,(function(){o()})),{accessGate:e}})(h)),qN(h)),KN(h)),JN(h)),tM(h)),iM(h)),lM(h)),cM(h))})),children:e})),qN=t=>{const e=YN(t),{set:n,events:i}=t;return i.on(xh,(()=>{n((()=>({colors:YN(t)})))})),i.on($h,((t,e)=>{const i=Gm(t);if(!i)return;const r=H_[e];n((t=>({colors:Q(Q({},t.colors),{},{[r]:i})})))})),{colors:e}};function YN(t){const{embed:e}=t.config;return{colorOne:Gm(e.color_one)||Gm(V_[P_]),colorTwo:Gm(e.color_two)||Gm(e.color)||Gm(V_[D_]),colorThree:Gm(e.color_three)||Gm(V_[B_]),colorFour:Gm(e.color_four)||Gm(V_[$_])}}const KN=t=>{const e=ZN(t),{set:n,events:i}=t;return i.on(Lp,(()=>{n((()=>({embed:ZN(t)})))})),{embed:e}};function ZN(t){const{config:e}=t;return{playerUrl:e.player_url,referrer:e.request.referrer,transparent:!!e.embed.transparent,videoId:e.video.id,vimeoUrl:e.vimeo_url,onsite:!!e.embed.on_site}}let QN=function(t){return t.EMPTY="empty",t.PRIVATE_LOCKED="private-locked",t.PASSWORD="password",t.ERROR="error",t.GEO_BLOCKED="geo-blocked",t.DRM_PLAYBACK_UNAVAILABLE="drm-playback-unavailable",t}({});const JN=t=>{const{get:e,set:n,events:i}=t;function r(){n((()=>({error:{type:null,title:null,message:null}})))}return i.on(_f,((t,i)=>{var r;const o=null==(r=e())||null==(r=r.error)?void 0:r.type;UA(o,t,i)&&n((()=>({error:{type:t,title:null==i?void 0:i.title,message:null==i?void 0:i.message}})))})),i.on(vf,((t,e)=>{t!==QN.ERROR||n((()=>({error:{type:om.LOCAL_ACCESS_GATE_ERROR,title:e.title,message:e.message}})))})),i.on(Rh,(t=>{t===Am.ERROR&&n((()=>({error:{type:om.LOAD_VIDEO_VIA_CONFIG,title:"Sorry",message:"There was a problem. Please try again."}})))})),i.on(dp,r),i.on(Vp,(()=>{var t;const n=sm();(null==(t=e())||null==(t=t.error)?void 0:t.type)===n.type&&r()})),{error:{type:null,title:null,message:null}}},tM=t=>{const{set:e,events:n}=t,i={purpose:eM(t.config.view)};return n.on(Lp,(function(){e((()=>({localAccessGate:{purpose:eM(t.config.view)}})))})),n.on(vf,(t=>{e((e=>({localAccessGate:Q(Q({},e.localAccessGate),{},{purpose:t})})))})),{localAccessGate:i}};function eM(t){return t===E_.geoBlocked?QN.GEO_BLOCKED:t===E_.error?QN.ERROR:t===E_.privateLocked?QN.PRIVATE_LOCKED:t===E_.privatePassword?QN.PASSWORD:t===E_.drmPlaybackUnavailable?QN.DRM_PLAYBACK_UNAVAILABLE:QN.EMPTY}const nM=[E_.main,E_.privateUnlocked],iM=t=>{const{set:e,events:n}=t,i=rM(t);return n.on(Yv,(t=>{e((e=>({login:Q(Q({},e.login),{},{status:t})})))})),n.on(Mp,(()=>{e((()=>({login:rM(t)})))})),n.on(Lp,(()=>{e((()=>({login:rM(t)})))})),{login:i}};function rM(t){return{status:oM(t)}}function oM(t){const{config:e}=t;return e.user.logged_in?nM.includes(e.view)?$y.LOGGED_IN_HAS_ACCESS:$y.LOGGED_IN_NO_ACCESS:$y.NOT_LOGGED_IN}function sM(t,e){let n=t,i=e;return n%320!=0&&(n=100*Math.ceil(t/100),i=Math.round(n/t*e)),{width:n,height:i}}function aM({width:t,height:e,baseUrl:n,crop:i=!1}){n=n.replace(/\.[^/.]+$/,"");let r={};const o=parseInt(t,10),s=parseInt(e,10);return 0===o||isNaN(o)||(i?r.w=o:r.mw=o),0===s||isNaN(s)||(i?r.h=s:r.mh=s),Bt.devicePixelRatio>1&&(r.q=70),Qt(n,r)}function uM(t,e=0){return function(t){return new r(((e,n)=>{const i=new Image;function r(){Cg.captureBreadcrumb(`Load image: ${t}`,{}),n(new Error("Failed to load image."))}i.onload=function(){i&&i.width>0&&i.height>0?e(i):r()},i.onerror=r,i.src=t}))}(t).catch((n=>(Cg.captureException(n,{extra:{imageUrl:t}}),e>0?uM(t,e-1):new r((()=>{})))))}const lM=t=>{const{set:e,get:n,events:i,store:o}=t,s=(t,n)=>{e((e=>({videoThumbnail:Q(Q({},e.videoThumbnail),{},{[t]:n})})))},a=()=>s("isDisplayed",!0),u=()=>s("isDisplayed",!1);function l(){return!!t.config.video.thumbnail_url}function c(){const e=o.get(zw)&&!o.get(Gw),n=t.config.embed.autoplay,i=t.backbone&&!t.backbone.paused;return e||!n&&!i||Dw.isCastConnected}function d(){return sM(o.get("ui.player.width")*Bt.devicePixelRatio,o.get("ui.player.height")*Bt.devicePixelRatio)}const h=()=>(i.fire(qv),r.resolve());function f(){if(!l())return c()&&a(),h();const{width:n,height:i}=d(),u=t.config.video.thumbnail_url,f=aM({width:n,height:i,baseUrl:u});s("width",n);const p=uM(f,3).then((t=>(t&&o.dispatch(((t,e)=>({type:AT,payload:{width:t,height:e}}))(t.width,t.height)),c()&&(e((t=>({videoThumbnail:Q(Q({},t.videoThumbnail),{},{thumbnailUrl:f,thumbnailBaseUrl:u})}))),a()),t)));if(!c())return h();const v=new r((t=>{setTimeout(t,2e3)}));return r.race([p,v]).catch((t=>{})).finally((()=>{h()}))}function p(){var t,e,i;if(null==(t=n())||null==(t=t.videoThumbnail)||!t.isDisplayed||null==(e=n())||null==(e=e.videoThumbnail)||!e.thumbnailUrl)return;const{width:r}=d();r<=(null==(i=n())||null==(i=i.videoThumbnail)?void 0:i.width)||0===r||f()}i.on(ff,a),i.on(pf,u),i.on(Lp,(e=>{var i;const r=t.config.video.thumbnail_url,o=null==(i=n())||null==(i=i.videoThumbnail)?void 0:i.thumbnailBaseUrl;e||r&&o&&o!==r?f():h()})),i.on(tp,p),i.on([mo.BUFFER_ENDED,fo.PLAYING],u),o.watch("ui.player.width",vg(p,150)),o.watch("ui.preview.scaleFactor",(t=>{s("shouldCoverBackground",t>1)}));const{width:v,height:_}=d(),m=t.config.video.thumbnail_url;return{videoThumbnail:{thumbnailUrl:l()?aM({width:v,height:_,baseUrl:m}):"",thumbnailBaseUrl:m,width:v,isDisplayed:!1,shouldCoverBackground:o.get("ui.preview.scaleFactor")>1},setVideoThumbnail:s}},cM=t=>{const e=dM(t),{set:n,events:i}=t;return i.on(Lp,(()=>{n((()=>({user:dM(t)})))})),i.on(Mp,(()=>{n((()=>({user:dM(t)})))})),{user:e}};function dM(t){const{config:e}=t,{user:n}=e;return{isClipOwner:!!n.owner}}let hM=function(t){return t.LIKES="likes",t.WATCH_LATER="watchlater",t.FOLLOWING="following",t}({});function fM(){}const pM=()=>{const t=GN((t=>t.events)),e=GN((t=>t.bigPicture)),n=GN((t=>t.user.isClipOwner)),i=GN((t=>t.performDelegateAction)),o=QO((t=>t.user.loggedIn)),s=QO((t=>t.user.liked)),a=QO((t=>t.embed.like)),u=QO((t=>t.embed.likePopupUrl)),l=QO((t=>t.user.persistUserAction)),c=s?"Unlike":"Like",d=o?c:"Like (this opens in a new window)",h=s?jN.HEART_FILLED:jN.HEART,{openLoginPopup:f}=CM({url:u,context:Vy.LOGIN_LIKE}),p=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){if(e.sendEvent(qb.SELECT_LIKE_HEART_ICON,{},{[Yb.WEB]:{target:o?null:"reg modal",target_path:o?null:u,copy:"like"},[Yb.PRODUCT_ANALYTICS]:{flow:o?null:"open_embed_reg_modal",element:"icon",copy:"like"}}),t.fire(ip),!n)return function(t,e){var n=function(){if(!o)return function(t,e){return function(t,e,n){if(n)return e?e(t()):t();try{var i=r.resolve(t());return e?i.then(e):i}catch(t){return r.reject(t)}}(t,fM,e)}(f)}();return n&&n.then?n.then(e):e()}(0,(function(){s?i(oT,(()=>{l(hM.LIKES,"DELETE"),t.fire(kp)})):i(rT,(()=>{l(hM.LIKES,"PUT"),t.fire(Ep)}))}))}));return{label:c,ariaLabel:d,enabled:a,onSelect:p,icon:h}};function vM(){}const _M=()=>{const t=QO((t=>t.bigPicture)),e=QO((t=>t.setOverlay)),n=QO((t=>t.embed.shareUrl)),i=QO((t=>t.title.title)),o=TS(!1),s=gb(n,sb.SHARE),a=QO((t=>t.embed.share)),u=QO((t=>t.embed.embedOnlyShare)),l=u?"Embed":"Share",c=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){if(o.current)return;o.current=!0,t.sendEvent(qb.SELECT_PLAYER_SHARE,{ab_group:null},{[Yb.WEB]:{target:"share overlay",target_path:null,copy:"share"},[Yb.PRODUCT_ANALYTICS]:{flow:"viewer_home_from_embed_player",element:"icon",copy:"share"}});const n=Bt.webShare&&(Bt.iOS||Bt.android||Bt.mobileAndroid)&&!u;return function(o,a){var u=function(){if(n)return function(t){if(t&&t.then)return t.then(vM)}(function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return function(t,e){return void 0?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}(navigator.share({title:i,url:s}),(function(){t.sendEvent(qb.SELECT_PLAYER_SHARE_COMPLETE,{ab_group:null},{[Yb.WEB]:{target:null,target_path:s,copy:null},[Yb.PRODUCT_ANALYTICS]:{flow:"share_video",element:"icon",copy:null}})}))}),(function(t){"AbortError"!==t.name&&e("purpose",Am.SHARE)})));e("purpose",Am.SHARE)}();return u&&u.then?u.then(a):a()}(0,(function(){o.current=!1}))}));return{label:l,enabled:a,onSelect:c,icon:jN.PAPER_PLANE}},mM=()=>{const t=QO((t=>t.vod.vodButtonVisible)),e=QO((t=>t.vod.vodLabel));return{label:e,enabled:!(!t||!e),onSelect:AM(),icon:jN.ONDEMAND}};function bM(){}const yM=()=>{const t=GN((t=>t.events)),e=GN((t=>t.bigPicture)),n=GN((t=>t.performDelegateAction)),i=QO((t=>t.embed.privacy)),o=QO((t=>t.embed.videoUrl)),s=QO((t=>t.user.watchLater)),a=QO((t=>t.user.loggedIn)),u=QO((t=>t.embed.watchLaterPopupUrl)),l=QO((t=>t.user.persistUserAction)),c=QO((t=>t.embed.watchLater)),d=QO((t=>t.user.watchLater)),h=d?"Remove from Watch Later":"Add to Watch Later",f=a?h:"Add to Watch Later (this opens in a new window)",p=d?jN.CLOCK_FILLED:jN.CLOCK,{openLoginPopup:v}=CM({url:u,context:Vy.LOGIN_WATCH_LATER}),_=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){if(e.sendEvent(qb.SELECT_PLAYER_ADD_TO_WATCH_LATER,{},{[Yb.WEB]:{target:a?null:"reg modal",target_path:a?null:u,copy:"add to watch later"},[Yb.PRODUCT_ANALYTICS]:{flow:a?null:"open_embed_reg_modal",element:"icon",copy:"add to watch later"}}),t.fire(rp),o||i===Nh)return function(t,e){var n=function(){if(!a)return function(t,e){return function(t,e,n){if(n)return e?e(t()):t();try{var i=r.resolve(t());return e?i.then(e):i}catch(t){return r.reject(t)}}(t,bM,e)}(v)}();return n&&n.then?n.then(e):e()}(0,(function(){s?n(aT,(()=>{l(hM.WATCH_LATER,"DELETE"),t.fire(Ap)})):n(sT,(()=>{l(hM.WATCH_LATER,"PUT"),t.fire(Sp)}))}))}));return{label:h,ariaLabel:f,enabled:c,onSelect:_,icon:p}};let gM=function(t){return t.VOD="vod",t.LIKE="like",t.WATCH_LATER="watch_later",t.COLLECTIONS="collections",t.SHARE="share",t.AI="ai",t}({});const wM=()=>({[gM.VOD]:mM(),[gM.LIKE]:pM(),[gM.WATCH_LATER]:yM(),[gM.COLLECTIONS]:FN(),[gM.SHARE]:_M(),[gM.AI]:HN()});let TM=null;const CM=({url:t,context:e,delegateArg:n})=>{const i=GN((t=>t.events)),o=GN((t=>t.embed.onsite)),s=GN((t=>t.loadVideoViaIframe)),a=GN((t=>t.performDelegateAction));return{openLoginPopup:()=>new r((r=>{switch(e){case Vy.PRIVATE_LOCKED:a(cT,(()=>{TM=u_(t,"login",{width:670,height:545,scrollbars:"yes",resizable:"yes",toolbar:"no"})}));break;case Vy.LOGIN_LIKE:case Vy.LOGIN_WATCH_LATER:a(cT,(()=>{TM=u_(t,"login",{width:670,height:545})})),i.fire(_p,e);break;case Vy.PURCHASE:a(uT,(()=>{TM=u_(t,"purchase",{width:790,height:670})}),n),i.fire(_p,e)}window.confirmLoginAction=function(t,e){i.fire(Np,e),i.once(Mp,(()=>r()))},window.closePopup=function(){if(TM){try{TM.close(),i.fire(bp,e),i.once(Mp,(()=>r()))}catch(t){}TM=null}},o||(window.confirmPurchase=function(t,e,n){if(e)return s(t),void r();n&&i.fire(Pf)})}))}};function EM(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function kM(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function SM(){}const AM=t=>{const e=kM((function(){return function(){var t=function(){if(!Ty())return function(t){if(t&&t.then)return t.then(SM)}(function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return EM(p(a),(function(){h("paused",!1)}))}),(function(t){Cg.captureException(t),v("purpose",Am.ERROR)})));f(a)}();if(t&&t.then)return t.then(SM)}()})),n=GN((t=>t.events)),i=GN((t=>t.embed.videoId)),r=GN((t=>t.embed.referrer)),o=GN((t=>t.embed.playerUrl)),s=QO((t=>t.vod.productId)),a=QO((t=>t.vod.featureId)),u=QO((t=>t.vod.isFeature)),l=QO((t=>t.vod.purchased)),c=QO((t=>t.vod.url)),d=QO((t=>t.vod.isComingSoon)),h=QO((t=>t.setPlayback)),f=GN((t=>t.loadVideoViaIframe)),p=GN((t=>t.loadVideoViaConfig)),v=QO((t=>t.setOverlay)),_=(()=>{const t=JO().getState,e=GN((t=>t.embed.onsite));return function(n){if(!n)return;const i=n.indexOf("#")>-1,r=t().playback.currentTime,o=t().playback.duration,s=t().playback.paused,a=t().setPlayback;!i&&r>0&&r<o-30&&!s&&(n+=`#at=${Math.floor(r)}`),e?window.location.href=n:(window.open(n),a("paused",!0))}})(),m=t||s;let b=`https://${o}/video/${a||i}/purchase/vod`;m&&(b+=`/${m}`),b+=`?referrer=${encodeURIComponent(r||"")}`;const{openLoginPopup:y}=CM({url:b,context:Vy.PURCHASE,delegateArg:[m]});return kM((function(){return n.fire(ap,m),l?!u&&a?void e():void h("paused",!1):d?void _(c):(y(),EM())}))},NM=(t,e)=>{const[n,i]=bS(t),r=TS([t]),o=TS(null);return gS((()=>{e?clearTimeout(o.current):o.current=setTimeout((()=>{r.current=[t],i(t)}),lg)}),[t,e]),{panel:n,setPanel:t=>{t!==n&&(r.current.push(t),i(t))},goToPreviousPanel:()=>{if(r.current.length>1){r.current.pop();const t=r.current[r.current.length-1];i(t)}}}},MM=()=>{const t=QO((t=>t.playback.canSeekForward)),e=QO((t=>t.playback.maxPlayedTime));return n=>t||e>=n},OM=()=>{const t=TS(!1),e=JO(),n=QO((t=>t.element)),i=QO((t=>t.setPlayback)),r=QO((t=>t.progressController)),o=GN((t=>t.bigPicture)),s=t=>n.classList.toggle(W_.SCRUBBING,t);function a(t){return r.canSeekNow||r.canSeekToTime(t)}function u(n){t.current=!a(n),t.current||(i("scrubbing",!0),s(!0),(t=>{const{chapters:n,embed:i,playback:r}=e.getState(),{chapters:s}=n;if(!s.length||!i.chapters)return;const a=((t,e)=>e.reduce(((e,n)=>{if(null===e)return n;const i=n.startTime-t,r=e.startTime-t;return Math.abs(i)>Math.abs(r)?e:n}),null))(t,s);if(!a)return;const u=a.startTime,l=t-u,c=Math.abs(l)<=5,d=Sm(s,r.currentFragment);o.sendEvent(qb.CHAPTER_SEGMENT_CLICK,{seek_event_start_time:t,is_chapter_seek:c,nearest_chapter_start_time:u,chapter_seek_event_delta:l,total_no_chapters_at_seek:s.length,fragment_no_chapters_at_seek:d.length})})(n),i("currentTime",n))}return{startScrub:u,continueScrub:function(n){a(n)&&"expanding"!==e.getState().controlBar.expandedState&&(t.current?u(n):i("currentTime",n))},endScrub:function(){t.current=!1,i("scrubbing",!1),s(!1),function(){const{playback:t,liveEvent:n}=e.getState();n.dvrEnabled&&!n.isArchived&&o.sendEvent(t.atLiveEdge?qb.SEEK_TO_LIVE_EDGE:qb.SEEK_BEHIND_LIVE_EDGE)}()}}},IM=(t,e)=>{const n=QO((t=>t.playback.currentFragment)),i=QO((t=>t.playback.currentTime)),r=QO((t=>t.playback.liveEdgeTime)),o=QO((t=>t.playback.liveTailTime)),s=QO((t=>t.playback.atLiveEdge)),a=QO((t=>t.liveEvent.isLiveEvent)),u=QO((t=>t.liveEvent.dvrEnabled)),l=QO((t=>t.liveEvent.isPlayable)),c=QO((t=>t.liveEvent.isArchived)),d=QO((t=>t.liveEvent.isEnded)),h=QO((t=>t.playback.playInitiated)),f=d&&!h&&0===i,p=c&&0!==n.duration;return a&&(u?f:!c&&!l)?0:a&&(u?!f&&!p&&s:!c&&l)?1:!u||f||p||s?((t,e)=>{const{startTime:n,endTime:i}=e;return t<n?0:t>i?1:(t-n)/(i-n)})(e,t):km(e,o,r)},LM=()=>{const t=GN((t=>t.bigPicture)),e=QO((t=>t.captions.language)),n=QO((t=>t.captions.provenance)),i=QO((t=>t.captions.fontSize)),r=QO((t=>t.captions.fontOpacity)),o=QO((t=>t.captions.fontFamily)),s=QO((t=>t.captions.color)),a=QO((t=>t.captions.edgeStyle)),u=QO((t=>t.captions.bgColor)),l=QO((t=>t.captions.bgOpacity)),c=QO((t=>t.captions.windowColor)),d=QO((t=>t.captions.windowOpacity)),h=TS({fontSize:i,fontOpacity:r,fontColor:s,fontFamily:o,edgeStyle:a,bgColor:u,bgOpacity:l,windowColor:c,windowOpacity:d}),f=TS({language_selected:e||"off",has_updated_language:!1,prev_selected_language:e||"off",language_provenance:n||null,prev_language_provenance:n||null,has_clicked_customize:!1,has_customized:!1,has_clicked_font:!1,has_changed_font:!1,has_clicked_background:!1,has_changed_background:!1,has_clicked_window:!1,has_changed_window:!1,has_reset_all:!1,final_action_reset_all:!1}),p=ES((t=>{f.current=Q(Q({},f.current),t)}),[]);return gS((function(){const t=i!==h.current.fontSize||s!==h.current.fontColor||o!==h.current.fontFamily||r!==h.current.fontOpacity||a!==h.current.edgeStyle||u!==h.current.bgColor||l!==h.current.bgOpacity||c!==h.current.windowColor||d!==h.current.windowOpacity;p({has_customized:t})}),[i,r,s,o,a,u,l,c,d,p]),{sendBPClosedCaptionsClickEvent:()=>{t.sendEvent(qb.CLOSED_CAPTIONS_CLICK,f.current),f.current=Q(Q({},f.current),{},{prev_language_provenance:f.current.language_provenance||null,prev_selected_language:f.current.language_selected,has_updated_language:!1,has_clicked_customize:!1,has_customized:!1,has_clicked_font:!1,has_changed_font:!1,has_clicked_background:!1,has_changed_background:!1,has_clicked_window:!1,has_changed_window:!1,has_reset_all:!1,final_action_reset_all:!1}),h.current={fontSize:i,fontOpacity:r,fontColor:s,fontFamily:o,edgeStyle:a,bgColor:u,bgOpacity:l,windowColor:c,windowOpacity:d}},updateCCMetricsPayload:p}},RM=t=>t.playback.supportsTextTracks&&t.captions.textTracks.length>0&&t.appearance.isDisplayContextBackbone&&!t.displayList.ad,xM=()=>QO((t=>RM(t)));function PM(t){var e,n,i,r,o,s,a,u;const{config:l,events:c,parentUrl:d,backbone:h}=t,{embed:f,request:p,video:v}=l,_=!!f.autoplay,m=!(!f.autoplay||null==(e=p.flags)||!e.autohide_controls),b=!!f.settings.playbar,y=!!f.settings.like,g=!!f.settings.share,w=!(null==(n=f.settings.share)||!n.embed_only),T=!!f.settings.collections,C=!!f.settings.watch_later,E=!(null==(i=f.settings)||!i.watch_trailer||f.autoplay||!f.on_site),k=Wy(h,null==(r=v.live_event)?void 0:r.dvr),S=!!(f.settings.speed&&k&&jl.settingPlaybackRate),A=!!f.keyboard,N=!!f.settings.logo,M=!!f.settings.volume,O=!!f.settings.fullscreen,I=!(null==(o=v.live_event)||null==(o=o.settings)||!o.hide_live_label),L=!(null==(s=v.live_event)||!s.show_viewer_count),R=!!f.settings.custom_logo,x=function(t){var e;const{config:n}=t;let i={customLogoUrl:null,customLogoImg:null,customLogoSticky:!1,customLogoWidth:null,customLogoHeight:null};if(null==(e=n.embed.settings.custom_logo)||!e.img)return i;const r=n.embed.settings.custom_logo;let o=r.img;return Bt.devicePixelRatio>=2&&(o=o.replace(/(mw|mh)=(\d+)/g,(function(t,e,n){return e+"="+2*parseInt(n,10)}))),i={customLogoUrl:Ib(r.url),customLogoImg:o,customLogoSticky:r.sticky,customLogoWidth:r.width,customLogoHeight:r.height},i}(t),P=!!f.settings.background,D=0!==f.settings.controls,B=!!f.transparent,$=DM(t),V=!!f.settings.audio_tracks,j=!!f.settings.airplay,H=!!f.settings.chapters,F=!!f.settings.chromecast,U=!!f.settings.cc,z=!!f.settings.quality,X=f.settings.play_button_position,G=!!f.settings.watch_full_video,W=!!f.settings.ask_ai,q=!!v.spatial&&!!f.settings.spatial_compass,Y=v.unlisted_hash,K=!!l.embed.settings.badge,Z=f.tq||"",J=!!f.persistent_logo,tt=p.ai_widget_signature,et=0!==f.unmute_button,nt=!!f.settings.pip,it=!!f.loop,rt=Nb(f.context),ot=Boolean("public"===v.embed_permission&&f.settings.embed),st=v.share_url,at=`https://${l.player_url}/video/${v.id}/share`,ut=v.embed_code,lt=v.url,ct=v.privacy,dt=1===(l.embed.dnt||(null==(a=l.request.flags)?void 0:a.dnt)),ht=function(t){return Object.keys(t).reduce(((e,n)=>Q(Q({},e),{},{[n]:og(t[n])})),{})}(l.request.flags),ft=l.vimeo_api_url,pt=l.embed.cards,vt=!!$||!!W;vt&&c.fire(Iv);let _t=gb(`https://${l.player_url}/video/${v.id}/login/like`,sb.LIKE),mt=gb(`https://${l.player_url}/video/${v.id}/login/watch-later`,sb.WATCH_LATER);const bt=null==(u=l.request.ab_tests)?void 0:u.persistent_logo;return bt&&(_t=xb(_t,bt),mt=xb(mt,bt)),{autoPlay:_,autoHideControls:m,playbar:b,like:y,share:g,embedOnlyShare:w,collections:T,watchLater:C,isTrailer:E,speedChangeEnabled:S,keyboard:A,showVimeoLogo:N,volume:M,fullscreen:O,hideLiveLabel:I,showViewerCount:L,customLogo:R,customLogoFields:x,background:P,controls:D,transparent:B,transcript:$,rightContentAreaEnabled:vt,multipleAudioTracks:V,airplay:j,chapters:H,cc:U,chromecast:F,quality:z,playButtonPosition:X,parentUrl:d,watchFullVideo:G,aiWidget:W,compass:q,videoUnlistedHash:Y,badge:K,transcriptQuery:Z,persistentLogo:J,aiWidgetSignature:tt,unmuteButton:et,pip:nt,loop:it,svvContext:rt,allowEmbedShare:ot,shareUrl:st,embedCode:ut,videoUrl:lt,playerShareUrl:at,privacy:ct,doNotTrack:dt,flags:ht,vimeoApiUrl:ft,cards:pt,likePopupUrl:_t,watchLaterPopupUrl:mt}}function DM(t){const{embed:e,video:n}=t.config,i=n.live_event,r=!i||i.archive.status===Gb.done||i.dvr;return!!e.settings.transcript&&r}function BM(t){var e=-1,n=null==t?0:t.length;for(this.X=new wn;++e<n;)this.add(t[e])}function $M(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function VM(t,e){return t.has(e)}function jM(t,e,n,i,r,o){var s=1&n,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var d=-1,h=!0,f=2&n?new BM:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var p=t[d],v=e[d];if(i)var _=s?i(v,p,d,e,t,o):i(p,v,d,t,e,o);if(void 0!==_){if(_)continue;h=!1;break}if(f){if(!$M(e,(function(t,e){if(!VM(f,e)&&(p===t||r(p,t,n,i,o)))return f.push(e)}))){h=!1;break}}else if(p!==v&&!r(p,v,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function HM(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function FM(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}BM.prototype.add=BM.prototype.push=function(t){return this.X.set(t,"__lodash_hash_undefined__"),this},BM.prototype.has=function(t){return this.X.has(t)};var UM=Ve?Ve.prototype:void 0,zM=UM?UM.valueOf:void 0,XM=Object.prototype.hasOwnProperty,GM="[object Arguments]",WM="[object Array]",qM="[object Object]",YM=Object.prototype.hasOwnProperty;function KM(t,e,n,i,r){return t===e||(null==t||null==e||!We(t)&&!We(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var s=Pe(t),a=Pe(e),u=s?WM:gr(t),l=a?WM:gr(e),c=(u=u==GM?qM:u)==qM,d=(l=l==GM?qM:l)==qM,h=u==l;if(h&&yi(t)){if(!yi(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new oi),s||Oi(t)?jM(t,e,n,i,r,o):function(t,e,n,i,r,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Tr(t),new Tr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return vn(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=HM;case"[object Set]":var u=1&i;if(a||(a=FM),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;i|=2,s.set(t,e);var c=jM(a(t),a(e),i,r,o,s);return s.delete(t),c;case"[object Symbol]":if(zM)return zM.call(t)==zM.call(e)}return!1}(t,e,u,n,i,r,o);if(!(1&n)){var f=c&&YM.call(t,"__wrapped__"),p=d&&YM.call(e,"__wrapped__");if(f||p){var v=f?t.value():t,_=p?e.value():e;return o||(o=new oi),r(v,_,n,i,o)}}return!!h&&(o||(o=new oi),function(t,e,n,i,r,o){var s=1&n,a=ir(t),u=a.length;if(u!=ir(e).length&&!s)return!1;for(var l=u;l--;){var c=a[l];if(!(s?c in e:XM.call(e,c)))return!1}var d=o.get(t),h=o.get(e);if(d&&h)return d==e&&h==t;var f=!0;o.set(t,e),o.set(e,t);for(var p=s;++l<u;){var v=t[c=a[l]],_=e[c];if(i)var m=s?i(_,v,c,e,t,o):i(v,_,c,t,e,o);if(!(void 0===m?v===_||r(v,_,n,i,o):m)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var b=t.constructor,y=e.constructor;b==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,i,r,o))}(t,e,n,i,KM,r))}function ZM(t,e){return KM(t,e)}function QM(t,e){var n;return null!=t&&null!=(n=t.request)&&null!=(n=n.ab_tests)&&n[e]?t.request.ab_tests[e]:{}}const JM=[{id:.5,label:"0.5x"},{id:.75,label:"0.75x"}],tO={id:1,label:"Normal"},eO=[{id:1.25,label:"1.25x"},{id:1.5,label:"1.5x"},{id:2,label:"2x"}],nO=[tO].concat(eO),iO=[].concat(JM,[tO],eO),rO=[].concat(JM,[tO]);function oO(t){var e;const{config:n,backbone:i,progressController:r}=t,o=sO(t),s=!!Bt.airPlay,a=n.embed.quality?mm(i.qualities,n.embed.quality):i.qualities,u=aO(i.qualities,n.embed.quality),l=lO(n);return{playInitiated:!1,targetTimeReached:!1,scrubbing:!1,scrubbingByFrame:!1,paused:!n.embed.autoplay||(null==(e=n.video.live_event)||null==(e=e.archive)?void 0:e.status)===Gb.done,buffering:!1,loadedTime:0,currentTime:i.currentTime,maxPlayedTime:r.maxPlayedTime,liveEdgeTime:i.liveEdgeTime,atLiveEdge:i.atLiveEdge,liveTailTime:i.liveTailTime,hasFragments:l,currentFragment:t.fragmentsHandler.currentFragment,duration:n.video.duration,qualities:a,currentQuality:u,playbackRates:o,loadedMetadata:i.readyState>=1,loadedData:i.readyState>1,canPlayPictureInPicture:t.canPlayPictureInPicture,supportsAirPlay:s,supportsTextTracks:jl.textTracks,supportsStereoscopic:uO(t),isAdPlaying:!1,supportsSettingVolume:jl.settingVolume,volume:i.volume,muted:i.muted||!!n.embed.muted,audioTracks:i.audioTracks,isSegmentedPlaybackEnabled:t.segmentedPlaybackEnabled,startTime:t.startTime,endTime:t.endTime,ended:i.ended,hasFirstTimeUpdate:!1,drm:!!n.request.drm,drmCdm:"",drmMode:Il,canSeekForward:t.progressController.canSeekForward,canPlayForward:t.progressController.canPlayForward}}function sO(t){var e;const{backbone:n,config:i}=t;let r=[];if(Wy(n,null==(e=i.video.live_event)?void 0:e.dvr)&&jl.settingPlaybackRate&&i.embed.settings.speed){const t=function(t,e){return t?nO:e?rO:iO}(n.atLiveTail,n.atLiveEdge);r=mm(t,`${n.playbackRate}`)}return r}function aO(t,e){var n;if(e){var i;const n="string"==typeof e?e:e.quality||`${e.height}p`,r=null==t||null==(i=t.find((t=>t.id===n)))?void 0:i.label;if(r)return r}return null==t||null==(n=t.find((t=>t.active)))?void 0:n.label}function uO(t){const{config:e}=t;return"disable"!==e.video.privacy&&(Bt.webvr||Bt.stereoscopic)&&e.video.spatial&&QM(e,"webvr").group}function lO(t){var e;return!ld(null==(e=t.embed.interactive)?void 0:e.fragments)}function cO(t){const{atLiveEdge:e,liveEdgeTime:n,liveTailTime:i}=t;return{atLiveEdge:e,liveEdgeTime:n,liveTailTime:i}}function dO(){}function hO({config:t,get:e}){const{user:n,video:i}=t,o=n.id,s=aC(i.owner),a=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(n,i,o=null){const s=e().user.vimeoApiClientToken,a=e().user.vimeoApiInteractionTokens,u=e().embed.videoUnlistedHash;return function(t){if(t&&t.then)return t.then(dO)}(function(l,c){try{var d=function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(e().updatePhpTokens(),(function(){const l=n===hM.FOLLOWING?e().user.ownerId:t.video.id;let c;s&&(n===hM.LIKES?c=a.likes:n===hM.WATCH_LATER?c=a.watch_later:n===hM.FOLLOWING&&(c=a.following));const d=`?auth=${c}`,h=u&&n!==hM.FOLLOWING?`:${u}`:"",f=`https://${e().embed.vimeoApiUrl}/users/${e().user.id}/${n}/${l}${h}${d}`;return function(t){return t&&t.then?t.then(dO):r.resolve()}((o??Ee)(f,{jwt:s,method:i}))}))}catch(t){return c(t)}return d&&d.then?d.then(void 0,c):d}(0,(function(t){Cg.captureException(t,{extra:{action:n,method:i}})})))}));return{id:o,liked:!!n.liked,loggedIn:n.logged_in,watchLater:!!n.watch_later,ownerName:i.owner.name,ownerId:i.owner.id,following:!!n.following,collected:!1,shared:!1,isPayingOwner:s,vimeoBucketedLiveClientToken:n.vimeo_bucketed_live_client_token,vimeoApiInteractionTokens:n.vimeo_api_interaction_tokens,vimeoApiClientToken:n.vimeo_api_client_token,persistUserAction:a}}const fO={isVOD:!1,vodButtonVisible:!1};function pO(t){const{video:e,embed:n,user:i,request:r}=t.config;let o=Q({},fO);if(e.vod){const t=!0,s=e.vod.is_coming_soon,a="ondemand.main"===n.context||"Vimeo\\Controller\\OnDemandController.main"===n.context,u=e.vod&&i.purchased,l=e.vod.countries,c=r.country,d=e.vod.purchase_options||[];let h=n.settings.vod&&fm(l,c);h&&s&&a&&(h=!1);const[f]=d;let p=null;f&&(p=vO(r.dynamic_translation_map,"label_string",r.currency,f)),o.isVOD=t,o.vodLabel=p,o.purchased=!!u,o.productId=null==f?void 0:f.product_id,o.isExpiring=!(null==f||!f.expiring),o.isPreorder=void 0!==e.vod.is_preorder?!!e.vod.is_preorder:!!e.vod.date_available,o.isComingSoon=!!e.vod.is_coming_soon,o.vodButtonVisible=h,o.purchaseOptions=d.map((t=>Q(Q({},t),{},{formattedLabel:vO(r.dynamic_translation_map,"outro_string",r.currency,t)}))),o.title=e.vod.feature_title,o.url=e.vod.url,o.releaseDate=e.vod.date_available_formatted_datetime||e.vod.date_available,o.isFeature=!!e.vod.is_feature,o.featureId=e.vod.feature_id,o.isAvailableInCountry=!l||0===l.length||-1!==l.indexOf(c)}return o}function vO(t,e,n,i){var r=i[e];return r?(r=function(t,e,n){let i=n.USD;return e in n&&(i=n[e]),-1!==t.indexOf("${price}")?t.replace("${price}",i):-1!==t.indexOf("{PRICE}")?t.replace("{PRICE}",i):t}(r=function(t,e){return void 0!==t&&void 0!==t[e]?t[e]:e}(t,r),n,i.prices),i.expires_in_duration_str&&(r=r.replace("{TIME}",i.expires_in_duration_str)),i.available_on_formatted&&(r=r.replace("{DATE}",i.available_on_formatted)),r):null}function _O({config:t}){const{badge:e}=t.embed.settings;let n=Bt.devicePixelRatio>1?"img_2x":"img";return Bt.svg&&e.svg&&(n="svg"),{link:e.link,img:e[n],margin:e.margin||!1,width:e.width,height:e.height,name:e.name,shadow:!!e.shadow,id:e.id}}function mO(t){const e=yb(Th,t.config),n=Ty()?e:window.location.href;return{chapters:bO(t),chapterShareBaseUrl:n,activeCueId:null}}function bO(t){const e=a(t.backbone.chapters),n=t.config.embed.chapters||[];return e.map((t=>{const e=n.find((e=>e.timecode===t.startTime));return{cueId:t.id,startTime:t.startTime,endTime:t.endTime,text:t.text,chapterId:null==e?void 0:e.id,clipId:null==e?void 0:e.clip_id,timecode:null==e?void 0:e.timecode,title:null==e?void 0:e.title}}))}let yO=function(t){return t.RTL="rtl",t.LTR="ltr",t}({});const gO={black:"#000",red:"#f00",yellow:"#ff0",green:"#0f0",blue:"#00f",white:"#fff",cyan:"#0ff",magenta:"#f0f"};function wO(t){var e,n,i;const{backbone:r,config:o}=t,s=r.enabledTextTrack,a=r.textTracks,u=!!o.video.live_event,{textTracks:l,activeTextTrackId:c,language:d,direction:h,provenance:f}=TO(a,u,s),p=CO(t);return Q({textTracks:l,textTrackEls:(null==a||null==(e=a.filter((t=>t.trackElement)))?void 0:e.map((t=>t.trackElement)))||[],activeTextTrackId:c,requiresCrossOrigin:1===(null==o||null==(n=o.request)||null==(n=n.flags)?void 0:n.ott)||"dev"===(null==o||null==(i=o.request)||null==(i=i.build)?void 0:i.js)||"gedevplayer.vimeows.com"===(null==o?void 0:o.player_url),activeCues:[],language:d,direction:h,rtlTracks:(a||[]).reduce(((t,e)=>e.rtl?t.concat(e.id):t),[]),provenance:f},p)}function TO(t,e,n){const i="off";let r=[],o=kO(n);return null!=t&&t.length&&(o||(o=i),r.push({label:"Off",id:i,active:o===i,provenance:null,language:i}),t.forEach((t=>{let n="CC"===t.label.substring(t.label.length-2),i="captions"!==t.kind||n?"":" CC",s=e?"Display Captions":t.label+i;const a=kO(t),u={label:s,id:a,active:o===a,language:t.language,provenance:t.provenance};r.push(u)}))),{textTracks:r,activeTextTrackId:o,language:null==n?void 0:n.language,direction:EO(n),provenance:null==n?void 0:n.provenance}}function CO(t){const{store:e}=t,n=Object.keys(Tw()),i={};return n.forEach((t=>{const n=e.get(`ui.captions.${t}`);i[t]=n})),i}function EO(t){return t?t.rtl?yO.RTL:yO.LTR:null}function kO(t){return t?""!==t.id?`${t.id}`:`${t.language}.${t.kind}`:""}function SO(t){var e,n;const{config:i}=t,r=i.video.live_event,o=null==r?void 0:r.status,s=!!o,a=null==r||null==(e=r.archive)?void 0:e.status,u=NO(o),l=AO(a),c=u.isStarted&&Sy(r),d=null==r||null==(n=r.ingest)?void 0:n.scheduled_start_time,h=null==r?void 0:r.settings.event_schedule;return Q(Q(Q({isLiveEvent:s,isPlayable:c},u),l),{},{dvrEnabled:null==r?void 0:r.dvr,viewerCount:Jv(0),liveStatsRequestSucceeded:null,isOnline:null,liveEventSchedule:d,showEventSchedule:h})}function AO(t){return{isArchived:t===w_}}function NO(t){return{isStarted:t===Wb.started,isEnded:t===Wb.ended,isPending:t===Wb.pending,isActive:t===Wb.active}}function MO(t,e){let n;return function(i){if(void 0!==n)return n;if(e in window)return n=r.resolve(window[e]),n;const o=function(t){switch(t.player_url){case"player.vimeo.com":return N_;case"master.playerci.vimeows.com":case"player-backend-ci.vimeows.com":return"CI";case"player2.vimeo.dev":return"DEV";default:return}}(i)===N_?"https://embedder-sdk.wirewax.com":"https://embedder-sdk.wirewax.tv";return n=((t,e=!1)=>new r(((n,i)=>{if(e){const e=document.querySelector(`script[src="${t}"]`);if(e&&!e.dataset.error)return void setTimeout(n,0)}const r=document.createElement("script");r.src=t,r.addEventListener("load",n),r.addEventListener("error",(t=>{r.dataset.error="true",i(t.error)})),document.head.appendChild(r)})))(`${o}/${t}`,!0).then((()=>window[e])),n}}const OO=MO("latest/wirewax-embedder-sdk@beta.umd.js","WIREWAX"),IO=MO("latest-create/create-interactive-plugin@beta.umd.js","CREATE_INTERACTIVE_PLUGIN");function LO(){}function RO(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function xO(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function PO(t,e){const n=RO((function(){return function(n,r){try{var a=function(){h("loading");const n=function(t){const{interactive_id:e,interactive_params:n,create_interactive:i}=t.config.embed;return i.has_create_interactive?{vidDataURL:i.viddata_url,metricsClient:new gg(t)}:{vidId:e,interactiveParams:n}}(t);return xO(function(t){return t.embed.create_interactive.has_create_interactive?IO(t):OO(t)}(i),(function(t){const r=t;if(h("loaded"),!u)return l=r(e,n),xO(l.ready(),(function(){if(h("initialized"),u)return h("destroyed"),void l.destroy();const t=l.getInteractiveData("hotspots"),e=l.getInteractiveData("polls");o().setInteractive("hotspots",t),o().setInteractive("polls",e),d=function(t){const e=()=>o().backbone.play(),n=()=>o().backbone.pause(),i=t=>s.fire(kv,t),r=t=>s.fire(Sv,t),a=({seekTo:t,seekType:e})=>{s.fire(Nv,{type:e}),o().progressController.maxPlayedTime=t,o().backbone.currentTime=t},u=t=>{t.overlayOnDisplay?(s.fire(cp,Am.INTERACTIVE),o().setInteractive("active",!0)):(s.fire(dp,Am.INTERACTIVE),o().setInteractive("active",!1))};return t.on("play",e),t.on("pause",n),t.on("hotspotClick",i),t.on("overlayPanelClick",r),t.on("seeked",a),t.on("toggleOverlay",u),()=>{t.off("play",e),t.off("pause",n),t.off("hotspotClick",i),t.off("overlayPanelClick",r),t.off("seeked",a),t.off("toggleOverlay",u)}}(l),c=function(t){function e(){f(t),t.play()}function n(){p(),t.pause()}function i(){t.setCurrentTime(o().playback.currentTime)}function r(){t.setEnded(!0),t.setCurrentTime(o().backbone.duration)}function a(){h("destroyed"),t.destroy(),u()}function u(){p(),s.off(fo.PLAY,e),s.off(fo.PAUSE,n),s.off(fo.SEEKED,i),s.off(fo.ENDED,r)}return s.on(fo.PLAY,e),s.on(fo.PAUSE,n),s.on(fo.SEEKED,i),s.on(fo.ENDED,r),s.once(Af,e),a}(l),i.embed.autoplay&&(f(l),l.play())}));h("destroyed")}))}()}catch(t){return r()}return a&&a.then?a.then(void 0,r):a}(0,(function(t){h("error")}))})),{config:i,get:o,events:s}=t;let a,u=!1,l=null,c=null,d=null;return{load:RO((function(){if(!u)return function(t,e){return function(t,e,n){if(n)return e?e(t()):t();try{var i=r.resolve(t());return e?i.then(e):i}catch(t){return r.reject(t)}}(t,LO,e)}(n)})),destroy(){u=!0,null==d||d(),null==c||c()}};function h(t){o().setInteractive("embedderStateHistory",o().interactive.embedderStateHistory.concat(t))}function f(t){cancelAnimationFrame(a),a=requestAnimationFrame((()=>{t.setCurrentTime(o().backbone.currentTime),f(t)}))}function p(){cancelAnimationFrame(a)}}function DO(){}const BO=t=>{const e=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){return function(){var e=function(){if(function(){var t,e,n;return!(null!=(t=i())&&null!=(t=t.interactive)&&t.destroyed)&&(null==(e=i())||null==(e=e.interactive)?void 0:e.enabled)&&!(null==(n=i().interactive)||!n.instanceId)&&!Bt.browser.ie}()){const e=PO(t,i().interactive.instanceId);return u("embedderManager",e),function(t,e){return void 0?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}(e.load(),(function(){u("ready",!0)}))}}();if(e&&e.then)return e.then(DO)}()})),{set:n,get:i,events:o,subscribe:s}=t,a=$O(t),u=(t,e)=>{n((n=>({interactive:Q(Q({},n.interactive),{},{[t]:e})})))},l=()=>{c(),n((()=>({interactive:$O(t)})))};function c(){var t;u("destroyed",!0);const e=null==(t=i().interactive)?void 0:t.embedderManager;e&&(e.destroy(),u("embedderManager",null),u("instanceId",null))}return o.on(Lp,(t=>{t&&l()})),o.on(Hp,l),o.on(uf,c),s((t=>{var e;return null==t||null==(e=t.interactive)?void 0:e.instanceId}),e),{interactive:a,setInteractive:u}};function $O({config:t}){const{interactive:e}=t.embed,n=!(null==e||!e.markers);return{hotspots:[],polls:[],enabled:VO(t.embed),showMarkers:n,instanceId:null,active:!1,embedderManager:null,ready:!1,destroyed:!1,embedderStateHistory:[]}}function VO(t){return!!t.interactive_id||!!t.create_interactive&&(1===t.create_interactive.has_create_interactive||!0===t.create_interactive.has_create_interactive)}let jO=function(t){return t.EMPTY="empty",t.QOE_SURVEY="qoe_survey",t.SKIP_TO_LIVE="skip_to_live",t.BROADCAST_OVER="broadcast_over",t.FRAME_CAPTURED="frame_captured",t.CHANGE_LANGUAGES="change_languages",t}({});const HO=[jO.QOE_SURVEY,jO.BROADCAST_OVER,jO.FRAME_CAPTURED,jO.SKIP_TO_LIVE,jO.CHANGE_LANGUAGES];function FO(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const UO=XO((function(t,e){var n;const{width:i,height:r}=e().appearance.boundingClientRect;let o=Object.assign({},t);if(null!=t&&t.img_base&&(o.imageUrl=function(t,e,n){const{width:i,height:r}=sM(e*Bt.devicePixelRatio,n*Bt.devicePixelRatio);return aM({baseUrl:t,width:i,height:r})}(t.img_base,i,r)),(null==o||null==(n=o.videos)?void 0:n.length)>0){const t=e().user.ownerId,n=e().user.ownerName,s=Math.round(i/o.videos.length),a=Math.round(r/o.videos.length);o.videos=o.videos.map(function(t,e,n,i){return r=>{const{owner:o}=r,s=Object.assign({},r);return o.id!==t&&(s.byline="from "+e),r.thumbnail_base&&(s.thumbnail=aM({baseUrl:r.thumbnail_base,width:n,height:i})),s}}(t,n,s,a))}return o})),zO=function(t,e){return FO(UO(t,e),(function(t){return null!=t&&t.url&&(t.url=Ib(t.url)),null!=t&&t.url2&&(t.url2=Ib(t.url2)),t}))};function XO(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function GO(){}const WO=t=>{const{set:e,get:n,events:i,subscribe:o,config:s}=t,a=(t,n)=>{e((e=>({outro:Q(Q({},e.outro),{},{[t]:n})})))};i.on(Lp,((t,i)=>{i.embed.outro!==n().outro.purpose&&e((t=>({outro:Q(Q({},t.outro),{},{outroData:null,fetchingOutroData:!1,purpose:i.embed.outro})})))})),i.on(Yh,XO((function(t,e){let i=!1;a("purpose",t);const r=!(null==e||!e.data);return function(o,s){var u=function(){if(r)return FO(zO(e.data,n),(function(e){a("outroData",e),h(t,e),i=!0}))}();return u&&u.then?u.then(s):s(u)}(0,(function(e){if(i)return e;t===n().outro.purpose&&n().outro.outroData||d(t)}))}))),o((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.outro}),l),o((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.overlay}),l),o((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.currentTime}),c),o((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.ended}),c),o((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.ended}),(function(t){t&&n().outro.purpose===FA.BEGINNING&&i.fire(xh)}));const u=function({config:t}){let{outro:e}=t.embed;return e!==FA.THREEVIDEOS&&e!==FA.PROMOTED||(e=FA.VIDEOS),{purpose:e,active:!1,outroData:null,fetchingOutroData:!1}}(t);function l(){const t=n().displayList.outro&&!n().displayList.overlay;t!==n().outro.active&&a("active",t)}function c(){const t=n().outro.fetchingOutroData,e=n().playback.currentTime>=(n().playback.isSegmentedPlaybackEnabled?n().playback.endTime-n().playback.startTime:n().playback.duration)-10,i=null!==n().outro.outroData,r=n().embed.background;t||!e||i||r||d(n().outro.purpose)}function d(t){const e=XO((function(){return function(t){if(t&&t.then)return t.then(GO)}(function(e,o){try{var s=function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return a("fetchingOutroData",!0),FO(Ee(p,{withCredentials:!0,retry:3}),(function(e){return FO(e.json(),(function(e){return FO(zO(e.data,n),(function(e){return FO(function(t){const e=function(t){var e;let n=[];return null!=t&&t.imageUrl&&n.push(t.imageUrl),(null==t||null==(e=t.videos)?void 0:e.length)>0&&n.concat(t.videos.map((t=>t.thumbnail))),n}(t);return r.all(e.map((t=>uM(t))))}(e),(function(){i.fire(Wv,e),a("outroData",e),h(t,e)}))}))}))}))}),(function(t){}))}catch(t){return o(!0,t)}return s&&s.then?s.then(o.bind(null,!1),o.bind(null,!0)):o(!1,s)}(0,(function(t,e){return a("fetchingOutroData",!1),function(t,e){if(t)throw e;return e}(t,e)})))}));if(n().outro.fetchingOutroData)return;const{player_url:o}=s,{id:u,unlisted_hash:l}=s.video,{on_site:c}=s.embed,d=`https://${o}/video/${u}/outro`,f={on_site:c?1:0,type:t};l&&(f.h=l);const p=Qt(d,f);e()}function h(t,e){var i;[FA.VIDEOS,FA.THREEVIDEOS].includes(t)&&e.following&&(null==(i=n())||i.setUser("following",!!e.following))}return{outro:u,setOutro:a}};let qO=function(t){return t.LikedAdded="liked-added",t.LikeRemoved="like-removed",t.WatchLaterAdded="watch-later-added",t.WatchLaterRemoved="watch-later-removed",t}({});function YO(t){const{config:e}=t;return{supportsChromecast:Db(e),isChromecastConnected:!1,isChromecastPlaying:!1,isChromecastBuffering:!1,isChromecastReady:KO(),receiverFriendlyName:null}}function KO(){return Dw.castState!==Ym.NOT_SETUP&&Dw.castState!==Ym.NO_DEVICES_AVAILABLE}const{Provider:ZO,useStore:QO,useStoreApi:JO}=EA(),tI=({player:t,children:e})=>{const[n,i]=bS(!1);return fN((()=>i(!0)),t),n?zN(ZO,{createStore:()=>CA(((e,n,i)=>{const r=i.subscribe;return i.subscribe=(t,e,n)=>{let o=t;if(e){const r=(null==n?void 0:n.equalityFn)||Object.is;let s=t(i.getState());o=n=>{const i=t(n);if(!r(s,i)){const t=s;e(s=i,t)}},(null==n?void 0:n.fireImmediately)&&e(s,s)}return r(o)},((e,n,{subscribe:i})=>{const r=Q(Q({set:e,get:n,subscribe:i},t),{},{get backbone(){return t.backbone},get displayContext(){return t.displayContext},get config(){return t.config},get fragmentsHandler(){return t.fragmentsHandler},get startTime(){return t.startTime},set startTime(e){t.startTime=e},get endTime(){return t.endTime},set endTime(e){t.endTime=e},get segmentedPlaybackEnabled(){return t.segmentedPlaybackEnabled},get canPlayPictureInPicture(){return t.canPlayPictureInPicture},get parentUrl(){return t.parentUrl},set parentUrl(e){t.parentUrl=e},get progressController(){return t.progressController},get bigPicture(){return t.bigPicture}}),{config:o,backbone:s,element:a,expose:u,verifyConfig:l,events:c,updatePhpTokens:d,progressController:h,bigPicture:f,debugCollector:p}=t,v=Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q({},(t=>{const{set:e,events:n}=t,i=kA(t);return n.on(gp,(()=>{e((()=>({debug:kA(t)})))})),{debug:i}})(r)),(t=>{const{set:e,get:n,events:i,subscribe:r}=t,o=LA(t),s=(t,n)=>{e((e=>({controlBar:Q(Q({},e.controlBar),{},{[t]:n})})))};function a(){const t=rg(ig.FULL_CONTROLS,n().appearance.playerSizeMode,n().appearance.playerBreakpoint);s("showAllControls",t)}return i.on(Lp,(()=>{e((()=>({controlBar:LA(t)})))})),i.on(Qh,(t=>{s("overrideBehavior",t)})),r((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.playerSizeMode}),a),r((t=>{var e;return null==t||null==(e=t.appearance)?void 0:e.playerBreakpoint}),a),r((t=>{var e;return null==t||null==(e=t.controlBar)?void 0:e.expandedState}),(t=>s("isExpanded","expanded"===t||"expanding"===t))),{controlBar:o,setControlBar:s}})(r)),cN(r)),(t=>{const{store:e,set:n,events:i,element:r,backbone:o,config:s}=t,a=dN(t),u=(t,e)=>n((n=>({appearance:Q(Q({},n.appearance),{},{[t]:e})})));return e.watch("ui.player.breakpoint",(t=>u("playerBreakpoint",t))),e.watch("ui.player.mode",(t=>u("playerSizeMode",t))),e.watch("ui.app.breakpoint",(t=>u("appBreakpoint",t))),e.watch("ui.app.mode",(t=>u("appSizeMode",t))),e.watch("ui.controlbar.isMenuFullWidth",(t=>u("isMenuBlockingUI",t))),e.watch("ui.player.isVerticalVideo",(t=>{u("isVerticalVideo",t)})),e.watch("ui.controlbar.isMenuVerticalVideoMode",(t=>u("isMenuVerticalVideoMode",t))),e.watch("ui.player.width",(()=>{u("boundingClientRect",r_(r))})),e.watch("ui.controlbar.doMenuItemsWrap",(t=>{u("shouldMenuItemsWrap",t)})),e.watch("ui.player.width",(t=>{const{videoHeight:i,videoWidth:r}=hN(t,e.get("ui.player.height"),s.video.width,s.video.height);n((e=>({appearance:Q(Q({},e.appearance),{},{videoHeight:i,videoWidth:r,playerWidth:t})})))})),e.watch("ui.player.height",(t=>{const{videoHeight:i,videoWidth:r}=hN(e.get("ui.player.width"),t,s.video.width,s.video.height);n((e=>({appearance:Q(Q({},e.appearance),{},{videoHeight:i,videoWidth:r,playerHeight:t})})))})),e.watch("ui.container.height",(t=>{u("containerHeight",t)})),e.watch("ui.container.width",(t=>{u("containerWidth",t)})),i.on(Jf,(()=>u("fullscreen",!0))),i.on(np,(t=>{n((e=>{const n={fullscreen:!1,forceExitedFullscreen:e.appearance.forceExitedFullscreen};return t||(n.forceExitedFullscreen=!0),{appearance:Q(Q({},e.appearance),n)}}))})),i.on(fo.WEBKIT_END_FULLSCREEN,(()=>{u("fullscreen",!1)})),i.on(hv,(()=>{n((t=>({appearance:Q(Q({},t.appearance),{},{showAirPlayPicker:!0})})))})),i.on(fv,(()=>{n((t=>({appearance:Q(Q({},t.appearance),{},{showAirPlayPicker:!1})})))})),i.on(xh,(()=>{n((()=>({appearance:dN(t)})))})),i.on(hv,(()=>{n((t=>({appearance:Q(Q({},t.appearance),{},{externalDisplay:!0})})))})),i.on(fv,(()=>{n((t=>({appearance:Q(Q({},t.appearance),{},{externalDisplay:!1})})))})),i.on(fo.ENTER_PICTURE_IN_PICTURE,(()=>{n((t=>({appearance:Q(Q({},t.appearance),{},{pictureInPictureActive:!0})})))})),i.on(fo.LEAVE_PICTURE_IN_PICTURE,(()=>{n((t=>({appearance:Q(Q({},t.appearance),{},{pictureInPictureActive:!1})})))})),i.on(yo.WEBVR_ENTER,(()=>{n((t=>({appearance:Q(Q({},t.appearance),{},{stereoscopicEnabled:!0})})))})),i.on(yo.WEBVR_EXIT,(()=>{n((t=>({appearance:Q(Q({},t.appearance),{},{stereoscopicEnabled:!1})})))})),i.on(fo.LOADED_DATA,(()=>{n((e=>({appearance:Q(Q({},e.appearance),{},{isStartTimeThumbLoading:Kg(t)})})))})),{appearance:a,setAppearance:(t,e)=>{"fullscreen"!==t?"pictureInPictureActive"!==t?"showAirPlayPicker"!==t?("stereoscopicEnabled"===t&&i.fire(Kf),"transcriptNavActive"===t&&"boolean"==typeof e&&i.fire(Rv,e),u(t,e)):i.fire(pv):i.fire(o.pictureInPictureActive?tf:Jh):i.fire(Rf)}}})(r)),(t=>{const{set:e,events:n,subscribe:i,get:r}=t,o=PM(t);return n.on(Lp,(()=>{e((()=>({embed:PM(t)})))})),n.on(Vv,(function(t){t&&e((e=>({embed:Q(Q({},e.embed),{},{parentUrl:t})})))})),i((t=>{var e;return null==t||null==(e=t.liveEvent)?void 0:e.isArchived}),(i=>{var o;const s=DM(t),a=null==(o=r())||null==(o=o.embed)?void 0:o.transcript;i&&s&&!a&&(n.fire(Iv),e((t=>({embed:Q(Q({},t.embed),{},{rightContentAreaEnabled:!0,transcript:!0})}))))})),{embed:o}})(r)),MA(r)),(t=>{const{events:e,set:n}=t,i={direction:null,time:null},r=()=>{clearTimeout(IA),IA=setTimeout((()=>{n((t=>({displayList:Q(Q({},t.displayList),{},{nudgeNotification:!1})}))),e.fire(If)}),1050)},o=t=>{r(),n((e=>({displayList:Q(Q({},e.displayList),{},{nudgeNotification:!0}),nudge:t})))};return e.on(Of,(({direction:t,time:e})=>{o({direction:t,time:e})})),{nudge:i,setNudge:(t,e)=>{r(),n((n=>({nudge:Q(Q({},n.nudge),{},{[t]:e})})))},setNudgeProperties:o,startNudgeHideTimeout:r}})(r)),(t=>{const{events:e,set:n,get:i,backbone:r,subscribe:o,progressController:s,bigPicture:a}=t,u=(t,e)=>{n((n=>({playback:Q(Q({},n.playback),{},{[t]:e})})))},l=oO(t);return e.on(xh,(()=>{n((()=>({playback:oO(t)})))})),e.on(Lp,(e=>{e&&n((()=>({playback:oO(t)})))})),e.on(Lc,(()=>u("playInitiated",!0))),e.once(Af,(()=>u("hasFirstTimeUpdate",!0))),e.on(fo.PLAY,(()=>{n((t=>({playback:Q(Q({},t.playback),{},{scrubbing:!1,scrubbingByFrame:!1,paused:!1,playInitiated:!0,ended:!1})})))})),e.on(Pf,(()=>u("paused",!1))),e.on([fo.PAUSE,yf,xf],(()=>u("paused",!0))),e.on(Sf,(()=>u("targetTimeReached",!0))),e.on(mo.BUFFER_STARTED,(()=>u("buffering",!0))),e.on(mo.BUFFER_ENDED,(()=>u("buffering",!1))),e.on(Hf,(t=>{u("scrubbing",!0),"keyboard"===(null==t?void 0:t.seekType)&&null!=t&&t.isFrameByFrame&&u("scrubbingByFrame",!0)})),e.on(Ff,(()=>{u("scrubbing",!1),u("scrubbingByFrame",!1)})),e.on(rf,(t=>{n((e=>{const n=e.liveEvent.dvrEnabled?e.playback.liveTailTime:0,i=e.liveEvent.dvrEnabled?e.playback.liveEdgeTime:e.playback.duration,r=a_(t,n,i);return{playback:Q(Q({},e.playback),{},{currentTime:r})}}))})),e.on(fo.TIME_UPDATE,(({currentTime:e,timeProgress:i,liveEdgeTime:r,atLiveEdge:o,liveTailTime:a,atLiveTail:u})=>{n((n=>{const l=Math.min(h_(100*i),100);e=e||n.playback.duration*l||0;const c=sO(t),d=s.maxPlayedTime,h=s.canSeekForward,f=s.canPlayForward;return{playback:Q(Q({},n.playback),{},{currentTime:e,liveEdgeTime:r,atLiveEdge:o,liveTailTime:a,atLiveTail:u,playbackRates:c,maxPlayedTime:d,canSeekForward:h,canPlayForward:f})}}))})),e.on(Tf,(()=>{const t=i().liveEvent.dvrEnabled&&!i().playback.atLiveEdge,e=i().liveEvent.dvrEnabled&&i().playback.atLiveEdge;t||n((t=>({playback:Q(Q({},t.playback),{},{ended:!0,currentTime:e?0:t.playback.currentFragment.duration})})))})),e.on(fo.PROGRESS,(({loaded:t})=>{n((e=>({playback:Q(Q({},e.playback),{},{loadedTime:t})})))})),e.on([Lf,fo.DURATION_CHANGE],(()=>{if(!ZM(i().playback.currentFragment,t.fragmentsHandler.currentFragment)){const e=lO(t.config);n((n=>({playback:Q(Q({},n.playback),{},{hasFragments:e,currentFragment:t.fragmentsHandler.currentFragment,maxPlayedTime:s.maxPlayedTime})})))}})),e.on(fo.LOADED_METADATA,(()=>{n((t=>({playback:Q(Q({},t.playback),{},{loadedMetadata:!0})})))})),e.on(fo.LOADED_DATA,(()=>{n((t=>({playback:Q(Q({},t.playback),{},{loadedData:!0})})))})),e.on([mo.STREAM_CHANGE,$c],(t=>{const e={currentQuality:aO(r.qualities,t)};i().liveEvent.isLiveEvent&&Object.assign(e,{qualities:r.qualities}),n((t=>({playback:Q(Q({},t.playback),e)})))})),e.on(kf,(t=>{n((e=>({playback:Q(Q({},e.playback),{},{qualities:r.qualities,currentQuality:aO(r.qualities,t)})})))})),e.on(mo.AUDIO_TRACK_CHANGED,(()=>u("audioTracks",r.audioTracks))),e.once(Bc,(()=>u("canPlayPictureInPicture",t.canPlayPictureInPicture))),e.on(cv,(()=>{n((t=>({playback:Q(Q({},t.playback),{},{supportsAirPlay:!0})})))})),e.on(dv,(()=>{n((t=>({playback:Q(Q({},t.playback),{},{supportsAirPlay:!1})})))})),e.on(Nf,(()=>{n((e=>({playback:Q(Q({},e.playback),{},{playbackRates:sO(t)})})))})),e.on(Cf,(t=>{n((e=>({playback:Q(Q({},e.playback),{},{volume:t,muted:r.muted})})))})),e.on(Ef,(t=>{n((e=>({playback:Q(Q({},e.playback),{},{muted:t})})))})),e.on(mo.AVAILABLE_STREAMS_CHANGED,(()=>{n((t=>({playback:Q(Q({},t.playback),{},{qualities:r.qualities,currentQuality:aO(r.qualities)})})))})),e.on([mv,yv,_v,bv,Tv,Cv],(()=>{n((t=>({playback:Q(Q({},t.playback),{},{isAdPlaying:!1})})))})),e.on([wv,gv],(()=>{n((t=>({playback:Q(Q({},t.playback),{},{isAdPlaying:!0})})))})),e.on([Hv,Fv],(()=>{n((e=>({playback:Q(Q({},e.playback),{},{isSegmentedPlaybackEnabled:t.segmentedPlaybackEnabled,startTime:t.startTime,endTime:t.endTime})})))})),e.on(nd.LATENCY_UPDATED,(function(){n((t=>t.playback.paused||t.playback.buffering?t.playback.scrubbing?AA:{playback:Q(Q({},t.playback),cO(r))}:AA))})),e.on(mo.SCANNER_CHANGE,(function(){n((t=>({playback:Q(Q({},t.playback),cO(r))})))})),o((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.atLiveEdge}),(t=>!t&&i().liveEvent.dvrEnabled&&!i().liveEvent.isArchived&&a.sendEvent(qb.DVR_MODE_ENTERED))),o((t=>{var e;return null==t||null==(e=t.embed)?void 0:e.pip}),(()=>{n((e=>({playback:Q(Q({},e.playback),{},{canPlayPictureInPicture:t.canPlayPictureInPicture})})))})),e.on(mo.DRM_CDM_CHANGE,(t=>{ZM(i().playback.drmCdm,t)||u("drmCdm",t)})),e.on(mo.DRM_KEY_SWITCH,(t=>{u("drmMode",t)})),e.on([Zv,Qv],(()=>{n((t=>({playback:Q(Q({},t.playback),{},{canSeekForward:s.canSeekForward,canPlayForward:s.canPlayForward})})))})),{playback:l,clearSegment:()=>{t.startTime=null,t.endTime=null},setPlayback:(t,o,s)=>{if("paused"!==t){if("qualities"===t&&"string"==typeof o)return e.fire(Dh,o),void n((t=>{const e=mm(t.playback.qualities,o);return{playback:Q(Q({},t.playback),{},{qualities:e,currentQuality:aO(e)})}}));if("playbackRates"===t&&"string"==typeof o)return e.fire(af,o),void n((t=>{const e=mm(t.playback.playbackRates,o);return{playback:Q(Q({},t.playback),{},{playbackRates:e})}}));if("scrubbing"!==t)if("currentTime"!==t||"number"!=typeof o)if("volume"!==t||"number"!=typeof o)if("muted"!==t||"boolean"!=typeof o)if("audioTracks"!==t)u(t,o);else{const t=r.audioTracks.find((t=>t.id===`${o}`));t&&(r.enableAudioTrack(t),e.fire(lf,t))}else e.fire(Lh,o);else e.fire(Ih,o);else switch(null==s?void 0:s.seekType){case"interactive-marker":e.fire(Oh,o),e.fire(Pf),e.fire(Av,{type:"interactive-marker",action:null==s?void 0:s.action});break;case"nudge":e.fire(Mf),e.fire(Oh,o),i().playback.playInitiated||e.fire(Pf);break;default:e.fire(Oh,o)}else o?e.fire(Hf):e.fire(Ff)}else!1===o?e.fire(Pf):e.fire(xf)}}})(r)),(t=>{const{events:e,set:n}=t,i=(t,e)=>{n((n=>({user:Q(Q({},n.user),{},{[t]:e})})))};return e.on(Ep,(()=>i("liked",!0))),e.on(kp,(()=>i("liked",!1))),e.on(Sp,(()=>i("watchLater",!0))),e.on(Ap,(()=>i("watchLater",!1))),e.on(Lp,((t,e)=>{n((()=>({user:hO({config:e})})))})),e.on(Mp,(()=>{n((()=>({user:hO(t)})))})),e.on(Qp,(()=>i("following",!1))),e.on(Zp,(()=>i("following",!0))),{user:hO(t),setUser:(n,r)=>{if("collected"!==n)if("shared"!==n)i(n,r);else{const{share:n}=t.config.embed.settings,i=null!=n&&n.embed_only?sp:op;e.fire(i)}else e.fire(up)}}})(r)),(t=>{const{set:e,get:n,events:i,subscribe:r}=t,o=pO(t);function s(t){t&&n().vod.vodButtonVisible?e((t=>({vod:Q(Q({},t.vod),{},{vodButtonVisible:!1})}))):t||!n().vod.isVOD||n().vod.vodButtonVisible||e((t=>({vod:Q(Q({},t.vod),{},{vodButtonVisible:!0})})))}return r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.fullPlayerElement}),(t=>{s(t)})),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.ad}),(t=>s(t))),i.on(Lp,((n,i)=>{e((()=>({vod:pO(Q(Q({},t),{},{config:i}))})))})),{vod:o,setVod:(t,n)=>{e((e=>({vod:Q(Q({},e.vod),{},{[t]:n})})))}}})(r)),(t=>{const{set:e,get:n,events:i}=t,r=zA(t);let o=null;const s=(t,i)=>{if("purpose"!==t)e((e=>({overlay:Q(Q({},e.overlay),{},{[t]:i})})));else{const t=n().overlay.purpose===i?Am.EMPTY:i;e((e=>({overlay:Q(Q({},e.overlay),{},{purpose:t})})))}};return i.on(cp,((t,e)=>{e||(n().overlay.purpose===t?i.fire(dp):s("purpose",t))})),i.on(dp,(()=>{o=null,s("purpose",Am.EMPTY),s("showCloseButton",!0)})),i.on(Rh,((t,e,r)=>{r||(t===Am.SPATIAL_REDIRECT&&s("spatialRedirectContext",e),n().displayList.accessGate||i.fire(cp,t))})),i.on(_f,((t,e)=>{UA(o,t,e)&&(o=t,s("showCloseButton",!1),s("purpose",Am.ERROR))})),i.on(Vp,(()=>{o===om.NETWORK&&(o=null,s("purpose",Am.EMPTY))})),Bt.stereoscopic&&i.on(yp,(()=>{s("spatialRedirectContext","headset"),s("purpose",Am.SPATIAL_REDIRECT)})),{overlay:r,setOverlay:(t,e)=>{("purpose"!==t||XA(e))&&("purpose"===t&&e===Am.EMPTY||e===Am.INTERACTIVE?i.fire(dp):("purpose"===t&&XA(e)&&(i.fire(Rh,e,{},!0),i.fire(cp,e,!0)),s(t,e)))}}})(r)),(t=>{const{set:e,events:n}=t,i=OA(t);return n.on(Lp,((n,i)=>{e((()=>({title:OA(Q(Q({},t),{},{config:i}))})))})),n.on([Hv,Fv],(()=>{var n;const{segmentedPlaybackEnabled:i}=t;let r=yb(yh,t.config);i&&(r=Pb(r,t.startTime,t.endTime));const o=null==(n=t.config.request.ab_tests)?void 0:n.persistent_logo;o&&(r=xb(r,o)),e((t=>({title:Q(Q({},t.title),{},{titleLinkUrl:r})})))})),{title:i}})(r)),(t=>{const{events:e,set:n}=t,i=_O(t);return e.on(Lp,((t,e)=>{n((()=>({badge:_O({config:e})})))})),{badge:i,setBadge:(t,i)=>{"id"!==t||"number"!=typeof i?((t,e)=>{n((n=>({badge:Q(Q({},n.badge),{},{[t]:e})})))})(t,i):e.fire(Qf,i)}}})(r)),(t=>{const{set:e,events:n}=t,i=(t,n)=>{e((e=>({chapters:Q(Q({},e.chapters),{},{[t]:n})})))},r=mO(t),o=({backbone:t})=>{if(t.chaptersTrack){const e=()=>n.fire(jf,null==t?void 0:t.currentChapterID);t.chaptersTrack.addEventListener("cuechange",e)}};return o(t),n.on(jf,(t=>{e((e=>({chapters:Q(Q({},e.chapters),{},{activeCueId:t})})))})),n.on(mo.CHAPTER_CUES_UPDATED,(()=>i("chapters",bO(t)))),n.on(Lp,(()=>{e((()=>({chapters:mO(t)}))),o(t)})),{chapters:r,setChapters:i}})(r)),(t=>{const{set:e,get:n,events:i,backbone:r}=t,o=Tw(),s=t=>{var i;const o=TO(r.textTracks,null==(i=n())||null==(i=i.liveEvent)?void 0:i.isLiveEvent,t);e((t=>({captions:Q(Q({},t.captions),o)})))},a=wO(t);return i.on(Wf,(t=>{s(t)})),i.on(mo.TEXT_TRACKS_AVAILABLE,(()=>{s()})),i.on(Lp,(()=>{e((()=>({captions:wO(t)})))})),i.on(xc,((t,n=[])=>{r.enabledTextTrack&&"disabled"!==(null==t?void 0:t.mode)&&e((t=>({captions:Q(Q({},t.captions),{},{activeCues:jr(n)})})))})),i.on(Xh,(()=>{e((t=>({captions:Q(Q({},t.captions),{},{activeCues:[]})})))})),{captions:a,setCaptions:(n,r)=>{if("activeTextTrackId"===n&&"string"==typeof r)return"off"!==r&&r?void i.fire(zh,r):void i.fire(Xh);if(nb.hasOwnProperty(n)&&"string"==typeof r){const s=o[n];return i.fire(Gh,s,r),void e((e=>({captions:Q(Q({},e.captions),CO(t))})))}((t,n)=>{e((e=>({captions:Q(Q({},e.captions),{},{[t]:n})})))})(n,r)},resetCaptionsStyles:()=>{i.fire(Wh),e((e=>({captions:Q(Q({},e.captions),CO(t))})))}}})(r)),(t=>{const{events:e,set:n,subscribe:i}=t,r=SO(t),o=(t,e)=>{n((n=>({liveEvent:Q(Q({},n.liveEvent),{},{[t]:e})})))};e.on(Lp,(()=>{n((()=>({liveEvent:SO(t)})))}));const{EVENT_ACTIVE:s,EVENT_PENDING:a,EVENT_STARTED:u,EVENT_ENDED:l}=nd,c={[s]:Wb.active,[a]:Wb.pending,[u]:Wb.started,[l]:Wb.ended};Object.getOwnPropertySymbols(c).forEach((t=>e.on(t,(()=>n((e=>({liveEvent:Q(Q({},e.liveEvent),NO(c[t]))})))))));const{ARCHIVE_STARTED:d,ARCHIVE_DONE:h,ARCHIVE_ERROR:f}=nd,p={[d]:Gb.started,[h]:Gb.done,[f]:Gb.error};return Object.getOwnPropertySymbols(p).forEach((t=>e.on(t,(()=>n((e=>({liveEvent:Q(Q({},e.liveEvent),AO(p[t]))}))))))),e.on(nd.LIVE_STATS_SUCCESS,(({viewerCount:t})=>{n((e=>({liveEvent:Q(Q({},e.liveEvent),{},{viewerCount:Jv(t),liveStatsRequestSucceeded:!0})})))})),e.on(nd.LIVE_STATS_FAILURE,(()=>{o("liveStatsRequestSucceeded",!1)})),e.on(nd.STREAM_ONLINE,(()=>{o("isOnline",!0)})),e.on(nd.STREAM_OFFLINE,(()=>{o("isOnline",!1),Bt.iOS&&CC.element&&(e.fire(ep),CC.exit())})),e.on(jv,(()=>{o("isPlayable",!0)})),i((t=>{var e;return null==t||null==(e=t.liveEvent)?void 0:e.isStarted}),(t=>!t&&o("isPlayable",!1))),{liveEvent:r,setLiveEvent:o}})(r)),BO(r)),(t=>{const{set:e,events:n,config:i}=t,r={cuePoints:[]};return n.on(Lp,(()=>{e((()=>({cuePoints:{cuePoints:[]}})))})),i.embed.on_site&&(n.on(qf,(t=>{e((e=>{const n=e.cuePoints.cuePoints.concat(t);return{cuePoints:Q(Q({},e.cuePoints),{},{cuePoints:n})}}))})),n.on(Yf,(t=>{e((e=>{const n=e.cuePoints.cuePoints.filter((e=>e.id!==t.id));return{cuePoints:Q(Q({},e.cuePoints),{},{cuePoints:n})}}))}))),{cuePoints:r,setCuePoints:(t,n)=>{e((e=>({cuePoints:Q(Q({},e.cuePoints),{},{[t]:n})})))}}})(r)),(t=>{const{set:e,get:n,events:i,subscribe:r,element:o,config:s}=t,a={purpose:jO.EMPTY};let u=function(t){const{request:e,video:n,embed:i}=t.config,{qoe_survey_forced:r,ott:o}=e.flags,{qoe_survey_vote:s}=e.cookie,{duration:a,live_event:u}=n;return!(!r&&(a<60&&!u||!Mm(i)||o||Om(7776e6)<s/1e3||!(Math.random()<.005)))}(t),l=!!s.request.cookie.languages_toast;const c=(t,i)=>{Mm(s.embed)&&gy({newPriority:i,currentPriority:n().toast.purpose,priorityOrder:HO})&&e((e=>({toast:Q(Q({},e.toast),{},{[t]:i})})))},d=()=>{u&&gy({newPriority:jO.QOE_SURVEY,currentPriority:n().toast.purpose,priorityOrder:HO})&&(t=>{if(!t)return!1;const e=t.getBoundingClientRect(),n=e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth),i="visible"===document.visibilityState;return n&&i})(o)&&(c("purpose",jO.QOE_SURVEY),i.fire(Bv),u=!1)};function h(){e((t=>{const{liveEvent:e,toast:n,playback:i,displayList:r}=t;return e.dvrEnabled&&n.purpose!==jO.SKIP_TO_LIVE?i.atLiveEdge?AA:e.isPlayable?i.paused&&!i.scrubbing?AA:r.controlBar?{toast:{purpose:jO.SKIP_TO_LIVE}}:AA:AA:AA}))}function f(){e((t=>t.toast.purpose!==jO.SKIP_TO_LIVE?AA:{toast:{purpose:jO.EMPTY}}))}return r((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.playInitiated}),(t=>{var e,i;const r=function(t,e){return e?6e5:Math.round(.4*t*1e3)}(null==(e=n())||null==(e=e.playback)?void 0:e.duration,null==(i=n())||null==(i=i.liveEvent)?void 0:i.isLiveEvent);t&&r&&setTimeout(d,r)})),r((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.atLiveEdge}),(t=>{t?f():h()})),r((t=>{var e;return null==t||null==(e=t.liveEvent)?void 0:e.isEnded}),(t=>t&&void e((t=>t.liveEvent.dvrEnabled&&t.liveEvent.isEnded?{toast:{purpose:jO.BROADCAST_OVER}}:AA)))),r((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.paused}),(t=>{n().liveEvent.isEnded||n().playback.scrubbing||(t?f():h())})),r((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.controlBar}),(t=>t?h():f())),i.on(Kv,(()=>{c("purpose",jO.FRAME_CAPTURED)})),i.on(Bf,(()=>!l&&void(l||RM(n())&&s.embed.settings.cc&&1===s.request.flags.new_subtitles_ui&&(c("purpose",jO.CHANGE_LANGUAGES),i.fire($v))))),i.on($v,(()=>{l=!0})),{toast:a,setToast:c,closeToast:()=>{c("purpose",jO.EMPTY)}}})(r)),(t=>{const{get:e,set:n,subscribe:i,config:r,backbone:o}=t,s=PA(t),a=(t,i)=>{Mm(r.embed)&&gy({newPriority:i,currentPriority:e().topCenterActionItem.purpose,priorityOrder:xA})&&n((e=>({topCenterActionItem:Q(Q({},e.topCenterActionItem),{},{[t]:i})})))},u=t=>{t&&e().topCenterActionItem.purpose!==t||a("purpose",RA.EMPTY)},l=()=>u(RA.UNMUTE),c=()=>a("purpose",RA.WATCH_FULL_VIDEO),d=()=>u(RA.WATCH_FULL_VIDEO);return i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.loadedData}),(t=>{if(!t)return;const n=e(),i=n.embed.autoPlay||n.liveEvent.isLiveEvent,r=0===n.playback.volume||n.playback.muted,s=Mm(n.embed),u=o.hasAudio||n.liveEvent.isLiveEvent;r&&i&&s&&u&&n.embed.unmuteButton&&a("purpose",RA.UNMUTE)})),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.volume}),(t=>t>0&&l())),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.muted}),(t=>!t&&l())),i((t=>{var e;return null==t||null==(e=t.liveEvent)?void 0:e.isEnded}),(t=>t&&l())),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.isSegmentedPlaybackEnabled}),(()=>{DA(e())?c():d()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.controlBar}),(()=>{DA(e())?c():d()})),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.outro}),(()=>{DA(e())?c():d()})),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.paused}),(()=>{DA(e())?c():d()})),i((t=>{var e;return null==t||null==(e=t.playback)?void 0:e.hasFirstTimeUpdate}),(t=>{if(r.video.spatial&&t){const t=e().embed.cards;if((null==t?void 0:t.length)&&t[0].timecode<15)return;setTimeout((()=>{a("purpose",RA.SPATIAL_INSTRUCTIONS_CLICK),setTimeout((()=>u()),3e3)}),7e3),Bt.android||setTimeout((()=>{a("purpose",RA.SPATIAL_INSTRUCTIONS_ARROWS),setTimeout((()=>u()),3e3)}),14e3)}})),{topCenterActionItem:s,setTopCenterActionItem:a,closeTopCenterActionItem:u}})(r)),(t=>{const{events:e,set:n}=t,i=(t,e)=>{n((n=>({spatial:Q(Q({},n.spatial),{},{[t]:e})})))};return e.on(yo.WEBVR_ENTER,(()=>{i("webVRActive",!0)})),e.on(yo.WEBVR_EXIT,(()=>{i("webVRActive",!1)})),e.on(yo.CAMERA_UPDATE,(t=>{n((e=>({spatial:Q(Q({},e.spatial),{},{latitude:t.pitch,longitude:t.yaw})})))})),{spatial:function(t){const{spatial:e}=t.config.video;return{webVRActive:!1,longitude:0,latitude:0,fieldOfView:e?e.fov:0}}(t),setSpatial:i}})(r)),WO(r)),(t=>{const{set:e,events:n,subscribe:i,get:r}=t,o=(t,n)=>{e((e=>({alert:Q(Q({},e.alert),{},{[t]:n})})))},s=t=>{e((e=>{const n=e.embed.background;return e.displayList.overlay||n?AA:{alert:Q(Q({},e.alert),{},{currentAlert:t})}}))};return n.on(_h,(()=>s(GA.SPATIAL_UNSUPPORTED))),n.on(mh,(()=>s(GA.SPATIAL_FAILURE))),i((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.overlay}),(t=>{t&&r().alert.currentAlert!==GA.EMPTY&&o("currentAlert",GA.EMPTY)})),{alert:{currentAlert:GA.EMPTY},setAlert:o}})(r)),(t=>{const{get:e,set:n,events:i}=t,r=(t,e)=>{n((n=>({notification:Q(Q({},n.notification),{},{[t]:e})})))};return i.on([lv,xh],(()=>r("currentNotification",null))),i.on([Ep,kp],(()=>{const t=e().user.liked;r("currentNotification",t?qO.LikedAdded:qO.LikeRemoved)})),i.on([Sp,Ap],(()=>{const t=e().user.watchLater;r("currentNotification",t?qO.WatchLaterAdded:qO.WatchLaterRemoved)})),{notification:{currentNotification:null},setNotification:r}})(r)),(t=>{const{set:e}=t,n=(t,n)=>{e((e=>({chromecast:Q(Q({},e.chromecast),{},{[t]:n})})))},i=YO(t);return Dw.on([Iw.initialized,Iw.castStateChanged],(()=>{n("isChromecastReady",KO())})),Dw.on(Iw.buffering,(()=>{n("isChromecastBuffering",!0)})),Dw.on(Iw.error,(()=>{n("supportsChromecast",!1)})),Dw.on(Iw.connected,(t=>{e((e=>{var n;return{chromecast:Q(Q({},e.chromecast),{},{isChromecastConnected:!0,receiverFriendlyName:null==t||null==(n=t.receiver)?void 0:n.friendlyName})}}))})),Dw.on(Iw.disconnected,(()=>{e((()=>({chromecast:YO(t)})))})),Dw.on(Iw.playing,(()=>{e((t=>({chromecast:Q(Q({},t.chromecast),{},{isChromecastPlaying:!0,isChromecastBuffering:!1})})))})),Dw.on([Iw.error,Iw.idle,Iw.paused,Iw.ended,Iw.disconnected],(()=>{e((t=>({chromecast:Q(Q({},t.chromecast),{},{isChromecastPlaying:!1,isChromecastBuffering:!1})})))})),{chromecast:i}})(r)),{},{config:o,backbone:s,element:a,name:(null==u?void 0:u.name)||Km.VimeoPlayer,verifyConfig:l,events:c,subscribe:i,updatePhpTokens:d,progressController:h,bigPicture:f,debugCollector:p});return c.fire(Gv,v),v})(e,n,i)})),children:e}):null},eI=t=>`opacity ${t}ms ease-out`,nI=({children:t,visible:e,duration:n=250,styleOverrides:i={},onFaded:r,delay:o=0,fadeIn:s=!0,fadeOut:a=!0})=>{const u=QO((t=>t.embed.background||!t.embed.controls||t.displayList.accessGate)),l=eI(n),c={enter:{opacity:0},enterActive:{opacity:1,transition:l,transitionDelay:`${o}ms`},enterDone:{opacity:1},exit:{opacity:1},exitActive:{opacity:0,transition:l,transitionDelay:`${o}ms`},exitDone:u?{display:"none"}:{overflow:"hidden",opacity:0,pointerEvents:"none"}};return Object.keys(i).forEach((t=>{t in c&&Object.assign(c[t],i[t])})),s||delete c.enter,a||delete c.exit,zN(US,{in:e,duration:n,styles:c,alwaysMounted:!0,onExited:()=>{r&&r()},children:t})};const iI=({children:t,text:e})=>{const n=TS(e),[i,r]=bS(!1),[o,s]=bS(!1),a=()=>{o||s(!0)},u=()=>{i&&(a(),r(!1))},l=()=>{i||Bt.touch||(a(),r(!0))},c=ES((()=>{o&&s(!1)}),[o]),d={className:"LabeledButton_module_box__2e0341f7",onMouseEnter:l,onMouseLeave:u,onFocus:l,onBlur:u},h=Q({className:"LabeledButton_module_labeledButton__2e0341f7"},lm((e=>{u(),t.props.onClick&&t.props.onClick(e)}))),f=`${eI(lg)} transform 250 ease-out`,p={visible:i,styleOverrides:{enterActive:{transform:"translateX(0)",transition:f},exitActive:{transform:"translateX(5px)",transition:f}}};return n.current!==e&&(o?p.onFaded=c:n.current=e),zN("div",Q(Q({},d),{},{children:[zN(nI,Q(Q({},p),{},{children:zN("label",Q(Q({},h),{},{role:"presentation","aria-hidden":"true",children:zN("span",{children:n.current})}))})),t]}))};const rI=["href","children","element","className","targetBlank"],oI=YS(((t,e)=>{let{href:n,children:i,element:r="div",className:o="",targetBlank:s=!0}=t,a=J(t,rI);const u=Pk(r,Q(Q({},a),{},{className:o}),i);return n?zN("a",Q(Q(Q({href:n,className:_m("Link_module_link__05dd5324",o),ref:e,"aria-describedby":q_.NEW_WINDOW_DESCRIPTION},s?{target:"_blank",rel:"noopener"}:{}),a),{},{children:i})):u})),sI=["direction"],aI=["fill"],uI={[jN.CLOSE]:t=>zN("svg",Q(Q({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M11.06 10l4.597-4.596a.749.749 0 1 0-1.061-1.06L10 8.938 5.404 4.343a.749.749 0 1 0-1.06 1.061L8.938 10l-4.596 4.596a.749.749 0 1 0 1.061 1.06L10 11.062l4.596 4.596a.749.749 0 1 0 1.06-1.061L11.062 10z",fill:"#fff",fillRule:"evenodd"})})),[jN.AIRPLAY]:t=>zN("svg",Q(Q({viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","data-airplay-icon":!0},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.6666 4.99992H3.33329V13.3333H5.43825L4.0911 14.9999H3.33329C2.41282 14.9999 1.66663 14.2537 1.66663 13.3333V4.99992C1.66663 4.07944 2.41282 3.33325 3.33329 3.33325H16.6666C17.5871 3.33325 18.3333 4.07944 18.3333 4.99992V13.3333C18.3333 14.2537 17.5871 14.9999 16.6666 14.9999H15.9088L14.5617 13.3333H16.6666V4.99992ZM10.7777 12.6288C10.3774 12.1336 9.62249 12.1336 9.22224 12.6288L6.26454 16.288C5.73597 16.9419 6.2014 17.9166 7.04225 17.9166H12.9577C13.7985 17.9166 14.2639 16.9419 13.7354 16.288L10.7777 12.6288Z"})})),[jN.DOLBY_VISION]:t=>zN("svg",Q(Q({viewBox:"0 0 844 126","aria-labelledby":"dv-logo-title"},Object.assign({},(K(t),t))),{},{children:[zN("title",{id:"dv-logo-title",children:"Dolby Vision"}),zN("path",{d:"M478.94 30.12l-18.96 42.63-18.95-42.63h-15.9l26.9 60.48-6.59 14.85a7.77 7.77 0 01-10.25 3.94l-2.08-.93-5.88 13.19h.03l5.04 2.26a18.86 18.86 0 0024.85-9.56l37.69-84.23h-15.9zm-66.52 33.04c0-11-9.05-20.05-20.06-20.05a20.08 20.08 0 00-19.02 26.37 20.05 20.05 0 0039.08-6.32zm13.2.13a33.3 33.3 0 01-33.26 33.26 33.08 33.08 0 01-19.02-6v6.02h-14.58V.47h14.58v35.55c5.4-3.77 11.96-6 19.02-6a33.3 33.3 0 0133.27 33.27zm-93.64 33.29h14.55V.48h-14.55v96.1zm-22.62-33.4c0-11-9.05-20.06-20.06-20.06a20.07 20.07 0 000 40.11c11 0 20.06-8.92 20.06-20.05zm13.2.03a33.3 33.3 0 01-33.26 33.26 33.3 33.3 0 01-33.26-33.26 33.3 33.3 0 0133.26-33.27 33.3 33.3 0 0133.27 33.27zM234.1 48.47a33.5 33.5 0 00-33.44-33.45h-20.12v66.9h20.12a33.5 33.5 0 0033.44-33.45zm14.56 0c0 26.47-21.54 48-48 48h-34.68v-96h34.68c26.46 0 48 21.53 48 48zM136.92.47h-14.17c-26.44 0-48 21.56-48 48s21.56 48 48 48h14.17v-96zM.36 96.47h14.16c26.45 0 48-21.56 48-48s-21.55-48-48-48H.36v96zm789.18-66.35c.4 4.2.54 12.61.54 16.14v50.32h7.46V62.8c0-17.63 9.9-26.44 20.88-26.44 13.96 0 17.9 10.3 17.9 22.78v37.44h7.32V56.43c0-14.92-7.05-26.3-23.6-26.3-9.48 0-18.97 5.55-22.63 14.23h-.27c0-3.39-.28-10.7-.55-14.24h-7.05zM769.7 63.28c0 15.02-9.88 26.65-25.7 26.65-15.7 0-25.57-11.63-25.57-26.65 0-15.01 9.88-26.78 25.57-26.78 15.82 0 25.7 11.77 25.7 26.78zm7.57 0c0-19.2-13.66-33.14-33.27-33.14-19.48 0-33.14 13.94-33.14 33.14 0 19.07 13.66 33.28 33.14 33.28 19.61 0 33.27-14.2 33.27-33.28zm-78.51-33.16h-7.85v66.44h7.85V30.12zm1.57-24.1a5.58 5.58 0 00-5.56-5.55 5.55 5.55 0 000 11.12c2.85 0 5.56-2.3 5.56-5.56zm-24.88 34.81c-4.06-6.91-12.04-10.7-21.24-10.7-10.96 0-21.51 5.42-21.51 17.62 0 23.46 36.66 13.01 36.66 30.24 0 8.8-7.71 12.33-15.56 12.33a21.65 21.65 0 01-18.13-9.76l-5.81 4.2c5.4 8 14.47 11.8 23.94 11.8 11.5 0 22.87-5.7 22.87-19.12 0-10.3-7.71-15.18-21.1-18.17-10.43-2.3-15.84-4.74-15.84-12.06 0-7.87 7.58-10.98 14.21-10.98 7.03 0 12.72 3.38 15.83 8.67l5.68-4.07zM617.6 30.1h-7.46v66.48h7.46V30.1zm1.76-23.96A5.58 5.58 0 00613.8.6a5.56 5.56 0 000 11.11c2.85 0 5.56-2.3 5.56-5.56zm-61.1 80.8h.27L590.92.47h8.27l-36.6 96.1h-8.68L517.44.48h8.4l32.4 86.47z",fill:"currentColor",fillRule:"nonzero"})]})),[jN.PIP]:t=>{let{direction:e="enter"}=t;return zN("svg",Q(Q({viewBox:"0 0 16 12"},J(t,sI)),{},{children:[zN("polygon",{className:X_.FILL,points:"6 8 1 8 1 1 14 1 14 6 15 6 15 0 0 0 0 9 6 9 6 8"}),zN("rect",{className:X_.FILL,x:"7",y:"7",width:"9",height:"5"}),zN("polyline",{className:X_.FILL,transform:"enter"===e?"translate(4, 4) rotate(180) translate(-4, -4)":"",points:"5.33 2 5.33 3 3.67 3 5.67 5 5 5.67 3 3.67 3 5.33 2 5.33 2 2"})]}))},[jN.ENTER_FULLSCREEN]:()=>zN("svg",{className:W_.ENTER_FULLSCREEN_ICON,width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-enter-fullscreen":!0,children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 5L17.5858 5L14.2929 8.29292C13.9024 8.68345 13.9024 9.31661 14.2929 9.70714C14.6834 10.0977 15.3166 10.0977 15.7071 9.70714L19 6.41426V8C19 8.55228 19.4477 9 20 9C20.5523 9 21 8.55228 21 8V4C21 3.73478 20.8946 3.48043 20.7071 3.29289C20.5196 3.10536 20.2652 3 20 3H16C15.4477 3 15 3.44772 15 4C15 4.55228 15.4477 5 16 5ZM5 8.00002V6.4142L8.29292 9.70712C8.68345 10.0976 9.31661 10.0976 9.70714 9.70712C10.0977 9.3166 10.0977 8.68343 9.70714 8.29291L6.41424 5.00001L8 5.00002C8.55228 5.00002 9 4.5523 9 4.00002C9 3.44773 8.55228 3.00002 8 3.00002H4C3.73478 3.00002 3.48043 3.10537 3.29289 3.29291C3.10536 3.48044 3 3.7348 3 4.00002V8.00002C3 8.5523 3.44772 9.00001 4 9.00001C4.55228 9.00001 5 8.5523 5 8.00002ZM8.00002 19H6.4142L9.70712 15.7071C10.0976 15.3166 10.0976 14.6834 9.70712 14.2929C9.3166 13.9024 8.68343 13.9024 8.29291 14.2929L5.00001 17.5858V16C5.00001 15.4477 4.5523 15 4.00001 15C3.44773 15 3.00002 15.4477 3.00002 16L3.00002 20C3.00002 20.2652 3.10537 20.5196 3.29291 20.7071C3.48044 20.8947 3.7348 21 4.00002 21H8.00002C8.5523 21 9.00001 20.5523 9.00001 20C9.00001 19.4477 8.5523 19 8.00002 19ZM19 17.5858V16C19 15.4477 19.4477 15 20 15C20.5523 15 21 15.4477 21 16V20C21 20.2652 20.8946 20.5196 20.7071 20.7071C20.5196 20.8947 20.2652 21 20 21H16C15.4477 21 15 20.5523 15 20C15 19.4477 15.4477 19 16 19H17.5858L14.2929 15.7071C13.9023 15.3166 13.9023 14.6834 14.2929 14.2929C14.6834 13.9024 15.3166 13.9024 15.7071 14.2929L19 17.5858Z"})}),[jN.EXIT_FULLSCREEN]:()=>zN("svg",{className:W_.EXIT_FULLSCREEN_ICON,width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-exit-fullscreen":!0,children:[zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.41425 7.00003L8.41425 4.41425L10.4142 4.41425L10.4142 9.41425C10.4142 9.67946 10.3089 9.93382 10.1214 10.1214C9.93382 10.3089 9.67946 10.4142 9.41425 10.4142L4.41425 10.4142L4.41425 8.41425L7.00003 8.41425L3 4.41422L4.41422 3L8.41425 7.00003Z"}),zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.0097 8.41425L21 4.42398L19.5858 3.00977L15.5858 7.0098L15.5858 4.42401L13.5858 4.42401L13.5858 9.41424C13.5858 9.67946 13.6911 9.93382 13.8787 10.1214C14.0662 10.3089 14.3205 10.4142 14.5858 10.4142L19.5858 10.4142L19.5858 8.41425L17.0097 8.41425Z"}),zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.41419 17L4.41421 21L3 19.5858L6.99997 15.5858L4.41419 15.5858L4.41419 13.5858L9.41419 13.5858C9.96647 13.5858 10.4142 14.0335 10.4142 14.5858L10.4142 19.5858L8.41419 19.5858L8.41419 17Z"}),zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5858 16.9986L19.5855 21L21 19.5861L17.0015 15.5858L19.5813 15.5858L19.5813 13.5858L14.5858 13.5858C14.3206 13.5858 14.0662 13.6912 13.8787 13.8787C13.6912 14.0662 13.5858 14.3206 13.5858 14.5858L13.5858 19.5858L15.5858 19.5858L15.5858 16.9986Z"})]}),[jN.GEAR]:t=>zN("svg",Q(Q({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.16668 1.66699C8.2462 1.66699 7.50001 2.41318 7.50001 3.33366V4.72835C7.21484 4.86382 6.94241 5.02175 6.68499 5.19984L5.46953 4.4981C4.68103 4.04285 3.66009 4.31415 3.20034 5.11047L2.36526 6.55686C1.90707 7.35046 2.17605 8.3701 2.96953 8.82822L4.18535 9.53017C4.17298 9.68526 4.16668 9.84206 4.16668 10.0003C4.16668 10.1586 4.17298 10.3154 4.18535 10.4705L2.96953 11.1724C2.17605 11.6306 1.90707 12.6502 2.36526 13.4438L3.20034 14.8902C3.66009 15.6865 4.68103 15.9578 5.46953 15.5026L6.685 14.8008C6.94241 14.9789 7.21484 15.1368 7.50001 15.2723V16.667C7.50001 17.5875 8.2462 18.3337 9.16668 18.3337H10.8333C11.7538 18.3337 12.5 17.5875 12.5 16.667V15.2723C12.7851 15.1369 13.0574 14.979 13.3147 14.801L14.5298 15.5026C15.3183 15.9578 16.3393 15.6865 16.799 14.8902L17.6341 13.4438C18.0923 12.6502 17.8233 11.6306 17.0298 11.1724L15.8146 10.4708C15.827 10.3156 15.8333 10.1587 15.8333 10.0003C15.8333 9.84193 15.827 9.68501 15.8146 9.52981L17.0298 8.82822C17.8233 8.3701 18.0923 7.35046 17.6341 6.55686L16.799 5.11047C16.3393 4.31415 15.3183 4.04285 14.5298 4.4981L13.3147 5.19963C13.0574 5.02162 12.7851 4.86377 12.5 4.72835V3.33366C12.5 2.41318 11.7538 1.66699 10.8333 1.66699H9.16668ZM12.5 10.0003C12.5 11.381 11.3807 12.5003 10 12.5003C8.6193 12.5003 7.50001 11.381 7.50001 10.0003C7.50001 8.61961 8.6193 7.50033 10 7.50033C11.3807 7.50033 12.5 8.61961 12.5 10.0003Z"})})),[jN.VIMEO]:t=>zN("svg",Q(Q({width:"54",height:"18",viewBox:"0 0 54 18",role:"img",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fill:"#fff",fillRule:"evenodd",clipRule:"evenodd",d:"M17.1192 1.32529C17.1011 1.76753 16.8758 2.19197 16.4427 2.59836C15.9559 3.05781 15.3789 3.28759 14.7119 3.28759C13.6845 3.28759 13.1881 2.84607 13.2245 1.96218C13.2418 1.50286 13.5168 1.06061 14.0487 0.636176C14.5808 0.21258 15.1711 0 15.8207 0C16.1992 0 16.5146 0.146412 16.7675 0.437671C17.0197 0.729653 17.1367 1.02548 17.1192 1.32529ZM17.7011 13.0761C17.6 13.1708 17.4962 13.2641 17.3896 13.3562C16.181 14.3855 14.9735 14.9003 13.766 14.9003C13.2063 14.9003 12.778 14.7228 12.4809 14.3676C12.1837 14.0126 12.0438 13.5517 12.062 12.9831C12.0794 12.3977 12.2642 11.4922 12.6159 10.2672C12.9677 9.04241 13.1439 8.3853 13.1439 8.29652C13.1439 7.83551 12.981 7.60428 12.6571 7.60428C12.555 7.60428 12.2769 7.77023 11.8227 8.10073C11.4798 9.10988 10.7329 10.3442 9.58186 11.8036C7.94436 13.9012 6.5589 14.9501 5.42559 14.9501C4.72371 14.9501 4.1294 14.3115 3.64413 13.0338L2.67201 9.5206C2.31167 8.24356 1.92519 7.60426 1.51184 7.60426C1.42173 7.60426 1.10644 7.79121 0.566591 8.16344L0 7.44389C0.59431 6.92922 1.18068 6.41456 1.75765 5.89905C2.55027 5.22401 3.14543 4.86899 3.54217 4.83314C4.47949 4.74436 5.05646 5.37584 5.27308 6.72759C5.50692 8.18593 5.66896 9.09304 5.75981 9.44818C6.03016 10.6581 6.32726 11.2625 6.65219 11.2625C6.90423 11.2625 7.28277 10.87 7.78781 10.0852C8.29201 9.3002 8.56236 8.70301 8.59875 8.29265C8.67067 7.61521 8.40032 7.2757 7.78781 7.2757C7.49939 7.2757 7.20217 7.34115 6.89641 7.47036C7.48828 5.55955 8.61926 4.63151 10.2884 4.68432C11.403 4.71661 11.9869 5.3614 12.04 6.6187C12.3087 6.37895 12.5773 6.1391 12.846 5.89907C13.6213 5.22403 14.1982 4.86889 14.5776 4.83316C15.1719 4.78023 15.609 4.95226 15.8887 5.35096C16.1677 5.74953 16.2713 6.2666 16.2001 6.90362C15.9654 7.9836 15.7124 9.35472 15.4422 11.0178C15.424 11.7794 15.7037 12.1594 16.2807 12.1594C16.5328 12.1594 16.9833 11.897 17.6329 11.3707L17.6568 11.3514C17.6982 10.9804 17.7648 10.5395 17.8569 10.029C18.0055 9.20512 18.0884 8.56353 18.1059 8.10264C18.1414 7.78419 18.06 7.62455 17.8624 7.62455C17.7541 7.62455 17.4475 7.8044 16.9425 8.16339L16.2936 7.44397C16.3838 7.37383 16.9512 6.85832 17.9976 5.899C18.7546 5.20689 19.2684 4.85174 19.5387 4.83382C20.0074 4.79809 20.3859 4.98877 20.6745 5.40623C20.9629 5.82357 21.1075 6.3078 21.1075 6.85832C21.1075 7.03589 21.0894 7.2048 21.0539 7.36457C21.3241 6.95649 21.6394 6.60063 22.0006 6.29854C22.8296 5.58837 23.7584 5.18812 24.7858 5.09933C25.6694 5.02847 26.3001 5.23251 26.6795 5.71217C26.9852 6.10304 27.1291 6.66294 27.1117 7.39091C27.2382 7.28504 27.3733 7.16907 27.518 7.04443C27.9322 6.56489 28.3376 6.18329 28.7343 5.899C29.4013 5.41935 30.096 5.15311 30.8168 5.09933C31.6822 5.02847 32.3041 5.23179 32.6828 5.70988C33.0067 6.09919 33.1514 6.65669 33.1159 7.38165C33.0976 7.87755 32.976 8.59866 32.7508 9.54546C32.5246 10.4923 32.4124 11.0358 32.4124 11.1775C32.3943 11.5498 32.4307 11.8059 32.5207 11.9476C32.6108 12.0893 32.8266 12.1593 33.1696 12.1593C33.3237 12.1593 33.5517 12.0614 33.8539 11.8652C33.8254 11.6415 33.8136 11.4089 33.8184 11.1674C33.8359 9.72924 34.4855 8.36197 35.7659 7.06471C37.1718 5.64451 38.8307 4.9335 40.7418 4.9335C42.5089 4.9335 43.4462 5.64282 43.5545 7.06002C43.6264 7.96328 43.1214 8.89372 42.0402 9.85075C40.8856 10.8964 39.4338 11.5607 37.6855 11.844C38.0096 12.2871 38.4964 12.5083 39.146 12.5083C40.4438 12.5083 41.8593 12.1836 43.3925 11.5326C43.4607 11.5043 43.528 11.4758 43.5944 11.4474C43.5823 11.339 43.5733 11.2286 43.5673 11.1161C43.4765 9.5907 44.0351 8.18902 45.2443 6.9121C46.5421 5.49333 48.1733 4.78413 50.1388 4.78413C51.4003 4.78413 52.3559 5.20147 53.0054 6.03459C53.6187 6.79769 53.8977 7.78179 53.8439 8.98725C53.7714 10.6192 53.1587 12.0294 52.0049 13.2175C50.851 14.4058 49.4173 15 47.7047 15C46.2805 15 45.1985 14.5475 44.4596 13.6427C44.2931 13.4353 44.1496 13.2118 44.0292 12.9724C43.8357 13.0907 43.6324 13.209 43.4193 13.3273C41.5083 14.4097 39.5697 14.9501 37.605 14.9501C36.1444 14.9501 35.098 14.4704 34.4673 13.512C34.4211 13.4446 34.3774 13.3759 34.3361 13.3059L34.2784 13.3561C33.0701 14.3856 31.8623 14.9003 30.6549 14.9003C29.4819 14.9003 28.9146 14.2618 28.9507 12.9832C28.9682 12.4147 29.0813 11.7319 29.2882 10.9331C29.4953 10.1341 29.6084 9.51274 29.6266 9.06893C29.6448 8.39462 29.4368 8.05668 29.0021 8.05668C28.532 8.05668 27.9716 8.60792 27.3204 9.70896C26.6328 10.8637 26.2614 11.9826 26.2076 13.0657C26.1712 13.8304 26.2471 14.4168 26.4352 14.8247C25.177 14.8606 24.2956 14.6558 23.793 14.2119C23.3426 13.821 23.1363 13.1733 23.1727 12.2669C23.1901 11.6985 23.2786 11.13 23.4382 10.5617C23.597 9.99324 23.6856 9.48711 23.7038 9.04247C23.7402 8.38536 23.4959 8.05668 22.9727 8.05668C22.5206 8.05668 22.0329 8.56353 21.5098 9.57578C20.9866 10.588 20.6974 11.6455 20.6436 12.7466C20.6072 13.7416 20.672 14.4338 20.8372 14.8247C19.5995 14.8606 18.7207 14.6035 18.2006 14.0538C17.9631 13.8005 17.7966 13.4746 17.7011 13.0761ZM40.3632 7.9913C40.3807 7.51477 40.183 7.27573 39.7689 7.27573C39.2283 7.27573 38.6798 7.64254 38.1219 8.37592C37.5638 9.10942 37.2754 9.81177 37.2579 10.483C37.2477 10.483 37.2477 10.5982 37.2579 10.8279C38.1399 10.5101 38.9051 10.0243 39.5531 9.37024C40.0748 8.80505 40.345 8.34476 40.3632 7.9913ZM50.5847 7.56539C50.738 7.96564 50.8059 8.40644 50.7877 8.88682C50.7515 9.74099 50.4905 10.5593 50.0038 11.3426C49.4268 12.2864 48.7321 12.7574 47.9212 12.7574C47.56 12.7574 47.2802 12.562 47.0827 12.1703C46.9026 11.8324 46.8212 11.4408 46.8393 10.9953C46.8748 10.0882 47.1452 9.23414 47.6511 8.43291C48.2453 7.4541 49.0025 6.96434 49.9223 6.96434C50.2102 6.96434 50.4313 7.16513 50.5847 7.56539Z"})})),[jN.VIMEO_SMALL]:t=>zN("svg",Q(Q({viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fill:"#fff",fillRule:"evenodd",clipRule:"evenodd",d:"M18.7781 6.00913C18.6943 7.81161 17.4171 10.2795 14.9465 13.4122C12.3922 16.6841 10.231 18.3203 8.46324 18.3203C7.36838 18.3203 6.44133 17.3242 5.68438 15.331C5.17905 13.5043 4.67352 11.6776 4.168 9.85093C3.60591 7.8589 3.00305 6.86167 2.35829 6.86167C2.21771 6.86167 1.7259 7.1533 0.88381 7.73392L0 6.61152C0.927048 5.80871 1.84171 5.00589 2.74171 4.20176C3.9781 3.14879 4.90648 2.59501 5.52533 2.53908C6.98743 2.40059 7.88743 3.38562 8.22533 5.49419C8.5901 7.76902 8.84286 9.18398 8.98457 9.73796C9.40629 11.6253 9.86971 12.5681 10.3766 12.5681C10.7697 12.5681 11.3602 11.9557 12.148 10.7316C12.9345 9.50713 13.3562 8.57558 13.413 7.93547C13.5251 6.87875 13.1034 6.34917 12.148 6.34917C11.6981 6.34917 11.2345 6.45126 10.7575 6.65281C11.6808 3.67218 13.445 2.22456 16.0486 2.30695C17.9792 2.36287 18.8891 3.59693 18.7781 6.00913Z"})})),[jN.ENTER_PICTURE_IN_PICTURE]:t=>zN("svg",Q(Q({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{"data-enter-pip":!0,children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.33329 4.99992H16.6666V9.99992H18.3333V4.99992C18.3333 4.07944 17.5871 3.33325 16.6666 3.33325H3.33329C2.41282 3.33325 1.66663 4.07944 1.66663 4.99992V13.3333C1.66663 14.2537 2.41282 14.9999 3.33329 14.9999H8.33329V13.3333H3.33329V4.99992ZM9.99996 12.6666C9.99996 12.1143 10.4477 11.6666 11 11.6666H17.3333C17.8856 11.6666 18.3333 12.1143 18.3333 12.6666V17.3333C18.3333 17.8855 17.8856 18.3333 17.3333 18.3333H11C10.4477 18.3333 9.99996 17.8855 9.99996 17.3333V12.6666ZM7.91663 7.60408V8.59492L6.17079 6.84909C6.05829 6.73659 5.90163 6.66659 5.72913 6.66659C5.38413 6.66659 5.10413 6.94575 5.10413 7.29159C5.10413 7.46409 5.17413 7.61992 5.28746 7.73325L7.03246 9.47909H6.04163C5.69663 9.47909 5.41663 9.75825 5.41663 10.1041C5.41663 10.4491 5.69663 10.7291 6.04163 10.7291H8.54163C8.88663 10.7291 9.16663 10.4491 9.16663 10.1041V7.60408C9.16663 7.25825 8.88663 6.97909 8.54163 6.97909C8.19663 6.97909 7.91663 7.25825 7.91663 7.60408Z",fill:"white"})})),[jN.EXIT_PICTURE_IN_PICTURE]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-exit-pip":!0},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 6H20V12H22V6C22 4.89543 21.1046 4 20 4H4C2.89543 4 2 4.89543 2 6V16C2 17.1046 2.89543 18 4 18H10V16H4V6ZM12 15C12 14.4477 12.4477 14 13 14H21C21.5523 14 22 14.4477 22 15V21C22 21.5523 21.5523 22 21 22H13C12.4477 22 12 21.5523 12 21V15ZM7.625 11.75V10.561L9.72 12.656C9.855 12.791 10.043 12.875 10.25 12.875C10.664 12.875 11 12.54 11 12.125C11 11.918 10.916 11.731 10.78 11.595L8.686 9.5H9.875C10.289 9.5 10.625 9.165 10.625 8.75C10.625 8.336 10.289 8 9.875 8L6.875 8C6.461 8 6.125 8.336 6.125 8.75V11.75C6.125 12.165 6.461 12.5 6.875 12.5C7.289 12.5 7.625 12.165 7.625 11.75Z"})})),[jN.PAUSE]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-pause-icon":!0},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",className:X_.FILL,d:"M8 4C6.89543 4 6 4.89543 6 6V18C6 19.1046 6.89543 20 8 20C9.10457 20 10 19.1046 10 18V6C10 4.89543 9.10457 4 8 4ZM16 4C14.8954 4 14 4.89543 14 6V18C14 19.1046 14.8954 20 16 20C17.1046 20 18 19.1046 18 18V6C18 4.89543 17.1046 4 16 4Z"})})),[jN.PLAY]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","data-play-icon":!0},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M19 12C19 12.3557 18.8111 12.6846 18.5039 12.8638L6.50387 19.8638C6.19458 20.0442 5.81243 20.0455 5.50194 19.8671C5.19145 19.6888 5 19.3581 5 19L5 5C5 4.64193 5.19145 4.3112 5.50194 4.13286C5.81243 3.95452 6.19458 3.9558 6.50387 4.13622L18.5039 11.1362C18.8111 11.3154 19 11.6443 19 12Z",className:X_.FILL})})),[jN.REPLAY]:t=>zN("svg",Q(Q({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{className:X_.FILL,d:"M0 1V5C0 5.6 0.4 6 1 6H5C5.6 6 6 5.6 6 5C6 4.4 5.6 4 5 4H3.5C4.6 2.8 6.2 2 8 2C11.3 2 14 4.7 14 8C14 11.3 11.3 14 8 14C5.7 14 3.60001 12.7 2.60001 10.6C2.40001 10.1 1.79999 9.89998 1.29999 10.1C0.799988 10.3 0.599988 10.9 0.799988 11.4C2.09999 14.2 5 16 8 16C12.4 16 16 12.4 16 8C16 3.6 12.4 0 8 0C5.7 0 3.5 1.00001 2 2.70001V1C2 0.4 1.6 0 1 0C0.4 0 0 0.4 0 1Z"})})),[jN.CHAPTERS]:t=>zN("svg",Q(Q({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.6665 4.1665V4.99984V5.83317H2.49984H3.33317V4.99984V4.1665H2.49984H1.6665ZM5.83317 4.99984C5.83317 4.5396 6.20627 4.1665 6.6665 4.1665H17.4998C17.9601 4.1665 18.3332 4.5396 18.3332 4.99984C18.3332 5.46007 17.9601 5.83317 17.4998 5.83317H6.6665C6.20627 5.83317 5.83317 5.46007 5.83317 4.99984ZM5.83317 9.99984C5.83317 9.5396 6.20627 9.1665 6.6665 9.1665H17.4998C17.9601 9.1665 18.3332 9.5396 18.3332 9.99984C18.3332 10.4601 17.9601 10.8332 17.4998 10.8332H6.6665C6.20627 10.8332 5.83317 10.4601 5.83317 9.99984ZM6.6665 14.1665C6.20627 14.1665 5.83317 14.5396 5.83317 14.9998C5.83317 15.4601 6.20627 15.8332 6.6665 15.8332H17.4998C17.9601 15.8332 18.3332 15.4601 18.3332 14.9998C18.3332 14.5396 17.9601 14.1665 17.4998 14.1665H6.6665ZM1.6665 9.99984V9.1665H2.49984H3.33317V9.99984V10.8332H2.49984H1.6665V9.99984ZM3.33317 14.9998V14.1665H2.49984H1.6665V14.9998V15.8332H2.49984H3.33317V14.9998Z"})})),[jN.POINT]:t=>zN("svg",Q(Q({width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("circle",{className:X_.FILL,cx:"4",cy:"4",r:"4"})})),[jN.CC]:t=>zN("svg",Q(Q({viewBox:"0 0 24 24","data-cc-icon":!0},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 6H4V18H20V6ZM4 4C2.89543 4 2 4.89543 2 6V18C2 19.1046 2.89543 20 4 20H20C21.1046 20 22 19.1046 22 18V6C22 4.89543 21.1046 4 20 4H4ZM11.486 12.8238C11.3743 13.5215 11.0859 14.0974 10.6307 14.5377C10.1676 14.9833 9.56909 15.2094 8.85284 15.2094C7.97089 15.2094 7.26496 14.9058 6.7557 14.3063C6.25372 13.7133 6 12.8972 6 11.8775C6 10.7761 6.28832 9.91206 6.85646 9.30664C7.36026 8.77164 8.00852 8.5 8.78364 8.5C9.81431 8.5 10.5828 8.86515 11.0677 9.58479C11.3306 9.98486 11.475 10.3944 11.4963 10.801L11.5054 10.9803H11.3215H10.1026H9.96788L9.93328 10.8536C9.86226 10.5844 9.77364 10.3826 9.66802 10.2535C9.48229 10.0281 9.21096 9.91857 8.83402 9.91857C8.46012 9.91857 8.17059 10.0766 7.95146 10.4027C7.7202 10.7465 7.60305 11.2484 7.60305 11.897C7.60305 12.5403 7.72445 13.0226 7.9636 13.3304C8.19547 13.6292 8.48015 13.7748 8.83342 13.7748C9.197 13.7748 9.46468 13.6541 9.65285 13.4038C9.75968 13.2659 9.85073 13.0475 9.92478 12.7569L9.95634 12.6285H10.0941H11.313H11.5169L11.486 12.8238ZM17.1137 14.5377C17.569 14.0974 17.8567 13.5215 17.9684 12.8238L17.9999 12.6285H17.796H16.5766H16.44L16.4078 12.7569C16.3344 13.0475 16.2427 13.2659 16.1353 13.4038C15.9477 13.6541 15.6794 13.7748 15.3158 13.7748C14.9632 13.7748 14.6791 13.6292 14.4472 13.3304C14.2081 13.0226 14.0855 12.5403 14.0855 11.897C14.0855 11.2484 14.2032 10.7465 14.4351 10.4027C14.653 10.0766 14.9425 9.91857 15.3171 9.91857C15.6934 9.91857 15.9659 10.0281 16.1504 10.2535C16.2561 10.3826 16.3459 10.5844 16.4169 10.8536L16.4503 10.9803H16.5863H17.8045H17.9878L17.9799 10.801C17.9574 10.3944 17.8136 9.98486 17.5502 9.58479C17.0652 8.86515 16.2979 8.5 15.2673 8.5C14.4909 8.5 13.8433 8.77164 13.3395 9.30664C12.7707 9.91206 12.483 10.7761 12.483 11.8775C12.483 12.8972 12.7368 13.7133 13.2381 14.3063C13.748 14.9058 14.4533 15.2094 15.3359 15.2094C16.0521 15.2094 16.65 14.9833 17.1137 14.5377Z"})})),[jN.CC_FILLED]:t=>zN("svg",Q(Q({viewBox:"0 0 24 24","data-cc-filled-icon":!0},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 4.89543 2.89543 4 4 4H20C21.1046 4 22 4.89543 22 6V18C22 19.1046 21.1046 20 20 20H4C2.89543 20 2 19.1046 2 18V6ZM11.486 12.8238C11.3743 13.5215 11.0859 14.0974 10.6307 14.5377C10.1676 14.9833 9.56909 15.2094 8.85284 15.2094C7.97089 15.2094 7.26496 14.9058 6.7557 14.3063C6.25372 13.7133 6 12.8972 6 11.8775C6 10.7761 6.28832 9.91206 6.85646 9.30664C7.36026 8.77164 8.00852 8.5 8.78364 8.5C9.81431 8.5 10.5828 8.86515 11.0677 9.58479C11.3306 9.98486 11.475 10.3944 11.4963 10.801L11.5054 10.9803H11.3215H10.1026H9.96788L9.93328 10.8536C9.86226 10.5844 9.77364 10.3826 9.66802 10.2535C9.48229 10.0281 9.21096 9.91857 8.83402 9.91857C8.46012 9.91857 8.17059 10.0766 7.95146 10.4027C7.7202 10.7465 7.60305 11.2484 7.60305 11.897C7.60305 12.5403 7.72445 13.0226 7.9636 13.3304C8.19547 13.6292 8.48015 13.7748 8.83342 13.7748C9.197 13.7748 9.46468 13.6541 9.65285 13.4038C9.75968 13.2659 9.85073 13.0475 9.92478 12.7569L9.95634 12.6285H10.0941H11.313H11.5169L11.486 12.8238ZM17.9684 12.8238C17.8567 13.5215 17.569 14.0974 17.1137 14.5377C16.65 14.9833 16.0521 15.2094 15.3359 15.2094C14.4533 15.2094 13.748 14.9058 13.2381 14.3063C12.7368 13.7133 12.483 12.8972 12.483 11.8775C12.483 10.7761 12.7707 9.91206 13.3395 9.30664C13.8433 8.77164 14.4909 8.5 15.2673 8.5C16.2979 8.5 17.0652 8.86515 17.5502 9.58479C17.8136 9.98486 17.9574 10.3944 17.9799 10.801L17.9878 10.9803H17.8045H16.5863H16.4503L16.4169 10.8536C16.3459 10.5844 16.2561 10.3826 16.1504 10.2535C15.9659 10.0281 15.6934 9.91857 15.3171 9.91857C14.9425 9.91857 14.653 10.0766 14.4351 10.4027C14.2032 10.7465 14.0855 11.2484 14.0855 11.897C14.0855 12.5403 14.2081 13.0226 14.4472 13.3304C14.6791 13.6292 14.9632 13.7748 15.3158 13.7748C15.6794 13.7748 15.9477 13.6541 16.1353 13.4038C16.2427 13.2659 16.3344 13.0475 16.4078 12.7569L16.44 12.6285H16.5766H17.796H17.9999L17.9684 12.8238Z"})})),[jN.CHECKMARK]:t=>zN("svg",Q(Q({width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.66668 6.39041L10.1953 0.861816L11.1381 1.80463L5.13808 7.80463C4.87773 8.06498 4.45562 8.06498 4.19527 7.80463L0.861938 4.47129L1.80475 3.52848L4.66668 6.39041Z",fill:"white"})})),[jN.STEREOSCOPIC]:()=>zN("svg",{viewBox:"0 0 64 64",children:zN("path",{d:"M55.3066 16H8.53325C6.79992 16 5.33325 17.52 5.33325 19.3867V47.28C5.33325 49.1467 6.79992 50.6667 8.61325 50.6667H21.3333C22.7733 50.6667 23.9999 49.8133 24.4266 48.56L28.1333 39.3067C28.7733 37.76 30.2666 36.6667 31.9999 36.6667C33.7333 36.6667 35.2266 37.76 35.8666 39.3067L39.5733 48.56C40.0799 49.8133 41.2266 50.6667 42.5333 50.6667H55.3066C57.1999 50.6667 58.6666 49.1467 58.6666 47.28V19.3867C58.6666 17.52 57.1999 16 55.3066 16ZM19.2533 38.88C15.9999 38.88 13.3333 36.1333 13.3333 32.7733C13.3333 29.3333 15.9999 26.6667 19.2533 26.6667C22.5066 26.6667 25.1466 29.3333 25.1466 32.7733C25.1466 36.1333 22.5066 38.88 19.2533 38.88ZM44.7466 38.88C41.4933 38.88 38.8533 36.1333 38.8533 32.7733C38.8533 29.4133 41.4933 26.6667 44.7466 26.6667C47.9999 26.6667 50.6666 29.4133 50.6666 32.7733C50.6666 36.1333 47.9999 38.88 44.7466 38.88Z"})}),[jN.PERSON_FILLED]:t=>zN("svg",Q(Q({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fill:"white",fillRule:"evenodd",clipRule:"evenodd",d:"M7.99999 1.33398C6.15904 1.33398 4.66666 2.82637 4.66666 4.66732C4.66666 6.50827 6.15904 8.00065 7.99999 8.00065C9.84094 8.00065 11.3333 6.50827 11.3333 4.66732C11.3333 2.82637 9.84094 1.33398 7.99999 1.33398ZM2.66666 12.0007C2.66666 10.1597 4.15904 8.66732 5.99999 8.66732H9.99999C11.8409 8.66732 13.3333 10.1597 13.3333 12.0007V14.6673H2.66666V12.0007Z"})})),[jN.CHEVRON_DOWN]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M12 15.5a1 1 0 0 1-.67-.26l-5-4.5 1.34-1.48L12 13.15l4.33-3.9 1.34 1.49-5 4.5a1 1 0 0 1-.67.26z",fill:"#1a2e3b"})})),[jN.CHEVRON_RIGHT]:t=>zN("svg",Q(Q({viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M9.71 17.71l-1.42-1.42 4.3-4.29-4.3-4.29 1.42-1.42 5 5a1 1 0 0 1 0 1.41z",fill:"#1a2e3b"})})),[jN.CLOCK]:t=>zN("svg",Q(Q({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M10 20C4.477 20 0 15.523 0 10S4.477 0 10 0s10 4.477 10 10-4.477 10-10 10zm0-1.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17zM10.75 5v4.69l3.075 3.075a.75.75 0 1 1-1.06 1.06L9.25 10.311V5a.75.75 0 0 1 1.5 0z"})})),[jN.CLOCK_FILLED]:t=>zN("svg",Q(Q({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10ZM10 4C10.5523 4 11 4.44772 11 5V9.49995L14.6001 12.2C15.0419 12.5314 15.1314 13.1582 14.8001 13.6C14.4687 14.0418 13.8419 14.1314 13.4001 13.8L9.41174 10.8088C9.38636 10.7903 9.36189 10.7706 9.3384 10.7499C9.24863 10.6708 9.17612 10.5786 9.12159 10.4783C9.04406 10.3362 9 10.1733 9 10V9.99923V5C9 4.44772 9.44772 4 10 4Z"})})),[jN.COLLECTIONS]:t=>zN("svg",Q(Q({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M20 10a1 1 0 0 0-.52-.88L17.44 8l2-1.13A1 1 0 0 0 20 6a1 1 0 0 0-.52-.87l-8-4.45a3 3 0 0 0-2.9 0l-8 4.45A1 1 0 0 0 0 6a1 1 0 0 0 .51.88L2.56 8l-2 1.13a1 1 0 0 0 0 1.75l2 1.13-2 1.12a1 1 0 0 0 0 1.75l8 4.46a3 3 0 0 0 2.92 0l8-4.46a1 1 0 0 0 0-1.75l-2-1.12 2-1.13A1 1 0 0 0 20 10zM9.52 2.41a1 1 0 0 1 1 0L16.94 6l-6.45 3.57a1 1 0 0 1-1 0L3.06 6zm-1 8.91a3 3 0 0 0 2.92 0l3.92-2.18 1.56.86-6.45 3.59a1.06 1.06 0 0 1-1 0L3.06 10l1.56-.86zM16.94 14l-6.45 3.59a1.06 1.06 0 0 1-1 0L3.06 14l1.54-.86 3.94 2.19a3 3 0 0 0 2.92 0l3.94-2.18z",fill:"#1a2e3b"})})),[jN.DISMISS_X]:t=>zN("svg",Q(Q({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M11.06 10l4.597-4.596a.749.749 0 1 0-1.061-1.06L10 8.938 5.404 4.343a.749.749 0 1 0-1.06 1.061L8.938 10l-4.596 4.596a.749.749 0 1 0 1.061 1.06L10 11.062l4.596 4.596a.749.749 0 1 0 1.06-1.061L11.062 10z",fill:"#1A2E3B",fillRule:"evenodd"})})),[jN.HEART]:t=>zN("svg",Q(Q({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M10 18a1 1 0 0 1-.81-.42 15.8 15.8 0 0 0-4.35-3.71C2.46 12.3 0 10.68 0 7.5a5.38 5.38 0 0 1 1.61-3.92A6 6 0 0 1 6 2a5.54 5.54 0 0 1 4.05 1.88A5.74 5.74 0 0 1 14 2c2.9 0 6 2.21 6 5.5s-2.46 4.8-4.84 6.37a15.8 15.8 0 0 0-4.35 3.71A1 1 0 0 1 10 18zM5.78 4A4 4 0 0 0 3 5a3.37 3.37 0 0 0-1 2.5c0 2 1.5 3.09 3.94 4.7A20.94 20.94 0 0 1 10 15.42a20.94 20.94 0 0 1 4.06-3.22C16.5 10.59 18 9.5 18 7.5 18 5.22 15.68 4 14 4c-1.44 0-2.78 1.49-3.17 2.06a1 1 0 0 1-.92.44 1 1 0 0 1-.82-.58A3.65 3.65 0 0 0 6 4z",fill:"#1a2e3b"})})),[jN.HEART_FILLED]:t=>zN("svg",Q(Q({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M10 18a1.23 1.23 0 0 1-.8-.4 14.25 14.25 0 0 0-4.4-3.7C2.5 12.3 0 10.7 0 7.5a5.52 5.52 0 0 1 1.6-3.9A5.73 5.73 0 0 1 6 2a5.25 5.25 0 0 1 4 1.9A5.85 5.85 0 0 1 14 2c2.9 0 6 2.2 6 5.5s-2.5 4.8-4.8 6.4a15.51 15.51 0 0 0-4.4 3.7 1.23 1.23 0 0 1-.8.4z",fill:"#1a2e3b"})})),[jN.HEART_WIDER_FILLED]:t=>zN("svg",Q(Q({viewBox:"0 0 110 81"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M82.496 1c-14.698 0-25.969 11.785-27.496 13.457-1.526-1.672-12.798-13.457-27.494-13.457-16.299 0-27.506 15.037-27.506 27.885 0 12.795 12.562 22.558 22.245 27.592 9.186 4.771 30.601 18.349 32.755 24.523 2.154-6.174 23.57-19.752 32.755-24.523 9.684-5.034 22.245-14.797 22.245-27.592 0-12.848-11.206-27.885-27.504-27.885z",fill:"#1a2e3b"})})),[jN.HEART_WIDER_BROKEN_FILLED]:t=>zN("svg",Q(Q({viewBox:"0 0 110 81"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M82.496 1c-14.594 0-23.198 10.043-25.948 14.48l-6.77 10.727 13.661 8.543-13.661 12.535 5.695 15.348-9.686-15.348 11.389-11.975-11.969-7.402s4.22-14.27 4.621-15.521c.782-2.438.782-2.438-.813-3.289-5.516-2.944-12.608-8.098-21.509-8.098-16.299 0-27.506 15.037-27.506 27.885 0 12.795 12.562 22.558 22.245 27.592 9.186 4.771 30.601 18.349 32.755 24.523 2.154-6.174 23.57-19.752 32.753-24.523 9.684-5.034 22.247-14.797 22.247-27.592 0-12.848-11.208-27.885-27.504-27.885z",fill:"#1a2e3b"})})),[jN.ONDEMAND]:t=>zN("svg",Q(Q({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M17.44 3.83L11.6.4a3.33 3.33 0 0 0-3.14 0l-5.9 3.43A3.41 3.41 0 0 0 1 6.57v6.86a3.41 3.41 0 0 0 1.56 2.74l5.87 3.43A3.08 3.08 0 0 0 10 20a3.18 3.18 0 0 0 1.57-.39l5.87-3.44A3.41 3.41 0 0 0 19 13.43V6.57a3.41 3.41 0 0 0-1.56-2.74zm-8-1.71A1.13 1.13 0 0 1 10 2a1.19 1.19 0 0 1 .56.12l5.84 3.43a1.47 1.47 0 0 1 .57 1v2.71a1 1 0 0 0-.38-.26L8.08 4.13 8 4.11V3zM8 6.4l6.3 3.6L8 13.66zm-5 7V6.57a1.43 1.43 0 0 1 .57-1L6 4.14v10.68l-.9.52-1.53-.9A1.43 1.43 0 0 1 3 13.43zm13.43 1l-5.87 3.44a1.37 1.37 0 0 1-1.12 0L7.08 16.5l9.22-5.32.7.4v1.85a1.43 1.43 0 0 1-.57 1.01z",fill:"#1a2e3b"})})),[jN.PAPER_PLANE]:t=>zN("svg",Q(Q({viewBox:"0 0 18.1 20.95"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M18.11 0L-.01 12.07l8 4v4.88l2.26-3.75 6.65 3.32zm-3 17.37l-3.93-2 1.81-6.42-5 4.91-4-2.03 11.9-7.93z",fill:"#1a2e3b"})})),[jN.POP_OUT]:t=>zN("svg",Q(Q({viewBox:"0 0 20 20"},Object.assign({},(K(t),t))),{},{children:[zN("path",{d:"M16 17a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h5V2H3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3v-5h-2z",fill:"#1a2e3b"}),zN("path",{d:"M19 0h-7v2h4.59l-8 8L10 11.41l8-8V8h2V1a1 1 0 0 0-1-1z",fill:"#1a2e3b"})]})),[jN.VOLUME_OFF_FILLED]:t=>zN("svg",Q(Q({viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 2.20001C15.1263 2.42863 16.1838 2.84654 17.1379 3.41908L15.5513 4.82943C15.0606 4.58595 14.5414 4.39136 14 4.25201V2.20001ZM21.1249 7.90287L19.5378 9.31361C19.8371 10.1532 20 11.0576 20 12C20 15.7277 17.4505 18.8599 14 19.7479V21.7999C18.5645 20.8734 22 16.8379 22 12C22 10.5401 21.6872 9.15325 21.1249 7.90287ZM12 4.00396V7.98614L3.17811 15.8278C2.48346 15.5143 2 14.8156 2 14.004V10.004C2 8.89939 2.89543 8.00396 4 8.00396H6.58579L10.2929 3.29685C10.9229 2.66689 12 3.11305 12 4.00396ZM12 10.662L5.99037 16.004L2.33565 19.2526C1.92286 19.6195 1.88568 20.2516 2.2526 20.6644C2.61952 21.0772 3.25159 21.1143 3.66437 20.7474L21.6644 4.74742C22.0772 4.3805 22.1143 3.74843 21.7474 3.33565C21.3805 2.92286 20.7484 2.88568 20.3356 3.2526L12 10.662ZM10.2929 20.7111L8.81985 18.8407L12 16.0139V20.004C12 20.8949 10.9229 21.341 10.2929 20.7111ZM14 15.4648C15.0633 14.8498 15.8172 13.7593 15.971 12.4841L17.8778 10.7892C17.9579 11.1803 18 11.5852 18 12C18 14.6124 16.3304 16.8349 14 17.6586V15.4648Z"})})),[jN.VOLUME_ON_FILLED]:t=>zN("svg",Q(Q({viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 12C20 15.7277 17.4505 18.8599 14 19.7479V21.7999C18.5645 20.8734 22 16.8379 22 12C22 7.16206 18.5645 3.12655 14 2.20001V4.25201C17.4505 5.1401 20 8.2723 20 12ZM18 12C18 9.38754 16.3304 7.16506 14 6.34139V8.53511C15.1956 9.22672 16 10.5194 16 12C16 13.4805 15.1956 14.7732 14 15.4648V17.6586C16.3304 16.8349 18 14.6124 18 12ZM6.58579 8.00396H4C2.89543 8.00396 2 8.89939 2 10.004V14.004C2 15.1085 2.89543 16.004 4 16.004H6.58579L10.2929 20.7111C10.9229 21.341 12 20.8949 12 20.004V4.00396C12 3.11305 10.9229 2.66689 10.2929 3.29685L6.58579 8.00396Z"})})),[jN.FAST_FORWARD]:t=>zN("svg",Q(Q({viewBox:"0 0 64 64"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4506 12.0055L32.4643 30.0179C33.6413 31.0772 33.6413 32.9228 32.4643 33.9821L12.4506 51.9945C10.7345 53.5389 8 52.3211 8 50.0124V13.9876C8 11.6789 10.7345 10.4611 12.4506 12.0055ZM39.1172 12.0055L59.131 30.0179C60.308 31.0772 60.308 32.9228 59.131 33.9821L39.1172 51.9945C37.4012 53.5389 34.6667 52.3211 34.6667 50.0124V13.9876C34.6667 11.6789 37.4012 10.4611 39.1172 12.0055Z"})})),[jN.INFO_CIRCLE]:t=>zN("svg",Q(Q({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6667 6C10.6667 8.57733 8.57733 10.6667 6 10.6667C3.42267 10.6667 1.33333 8.57733 1.33333 6C1.33333 3.42267 3.42267 1.33333 6 1.33333C8.57733 1.33333 10.6667 3.42267 10.6667 6ZM12 6C12 9.31371 9.31371 12 6 12C2.68629 12 0 9.31371 0 6C0 2.68629 2.68629 0 6 0C9.31371 0 12 2.68629 12 6ZM6 4.66667C6.36819 4.66667 6.66667 4.36819 6.66667 4C6.66667 3.63181 6.36819 3.33333 6 3.33333C5.63181 3.33333 5.33333 3.63181 5.33333 4C5.33333 4.36819 5.63181 4.66667 6 4.66667ZM6 5.33333C6.36819 5.33333 6.66667 5.54653 6.66667 5.80952V8.19048C6.66667 8.45347 6.36819 8.66667 6 8.66667C5.63181 8.66667 5.33333 8.45347 5.33333 8.19048V5.80952C5.33333 5.54653 5.63181 5.33333 6 5.33333Z",fill:"white"})})),[jN.TRANSCRIPT_ON]:t=>zN("svg",Q(Q({viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 3C3.39543 3 2.5 3.89543 2.5 5V19C2.5 20.1046 3.39543 21 4.5 21H14.7547C14.0868 20.7085 13.461 20.2895 12.9142 19.7426C10.5711 17.3995 10.5711 13.6005 12.9142 11.2574C14.4297 9.74185 16.5543 9.20655 18.5 9.65145V5C18.5 3.89543 17.6046 3 16.5 3H4.5ZM18.5 11.7313C17.0907 11.2301 15.4565 11.5435 14.3284 12.6716C14.1332 12.8668 13.9623 13.0773 13.8159 13.2991C12.7907 14.8517 12.9616 16.9616 14.3284 18.3284C15.4515 19.4515 17.0762 19.7671 18.4812 19.2754C18.725 19.19 18.9622 19.0804 19.1891 18.9464L21.3995 21.1569C21.79 21.5474 22.4232 21.5474 22.8137 21.1569C23.2042 20.7663 23.2042 20.1332 22.8137 19.7426L20.6033 17.5322C21.5092 15.9983 21.3032 13.9895 19.9853 12.6716C19.5512 12.2375 19.0423 11.9241 18.5 11.7313ZM7.5 7C6.94772 7 6.5 7.44772 6.5 8C6.5 8.55228 6.94772 9 7.5 9H12.5C13.0523 9 13.5 8.55228 13.5 8C13.5 7.44772 13.0523 7 12.5 7H7.5ZM7.5 11C6.94772 11 6.5 11.4477 6.5 12C6.5 12.5523 6.94772 13 7.5 13H9.5C10.0523 13 10.5 12.5523 10.5 12C10.5 11.4477 10.0523 11 9.5 11H7.5ZM6.5 16C6.5 15.4477 6.94772 15 7.5 15H8.5C9.05228 15 9.5 15.4477 9.5 16C9.5 16.5523 9.05228 17 8.5 17H7.5C6.94772 17 6.5 16.5523 6.5 16Z"})})),[jN.TRANSCRIPT_OFF]:t=>zN("svg",Q(Q({viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 5H16.5V9.53585C17.1669 9.46283 17.8436 9.50136 18.5 9.65145V5C18.5 3.89543 17.6046 3 16.5 3H4.5C3.39543 3 2.5 3.89543 2.5 5V19C2.5 20.1046 3.39543 21 4.5 21H14.7547C14.0868 20.7085 13.461 20.2895 12.9142 19.7426C12.6802 19.5086 12.4696 19.2601 12.2823 19H4.5V5ZM15.2182 19C16.2222 19.5567 17.415 19.6485 18.4812 19.2754C18.725 19.19 18.9622 19.0804 19.1891 18.9464L21.3995 21.1569C21.79 21.5474 22.4232 21.5474 22.8137 21.1569C23.2042 20.7663 23.2042 20.1332 22.8137 19.7426L20.6033 17.5322C21.5092 15.9983 21.3032 13.9895 19.9853 12.6716C19.5512 12.2375 19.0423 11.9241 18.5 11.7313C17.857 11.5026 17.1672 11.4435 16.5 11.554C15.7048 11.6857 14.9418 12.0582 14.3284 12.6716C12.7663 14.2337 12.7663 16.7663 14.3284 18.3284C14.5992 18.5992 14.8992 18.8231 15.2182 19ZM6.5 8C6.5 7.44772 6.94772 7 7.5 7H12.5C13.0523 7 13.5 7.44772 13.5 8C13.5 8.55228 13.0523 9 12.5 9H7.5C6.94772 9 6.5 8.55228 6.5 8ZM6.5 12C6.5 11.4477 6.94772 11 7.5 11H10.5C11.0523 11 11.5 11.4477 11.5 12C11.5 12.5523 11.0523 13 10.5 13H7.5C6.94772 13 6.5 12.5523 6.5 12ZM7.5 15C6.94772 15 6.5 15.4477 6.5 16C6.5 16.5523 6.94772 17 7.5 17H8.5C9.05228 17 9.5 16.5523 9.5 16C9.5 15.4477 9.05228 15 8.5 15H7.5Z"})})),[jN.SEARCH]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{className:X_.FILL,d:"M11 4C7.13401 4 4 7.13401 4 11C4 14.866 7.13401 18 11 18C12.5725 18 14.0238 17.4815 15.1925 16.6062L18.298 19.7076C18.6888 20.0978 19.3219 20.0974 19.7122 19.7066C20.1025 19.3159 20.1021 18.6827 19.7113 18.2924L16.6066 15.1919C17.4817 14.0233 18 12.5722 18 11C18 7.13401 14.866 4 11 4ZM6 11C6 8.23858 8.23858 6 11 6C13.7614 6 16 8.23858 16 11C16 13.7614 13.7614 16 11 16C8.23858 16 6 13.7614 6 11Z"})})),[jN.CHEVRON_UP]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M12 11.3454L16.331 15.2433L17.6689 13.7567L12.6689 9.25671C12.2886 8.91443 11.7113 8.91443 11.331 9.25671L6.33102 13.7567L7.66895 15.2433L12 11.3454Z",fill:"#1a2e3b"})})),[jN.CLOSE_CIRCLE]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:zN("path",{clipRule:"evenodd",d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM14.7071 9.26251C14.3571 8.9125 13.7896 8.9125 13.4396 9.26251L12 10.7023L10.5604 9.26252C10.2104 8.9125 9.64292 8.9125 9.29293 9.26252L9.26302 9.29244C8.91306 9.64243 8.91306 10.2099 9.26302 10.5599L10.7027 11.9997L9.26247 13.4401C8.91251 13.7901 8.91251 14.3576 9.26247 14.7076L9.29239 14.7375C9.64237 15.0875 10.2098 15.0875 10.5598 14.7375L12 13.2971L13.4402 14.7375C13.7902 15.0875 14.3576 15.0875 14.7076 14.7375L14.7375 14.7076C15.0875 14.3576 15.0875 13.7901 14.7375 13.4401L13.2973 11.9997L14.737 10.5599C15.0869 10.2099 15.0869 9.64243 14.737 9.29244L14.7071 9.26251Z",fill:"#fff",fillRule:"evenodd"})})),[jN.SPINNER]:t=>zN("svg",Q(Q({viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",fill:"none","data-spinner":!0},Object.assign({},(K(t),t))),{},{children:[zN("circle",{"data-spinner-trace":!0,cx:"24",cy:"24",r:"22",stroke:"white"}),zN("circle",{"data-spinner-circle":!0,cx:"24",cy:"24",r:"22",stroke:"white"})]})),[jN.SLIDERS]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 7C16.4477 7 16 6.55228 16 6C16 5.44772 16.4477 5 17 5C17.5523 5 18 5.44772 18 6C18 6.55228 17.5523 7 17 7ZM19.8293 5C19.4175 3.83481 18.3062 3 17 3C15.6938 3 14.5825 3.83481 14.1707 5H3C2.44772 5 2 5.44772 2 6C2 6.55228 2.44772 7 3 7H14.1707C14.5825 8.16519 15.6938 9 17 9C18.3062 9 19.4175 8.16519 19.8293 7H21C21.5523 7 22 6.55228 22 6C22 5.44772 21.5523 5 21 5H19.8293ZM3 11C2.44772 11 2 11.4477 2 12C2 12.5523 2.44772 13 3 13H4.17071C4.58254 14.1652 5.69378 15 7 15C8.30622 15 9.41746 14.1652 9.82929 13H21C21.5523 13 22 12.5523 22 12C22 11.4477 21.5523 11 21 11H9.82929C9.41746 9.83481 8.30622 9 7 9C5.69378 9 4.58254 9.83481 4.17071 11H3ZM7 11C7.55228 11 8 11.4477 8 12C8 12.5523 7.55228 13 7 13C6.44772 13 6 12.5523 6 12C6 11.4477 6.44772 11 7 11ZM3 17C2.44772 17 2 17.4477 2 18C2 18.5523 2.44772 19 3 19H14.1707C14.5825 20.1652 15.6938 21 17 21C18.3062 21 19.4175 20.1652 19.8293 19H21C21.5523 19 22 18.5523 22 18C22 17.4477 21.5523 17 21 17H19.8293C19.4175 15.8348 18.3062 15 17 15C15.6938 15 14.5825 15.8348 14.1707 17H3ZM18 18C18 17.4477 17.5523 17 17 17C16.4477 17 16 17.4477 16 18C16 18.5523 16.4477 19 17 19C17.5523 19 18 18.5523 18 18Z"})})),[jN.SWITCH_CIRCLE]:t=>zN("svg",Q(Q({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",fill:"none","data-toggle-container":!0},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C9.31371 12 12 9.31371 12 6C12 2.68629 9.31371 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12Z",fill:"white"})})),[jN.SWITCH_CONTAINER]:t=>zN("svg",Q(Q({width:"32",height:"16",viewBox:"0 0 32 16",xmlns:"http://www.w3.org/2000/svg",fill:"none","data-toggle-container":!0},Object.assign({},(K(t),t))),{},{children:zN("rect",{width:"32",height:"16",rx:"8",fill:"#2F8363"})})),[jN.WARN_CIRCLE]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM12 14C11.4477 14 11 13.5523 11 13V8C11 7.44772 11.4477 7 12 7C12.5523 7 13 7.44772 13 8V13C13 13.5523 12.5523 14 12 14ZM11 16C11 15.4477 11.4477 15 12 15C12.5523 15 13 15.4477 13 16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16Z",fill:"white"})})),[jN.THUMBS_UP]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0514 9H19.0738C20.0444 9 20.8299 9.35394 21.3493 9.99618C21.8401 10.6031 22 11.3518 22 12V15C22 16.9967 21.2949 18.6828 20.5308 19.8635C20.1484 20.4545 19.7394 20.9376 19.3716 21.2847C19.1892 21.4569 19.0014 21.6105 18.8178 21.7283C18.7263 21.787 18.6199 21.8471 18.5035 21.8953C18.3992 21.9384 18.2213 22 18.0043 22H12C10.837 22 9.83327 21.7103 9.12861 21.4285C8.99855 21.3765 8.87772 21.3243 8.76692 21.2737C8.25906 21.7332 7.59078 22 6.88197 22H4C2.89543 22 2 21.1046 2 20V11C2 9.89643 2.89367 9 3.99924 9H7.90182C8.9732 8.60827 9.61763 8.20384 10.1078 7.63449C10.6376 7.01903 11.0675 6.11901 11.5331 4.57534L11.5413 4.53968C11.6279 4.16374 11.7631 3.57633 12.062 3.09009C12.2335 2.81089 12.4762 2.53151 12.8223 2.32587C13.1723 2.11782 13.5711 2.01926 14 2.01926C14.8534 2.01926 15.466 2.41723 15.8386 2.78144C16.0237 2.9623 16.1588 3.14255 16.2496 3.28199C16.2954 3.35222 16.3322 3.41568 16.3605 3.4686C16.3951 3.5336 16.4261 3.60015 16.4492 3.67019C16.5013 3.82791 16.5197 4.0011 16.5373 4.167L16.5425 4.21554C16.5696 4.46535 16.5931 4.81409 16.583 5.23366C16.5627 6.07019 16.4078 7.208 15.8625 8.40636C15.7274 8.70327 15.7031 8.87123 15.7005 8.94441C15.741 8.96116 15.8033 8.97895 15.8838 8.99016C15.9396 8.99795 15.9952 9 16.0514 9ZM13.4759 5.05072L13.4741 5.05871C13.4693 5.07933 13.4638 5.09979 13.4577 5.12006C12.9658 6.75821 12.4366 7.99485 11.6235 8.93936C10.9182 9.75858 10.0581 10.2914 9 10.7202V19.2174C9.08899 19.2196 9.17122 19.2384 9.24448 19.2784C9.38703 19.3561 9.60104 19.4634 9.87139 19.5715C10.4167 19.7897 11.163 20 12 20H17.8014C17.8514 19.9621 17.9179 19.9067 17.9987 19.8304C18.2399 19.6027 18.5483 19.2459 18.8517 18.777C19.4594 17.8379 20 16.5239 20 15V12C20 11.6482 19.9099 11.3969 19.7942 11.2538C19.707 11.1461 19.5294 11 19.0738 11H16.0654C16.0365 11.0006 15.9909 11.0009 15.9325 10.999C15.8501 10.9964 15.7377 10.9891 15.6076 10.971C15.3617 10.9367 14.9841 10.8544 14.6237 10.6345C14.2372 10.3985 13.8666 9.99723 13.7424 9.38864C13.6261 8.81811 13.7562 8.20634 14.0421 7.57802C14.4491 6.68359 14.568 5.82532 14.5835 5.18521C14.5913 4.86647 14.5732 4.60676 14.5541 4.43084C14.55 4.39233 14.5458 4.35787 14.5418 4.32773C14.5154 4.29227 14.4815 4.25162 14.4407 4.21169C14.323 4.09673 14.1856 4.01926 14 4.01926C13.8867 4.01926 13.8489 4.04221 13.8443 4.04499C13.8371 4.04925 13.8089 4.06724 13.7659 4.13728C13.7194 4.21297 13.6697 4.32623 13.6182 4.49311C13.5668 4.65929 13.5255 4.83727 13.4759 5.05072ZM7 19.9889V11H4V20H6.88197C6.91933 20 6.95876 19.9961 7 19.9889Z",fill:"white"})})),[jN.THUMBS_DOWN]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.94864 15.0193H4.9262C3.95557 15.0193 3.17013 14.6653 2.65073 14.0231C2.15987 13.4161 2 12.6675 2 12.0193V9.01926C2 7.02253 2.70509 5.33649 3.46916 4.15574C3.85161 3.56472 4.26059 3.08171 4.62837 2.73451C4.81075 2.56233 4.99859 2.40877 5.18217 2.291C5.27374 2.23225 5.38005 2.17217 5.49649 2.12398C5.60076 2.08082 5.77867 2.01926 5.99567 2.01926L12 2.01926C13.163 2.01926 14.1667 2.30892 14.8714 2.59078C15.0015 2.64281 15.1223 2.69495 15.2331 2.74553C15.7409 2.28605 16.4092 2.01926 17.118 2.01926H20C21.1046 2.01926 22 2.91469 22 4.01926L22 13.0193C22 14.1228 21.1063 15.0193 20.0008 15.0193H16.0982C15.0268 15.411 14.3824 15.8154 13.8922 16.3848C13.3624 17.0002 12.9325 17.9003 12.4669 19.4439L12.4587 19.4796C12.3721 19.8555 12.2369 20.4429 11.938 20.9292C11.7665 21.2084 11.5238 21.4878 11.1777 21.6934C10.8277 21.9014 10.4289 22 10 22C9.14656 22 8.53398 21.602 8.16136 21.2378C7.97632 21.057 7.84124 20.8767 7.7504 20.7373C7.70464 20.667 7.66777 20.6036 7.63954 20.5507C7.60486 20.4857 7.57388 20.4191 7.55075 20.3491C7.49868 20.1913 7.48029 20.0182 7.46266 19.8523L7.45748 19.8037C7.43043 19.5539 7.40687 19.2052 7.41704 18.7856C7.43731 17.9491 7.59222 16.8113 8.13751 15.6129C8.27262 15.316 8.29694 15.148 8.29953 15.0748C8.25898 15.0581 8.19666 15.0403 8.11624 15.0291C8.06037 15.0213 8.00485 15.0193 7.94864 15.0193ZM10.5241 18.9685L10.5259 18.9606C10.5307 18.9399 10.5362 18.9195 10.5423 18.8992C11.0342 17.2611 11.5634 16.0244 12.3765 15.0799C13.0818 14.2607 13.9419 13.7279 15 13.2991L15 4.80189C14.911 4.79964 14.8288 4.78086 14.7555 4.7409C14.613 4.66315 14.399 4.55587 14.1286 4.44773C13.5833 4.2296 12.837 4.01926 12 4.01926L6.1986 4.01926C6.14859 4.05717 6.08207 4.11258 6.00131 4.18882C5.76012 4.41652 5.4517 4.77339 5.14827 5.24229C4.54059 6.18137 4 7.49534 4 9.01926V12.0193C4 12.371 4.09013 12.6224 4.20582 12.7654C4.29297 12.8732 4.47062 13.0193 4.9262 13.0193H7.93463C7.96345 13.0186 8.00911 13.0183 8.06745 13.0202C8.14991 13.0229 8.26226 13.0301 8.39236 13.0483C8.63827 13.0825 9.01586 13.1648 9.37627 13.3848C9.76282 13.6207 10.1334 14.022 10.2576 14.6306C10.3739 15.2012 10.2438 15.8129 9.95791 16.4412C9.55092 17.3357 9.43197 18.1939 9.41645 18.834C9.40873 19.1528 9.4268 19.4125 9.44585 19.5884C9.45002 19.6269 9.45424 19.6614 9.45823 19.6915C9.48457 19.727 9.5185 19.7676 9.55935 19.8076C9.67696 19.9225 9.81438 20 10 20C10.1133 20 10.1511 19.9771 10.1557 19.9743C10.1629 19.97 10.1911 19.952 10.2341 19.882C10.2806 19.8063 10.3303 19.693 10.3818 19.5262C10.4332 19.36 10.4745 19.182 10.5241 18.9685ZM17 4.03039V13.0193H20L20 4.01926H17.118C17.0807 4.01926 17.0412 4.02315 17 4.03039Z",fill:"white"})})),[jN.THUMBS_UP_FILLED]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0514 9H19.0738C20.0444 9 20.8299 9.35394 21.3493 9.99618C21.8401 10.6031 22 11.3518 22 12V15C22 16.9967 21.2949 18.6828 20.5308 19.8635C20.1484 20.4545 19.7394 20.9376 19.3716 21.2847C19.1892 21.4569 19.0014 21.6105 18.8178 21.7283C18.7263 21.787 18.6199 21.8471 18.5035 21.8953C18.3992 21.9384 18.2213 22 18.0043 22H12C10.837 22 9.83327 21.7103 9.12861 21.4285C9.08468 21.4109 9.0418 21.3933 9 21.3758V8.51408C9.46407 8.25834 9.8137 7.9761 10.1078 7.63449C10.6376 7.01903 11.0675 6.11901 11.5331 4.57534L11.5413 4.53968C11.6279 4.16374 11.7631 3.57633 12.062 3.09009C12.2335 2.81089 12.4762 2.53151 12.8223 2.32587C13.1723 2.11782 13.5711 2.01926 14 2.01926C14.8534 2.01926 15.466 2.41723 15.8386 2.78144C16.0237 2.9623 16.1588 3.14255 16.2496 3.28199C16.2954 3.35222 16.3322 3.41568 16.3605 3.4686C16.3951 3.5336 16.4261 3.60015 16.4492 3.67019C16.5013 3.82791 16.5197 4.0011 16.5373 4.167L16.5425 4.21554C16.5696 4.46535 16.5931 4.81409 16.583 5.23366C16.5627 6.07019 16.4078 7.208 15.8625 8.40636C15.7274 8.70327 15.7031 8.87123 15.7005 8.94441C15.741 8.96116 15.8033 8.97895 15.8838 8.99016C15.9396 8.99795 15.9952 9 16.0514 9ZM7 9H3.99924C2.89367 9 2 9.89643 2 11V20C2 21.1046 2.89543 22 4 22H6.88197C6.92144 22 6.96079 21.9992 7 21.9975V9Z",fill:"white"})})),[jN.THUMBS_DOWN_FILLED]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.94864 15.0193H4.9262C3.95557 15.0193 3.17013 14.6653 2.65073 14.0231C2.15987 13.4161 2 12.6675 2 12.0193V9.01926C2 7.02253 2.70509 5.33649 3.46916 4.15574C3.85161 3.56472 4.26059 3.08171 4.62837 2.73451C4.81075 2.56233 4.99859 2.40877 5.18217 2.291C5.27374 2.23225 5.38006 2.17217 5.49649 2.12398C5.60076 2.08082 5.77867 2.01926 5.99567 2.01926H12C13.163 2.01926 14.1667 2.30892 14.8714 2.59078C14.9153 2.60835 14.9582 2.62594 15 2.64348V15.5052C14.5359 15.7609 14.1863 16.0432 13.8922 16.3848C13.3624 17.0002 12.9325 17.9003 12.4669 19.4439L12.4587 19.4796C12.3721 19.8555 12.2369 20.4429 11.938 20.9292C11.7665 21.2084 11.5238 21.4878 11.1777 21.6934C10.8277 21.9014 10.4289 22 10 22C9.14656 22 8.53398 21.602 8.16136 21.2378C7.97632 21.057 7.84124 20.8767 7.7504 20.7373C7.70464 20.667 7.66777 20.6036 7.63954 20.5507C7.60486 20.4857 7.57388 20.4191 7.55075 20.3491C7.49868 20.1913 7.48029 20.0182 7.46266 19.8523L7.45748 19.8037C7.43043 19.5539 7.40687 19.2052 7.41704 18.7856C7.43731 17.9491 7.59222 16.8113 8.13751 15.6129C8.27262 15.316 8.29694 15.148 8.29953 15.0748C8.25898 15.0581 8.19666 15.0403 8.11624 15.0291C8.06037 15.0213 8.00485 15.0193 7.94864 15.0193ZM17 15.0193H20.0008C21.1063 15.0193 22 14.1228 22 13.0193V4.01926C22 2.91469 21.1046 2.01926 20 2.01926H17.118C17.0786 2.01926 17.0392 2.02008 17 2.02173V15.0193Z",fill:"white"})})),[jN.LINK]:t=>zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{className:X_.FILL,d:"M11.2929 8.46447C10.9024 8.07395 10.9024 7.44078 11.2929 7.05026L13.4142 4.92894C14.9763 3.36684 17.509 3.36684 19.0711 4.92894C20.6332 6.49103 20.6332 9.02369 19.0711 10.5858L16.9498 12.7071C16.5593 13.0976 15.9261 13.0976 15.5356 12.7071C15.145 12.3166 15.145 11.6834 15.5356 11.2929L17.6569 9.17158C18.4379 8.39053 18.4379 7.1242 17.6569 6.34315C16.8758 5.5621 15.6095 5.5621 14.8285 6.34315L12.7071 8.46447C12.3166 8.85499 11.6834 8.85499 11.2929 8.46447ZM8.46443 11.2929C8.07391 10.9024 7.44074 10.9024 7.05022 11.2929L4.9289 13.4142C3.3668 14.9763 3.3668 17.509 4.9289 19.0711C6.49099 20.6332 9.02365 20.6332 10.5858 19.0711L12.7071 16.9497C13.0976 16.5592 13.0976 15.9261 12.7071 15.5355C12.3165 15.145 11.6834 15.145 11.2929 15.5355L9.17154 17.6569C8.39049 18.4379 7.12416 18.4379 6.34311 17.6569C5.56206 16.8758 5.56206 15.6095 6.34311 14.8284L8.46443 12.7071C8.85495 12.3166 8.85495 11.6834 8.46443 11.2929ZM9.87874 12.7071C9.48821 13.0976 9.48821 13.7308 9.87874 14.1213C10.2693 14.5118 10.9024 14.5118 11.293 14.1213L14.1214 11.2929C14.5119 10.9024 14.5119 10.2692 14.1214 9.87868C13.7309 9.48816 13.0977 9.48816 12.7072 9.87868L9.87874 12.7071Z"})})),[jN.SPARKLE_TWO_STARS_FILLED]:t=>{let{fill:e}=t,n=J(t,aI);const i={};return e&&(i.fill=e),zN("svg",Q(Q({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none"},n),{},{children:[zN("path",{style:i,"data-shape":"smallStar",fillRule:"evenodd",clipRule:"evenodd",d:"M 20.861 4.11 L 21.903 4.472 L 21.899 4.474 C 22.105 4.546 22.214 4.771 22.144 4.978 C 22.105 5.095 22.013 5.186 21.896 5.224 L 20.859 5.585 C 20.401 5.745 20.047 6.099 19.887 6.557 L 19.526 7.599 C 19.452 7.806 19.225 7.914 19.018 7.842 C 18.901 7.802 18.811 7.709 18.774 7.592 L 18.414 6.555 C 18.257 6.099 17.899 5.741 17.443 5.583 L 16.4 5.222 C 16.112 5.121 16.041 4.746 16.272 4.546 C 16.314 4.511 16.362 4.484 16.414 4.468 L 17.445 4.11 C 17.902 3.951 18.255 3.597 18.415 3.139 L 18.779 2.097 C 18.877 1.809 19.25 1.736 19.45 1.965 C 19.486 2.005 19.513 2.053 19.529 2.104 L 19.889 3.139 C 20.048 3.597 20.402 3.951 20.86 4.11 L 20.861 4.11 Z"}),zN("path",{style:i,"data-shape":"largeStar",fillRule:"evenodd",clipRule:"evenodd",d:"M 15.732 10.906 L 18.352 11.817 L 18.354 11.815 C 18.734 11.949 18.935 12.364 18.804 12.745 C 18.73 12.96 18.56 13.127 18.344 13.197 L 15.732 14.107 C 14.507 14.528 13.545 15.49 13.122 16.714 L 12.212 19.336 C 12.077 19.712 11.669 19.912 11.289 19.789 C 11.069 19.718 10.897 19.545 10.828 19.324 L 9.922 16.716 C 9.499 15.492 8.538 14.531 7.314 14.108 L 4.697 13.2 C 4.165 13.02 4.027 12.331 4.449 11.96 C 4.521 11.897 4.606 11.848 4.697 11.817 L 7.314 10.907 C 8.538 10.485 9.5 9.524 9.922 8.3 L 10.832 5.677 C 10.894 5.495 11.026 5.346 11.198 5.262 C 11.594 5.068 12.069 5.265 12.213 5.681 L 13.123 8.3 C 13.545 9.524 14.508 10.486 15.732 10.907 L 15.732 10.906 Z"})]}))},[jN.WARN_TRIANGLE]:t=>zN("svg",Q(Q({width:"36",height:"32.326",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"287.915 380.297 36 32.326"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"white",d:"M309.646 382.963c-2.052-3.555-5.41-3.555-7.462 0L288.79 406.16c-2.05 3.555-.372 6.463 3.732 6.463h26.786c4.104 0 5.783-2.908 3.73-6.463l-13.392-23.197zm-2 23.224c0 .983-.804 1.788-1.788 1.788-.983 0-1.788-.805-1.788-1.788 0-.984.805-1.79 1.788-1.79s1.79.805 1.788 1.79zm-.317-7.76c-.254 2.604-.916 4.735-1.472 4.735-.557 0-1.22-2.13-1.477-4.735-.255-2.604-.464-5.72-.464-6.925 0-1.204.87-2.19 1.935-2.19 1.066 0 1.936.986 1.936 2.19s-.205 4.32-.457 6.925z"})})),[jN.VERTICAL_ELLIPSIS]:t=>zN("svg",Q(Q({width:"4",height:"19",viewBox:"0 0 4 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M2 4.5C2.39556 4.5 2.78224 4.3827 3.11114 4.16294C3.44004 3.94318 3.69639 3.63082 3.84776 3.26537C3.99914 2.89992 4.03874 2.49778 3.96157 2.10982C3.8844 1.72186 3.69392 1.36549 3.41421 1.08579C3.13451 0.806082 2.77814 0.615601 2.39018 0.53843C2.00222 0.46126 1.60009 0.500867 1.23463 0.652242C0.869182 0.803617 0.556825 1.05996 0.337062 1.38886C0.117299 1.71776 1.07779e-06 2.10444 1.07779e-06 2.5C1.07779e-06 3.03043 0.210715 3.53914 0.585788 3.91421C0.960861 4.28929 1.46957 4.5 2 4.5ZM2 14.5C1.60444 14.5 1.21776 14.6173 0.888861 14.8371C0.559963 15.0568 0.303617 15.3692 0.152242 15.7346C0.000866562 16.1001 -0.0387401 16.5022 0.0384303 16.8902C0.115601 17.2781 0.306083 17.6345 0.585788 17.9142C0.865493 18.1939 1.22186 18.3844 1.60982 18.4616C1.99778 18.5387 2.39992 18.4991 2.76537 18.3478C3.13082 18.1964 3.44318 17.94 3.66294 17.6111C3.8827 17.2822 4 16.8956 4 16.5C4 15.9696 3.78929 15.4609 3.41421 15.0858C3.03914 14.7107 2.53043 14.5 2 14.5ZM2 7.5C1.60444 7.5 1.21776 7.6173 0.888861 7.83706C0.559963 8.05682 0.303617 8.36918 0.152242 8.73463C0.000866562 9.10009 -0.0387401 9.50222 0.0384303 9.89018C0.115601 10.2781 0.306083 10.6345 0.585788 10.9142C0.865493 11.1939 1.22186 11.3844 1.60982 11.4616C1.99778 11.5387 2.39992 11.4991 2.76537 11.3478C3.13082 11.1964 3.44318 10.94 3.66294 10.6111C3.8827 10.2822 4 9.89556 4 9.5C4 8.96957 3.78929 8.46086 3.41421 8.08579C3.03914 7.71071 2.53043 7.5 2 7.5Z"})})),[jN.PLUS_SYMBOL]:t=>zN("svg",Q(Q({viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})})),[jN.FACEBOOK]:t=>zN("svg",Q(Q({viewBox:"0 0 64 64"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M35.992 64h-11.992v-32h-8v-11.028l8-0.004-0.013-6.497c0-8.997 2.44-14.471 13.037-14.471h8.824v11.030h-5.514c-4.127 0-4.325 1.541-4.325 4.418l-0.016 5.52h9.918l-1.169 11.028-8.741 0.004-0.008 32z"})})),[jN.TUMBLR]:t=>zN("svg",Q(Q({viewBox:"0 0 12 20"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M7.865,19.958 C3.629,19.958 2.02,16.834 2.02,14.627 L2.02,8.105 L0,8.105 L0,5.527 C3.027,4.436 3.756,1.705 3.927,0.149 C3.938,0.042 4.022,0 4.07,0 L6.994,0 L6.994,5.084 L10.987,5.084 L10.987,8.105 L6.979,8.105 L6.979,14.318 C6.993,15.149 7.291,16.287 8.815,16.287 C8.843,16.287 8.872,16.287 8.9,16.286 C9.43,16.272 10.14,16.118 10.511,15.941 L11.471,18.788 C11.11,19.317 9.481,19.932 8.015,19.957 C7.964,19.958 7.915,19.958 7.865,19.958"})})),[jN.EMAIL]:t=>zN("svg",Q(Q({viewBox:"0 0 72 72"},Object.assign({},(K(t),t))),{},{children:[zN("path",{d:"M71.754,57.6C71.9,57.169,72,56.718,72,56.241V16.759c0-0.453-0.092-0.881-0.225-1.291l-23.487,19.86L71.754,57.6z"}),zN("path",{d:"M35.999,40.118l6.187-4.971l3.131-2.516L68.9,12.693c-0.387-0.113-0.789-0.193-1.213-0.193H4.312c-0.424,0-0.827,0.08-1.215,0.194l23.599,19.949l3.132,2.517L35.999,40.118z"}),zN("path",{d:"M67.688,60.5c0.405,0,0.791-0.074,1.164-0.18L45.157,37.843l-9.159,7.361l-9.145-7.351L3.15,60.322C3.522,60.426,3.907,60.5,4.312,60.5H67.688z"}),zN("path",{d:"M0.226,15.468C0.092,15.878,0,16.307,0,16.759v39.482c0,0.478,0.099,0.929,0.247,1.356l23.476-22.261L0.226,15.468z"})]})),[jN.EMBED]:t=>zN("svg",Q(Q({viewBox:"0 0 55 48"},Object.assign({},(K(t),t))),{},{children:[zN("polygon",{points:"16.019,16.385 11.968,13.131 0,24.543 12.082,35.955 16.132,32.703 7.439,24.543"}),zN("polygon",{points:"42.92,13.131 38.868,16.384 47.561,24.542 38.981,32.701 43.033,35.955 55,24.542"}),zN("polygon",{points:"24.083,39.221 28.76,39.221 36.243,8.351 31.566,8.351"})]})),[jN.PREVIOUS]:t=>zN("svg",Q(Q({viewBox:"0 0 27 48",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M7.243,24L26.414,4.828c0.781-0.781,0.781-2.047,0-2.828L25,0.586 c-0.781-0.781-2.047-0.781-2.828,0L0.879,21.879c-1.172,1.172-1.172,3.071,0,4.243l21.293,21.293c0.781,0.781,2.047,0.781,2.828,0 L26.414,46c0.781-0.781,0.781-2.047,0-2.828L7.243,24z"})})),[jN.TWITTER]:t=>zN("svg",Q(Q({viewBox:"0 0 24 24"},Object.assign({},(K(t),t))),{},{children:zN("path",{d:"M17.751 3h3.067l-6.7 7.658L22 21.078h-6.172l-4.833-6.32-5.531 6.32h-3.07l7.167-8.19L2 3h6.328l4.37 5.777L17.75 3Zm-1.076 16.243h1.7L7.404 4.739H5.58l11.094 14.504Z"})})),[jN.VOD]:t=>zN("svg",Q(Q({width:"21",height:"23",viewBox:"0 0 21 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.602,4.716l-7.665-4.385C11.169-0.108,9.91-0.111,9.139,0.327L1.4,4.721C0.63,5.158,0,6.234,0,7.112v8.776c0,0.878,0.63,1.955,1.398,2.393l0.526,0.3l7.176,4.09c0.77,0.438,2.028,0.438,2.798,0l7.702-4.39c0.77-0.438,1.4-1.516,1.4-2.393V7.112C21,6.234,20.37,5.156,19.602,4.716z M7.336,15.761L7.337,7.24l8.008,4.26L7.336,15.761z",fill:"white"})})),[jN.VOD_DOWNLOAD]:t=>zN("svg",Q(Q({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:[zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.707 24.707l-5 5c-.39.39-1.024.39-1.414 0l-5-5c-.39-.39-.39-1.024 0-1.414l1.06-1.06c.392-.392 1.025-.392 1.415 0L14 23.462V15c0-.552.448-1 1-1h2c.552 0 1 .448 1 1v8.464l1.232-1.232c.39-.39 1.024-.39 1.414 0l1.06 1.06c.392.39.392 1.025 0 1.415z",fill:"white"}),zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.894 12.31c.063-.43.106-.864.106-1.31 0-4.97-4.03-9-9-9-3.6 0-6.7 2.12-8.138 5.175C10.175 6.75 9.368 6.5 8.5 6.5 6.015 6.5 4 8.515 4 11c0 .445.067.874.187 1.28C1.76 13.05 0 15.318 0 18c0 3.314 2.686 6 6 6h1c0-2.42 1.718-4.436 4-4.9V15c0-2.21 1.79-4 4-4h2c2.21 0 4 1.79 4 4v4.1c2.282.464 4 2.48 4 4.9h1c3.314 0 6-2.686 6-6 0-2.65-1.72-4.896-4.106-5.69z",fill:"white"})]})),[jN.VOD_RENT]:t=>zN("svg",Q(Q({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:[zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 11H9c-.552 0-1 .448-1 1v8c0 .552.448 1 1 1h14c.552 0 1-.448 1-1v-8c0-.552-.448-1-1-1z",fill:"white"}),zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 22V10c-2.76 0-5-2.24-5-5H5c0 2.76-2.24 5-5 5v12c2.76 0 5 2.24 5 5h22c0-2.76 2.24-5 5-5zm-6-1c0 1.105-.895 2-2 2H8c-1.105 0-2-.895-2-2V11c0-1.105.895-2 2-2h16c1.105 0 2 .895 2 2v10z",fill:"white"})]})),[jN.VOD_SUBSCRIBE]:t=>zN("svg",Q(Q({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:[zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 9v2c0 .552.448 1 1 1h10c.552 0 1-.448 1-1V1c0-.552-.448-1-1-1h-2c-.552 0-1 .448-1 1v4.445C24.98 2.01 20.523-.128 15.558.005 7.293.23.413 6.96.018 15.216-.42 24.41 6.905 32 16 32c8.47 0 15.404-6.583 15.964-14.912.04-.585-.413-1.088-1-1.088H28.96c-.514 0-.956.388-.994.9C27.506 23.107 22.326 28 16 28 9.217 28 3.748 22.37 4.01 15.53 4.246 9.284 9.47 4.147 15.72 4.003 19.38 3.92 22.674 5.483 24.926 8H21c-.552 0-1 .448-1 1z",fill:"white"}),zN("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 20v-8l8 4",fill:"white"})]})),[jN.CAMERA]:t=>zN("svg",Q(Q({width:"560",height:"560",viewBox:"0 0 560 560",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object.assign({},(K(t),t))),{},{children:[zN("circle",{cx:"280",cy:"280",r:"280",fill:"#141414"}),zN("path",{d:"M388.448 342.355L394.026 336.62V336.62L388.448 342.355ZM333.924 289.317L328.346 295.051L328.346 295.051L333.924 289.317ZM333.924 270.684L328.346 264.949L328.346 264.949L333.924 270.684ZM388.448 217.646L394.026 223.38L394.026 223.38L388.448 217.646ZM165 222.988C165 214.158 172.158 207 180.987 207V191C163.321 191 149 205.321 149 222.988H165ZM165 337.012V222.988H149V337.012H165ZM180.987 353C172.158 353 165 345.842 165 337.012H149C149 354.679 163.321 369 180.987 369V353ZM304.334 353H180.987V369H304.334V353ZM320.321 337.012C320.321 345.842 313.164 353 304.334 353V369C322 369 336.321 354.679 336.321 337.012H320.321ZM320.321 222.988V337.012H336.321V222.988H320.321ZM304.334 207C313.164 207 320.321 214.158 320.321 222.988H336.321C336.321 205.321 322 191 304.334 191V207ZM180.987 207H304.334V191H180.987V207ZM399.001 208.514H391.235V224.514H399.001V208.514ZM410.999 220.512C410.999 213.885 405.628 208.514 399.001 208.514V224.514C396.791 224.514 394.999 222.722 394.999 220.512H410.999ZM410.999 339.489V220.512H394.999V339.489H410.999ZM399.001 351.487C405.628 351.487 410.999 346.115 410.999 339.489H394.999C394.999 337.279 396.791 335.487 399.001 335.487V351.487ZM391.235 351.487H399.001V335.487H391.235V351.487ZM382.87 348.089C385.109 350.268 388.111 351.487 391.235 351.487V335.487C392.278 335.487 393.279 335.893 394.026 336.62L382.87 348.089ZM328.346 295.051L382.87 348.089L394.026 336.62L339.502 283.582L328.346 295.051ZM324.714 286.451C324.714 289.691 326.024 292.792 328.346 295.051L339.502 283.582C340.277 284.336 340.714 285.37 340.714 286.451H324.714ZM324.714 273.549V286.451H340.714V273.549H324.714ZM328.346 264.949C326.024 267.208 324.714 270.31 324.714 273.549H340.714C340.714 274.63 340.277 275.665 339.502 276.418L328.346 264.949ZM382.87 211.911L328.346 264.949L339.502 276.418L394.026 223.38L382.87 211.911ZM391.235 208.514C388.111 208.514 385.109 209.733 382.87 211.912L394.026 223.38C393.279 224.107 392.278 224.514 391.235 224.514V208.514Z",fill:"#3d3d3d"})]}))},lI=["name","className"],cI=t=>{let{name:e,className:n}=t,i=J(t,lI);const r=uI[e];return r&&zN(r,Q({className:n},i))};const dI=({headerContent:t,panelContent:e,bodyRef:n,headerRef:i,panelRef:r,bodyClassName:o,panelClassName:s,bodyInlineStyles:a={},ariaLabel:u})=>zN(Bk,{children:[t&&zN("div",{ref:i,children:t}),zN("div",{ref:n,className:o,style:a,children:zN("div",{className:s,ref:r,role:"menu","aria-label":u,children:e})})]}),hI=({isMenuDisplayed:t,setMenuDisplayed:e=qm,panel:n,buttonRef:i,panelContent:r,headerContent:o,toggleKey:s,className:a,id:u,type:l,ariaLabel:c,onBack:d=qm})=>{const h=TS(null),f=TS(null),p=TS(null),v=TS(null),_=QO((t=>t.element)),m=QO((t=>t.displayList.controlBar)),b=QO((t=>t.appearance.playerWidth)),y=QO((t=>t.appearance.playerHeight)),g=QO((t=>t.appearance.fullscreen)),[w,T]=bS(!1),C=wy(_),{onFocus:E,focusFirstItem:k}=BN({menuRef:h,panelRef:p,buttonRef:i,isActive:t&&w,toggleKey:s,shouldTrapFocus:C,setMenuDisplayed:e,onBack:d});gS((()=>{t&&k()}),[n]),gS((()=>{g&&e(!1)}),[g,e]),gS((()=>{m||e(!1)}),[m,e]),gS((()=>{const t=h.current;return()=>{null==t||null==t.close||t.close(),T(!1)}}),[h,T]),gS((()=>{var e,n,i,r;t&&(null!=h&&null!=(e=h.current)&&e.open&&(null==h||null==(n=h.current)||null==n.close||n.close()),C?null==h||null==(i=h.current)||null==i.showModal||i.showModal():null==h||null==(r=h.current)||null==r.show||r.show(),T(!0))}),[C,t,h]);const S=_m(X_.VP_MENU,"ModalMenu_module_menu__78a8988e",a);return zN(nI,{visible:t&&w,styleOverrides:{exitDone:{display:"none"}},onFaded:()=>{var t;null==h||null==(t=h.current)||null==t.close||t.close(),T(!1)},children:zN("dialog",{id:u,className:S,ref:h,onFocus:E,onBlur:t=>{var n;!t.relatedTarget||null!=(n=h.current)&&n.contains(t.relatedTarget)||e(!1)},"data-menu":l||!0,style:g?{}:{maxWidth:`${b}px`,maxHeight:`${y}px`,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},"aria-modal":"true",children:zN(dI,{headerContent:o,headerRef:v,bodyRef:f,bodyClassName:"ModalMenu_module_menuBody__78a8988e",panelClassName:"ModalMenu_module_menuPanel__78a8988e",panelRef:p,panelContent:r,ariaLabel:c})})})};const fI=({isMenuDisplayed:t,setMenuDisplayed:e=qm,panel:n,buttonRef:i,progressBarAndButtonsRef:r,panelContent:o,headerContent:s,toggleKey:a,className:u,id:l,type:c,resizeDependencies:d,ariaLabel:h,onBack:f=qm})=>{const p=TS(null),v=TS(null),_=TS(null),m=TS(null),b=TS(null),[y,g]=bS({height:"auto"}),[w,T]=bS({}),[C,E]=bS(!1),[k,S]=bS(!1),A=QO((t=>t.appearance.isMenuVerticalVideoMode)),N=QO((t=>t.appearance.boundingClientRect)),M=QO((t=>t.appearance.playerBreakpoint)),O=QO((t=>t.displayList.controlBar)),{isAccordionToggling:I}=kS(_I),{onFocus:L,focusFirstItem:R}=BN({menuRef:p,panelRef:_,buttonRef:i,isActive:t,toggleKey:a,setMenuDisplayed:e,onBack:f});gS((()=>{t&&R()}),[n]);const x=t=>{const e=window.getComputedStyle(t);return parseFloat(e.fontSize)},P=()=>{E(!1),cancelAnimationFrame(null==b?void 0:b.current)},D=()=>{if(!(null==p?void 0:p.current)||!t)return;let e="auto";const n=r_(p.current),i=x(p.current),r=n.bottom-p.current.scrollHeight,o=Math.max(N.top,0)-r;if(o>0){let t=p.current.scrollHeight-o-i;e=t/i+"em"}g((t=>Q(Q({},t),{},{height:e}))),S(o>0)},B=()=>{if(null==_||!_.current)return;if(!t)return void T({height:"0"});const e=x(_.current),n=(_.current.scrollHeight+16)/e+"em";T({height:n})},$=()=>{D(),C&&(b.current=requestAnimationFrame($))},V=vg((n=>{null!=p&&p.current&&null!=i&&i.current&&t&&(i.current.contains(n.target)||p.current.contains(n.target)||!document.contains(n.target)||e(!1))}),200),j=vg((()=>{e(!1)}),200);gS((()=>(document.addEventListener("click",V,!1),window.addEventListener("blur",j,!1),()=>{document.removeEventListener("click",V,!1),window.removeEventListener("blur",j,!1)})),[p,i,t]),gS((()=>((()=>{if(!((null==p?void 0:p.current)&&(null==i?void 0:i.current)&&(null==r?void 0:r.current)&&t))return;if(A&&M===qy.XXS&&(null==N?void 0:N.width))return void g((t=>Q(Q({},t),{},{width:"",right:""})));const e=r_(i.current),n=r_(p.current.parentElement),o=r_(r.current),s=r_(p.current);let a=-8-o.right+n.right;const u=e.right-e.width/2+s.width/2+8;u<o.right&&(a=n.right-u);const l=x(p.current);g((t=>Q(Q({},t),{},{right:a/l+"em"})))})(),t?(B(),E(!0),$()):(P(),B(),D()),()=>{P()})),[t,n,null==N?void 0:N.width,M,d]),gS((()=>{O||e(!1)}),[O]),gS((()=>{(()=>{if(null!=v&&v.current){if(I)return T((t=>Q(Q({},t),{},{height:"auto"}))),E(!0),void $();B(),$()}})()}),[I]);const H=_m(X_.VP_MENU,"PopoverMenu_module_menu__41674725",u,k&&"PopoverMenu_module_scroll__41674725",A&&"PopoverMenu_module_verticalVideo__41674725");return zN(nI,{visible:t,styleOverrides:{exitDone:{display:"none"}},children:zN("div",{id:l,className:H,ref:p,style:y,onTransitionEnd:t=>{t.target===(null==v?void 0:v.current)&&"height"===t.propertyName&&(D(),P())},onFocus:L,onBlur:t=>{var n;!t.relatedTarget||null!=(n=p.current)&&n.contains(t.relatedTarget)||e(!1)},"data-menu":c||!0,children:zN(dI,{headerContent:s,headerRef:m,bodyRef:v,bodyClassName:"PopoverMenu_module_menuBody__41674725",panelClassName:"PopoverMenu_module_menuPanel__41674725",panelRef:_,panelContent:o,ariaLabel:h,bodyInlineStyles:w})})})},pI=["forceModalMenu","setMenuDisplayed"],vI=t=>{let{forceModalMenu:e,setMenuDisplayed:n}=t,i=J(t,pI);const r=QO((t=>t.appearance.isMenuBlockingUI)),o=e||r,s=ES(n,[]);return zN(o?hI:fI,Q({setMenuDisplayed:s},i))},_I=sS({isAccordionToggling:!1,activeAccordion:"",setAccordionToggling:()=>{},setActiveAccordion:()=>{}}),mI=({children:t})=>{const[e,n]=bS(!1),[i,r]=bS(""),o={isAccordionToggling:e,activeAccordion:i,setAccordionToggling:n,setActiveAccordion:r};return zN(_I.Provider,{value:o,children:t})};const bI=({buffer:t=!1})=>zN("div",{className:"Divider_module_divider__74e2aa5b "+(t?"Divider_module_buffer__74e2aa5b":"")});const yI=({onBack:t=null,title:e,forceModalMenu:n,setMenuDisplayed:i=qm,hasCloseButton:r=!0,onClose:o=()=>i(!1),size:s=Jy.MD})=>{const a=QO((t=>t.appearance.isMenuBlockingUI)),u=n||a;return zN("div",{className:_m("MenuHeader_module_menuHeader__c10a9277",u&&"MenuHeader_module_fullWidth__c10a9277",t&&"MenuHeader_module_hasBack__c10a9277",!r&&"MenuHeader_module_hideCloseButton__c10a9277"),children:[zN("header",{className:"MenuHeader_module_header__c10a9277",children:[zN("div",{className:"MenuHeader_module_backButtonWrapper__c10a9277",children:zN(ZI,{className:"MenuHeader_module_backButton__c10a9277",onClick:t,"aria-label":"Back",color:Ky.ALTERNATIVE,icon:zN(cI,{name:jN.CHEVRON_RIGHT}),iconSize:Yy.MD})}),zN(jI,{size:s,className:"MenuHeader_module_title__c10a9277",color:eg.WHITE,element:u?"h1":"h2",children:e}),zN("div",{className:"MenuHeader_module_closeButtonWrapper__c10a9277",children:zN(ZI,{className:"MenuHeader_module_closeButton__c10a9277","aria-label":"Close menu",onClick:o,color:Ky.ALTERNATIVE,icon:zN(cI,{name:jN.DISMISS_X}),iconSize:Yy.MD})})]}),zN(bI,{})]})};const gI=["className","id","active","withActive","onSelect","onMouseEnter","onMouseLeave","element","styled","children","role","describedBy"],wI=t=>{let{className:e,id:n,active:i,withActive:r=!0,onSelect:o,onMouseEnter:s,onMouseLeave:a,element:u="div",styled:l=!0,children:c,role:d="menuitemradio",describedBy:h}=t,f=J(t,gI);const{onClick:p,onKeyDown:v}=pN(o),_=Q({className:_m("MenuOption_module_option__828f05b2",r&&"MenuOption_module_withActive__828f05b2",l&&"MenuOption_module_styled__828f05b2",e),role:d,"aria-checked":i,"aria-selected":i,"aria-describedby":h,"data-id":n,"data-menu-option":!0,tabIndex:0,onClick:p,onKeyDown:v,onMouseDown:t=>t.preventDefault(),onMouseEnter:s,onMouseLeave:a},f);return Pk(u,_,c)};const TI=({className:t,onSelect:e,label:n,value:i,id:r,isAccordion:o=!1,hasPopup:s=!1,isOpened:a=!1,size:u=bN.MEDIUM,role:l="menuitem"})=>{let c,d=Jy.MD;u===bN.LARGE?(d=Jy.LG,c=Jy.MD):o&&(d=Jy.SM);const h={};return s&&Object.assign(h,{"aria-haspopup":"true","aria-expanded":a}),zN(wI,Q(Q({className:_m("MenuItem_module_optionButton__14a7084a",u===bN.SMALL&&"MenuItem_module_small__14a7084a",t),onSelect:e,id:r,withActive:!1,role:l,"data-menu-item":!0},h),{},{children:[zN(jI,{size:d,weight:o?tg.BOLD:tg.NORMAL,className:"MenuItem_module_label__14a7084a",color:eg.WHITE,children:n}),i&&zN(jI,{weight:tg.NORMAL,size:c,className:"MenuItem_module_value__14a7084a",color:eg.WHITE,children:i}),zN("div",{className:_m("MenuItem_module_icon__14a7084a",a&&"MenuItem_module_open__14a7084a"),children:zN(cI,{name:o?jN.CHEVRON_DOWN:jN.CHEVRON_RIGHT})})]}))};const CI=Jy.MD,EI=Jy.SM,kI=({onSelect:t,onMouseEnter:e,onMouseLeave:n,label:i,active:r,id:o,ordered:s=!1,index:a,isAccordion:u=!1,tabIndex:l,icon:c=null,role:d="menuitemradio",hidden:h})=>{const f=_m("MenuOptionListItem_module_listItem__2a2a4b59",s&&"MenuOptionListItem_module_ordered__2a2a4b59",r&&"MenuOptionListItem_module_active__2a2a4b59",u&&"MenuOptionListItem_module_accordion__2a2a4b59");return zN(wI,{className:f,onSelect:t,onMouseEnter:e,onMouseLeave:n,active:r,id:o,tabIndex:l,role:d,hidden:h,children:[c&&zN("div",{className:"MenuOptionListItem_module_icon__2a2a4b59",children:zN(cI,{name:c})}),s&&!c&&zN("div",{className:"MenuOptionListItem_module_number__2a2a4b59",children:a}),!s&&!c&&zN("div",{className:"MenuOptionListItem_module_check__2a2a4b59 "+(r?"MenuOptionListItem_module_activeCheck__2a2a4b59":""),children:zN(cI,{name:jN.CHECKMARK})}),zN(jI,{className:"MenuOptionListItem_module_text__2a2a4b59",weight:tg.NORMAL,size:u?EI:CI,color:eg.WHITE,children:i}),s&&r&&zN("div",{className:"MenuOptionListItem_module_point__2a2a4b59",children:zN(cI,{name:jN.POINT})})]})},SI=({items:t,onSelect:e,onMenuOptionMouseEnter:n,onMenuOptionMouseLeave:i,ordered:r=!1,isAccordion:o=!1,listItemTabIndex:s=0,hidden:a,itemComponent:u})=>{const l=t.map((t=>{const l={key:t.id,id:t.id,active:t.active,label:t.label,onSelect:e,onMouseEnter:n,onMouseLeave:i,ordered:r,isAccordion:o,tabIndex:s,icon:t.icon,hidden:a};return u?u(Q(Q({},l),t)):zN(kI,Q({},l))}));return zN(Bk,{children:l})};const AI=({id:t,label:e,items:n=[],onSelect:i})=>{var r;const o=TS(null),s=TS(null),{setAccordionToggling:a,activeAccordion:u,setActiveAccordion:l}=kS(_I),[c,d]=bS(!1),[h,f]=bS({}),p=null==(r=n.find((t=>t.active)))?void 0:r.label,v=(t=void 0)=>{const n=void 0!==t?t:!c;d(n),a(!0),n&&l(e)},_=t=>{t.target===s.current&&"height"===t.propertyName&&a(!1)},m=t=>{null!=o&&o.current&&!o.current.contains(t.target)&&o.current!==t.target&&v(!1)};return gS((()=>(document.addEventListener("click",m),document.addEventListener("transitionend",_),()=>{l(""),document.removeEventListener("click",m),document.removeEventListener("transitionend",_)})),[]),gS((()=>{f((()=>{let t={};if(c&&null!=s&&s.current){const e=window.getComputedStyle(s.current),n=parseFloat(e.fontSize);t={height:s.current.scrollHeight/n+"em"}}return t})())}),[c,s]),gS((()=>{u&&u!==e&&v(!1)}),[u]),n.length&&zN("div",{className:"Accordion_module_accordion__2cb96b8e",role:"group",ref:o,"aria-controls":t,children:[zN(TI,{label:e,value:p,onSelect:()=>v(),isAccordion:!0,hasPopup:!0,isOpened:c,role:"button"}),zN("div",{className:"Accordion_module_content__2cb96b8e","aria-hidden":!c,ref:s,style:h,role:"menu",id:t,"aria-label":e,children:zN(SI,{items:n,onSelect:i,isAccordion:!0,listItemTabIndex:c?0:-1,hidden:!c||void 0})})]})};const NI=({id:t,label:e,className:n=""})=>zN("div",{className:`MenuFieldLabel_module_menuField__832e2f60 ${n}`,"aria-hidden":!0,children:zN(jI,{id:t,className:"MenuFieldLabel_module_label__832e2f60",color:eg.WHITE,children:e})}),MI=({labelId:t,items:e=[],label:n,onSelect:i})=>{const r=QO((t=>t.appearance.shouldMenuItemsWrap));return zN(Bk,{children:[zN(NI,{label:n,id:t}),zN("ul",{className:"ButtonRow_module_buttonRow__ed961dd7 "+(r?"ButtonRow_module_wrap__ed961dd7":""),role:"radiogroup","aria-labelledby":t,children:e.map((e=>zN(wI,{element:"li",className:"ButtonRow_module_filledButton__ed961dd7 "+(e.active?"ButtonRow_module_active__ed961dd7":""),active:e.active,id:e.id,onSelect:i,styled:!1,role:"radio",describedBy:t,children:zN(jI,{className:"ButtonRow_module_label__ed961dd7",color:eg.WHITE,children:e.label})},e.id)))})]})};const OI=({labelId:t,items:e=[],label:n,onSelect:i})=>{const r=QO((t=>t.appearance.shouldMenuItemsWrap));return zN(Bk,{children:[zN(NI,{label:n,id:t}),zN("ul",{className:"ColorSwabs_module_colorSwabs__ee1dd808 "+(r?"ColorSwabs_module_wrap__ee1dd808":""),role:"radiogroup","aria-labelledby":t,children:e.map((e=>zN(wI,{id:e.id,element:"li",className:"ColorSwabs_module_colorSwab__ee1dd808 "+(e.active?"ColorSwabs_module_active__ee1dd808":""),active:e.active,"aria-label":e.label,onSelect:i,styled:!1,describedBy:t,role:"radio",children:zN("div",{className:"ColorSwabs_module_inner__ee1dd808",style:{backgroundColor:e.id}})},e.id)))})]})};var II="Tooltip_module_playTooltip__d9b61844";let LI=function(t){return t.TOP="top",t.BOTTOM="bottom",t.LEFT="left",t.RIGHT="right",t}({});const RI={onPointerDown:t=>t.preventDefault()},xI=({children:t,tooltipContent:e,className:n="",containerEl:i,position:r,margin:o,visible:s=null,preventFocusOnClick:a=!1,id:u=null,animating:l=!1})=>{var c,d,h;const[f,p]=bS(!1),v=()=>p(!0),_=()=>p(!1),m=null!==s,b=s||f,y=PI("onPointerEnter",t,(t=>{"mouse"===t.pointerType&&v()})),g=PI("onPointerLeave",t,_),w=PI("onFocus",t,(()=>{document.body.classList.contains(X_.SHOWFOCUS)&&v()})),T=PI("onBlur",t,_);CN("Escape",_);let C=null==t?void 0:t.ref;const E=TS(null);C=C||E;const k=TS(null),S=_m("Tooltip_module_tooltipContainer__d9b61844",null==t||null==(c=t.props)?void 0:c.className,m&&s&&"Tooltip_module_forceVisible__d9b61844"),A=Q(Q({},null==t?void 0:t.props),{},{className:S,ref:C,onPointerEnter:y,onPointerLeave:g,onFocus:w,onBlur:T,"aria-labelledby":u??null,"data-touch-device":Bt.touch.toString()});a&&Object.assign(A,RI);const N=(({tooltipEl:t,wrappedEl:e,visible:n,containerEl:i,position:r=LI.TOP,margin:o=0,animating:s=!1})=>{const a=TS(null),[u,l]=bS({top:null,bottom:null,left:r===LI.LEFT?"auto":"50%",right:r===LI.LEFT?`calc(100% + ${o}px)`:"auto"}),c=QO((t=>t.element)),d=ES((()=>{const i={};if(t&&e&&n){const{left:n,right:s}=c.getBoundingClientRect(),{left:a,right:u,width:l}=e.getBoundingClientRect(),{width:d}=t.getBoundingClientRect();if(r===LI.TOP||r===LI.BOTTOM){const t=(d-l)/2,e=a-t,r=u+t,c=Math.max(n+o-e,0),h=Math.max(r+o-s,0);Object.assign(i,{left:`calc(50% + ${c-h}px)`})}}return i}),[o,c,r,t,n,e]),h=ES((()=>{const e={};if(t&&i&&n){const{bottom:t}=i.getBoundingClientRect(),{top:n}=c.getBoundingClientRect();if(r===LI.BOTTOM){const i=t-n-o;isNaN(i)||Object.assign(e,{top:`${i}px`})}}return e}),[i,o,c,r,t,n]),f=ES((()=>{l((t=>{const e=Q(Q(Q({},t),d()),h());return ZM(e,t)?t:e}))}),[d,h]);return gS((()=>(s?function t(){f(),a.current=requestAnimationFrame(t)}():(cancelAnimationFrame(a.current),f()),()=>{cancelAnimationFrame(a.current)})),[s,f]),u})({tooltipEl:null==k?void 0:k.current,wrappedEl:null==(d=C)?void 0:d.current,containerEl:null==i?void 0:i.current,position:r,margin:o,visible:m&&s||f,animating:l}),M=_m("Tooltip_module_tooltip__d9b61844",n,r===LI.LEFT&&"Tooltip_module_tooltipLeft__d9b61844"),O=zN(nI,{visible:b,children:zN("span",{id:u,ref:k,style:N,className:M,"aria-hidden":"true",children:e})}),I=Xk(null==t||null==(h=t.props)?void 0:h.children);return oS(t,A,[O].concat(et(I)))};function PI(t,e,n){return i=>{var r;null!=e&&null!=(r=e.props)&&r[t]&&e.props[t](i),n(i)}}var DI={text:"Text_module_text__705900fc",sm:"Text_module_sm__705900fc",md:"Text_module_md__705900fc",lg:"Text_module_lg__705900fc",xl:"Text_module_xl__705900fc",bpxxs_fontsm:"Text_module_bpxxs_fontsm__705900fc",bpxxs_fontmd:"Text_module_bpxxs_fontmd__705900fc",bpxxs_fontlg:"Text_module_bpxxs_fontlg__705900fc",bpxxs_fontxl:"Text_module_bpxxs_fontxl__705900fc",bpxs_fontsm:"Text_module_bpxs_fontsm__705900fc",bpxs_fontmd:"Text_module_bpxs_fontmd__705900fc",bpxs_fontlg:"Text_module_bpxs_fontlg__705900fc",bpxs_fontxl:"Text_module_bpxs_fontxl__705900fc",bpsm_fontsm:"Text_module_bpsm_fontsm__705900fc",bpsm_fontmd:"Text_module_bpsm_fontmd__705900fc",bpsm_fontlg:"Text_module_bpsm_fontlg__705900fc",bpsm_fontxl:"Text_module_bpsm_fontxl__705900fc",bpmd_fontsm:"Text_module_bpmd_fontsm__705900fc",bpmd_fontmd:"Text_module_bpmd_fontmd__705900fc",bpmd_fontlg:"Text_module_bpmd_fontlg__705900fc",bpmd_fontxl:"Text_module_bpmd_fontxl__705900fc",bplg_fontsm:"Text_module_bplg_fontsm__705900fc",bplg_fontmd:"Text_module_bplg_fontmd__705900fc",bplg_fontlg:"Text_module_bplg_fontlg__705900fc",bplg_fontxl:"Text_module_bplg_fontxl__705900fc",bpxl_fontsm:"Text_module_bpxl_fontsm__705900fc",bpxl_fontmd:"Text_module_bpxl_fontmd__705900fc",bpxl_fontlg:"Text_module_bpxl_fontlg__705900fc",bpxl_fontxl:"Text_module_bpxl_fontxl__705900fc",bpxxl_fontsm:"Text_module_bpxxl_fontsm__705900fc",bpxxl_fontmd:"Text_module_bpxxl_fontmd__705900fc",bpxxl_fontlg:"Text_module_bpxxl_fontlg__705900fc",bpxxl_fontxl:"Text_module_bpxxl_fontxl__705900fc",bold:"Text_module_bold__705900fc",normal:"Text_module_normal__705900fc",medium:"Text_module_medium__705900fc",white:"Text_module_white__705900fc"};const BI={[Jy.SM]:"sm",[Jy.MD]:"md",[Jy.LG]:"lg",[Jy.XL]:"xl"},$I={[tg.BOLD]:DI.bold,[tg.NORMAL]:DI.normal,[tg.NUM_500]:DI.medium},VI={[eg.WHITE]:DI.white},jI=({element:t="span",children:e,size:n=Jy.SM,sizeMap:i,weight:r=tg.BOLD,color:o=eg.CUSTOM,className:s="",id:a="",ariaHidden:u=!1,role:l,containsMarkup:c=!1})=>{let d=[];i?Object.keys(i).forEach((t=>{const e=BI[i[t]];d.push(DI[`bp${t}_font${e}`])})):d.push(DI[BI[n]]);const h={className:_m.apply(void 0,[DI.text].concat(d,[$I[r],VI[o],s])),id:a,ariaHidden:u,role:l};return c&&(h.dangerouslySetInnerHTML={uc:e}),Pk(t,h,e)},HI=t=>zN(oI,{className:t.classNames,href:t.url,tabIndex:t.url?"0":"-1",style:t.style,children:zN("img",{className:t.imgClassNames,src:t.img,alt:t.imgAlt})});var FI="shared_module_focusable__fd03e359",UI="shared_module_focusableButton__fd03e359",zI="shared_module_focusableCircle__fd03e359",XI="shared_module_focusableMarker__fd03e359",GI="shared_module_visuallyHidden__fd03e359";const WI=["children","className","color","size","focusable","icon","iconPosition","iconSize","type","style","tabIndex"],qI={[Ky.PRIMARY]:"Button_module_primary__779846a6",[Ky.ALTERNATIVE]:"Button_module_alternative__779846a6"},YI={[Yy.MD]:"Button_module_md__779846a6",[Yy.SM]:"Button_module_sm__779846a6",[Yy.XS]:"Button_module_xs__779846a6"},KI={[Yy.MD]:"Button_module_iconMd__779846a6",[Yy.SM]:"Button_module_iconSm__779846a6"},ZI=YS(((t,e)=>{let{children:n,className:i,color:r=Ky.CUSTOM,size:o=Yy.CUSTOM,focusable:s=!0,icon:a,iconPosition:u=Zy.LEFT,iconSize:l=Yy.CUSTOM,type:c,style:d={},tabIndex:h=0}=t,f=J(t,WI);return zN("button",Q(Q({className:_m("Button_module_button__779846a6",s&&FI,qI[r],YI[o],a&&"Button_module_icon__779846a6",a&&KI[l],W_.EXCLUDE_GLOBAL_BUTTON_STYLES,i),ref:e,type:c||Qy.BUTTON,style:d,tabIndex:h},f),{},{children:[u===Zy.LEFT&&a,n&&zN("span",{className:"Button_module_buttonChildren__779846a6",children:n}),u===Zy.RIGHT&&a]}))}));const QI=({linkUrl:t,className:e,ariaDescribedBy:n,tooltipPosition:i,tooltipClassName:o="",onClick:s})=>{const a=TS(null),u=TS(null),[l,c]=bS(!1),d=_m(Bt.touch&&"CopyLinkButton_module_touchDevice__b24b40c0","CopyLinkButton_module_copyLinkButton__b24b40c0",e),h=()=>{clearTimeout(a.current),clearTimeout(u.current)},f=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(e){return e.preventDefault(),e.stopPropagation(),function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(cm(t),(function(){null==s||s(),c(!0),h(),a.current=setTimeout((()=>c(!1)),2e3)}))}));return zN(xI,{id:"copy-link-button-tooltip",tooltipContent:l||Bt.touch?zN("span",{className:"CopyLinkButton_module_linkCopied__b24b40c0",children:[zN(cI,{name:jN.CHECKMARK,className:"CopyLinkButton_module_linkCopiedIcon__b24b40c0"}),"Link copied"]}):"Copy link",className:o,visible:l,position:i,margin:4,preventFocusOnClick:!0,children:zN(ZI,{icon:zN("div",{className:"CopyLinkButton_module_shareIconContainer__b24b40c0",children:zN(cI,{name:jN.LINK})}),iconSize:Yy.MD,className:d,onMouseLeave:()=>{h(),u.current=setTimeout((()=>c(!1)),150)},onClick:f,"aria-describedby":n})})};const JI=["Shift","Tab"],tL=Bt.iOS?"SearchInput_module_mobileSafari__8bd10fbf":"",eL=YS((({onChange:t,onEnter:e,onSearchIterate:n,value:i,numSearchResults:r,ariaControls:o,disabled:s,placeholder:a,searchItemIterator:u},l)=>{const c={defaultPlaceholder:"Search",clearResults:"Clear Search Results",previousResult:"Previous search result",nextResult:"Next search result",noResults:"No results",numberResults:1===r?r+" result":r+" results"},[d,h]=bS(!1),[f,p]=bS(!1),v=TS(null),_=i.length>0,m=(()=>{const[t,e]=bS(!1);return CN("Shift",(()=>{e(!0)}),(()=>{e(!1)})),t})();let b=a;r&&d&&(b=c.numberResults),!r&&i&&d&&(b=c.noResults);const[y,g]=bS(c.nextResult),[w,T]=bS(c.previousResult);a=a??c.defaultPlaceholder,gS((function(){return clearTimeout(v.current),v.current=setTimeout((()=>{h(!0)}),1e3),()=>clearTimeout(v.current)}),[i]);const C=()=>{null!=l&&l.current&&(null==l.current.focus||l.current.focus())},E=()=>{t&&t(""),e&&e(""),C()},k=t=>{let e;null==t||t.preventDefault(),null==t||t.stopPropagation(),e=u<r-1?u+1:0,r&&g("Result "+(e+1)+" of "+r),n&&n(e)},S=t=>{let e;null==t||t.preventDefault(),null==t||t.stopPropagation(),e=u>0?u-1:r-1,r&&T("Result "+(e+1)+" of "+r),n&&n(e)},A=_m("SearchInput_module_inputForm__8bd10fbf",_&&"SearchInput_module_active__8bd10fbf"),N=_m("SearchInput_module_searchButton__8bd10fbf",UI),M=0!==r&&Number.isInteger(u)?`${u+1}/${r}`:"0/0";return zN("form",{className:A,role:"search","data-component-type":"SearchInput","data-focused":`${f}`,"data-disabled":`${s}`,onReset:()=>E(),onSubmit:t=>{t.preventDefault(),e&&e(i),m?S():k()},onClick:C,children:[!_&&zN("div",Q(Q({"data-icon":"search",className:"SearchInput_module_searchIcon__8bd10fbf"},lm(C)),{},{children:zN(cI,{name:jN.SEARCH,"aria-hidden":"true"})})),zN("input",{"aria-live":"polite",type:"text",ref:l,className:tL,onFocus:()=>p(!0),onBlur:()=>p(!1),onKeyDown:t=>{JI.includes(t.key)||t.stopPropagation()},"aria-controls":o,onInput:e=>{e.preventDefault(),t&&t(e.target.value),h(!1)},value:i,"aria-describedby":"searchResultsStatus",disabled:s,id:nm.SEARCH_INPUT}),!_&&zN("label",{htmlFor:nm.SEARCH_INPUT,className:"SearchInput_module_label__8bd10fbf",children:a}),i&&zN("span",{id:"searchResultsStatus","aria-live":"polite",className:GI,children:b}),_&&zN(Bk,{children:[Number.isInteger(u)&&zN("div",{"data-purpose":"search-item",className:"SearchInput_module_searchItem__8bd10fbf","aria-hidden":"true",children:M}),zN(ZI,Q(Q({"aria-live":"polite"},lm(S)),{},{"data-purpose":"decrement-search","aria-label":w,icon:zN(cI,{name:jN.CHEVRON_UP}),iconSize:Yy.SM,className:N,disabled:s||!r,onBlur:()=>{T(c.previousResult)}})),zN(ZI,Q(Q({"aria-live":"polite"},lm(k)),{},{"aria-label":y,"data-purpose":"increment-search",icon:zN(cI,{name:jN.CHEVRON_DOWN}),iconSize:Yy.SM,className:N,disabled:s||!r,onBlur:()=>{g(c.nextResult)}})),zN(ZI,Q(Q({},lm(E)),{},{"data-icon":"close","data-purpose":"close","aria-label":c.clearResults,icon:zN(cI,{name:jN.CLOSE_CIRCLE,"data-icon":"close"}),iconSize:Yy.SM,type:Qy.RESET,className:N,disabled:s}))]})]})}));const nL=["className","size"],iL=t=>{let{className:e="",size:n=ng.SM}=t,i=J(t,nL);const r=_m(X_.VP_SPIN,n===ng.LG&&"Spinner_module_lg__c0a9f13b",n===ng.SM&&"Spinner_module_sm__c0a9f13b",e);return zN(cI,Q({"data-component-type":"spinner",name:jN.SPINNER,className:`Spinner_module_spinner__c0a9f13b ${r}`},i))};const rL=({checked:t,onSelect:e,className:n,children:i,isMenuItem:r,role:o="switch"})=>{const s=_m("Switch_module_switch__c00d76b6",r&&"Switch_module_isMenuItem__c00d76b6",n),a=_m("Switch_module_switchContainer__c00d76b6",t&&"Switch_module_checked__c00d76b6");return zN("div",Q(Q({tabIndex:0,role:o,"aria-checked":t,className:s},lm((t=>null==e?void 0:e(t)))),{},{children:[i,zN("div",{className:a,children:[zN(cI,{name:jN.SWITCH_CONTAINER}),zN(cI,{name:jN.SWITCH_CIRCLE,className:"Switch_module_handle__c00d76b6"})]})]}))};const oL=({cues:t,language:e,direction:n,className:i,fontSize:r,fontFamily:o,fontOpacity:s,color:a,windowOpacity:u,windowColor:l,bgOpacity:c,bgColor:d,edgeStyle:h,height:f,style:p={}})=>{const v=Tw(),_=(t,e)=>{const n=new Hm(gO[t]||t);return n.alpha=e/100,n.rgba},m=Q(Q(Q(Q(Q({},{fontSize:`${(t=>Math.max(10,Math.round(.045*f*t)))(r)}px`}),(()=>{const t=((t,e)=>v.fontFamily.items.find((t=>t.id===e)))(0,o);return{fontVariant:"small_capitals"===t.id?"small-caps":"initial",fontFamily:t.value}})()),{color:_(a,s)}),(()=>{const t="0, 0, 0, "+Number(s)/100;let e;switch(h){case"shadow":e=`2px 2px 2px rgba(${t})`;break;case"outline":e=`1px 0px 1px rgba(${t}), 0px 1px 1px rgba(${t}), -1px 0px 1px rgba(${t}), 0px -1px 1px rgba(${t})`;break;case"raised":e=`rgba(${t}) 1px 1px, rgba(${t}) 1.5px 1.5px`;break;case"depressed":e=`rgba(${t}) -1px -1px, rgba(${t}) -1.5px -1.5px`;break;default:e="none"}return{textShadow:e}})()),p),b=Q({},{backgroundColor:_(l,u)}),y=Q({},{background:_(d,c)});return zN("div",{className:_m(X_.VP_CAPTIONS,"CaptionsRenderer_module_captions__f2659eec",i),"aria-live":"assertive",lang:e,dir:n,style:m,children:zN("span",{className:"CaptionsRenderer_module_captionsWindow__f2659eec",style:b,children:(()=>{let e=[];return t.forEach((t=>{const n=t.html.split(/<br\s?\/?>/i).filter(Boolean);e=e.concat(n)})),e})().map((t=>zN("span",{className:"CaptionsRenderer_module_captionsLine__f2659eec",style:y,dangerouslySetInnerHTML:{uc:t}},t)))})})};const sL=YS((({children:t,className:e,style:n,role:i="status",ariaLabelledby:r},o)=>zN("div",{role:i,"aria-labelledby":r,className:`ToastBase_module_toast__fb6cbe17 ${e||""}`,ref:o,style:n,children:t})));const aL=()=>zN("div",{className:"ToastDivider_module_divider__b81b458b"});const uL=["tooltipLabel","icon","onClick","containerRef","fullToast","className","onMouseEnter","onMouseLeave"],lL=t=>{let{tooltipLabel:e,icon:n,onClick:i,containerRef:r,fullToast:o,className:s,onMouseEnter:a,onMouseLeave:u}=t,l=J(t,uL);const c=QO((t=>t.appearance.playerBreakpoint)),d=["xl","xxl"].includes(c)?16:8,h=_m("ToastButton_module_toastButton__a3f96132",o&&"ToastButton_module_fullToast__a3f96132",s);return e?zN(xI,{tooltipContent:e,position:LI.BOTTOM,containerEl:r,margin:d,children:zN(ZI,Q({color:o?Ky.PRIMARY:Ky.ALTERNATIVE,icon:n,onClick:i,onMouseEnter:a,onMouseLeave:u,className:h},l))}):zN(ZI,Q({color:o?Ky.PRIMARY:Ky.ALTERNATIVE,icon:n,onClick:i,onMouseEnter:a,onMouseLeave:u,className:h},l))},cL={[qy.XXS]:Jy.MD,[qy.LG]:Jy.LG,[qy.XXL]:Jy.XL},dL=({onClick:t,onMouseEnter:e,onMouseLeave:n,label:i})=>zN(lL,{fullToast:!0,onClick:t,onMouseEnter:e,onMouseLeave:n,children:zN(jI,{sizeMap:cL,children:i})});const hL=({transitionTime:t,delay:e=400,ariaLabelledby:n})=>{const i=`width ${t-e}ms linear`,[r,o]=bS({});return gS((()=>{const t=setTimeout((()=>{o({transition:i,width:"100%"})}),e);return()=>{clearTimeout(t)}}),[o,i,e]),zN("div",{className:"ToastProgress_module_progressWrapper__c722ee37",role:"progressbar","aria-labelledby":n,children:zN("div",{className:"ToastProgress_module_progress__c722ee37",style:r})})};const fL=({id:t,children:e,className:n})=>{const i=_m("ToastMessage_module_label__1715956e",n);return zN(jI,{id:t,weight:tg.NORMAL,className:i,color:eg.WHITE,sizeMap:{[qy.XXS]:Jy.SM,[qy.SM]:Jy.MD,[qy.XL]:Jy.LG,[qy.XXL]:Jy.XL},children:e})};const pL=({onClick:t,describedBy:e,selected:n})=>zN(lL,{className:"CloseToastButton_module_close__cfcb6e11 "+(n?"CloseToastButton_module_selected__cfcb6e11":""),icon:zN(cI,{name:jN.DISMISS_X}),onClick:t,"aria-label":"Close","aria-describedby":e}),vL=({children:t,targetContent:e,onContentChange:n=qm,delay:i=250,styleOverrides:o,fadeIn:s=!0,fadeOut:a=!0})=>{const u=TS(null),[l,c]=bS(e),d=e!==l,h=!d&&!!e;if(d){const t=d&&!l?0:i;u.current=function(t,i,o){const s=new r((t=>setTimeout((()=>(c(e),n(e),t(void 0))),o)));return t?t.then((()=>s)):s}(u.current,0,t)}return zN(nI,{fadeIn:s,fadeOut:a,visible:h,duration:i,styleOverrides:o,children:null==t?void 0:t(l)})};let _L=function(t){return t.LOAD_TIMEOUT="Load timeout",t}({});const mL=1e3,bL=100*Math.random()<=100,yL=[k_.PLAYER_LOGIN_SUCCESSFUL,k_.PLAYER_LOGIN_FAILED,k_.COMPONENT_VISIBILITY_CHANGE,k_.APP_BREAKPOINT_CHANGE],gL=t=>{const{id:e,url:n,title:i,visible:r,userLoggedIn:o,appBreakpoint:s,bigPicture:a,onIframeLoad:u=qm,onError:l=qm,onRemoteComponentReady:c=qm,waitForReady:d=!1,isAnimating:h=!1,timeout:f=mL,className:p}=t,v=TS(!1),[_,m]=bS(!1),[b,y]=bS(!1),g=TS(sC()),w=TS(null),T=TS(null),C=_m("RemoteComponent_module_remoteComponent__c2722e03",b&&"RemoteComponent_module_loaded__c2722e03",p),E=TS(Date.now()),k=ES((t=>{v.current=!1,m(!0),l(t)}),[l]),S=ES((()=>{d&&y(!0),clearTimeout(T.current),c()}),[d,c]);gS((function(){w.current&&function(t,e,n){const{url:i,onPlay:r=qm,onPause:o=qm,onSeek:s=qm,onClose:a=qm,onRemoteComponentReady:u=qm,onError:l=qm}=t,c=o_(i);e.configureClient(n.contentWindow,c),e.extendMethods({play:r,pause:o,set currentTime(t){s(t)},closeRemoteComponent:a,remoteComponentReady:u,reportRemoteComponentError:l}),yL.forEach((function(t){e.listeners[t]=!0}))}(Q(Q({},t),{},{onRemoteComponentReady:S}),g.current,w.current)}),[]),gS((function(){clearTimeout(T.current),T.current=setTimeout((()=>{b||(k({message:_L.LOAD_TIMEOUT,code:408}),a.sendEvent(qb.REMOTE_COMPONENT_TIMEOUT,{component_url:n,component_timeout:f}))}),f)}),[b,f,n,k,a]),gS((function(){o&&g.current.emit(k_.PLAYER_LOGIN_SUCCESSFUL)}),[o]),gS((function(){r||document.activeElement!==w.current||w.current.blur(),h||g.current.emit(k_.COMPONENT_VISIBILITY_CHANGE,r)}),[r,h]),gS((function(){g.current.emit(k_.APP_BREAKPOINT_CHANGE,s)}),[s]),gS((function(){E.current=Date.now()}),[n]);const A=_m("RemoteComponent_module_spinner__c2722e03",!b&&!_&&"RemoteComponent_module_visible__c2722e03");return zN(Bk,{children:[zN(iL,{className:A}),zN("iframe",{id:e,ref:w,onLoad:()=>{_||(v.current=!0,u(),bL&&a.sendEvent(qb.REMOTE_COMPONENT_LOADED,{component_url:n,component_load_time:Date.now()-E.current}),d||(clearTimeout(T.current),y(!0)))},title:i,src:n,className:C})]})},wL=["onPlay","onPause","onSeek","url","visible"],TL=t=>{const{onPlay:e,onPause:n,onSeek:i,url:r,visible:o}=t,s=J(t,wL),a=QO((t=>t.setPlayback)),u=GN((t=>t.bigPicture)),l=QO((t=>t.user.loggedIn)),c=QO((t=>t.appearance.appBreakpoint)),d=GN((t=>t.colors.colorOne)),h=GN((t=>t.colors.colorTwo)),f=GN((t=>t.colors.colorThree)),p=GN((t=>t.colors.colorFour)),[v,_]=bS(CL(r,m()));function m(){return{loggedIn:l,appBreakpoint:c,visible:o,colorOne:d,colorTwo:h,colorThree:f,colorFour:p}}return gS((function(){_(CL(r,m()))}),[r]),zN(gL,Q({userLoggedIn:l,onPlay:()=>{a("paused",!1),null==e||e()},onPause:()=>{a("paused",!0),null==n||n()},onSeek:t=>{a("currentTime",t),null==i||i(t)},appBreakpoint:c,url:v,visible:o,bigPicture:u},s))};function CL(t,e){const n=Object.keys(e).filter((t=>void 0!==e[t])),i=jE(e,n);return Qt(t,i)}const EL=({playerBreakpoint:t})=>{const e=[qy.XS,qy.XXS].includes(t),n=e?jN.VIMEO_SMALL:jN.VIMEO,i=e?"data-vimeo-small-icon":"data-vimeo-icon";return zN(cI,{name:n,"aria-hidden":!0,[i]:!0})};const kL=({url:t,className:e})=>{const n={backgroundImage:`url(${t})`};return zN("div",{className:_m("Image_module_image__2d6414b2",e),style:n})};const SL=["embedCode","onClick"],AL=t=>{let{embedCode:e,onClick:n}=t,i=J(t,SL);const[r,o]=bS(!1),s=TS(null);return zN(ZI,Q(Q({onClick:()=>{o(!0),cm(e),n(),clearTimeout(s.current),s.current=setTimeout((function(){o(!1)}),2e3)},className:"CopyEmbedCodeButton_module_copyEmbedCodeButton__ac44b4e7"},i),{},{children:r?"Copied!":"Copy"}))};var NL="shared_module_shareTitle__4b2ffcd4";const ML=({visible:t})=>{const e=QO((t=>t.embed.allowEmbedShare)),n=QO((t=>t.embed.embedCode)),i=QO((t=>t.embed.videoUrl)),r=QO((t=>t.displayList.outro)),o=QO((t=>t.embed.embedOnlyShare)),s=GN((t=>t.bigPicture)),a=TS(null),u={title:"Embed",subtitle:"Add this video to your site with the embed code below.",customize:`<a href="${i}#embed" target="_blank" rel="noopener" aria-describedby="${q_.NEW_WINDOW_DESCRIPTION}">Customize this embed</a> on Vimeo`},l=_m("EmbedShare_module_embedShareContainer__fb691e4b",o&&"EmbedShare_module_embedOnlyShare__fb691e4b",!t&&"EmbedShare_module_hidden__fb691e4b"),c=ES((t=>{const e=r?"end_screen":"share_overlay";s.sendEvent(qb.COPY_VIDEO_EMBED_CODE,{location:`player_embed_${e}_${t}`,path:window.location.pathname})}),[r,s]);return gS((()=>{a.current&&a.current.setSelectionRange(0,n.length)}),[n]),e&&zN(US,{duration:200,alwaysMounted:!0,in:t,styles:cg("translateX(125%)","translateX(-17%)"),children:zN("section",{className:l,children:zN("div",{children:[zN(jI,{element:"h1",color:eg.WHITE,size:Jy.XL,className:NL,children:u.title}),zN(jI,{element:"p",color:eg.WHITE,className:"EmbedShare_module_embedShareSubtitle__fb691e4b",size:Jy.MD,containsMarkup:!0,children:u.subtitle}),zN("div",{className:"EmbedShare_module_embedShareEmbedCode__fb691e4b",children:[zN("div",{children:zN("input",{onClick:t=>{t.currentTarget.select()},onCut:()=>c("keyboard"),onCopy:()=>c("keyboard"),className:"EmbedShare_module_embedInput__fb691e4b",readOnly:!0,"aria-readonly":"true",value:n,ref:a})}),zN(AL,{embedCode:n,onClick:()=>c("button")})]}),zN(jI,{element:"p",size:Jy.MD,className:"shared_module_shareFootnote__4b2ffcd4 EmbedShare_module_shareFootnote__fb691e4b",containsMarkup:!0,children:u.customize})]})})})};const OL={facebook:jN.FACEBOOK,twitter:jN.TWITTER,tumblr:jN.TUMBLR,email:jN.EMAIL,embed:jN.EMBED},IL={facebook:hp,twitter:fp,tumblr:pp,email:vp,embed:sp},LL={facebook:"Share on Facebook",twitter:"Share on Twitter",tumblr:"Share on Tumblr",email:"Share via Email",embed:"Get embed code"},RL=YS((({destination:t,onClick:e,startTime:n,endTime:i,url:r},o)=>{const s=QO((t=>t.title.title)),a=QO((t=>t.title.ownerName)),u=QO((t=>t.embed.videoUrl)),l=QO((t=>t.embed.playerShareUrl)),c=QO((t=>t.embed.videoUnlistedHash)),d=QO((t=>t.events)),h={emailSubject:"Check out “"+s+"” from "+a+" on Vimeo",emailBody:"Check out “"+s+"” from "+a+" on Vimeo.\n\nThe video is available for your viewing pleasure at "+gb(r,sb.SHARE)+"\n\nIf you like this video, make sure you share it, too!\n\nVimeo is filled with lots of amazing videos. See more at https://vimeo.com."},f=ES((t=>{if("email"===t)return`mailto:?subject=${encodeURIComponent(h.emailSubject)}&body=${encodeURIComponent(h.emailBody)}`;if("embed"===t)return`${u}#share`;let e=gb(`${l}/${t}`,sb.SHARE);return c&&(e=Sb(e,"h",c)),(n||i)&&(e=Pb(e,n,i)),e}),[l,c,u,h.emailBody,h.emailSubject,n,i]),p=ES((n=>{n.preventDefault(),d.fire(IL[t],f(t)),e(t,n.currentTarget.href)}),[d,e]);return zN(oI,{ref:o,className:"SocialShareLink_module_shareButton__88fe0dc2",role:"button",href:f(t),onClick:p,ariaLabel:LL[t],children:zN(cI,{name:OL[t]})})}));var xL="SocialShare_module_shareButtonItem__51546bb2",PL="SegmentShareInputs_module_inputWrapper__c2105442";const DL=({id:t,label:e,value:n,inputRef:i,className:r,disabled:o,useEnd:s})=>{const a=QO((t=>t.playback.currentTime)),u=QO((t=>t.playback.duration)),[l,c]=bS(!1);let d=" ";return l&&!(null!==n&&""!==n)&&(d=xm(s?u:a)),zN("div",{className:r,children:[zN("input",{id:t,ref:i,type:"text",className:"TimeInput_module_segmentShareInput__7463c6f5",value:n||null,placeholder:d,disabled:o,tabIndex:o?-1:0,onFocus:()=>c(!0),onBlur:()=>c(!1)}),zN("label",{htmlFor:t,className:"TimeInput_module_floatingLabel__7463c6f5",children:e})]})},BL=({setTimeParams:t})=>{const e=QO((t=>t.playback.duration)),[n,i]=bS(!1),[r,o]=bS(null),[s,a]=bS(null),u=TS(null),l=TS(null),c=_m(PL),d=_m(PL),h=ES(((i=r,u=s)=>{if(i!==r&&o(i),u!==s&&a(u),!n)return void t("","");const l=Lm(u);t(i,u&&null!==l&&l<e?u:"")}),[n,r,s,e,t]),f=ES((()=>{i(!n),h()}),[n,h]);return zN("div",{className:"SegmentShareInputs_module_segmentShareWrapper__c2105442",children:[zN("div",{role:"checkbox","aria-checked":n,"aria-label":"Set start and end times",tabIndex:0,className:"SegmentShareInputs_module_checkboxContainer__c2105442",onClick:f,onKeyPress:f,children:zN("span",{className:"SegmentShareInputs_module_customCheckbox__c2105442 "+(n?"SegmentShareInputs_module_checked__c2105442":"")})}),zN(DL,{id:rm.START_INPUT,label:"Start",value:n?r:"",inputRef:u,className:c,disabled:!n}),zN(DL,{id:rm.END_INPUT,label:"End",value:n&&s||"",inputRef:l,className:d,disabled:!n,useEnd:!0})]})},$L=({visible:t,onEmbedClick:e})=>{const n=QO((t=>t.embed.shareUrl)),i=QO((t=>t.embed.allowEmbedShare)),r=QO((t=>t.embed.flags.segment_sharing)),o=QO((t=>t.bigPicture)),s=TS(null),a=TS(null),[u,l]=bS(null),[c,d]=bS(null);let h=n;(u||c)&&(h=Pb(h,u,c));const f=gb(h,sb.SHARE),p=_m("SocialShare_module_shareButtons__51546bb2"),v=_m("SocialShare_module_socialShareContainer__51546bb2",!t&&"SocialShare_module_hidden__51546bb2"),_=(t,n)=>{o.sendEvent(qb.SELECT_PLAYER_SHARE_COMPLETE,{ab_group:null},{[Yb.WEB]:{target:null,target_path:n,copy:t},[Yb.PRODUCT_ANALYTICS]:{flow:"share_video",element:"icon",copy:t}}),"embed"!==t?"email"!==t?u_(n,t,{width:600,height:600}):window.top.location=n:null==e||e()};return zN(US,{duration:200,alwaysMounted:!0,in:t,styles:cg(),children:zN("section",{className:v,children:[zN(jI,{element:"h1",color:eg.WHITE,size:Jy.XL,className:NL,children:"Share"}),zN("ul",{className:p,children:[zN("li",{className:xL,children:zN(RL,{destination:"facebook",onClick:_,ref:s,startTime:u,endTime:c,url:h})}),zN("li",{className:xL,children:zN(RL,{destination:"twitter",onClick:_,startTime:u,endTime:c,url:h})}),zN("li",{className:xL,children:zN(RL,{destination:"tumblr",onClick:_,startTime:u,endTime:c,url:h})}),h&&zN("li",{className:xL,children:zN(RL,{destination:"email",onClick:_,startTime:u,endTime:c,url:h})}),i&&zN("li",{className:xL,children:zN(RL,{onClick:_,destination:"embed",ref:a,startTime:u,endTime:c,url:h})})]}),h&&zN("div",{className:"SocialShare_module_linkWrapper__51546bb2",children:[zN("div",{className:"SocialShare_module_linkContainer__51546bb2",children:zN(oI,{className:"SocialShare_module_clipUrl__51546bb2",href:f,children:h})}),zN(QI,{linkUrl:f,tooltipPosition:LI.TOP,tooltipClassName:II,className:"SocialShare_module_copyLinkButton__51546bb2"})]}),r&&t&&zN(BL,{setTimeParams:(t,e)=>{l(t),d(e)}})]})})};const VL=({onEmbedShareVisibilityChange:t})=>{const e=QO((t=>t.embed.embedOnlyShare)),[n,i]=bS(e),r=_m("Share_module_backButton__248d76cb",n&&"Share_module_visible__248d76cb");return gS((function(){e!==n&&i(e)}),[e]),gS((function(){null==t||t()}),[n]),zN(Bk,{children:[zN("div",{className:"Share_module_shareWrapper__248d76cb",children:[zN($L,{visible:!n,onEmbedClick:()=>i(!0)}),zN(ML,{visible:n})]}),!e&&zN(ZI,Q(Q({className:r,onClick:()=>i(!1),"aria-label":"Back",tabIndex:n?0:-1},RI),{},{children:zN(cI,{className:"Share_module_backButtonIcon__248d76cb",name:jN.PREVIOUS})}))]})};const jL={enter:{opacity:0,animation:"wiggle 300ms linear 1"},enterActive:{opacity:1,transition:"opacity 300ms",animation:"wiggle 300ms linear 1"},enterDone:{opacity:1},exit:{opacity:1},exitActive:{opacity:0,transition:"opacity 300ms"},exitDone:{display:"none"}},HL=({message:t,visible:e,wrapperEl:n})=>{const[i,r]=bS(e),o=n&&r_(n);return gS((()=>{let t;return clearTimeout(t),e?(r(!0),t=setTimeout((()=>{r(!1)}),5e3)):r(!1),()=>clearTimeout(t)}),[e]),zN(US,{in:i,styles:jL,children:zN("div",{className:"ValidationBubble_module_validationBubble__74475ac4",style:{top:(null==o?void 0:o.height)+4+"px"},children:zN(jI,{weight:tg.BOLD,className:"ValidationBubble_module_message__74475ac4",children:t})})})},FL=()=>zN(UL,{children:zN(qL,{large:!0,label:"Send Error Log"})});const UL=({children:t})=>{const e=GN((t=>t.error.title)),n=GN((t=>t.error.message));return zN("div",{className:"BaseError_module_error__c352494f","aria-live":"assertive",role:"alert","data-error":!0,children:[e&&zN(jI,{element:"h1",className:"BaseError_module_header__c352494f",weight:tg.BOLD,children:e}),n&&zN(jI,{className:"BaseError_module_description__c352494f",weight:tg.NORMAL,containsMarkup:!0,children:n}),t]})};const zL=()=>{const t=QO((t=>t.setOverlay)),e=lm((e=>{e.preventDefault(),t("purpose",Am.EMPTY)}));return zN("button",Q(Q(Q({className:`CloseOverlayButton_module_closeOverlayButton__bc0b3ddc ${UI}`,"aria-label":"Close overlay"},RI),e),{},{"data-close-overlay":!0,children:zN(cI,{name:jN.CLOSE})}))};const XL=({children:t,visible:e,style:n})=>{const i=TS(null),r=QO((t=>t.setOverlay)),o=QO((t=>t.overlay.purpose)),s=QO((t=>t.overlay.showCloseButton)),a=QO((t=>t.overlay.overlayElementsUpdatedCount)),u=Xk(t).length>0,{onFocus:l,focusFirstItem:c}=DN({parentRef:i,isActive:e&&u,onEscape:s?()=>r("purpose",Am.EMPTY):void 0}),d=_m("OverlayBase_module_overlay__9cef8916",e&&"OverlayBase_module_visible__9cef8916");return gS((function(){c()}),[a,c]),gS((function(){!Nm(o)&&e&&c()}),[o,e,c]),zN("div",{ref:i,onFocus:l,className:"OverlayBase_module_overlayWrapper__9cef8916 "+(e?"":"OverlayBase_module_hidden__9cef8916"),role:s?"dialog":"alert","aria-modal":s?"true":"false","aria-labelledby":q_.VP_OVERLAY_LABELLEDBY,"data-content-area-sibling-eligible":!0,style:n,"data-overlay":!0,children:[zN("div",{className:"OverlayBase_module_overlayCell__9cef8916",children:zN("div",{className:d,children:t})}),s&&zN("nav",{className:"OverlayBase_module_overlayNav__9cef8916",children:zN(zL,{})})]})};let GL;function WL(){}const qL=({onSendSuccess:t,large:e,label:n})=>{const i=QO((t=>t.debugCollector)),[o,s]=bS(!1),[a,u]=bS(!1),l=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){return clearTimeout(GL),function(t){if(t&&t.then)return t.then(WL)}(function(e,n){try{var o=function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(i.sendDebugPayload(),(function({ID:e}){t&&t(e),s(!0)}))}),(function(){u(!0)}))}catch(t){return n(!0,t)}return o&&o.then?o.then(n.bind(null,!1),n.bind(null,!0)):n(!1,o)}(0,(function(t,e){return GL=setTimeout((()=>{clearTimeout(GL),s(!1),u(!1)}),1500),function(t,e){if(t)throw e;return e}(t,e)})))}));let c=n??"Send Debug Payload";return o?c="Sent":a&&(c="Something Went Wrong"),zN(ZI,{className:`SendDebugButton_module_button__b3f85768 ${e&&"SendDebugButton_module_large__b3f85768"}`,onClick:l,"data-test-id":"send-debug-button",children:c})},YL=["label","icon","onClick","className","children"],KL=YS(((t,e)=>{let{label:n,icon:i,onClick:r,className:o="",children:s}=t,a=J(t,YL);const u=QO((t=>t.displayList.sideDock));return zN(ZI,Q(Q({tabIndex:u?0:-1,ref:e,size:Yy.SM,color:Ky.PRIMARY,icon:i,iconSize:Yy.SM,"aria-label":n,onClick:r,className:o},a),{},{children:s}))})),ZL=()=>{const{enabled:t,icon:e,label:n,onSelect:i}=FN();return t&&zN(iI,{text:n,children:zN(KL,{label:n,onClick:i,icon:zN(cI,{name:e,focusable:"false"})})})},QL=()=>{const t=QO((t=>t.user.liked)),{label:e,ariaLabel:n,enabled:i,icon:r,onSelect:o}=pM();return i&&zN(iI,{text:e,children:zN(KL,{label:n,className:G_.LIKE_BUTTON,on:t,icon:zN(cI,{name:r,className:X_.LIKE_ICON,focusable:"false"}),"data-like-button":!0,onClick:o})})};const JL=()=>{const{label:t,icon:e,onSelect:n,enabled:i}=_M();return i&&zN(iI,{text:t,children:zN(KL,{label:t,"data-share-button":!0,onClick:n,icon:zN(cI,{name:e,className:"share-icon ShareButton_module_shareIcon__e4957da4",focusable:"false"})})})};const tR=()=>{const t=QO((t=>t.vod.purchased)),e=QO((t=>t.vod.isExpiring)),{onSelect:n,enabled:i,icon:r,label:o}=mM(),s=lm(n);return i&&zN("div",Q(Q({},s),{},{className:"VODButton_module_vodButtonContainer__33b65469 "+(e?"VODButton_module_expiring__33b65469":""),"data-vod-expiring":e,"data-vod-purchased":t,"data-vod-button":!0,children:zN(ZI,{size:Yy.SM,color:Ky.PRIMARY,iconPosition:Zy.RIGHT,className:_m(G_.VOD_BUTTON,"VODButton_module_vodButton__33b65469"),"data-vod-button":!0,icon:zN(cI,{name:r,className:_m("VODButton_module_icon__33b65469"),"data-vod-icon":!0}),iconSize:Yy.SM,children:zN("span",{"data-vod-button-label":!0,children:o})})}))},eR=()=>{const t=QO((t=>t.user.watchLater)),{enabled:e,label:n,ariaLabel:i,onSelect:r,icon:o}=yM();return e&&zN(iI,{text:n,children:zN(KL,{label:i,className:G_.WATCH_LATER_BUTTON,on:t,onClick:r,icon:zN(cI,{name:o,className:X_.WATCH_LATER_ICON,focusable:"false"}),"data-watch-later-button":!0})})};var nR="AIButton_module_button__51e5bbdf";const iR=()=>{const[t,e]=bS(!1),[n,i]=bS(!1),r=TS(null),o=QO((t=>t.displayList.aiWidget)),s=TS(null),a=TS(!1),{label:u,onSelect:l,enabled:c,icon:d}=HN(),h=o?[K_.AI_WIDGET_ID,q_.RIGHT_CONTENT_AREA].join(" "):q_.RIGHT_CONTENT_AREA;gS((()=>{function t(){document.activeElement.id===K_.AI_WIDGET_ID&&(a.current=!0)}return window.addEventListener("blur",t),()=>{window.removeEventListener("blur",t)}}),[]),CN("Tab",(t=>{const e=document.activeElement===document.body;var n;a.current&&e&&(t.preventDefault(),a.current=!1,null==(n=s.current)||n.focus())}));const f=()=>{clearTimeout(r.current),e(!1),i(!0)},p=()=>{clearTimeout(r.current),i(!1),e(!0),r.current=setTimeout((function(){e(!1)}),420)},v=_m(nR,n&&"AIButton_module_transitionIn__51e5bbdf",t&&"AIButton_module_transitionOut__51e5bbdf"),_={backgroundColor:"rgb(0,0,0,0.9)",transitionProperty:n||t?"background-position":"none"};return c&&zN(Bk,{children:[zN("style",{children:`\n                    .${nR} {\n                        --shimmer-speed-in: 450ms;\n                        --shimmer-speed-out: 420ms;\n                    }\n                `}),zN(iI,{text:u,children:zN(KL,Q({label:u,"data-ai-button":!0,onClick:l,ref:s,className:v,"aria-expanded":o,"aria-controls":h,"aria-haspopup":"true",onFocus:f,onBlur:p,onPointerEnter:t=>{"mouse"===t.pointerType&&f()},onPointerLeave:t=>{"mouse"===t.pointerType&&p()},style:_,icon:zN(cI,{fill:"#fff",name:d,focusable:"false",className:"AIButton_module_icon__51e5bbdf"})},RI))})]})},rR=({isMenuDisplayed:t,setMenuDisplayed:e,buttonRef:n})=>{const i=wM(),r="More options",o=Object.keys(i).filter((t=>i[t].enabled)).map((t=>{const e=i[t];return{id:t,label:e.label,icon:e.icon}}));return zN(vI,{type:_N.SIDEDOCK,ariaLabel:r,isMenuDisplayed:t,setMenuDisplayed:e,panel:mN.SIDEDOCK,panelContent:zN(SI,{items:o,onSelect:t=>{const e=t.currentTarget.dataset.id;(0,i[e].onSelect)(t)}}),headerContent:zN(yI,{title:r,onClose:()=>e(!1),forceModalMenu:!0}),forceModalMenu:!0,buttonRef:n})},oR=YS((({onClick:t,isMenuDisplayed:e},n)=>{const i=wM(),r="More options";return Object.values(i).filter((t=>t.enabled)).length?zN(iI,{text:r,children:zN(KL,{ref:n,label:r,onClick:t,icon:zN(cI,{name:jN.VERTICAL_ELLIPSIS,focusable:"false"}),"aria-haspopup":"dialog",ariaExpanded:e})}):null})),sR=()=>{const t=TS(null),e=QO((t=>t.displayList.sideDock)),n=QO((t=>t.appearance.fullscreen)),i=QO((t=>t.displayList.outro)),r=QO((t=>t.vod.purchased)),o=QO((t=>t.displayList.menu)),s=QO((t=>t.setAppearance)),a=QO((t=>t.setDisplayList)),u=mM(),l=MN(ig.SIDE_DOCK_MENU),[c,d]=bS(!1),h=t=>{a("menu",t),d(t)};o||d(!1);const f={className:_m(X_.VP_SIDEDOCK,"SideDock_module_root__0918b45a",e&&"SideDock_module_visible__0918b45a",i&&"SideDock_module_outroVisible__0918b45a",n&&"SideDock_module_fullscreen__0918b45a"),onPointerEnter:()=>s("mousedOverSidedock",!0),onMouseEnter:()=>s("mousedOverSidedock",!0),onPointerLeave:()=>s("mousedOverSidedock",!1),onMouseLeave:()=>s("mousedOverSidedock",!1)};return zN(mI,{children:[zN("div",Q(Q({},f),{},{"data-sidedock":!0,children:[u.enabled&&!r&&zN(tR,{}),zN(nI,{visible:e,children:zN("div",{className:"SideDock_module_sidedockInner__0918b45a","data-sidedock-inner":!0,children:l?zN(oR,{ref:t,onClick:()=>h(!0),isMenuDisplayed:c}):zN(Bk,{children:[u.enabled&&r&&zN(tR,{}),zN(QL,{}),zN(eR,{}),zN(ZL,{}),zN(JL,{}),zN(iR,{})]})})})]})),l&&zN(rR,{isMenuDisplayed:c,setMenuDisplayed:h,buttonRef:t})]})};const aR=Object.entries(HE).reduce(((t,[e,n])=>(t[n]=UE[e],t)),{}),uR=({max:t=1,timeSeries:e=[],debugMarkers:n=[]})=>{const i=e.length,r=i<100?0:i-100,o=e[r],s=e[i-1],a=o?o.time:0,u=s?s.time:0,l=e.slice(r).map((e=>{let n=(e.time-a)/(u-a)*250,i=14-14*e.value/t;return isNaN(i)&&(i=0),isNaN(n)&&(n=0),`${n},${function(t){return Math.min(Math.max(t,0),14)}(i)}`})).join(" ");return zN("svg",{width:250,height:14,viewBox:"0 0 250 14",children:[zN("g",{children:zN("polyline",{stroke:"white",fill:"none",points:l})}),zN("g",{children:!!n.length&&n.filter((t=>t.t>=a&&t.t<=u)).map(((t,e)=>{let n=(t.t-a)/(u-a)*250;return isNaN(n)&&(n=0),zN("g",{children:zN("line",{className:"BandwidthSeriesDisplay_module_marker__e795ff85",x1:n,y1:"0",x2:n,y2:14,strokeWidth:"1",stroke:aR[t.type]})},`${t.t}-${e}`)}))})]})};const lR=({title:t="",value:e})=>zN("div",{children:[zN("dt",{children:t}),zN("dd",{children:e})]}),cR=({payloadId:t,showSessionId:e})=>{const n=QO((t=>t.debug.codec)),i=QO((t=>t.debug.isLive)),r=QO((t=>t.debug.isDash)),o=QO((t=>t.debug.delivery)),s=QO((t=>t.debug.resolution)),a=QO((t=>t.debug.embedSize)),u=QO((t=>t.playback.drm)),l=QO((t=>t.playback.drmMode)),c=QO((t=>t.debug.sessionId)),d=QO((t=>t.debug.ecdnVendor)),h=QO((t=>t.debug.p2pSources)),f=QO((t=>t.debug.p2pOffload)),p=QO((t=>t.debug.totalFrames)),v=QO((t=>t.debug.liveLatency)),_=QO((t=>t.debug.currentTime)),m=QO((t=>t.debug.bufferEnd)),b=QO((t=>t.debug.bufferAhead)),y=QO((t=>t.debug.bufferTarget)),g=QO((t=>t.debug.presentationDelay)),w=QO((t=>t.debug.droppedFrames)),T=QO((t=>t.debug.vrHeadsetName)),C=QO((t=>t.debug.liveSessionID)),E=QO((t=>t.debug.bandwidthKbps)),k=QO((t=>t.debug.bandwidthMinKbps)),S=QO((t=>t.debug.bandwidthMaxKbps)),A=QO((t=>t.debug.separateAudioVideo)),N=QO((t=>t.debug.bandwidthSeriesData)),M=QO((t=>t.debug.droppedFramesPercent)),O=QO((t=>t.debug.clipId)),{max:I,debugMarkers:L,timeSeries:R}=N;return zN("dl",{className:"DebugValues_module_values__54d9bb7b",children:[O&&zN("div",Q(Q({},lm((()=>{cm(`${O}`)}))),{},{children:[zN("dt",{children:"Clip ID:"}),zN("br",{}),zN("dd",{className:"DebugValues_module_clipId__54d9bb7b",children:O})]})),!!o&&zN(lR,{title:"Delivery:",value:o}),!!n&&zN(lR,{title:"Codec:",value:n}),!!s&&zN(lR,{title:"Playing:",value:s}),!!a&&zN(lR,{title:"Embed Size:",value:a}),r&&zN(lR,{title:"Separate AV:",value:`${A}`}),(r||i)&&zN(lR,{title:"Dropped Frames:",value:`${w} / ${p} - ${M}`}),!!T&&zN(lR,{title:"VR Hardware:",value:T}),!!d&&zN(Bk,{children:[zN(lR,{title:"eCDN Vendor:",value:d}),zN(lR,{title:"Peers - P2P Delivery:",value:`${h} - ${f}`})]}),u&&zN(lR,{title:"DRM:",value:`${u.toString()} / ${l.toString().replace("sd-","")}`}),i&&zN(Bk,{children:[!!C&&zN(lR,{title:"Live Session ID:",value:C}),zN(lR,{title:"Live Latency / Target:",value:`${v} / ${g}`})]}),zN(lR,{title:"Playhead / Buffer End:",value:`${_} / ${m}`}),!!y&&zN(lR,{title:"Buffer Ahead / Target:",value:`${b} / ${y}`}),(r||i)&&zN(Bk,{children:[zN(lR,{title:"Bandwidth:",value:E}),zN("div",{className:"DebugValues_module_bandwidthMinMax__54d9bb7b",children:["(",zN("b",{className:"DebugValues_module_bandwidthMin__54d9bb7b",children:k}),zN("b",{className:"DebugValues_module_bandwidthMax__54d9bb7b",children:S}),")"]}),zN("div",{className:"DebugValues_module_timeSeries__54d9bb7b",children:zN(uR,{max:I,debugMarkers:L,timeSeries:R})})]}),c&&e&&zN("div",{children:[zN("dt",{children:"Key:"}),zN("br",{}),zN("dd",{className:"DebugValues_module_sessionId__54d9bb7b",children:c})]}),t&&zN("div",{children:[zN("dt",{children:"Debug Key:"}),zN("br",{}),zN("dd",{className:"DebugValues_module_payloadId__54d9bb7b",children:t})]})]})};const dR=["bandwidthSeriesData"];function hR(){}let fR;const pR=({onCopyFailed:t})=>{const[e,n]=bS(!1),i=QO((t=>t.debug)),{bandwidthSeriesData:o}=i,s=J(i,dR),a=TS(null);if(!s)return;const u=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){const e={version:2,tpl:s,mark:o.debugMarkers};return clearTimeout(fR),function(t){if(t&&t.then)return t.then(hR)}(function(i,o){try{var s=function(){const i=btoa(JSON.stringify(e));return function(t,e){return void 0?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}(cm(i),(function(e){e?(n(!0),fR=setTimeout((()=>{clearTimeout(fR),n(!1)}),1500)):t&&t(),a.current.focus()}))}()}catch(t){return o()}return s&&s.then?s.then(void 0,o):s}(0,(function(){t&&t()})))}));return zN(ZI,{ref:a,className:"CopyDebugButton_module_button__f6e46f54",onClick:u,children:e?"Copied":"Copy Debug Payload"})},vR=()=>{const t=QO((t=>t.appearance.playerBreakpoint)),e=QO((t=>t.displayList.debugPanel)),n=QO((t=>t.setDisplayList)),i=QO((t=>t.debug.isDNTEnabled)),r=QO((t=>t.debug.hideCloseButton)),o=QO((t=>t.debug.isCopyDisabled)),[s,a]=bS(void 0),[u,l]=bS(!1),c=TS(null),d=TS(null),h=t=>n("debugPanel",t),f=!r,p=!o,v=_m("DebugPanel_module_root__b1b6d642","shared_module_roundedBox__fd03e359",(t===qy.XS||t===qy.XXS)&&"DebugPanel_module_smallPlayer__b1b6d642"),{onFocus:_}=DN({parentRef:c,isActive:e,onEscape:()=>{h(!1)}});return e&&zN("div",{ref:c,className:v,role:"dialog","aria-label":"Debug log",onFocus:_,children:[zN(cR,{payloadId:s,showSessionId:u}),p&&zN("div",{className:"DebugPanel_module_buttonWrapper__b1b6d642",children:[zN(pR,{onCopyFailed:()=>l(!0)}),zN(qL,{onSendSuccess:t=>a(t)})]}),f&&zN("button",Q(Q({},lm((()=>h(!1)))),{},{className:"DebugPanel_module_closeButton__b1b6d642","aria-label":"Close stats debug panel",ref:d,children:zN(cI,{name:jN.DISMISS_X})})),!!i&&"No Debug Key available as Do Not Track is enabled."]})};const _R=()=>{const{link:t,img:e,margin:n,width:i,height:r,name:o,id:s}=QO((t=>t.badge)),a=QO((t=>t.setBadge)),u=QO((t=>t.displayList.badge)),l=o+" Badge",c={};return n&&Object.assign(c,{margin:n}),zN(nI,{visible:u,children:zN("div",{className:"Badge_module_badge__7943985c",style:c,"data-badge":!0,children:zN(oI,{href:t,onClick:()=>a("id",s),targetBlank:!0,className:`Badge_module_badgeLink__7943985c ${FI}`,children:zN("img",{src:e,width:i,height:r,alt:l})})})})};const mR=({clip:t,is360:e,hasHDRNot10Plus:n,hasHDR10Plus:i,hasDolbyVision:r,hasAIContent:o,hasSurroundSound:s,hasAmbosonic:a,channelLayout:u,className:l})=>{const c=_m("TitleTags_module_tag__68bba8ae",l);return zN("div",{className:"TitleTags_module_tagWrapper__68bba8ae",children:[t&&zN("span",{className:c,children:"Clip"}),e&&zN("span",{className:c,children:a?"360 ambisonic":"360"}),n&&zN("span",{className:c,children:"HDR"}),i&&zN("span",{className:c,children:"HDR10+"}),r&&zN("span",{className:`${c} TitleTags_module_dolbyVisionTag__68bba8ae`,children:zN(cI,{name:jN.DOLBY_VISION})}),o&&zN(oI,{href:"https://help.vimeo.com/hc/en-us/articles/25551485186833/",className:`${c} TitleTags_module_aiTag__68bba8ae`,"data-ai-content-tag":"true",children:"Includes AI"}),s&&zN("span",{className:c,children:u})]})};const bR=()=>{const t=QO((t=>t.title.displayTitle)),e=QO((t=>t.title.displayPortrait)),n=QO((t=>t.title.ownerLinkUrl)),i=QO((t=>t.title.targetBlank)),r=QO((t=>t.title.portraitImg)),o=QO((t=>t.title.titleLinkUrl)),s=QO((t=>t.title.title)),a=QO((t=>t.title.ownerName)),u=QO((t=>t.title.is360)),l=QO((t=>t.title.hasHDR)),c=QO((t=>t.title.hasHDR10Plus)),d=QO((t=>t.title.hasDolbyVision)),h=QO((t=>t.title.channelLayout)),f=QO((t=>t.title.bylineLinkUrl)),p=QO((t=>t.title.displayByline)),v=QO((t=>t.title.hasAIContent)),_="5.1"===h||"7.1"===h,m=h.startsWith("ambisonic"),b=QO((t=>t.displayList.title)),y=QO((t=>t.embed.badge)),g=QO((t=>t.displayList.badge)),[w,T]=bS(e&&!g),C=QO((t=>t.playback.isSegmentedPlaybackEnabled)),E=QO((t=>t.bigPicture)),k={is360:u,hasHDRNot10Plus:l&&!c,hasHDR10Plus:c,hasDolbyVision:d,hasAIContent:v,hasSurroundSound:_,clip:C},S=Object.values(k).some(Boolean);return gS((()=>{let t;return!g&&e?t=setTimeout((()=>T(!0)),lg):T(!1),()=>clearTimeout(t)}),[g,e]),zN(Bk,{children:[y&&zN(_R,{}),zN(nI,{visible:b,children:zN("div",{className:`${X_.VP_TITLE} Title_module_title__296cb5dd`,role:"presentation",children:zN("header",{className:"Title_module_header__296cb5dd",role:"presentation",children:[w&&zN("div",{className:"Title_module_portrait__296cb5dd",children:zN(oI,{href:n,targetBlank:i,variant:"minimal",className:_m("Title_module_portraitLink__296cb5dd",zI),tabIndex:b?0:-1,onClick:()=>E.sendEvent(qb.SELECT_PLAYER_PROFILE_PHOTO,{},{[Yb.WEB]:{target:"profile page",target_path:n,copy:null},[Yb.PRODUCT_ANALYTICS]:{flow:"profile_page_from_embed_player",element:"icon",copy:"portrait"}}),children:zN("img",{src:r,alt:"Link to video owner's profile",width:"60",height:"60","data-trackClick":wh})})}),zN("div",{className:"Title_module_headers__296cb5dd",children:[t&&zN("div",{className:"Title_module_titleWrapper__296cb5dd",children:[zN(oI,{href:o,targetBlank:i,"data-track-click":yh,variant:"minimal",className:_m("Title_module_titleLink__296cb5dd",FI),tabIndex:b?0:-1,"aria-labelledby":Q_.TITLE_TEXT,onClick:()=>E.sendEvent(qb.SELECT_PLAYER_TITLE,{},{[Yb.WEB]:{target:"viewer home",target_path:o,copy:s},[Yb.PRODUCT_ANALYTICS]:{flow:"viewer_home_from_embed_player",element:"button",copy:"title"}})}),zN("div",{className:"Title_module_textAndTagsWrapper__296cb5dd","data-title-tags":!!S||void 0,children:[zN(jI,{id:Q_.TITLE_TEXT,className:_m("Title_module_titleText__296cb5dd"),children:s}),zN(mR,Q(Q({},k),{},{hasAmbosonic:m,channelLayout:h,className:"Title_module_titleTag__296cb5dd"}))]})]}),p&&zN(oI,{href:f,targetBlank:i,variant:"minimal",className:_m("Title_module_subtitle__296cb5dd",FI),tabIndex:b?0:-1,onClick:()=>E.sendEvent(qb.SELECT_PLAYER_BYLINE,{},{[Yb.WEB]:{target:"profile page",target_path:f,copy:a},[Yb.PRODUCT_ANALYTICS]:{flow:"profile_page_from_embed_player",element:"button",copy:"byline"}}),children:zN(jI,{children:a})})]})]})})})]})};var yR="Card_module_text__449914f1";const gR=({id:t,timecode:e,className:n,teaser:i,url:r,imageUrl:o,headline:s,inView:a})=>{const u=QO((t=>t.appearance.isVerticalVideo)),l=QO((t=>t.setCards)),c=QO((t=>t.setPlayback)),d=()=>{l("hoveredCard",null),l("cardPressed",t),r&&c("paused",!0)};return zN("div",{className:_m("Card_module_card__449914f1",n,a&&"Card_module_active__449914f1",o&&"Card_module_hasThumbnail__449914f1",u&&"Card_module_vertical__449914f1"),onMouseEnter:()=>l("hoveredCard",e),onMouseLeave:()=>l("hoveredCard",null),onClick:d,onKeyUp:t=>{"Enter"===t.key&&d()},role:"link",tabIndex:-1,"aria-hidden":!a,children:zN(oI,{href:r,className:"Card_module_inner__449914f1",tabIndex:a?0:-1,children:[!!o&&zN("div",{className:"Card_module_imageWrap__449914f1",children:zN("img",{className:"Card_module_image__449914f1",src:o,alt:""})}),zN("div",{className:"Card_module_body__449914f1",children:[zN(jI,{size:Jy.MD,className:_m(yR,"Card_module_title__449914f1"),color:eg.WHITE,children:s}),!!i&&zN(jI,{weight:tg.NORMAL,element:"p",className:`${yR} Card_module_detail__449914f1`,color:eg.WHITE,children:i})]}),!!r&&zN("div",{className:"Card_module_popOutWrapper__449914f1",children:zN(cI,{name:jN.POP_OUT,className:"Card_module_popOut__449914f1"})})]})})};const wR=()=>{const t=QO((t=>t.cards.cardsMap)),e=QO((t=>t.cards.displayedCard)),n=QO((t=>t.displayList.cards)),i=QO((t=>t.displayList.fullPlayerElement)),r=t=>e===t&&!i;return n&&zN("div",{className:"Cards_module_cardsWrapper__9492d3ed",children:t.values().map((t=>zN(gR,{id:t.id,timecode:t.timecode,className:t.className,teaser:t.teaser,url:t.url,imageUrl:t.imageUrl,headline:t.headline,inView:r(t.timecode)},t.id)))})};const TR=({show:t})=>{const{buffering:e,currentTime:n,loadedTime:i,currentFragment:r}=QO((t=>t.playback)),o=gm(n,r),s=gm(i,r);return t&&zN("div",{className:"TinyProgressBar_module_tinyBar__71fa705b",children:zN("svg",{className:"TinyProgressBar_module_tinyBarSVG__71fa705b",width:"100%",height:"100%",viewBox:"0 0 70 40",focusable:"false",children:[zN("defs",{children:[zN("clipPath",{id:"rounded-border",children:zN("rect",{height:"100%",width:"100%",x:"0",y:"0",rx:"5"})}),zN("pattern",{id:"tiny-buffer","data-tiny-buffer-pattern":!0,className:"TinyProgressBar_module_bufferPattern__71fa705b",patternUnits:"userSpaceOnUse",x:"0",y:"0",width:"10",height:"10",viewBox:"0 0 10 10",children:[zN("line",{x1:"5",y1:"-1",x2:"-5",y2:"10",strokeWidth:"2",strokeLinecap:"butt"}),zN("line",{x1:"10",y1:"-1",x2:"0",y2:"10",strokeWidth:"2",strokeLinecap:"butt"}),zN("line",{x1:"15",y1:"-1",x2:"5",y2:"10",strokeWidth:"2",strokeLinecap:"butt"})]})]}),zN("g",{clipPath:"url(#rounded-border)",children:e?zN("rect",{className:"TinyProgressBar_module_buffer__71fa705b",height:"3",width:"110%",x:"0",y:"37",fill:"url(#tiny-buffer)"}):zN(Bk,{children:[zN("rect",{className:"TinyProgressBar_module_loaded__71fa705b","data-tiny-loaded":!0,height:"3",width:wm(s),x:"0",y:"37"}),zN("rect",{className:"TinyProgressBar_module_played__71fa705b","data-tiny-played":!0,height:"3",width:wm(o),x:"0",y:"37"})]})})]})})};var CR="PlayButton_module_trailer__d1afd73a",ER="PlayButton_module_progressExpanded__d1afd73a";const kR=({className:t,controlBarVisibilityHandlers:e})=>{const n=QO((t=>t.displayList.controlBar)),i=QO((t=>t.liveEvent.isLiveEvent)),r=QO((t=>t.liveEvent.isPlayable)),o=QO((t=>t.liveEvent.isArchived)),s=QO((t=>t.liveEvent.isEnded)),a=QO((t=>t.liveEvent.dvrEnabled)),u=QO((t=>t.setPlayback)),l=QO((t=>t.controlBar.trailerButtonText)),c=QO((t=>t.embed.playbar)),d=QO((t=>t.appearance.playerSizeMode)),h=QO((t=>t.controlBar.isExpanded)),{buttonState:f,setButtonState:p}=vN(),v=kN(),_=!i||r||o||a&&s,m=d===Zm.TINY||!c,b=f===eb.TRAILER,y={[eb.PLAY]:{icon:jN.PLAY,onClick:()=>{u("paused",!1),p(eb.PAUSE)},label:"Play",className:"PlayButton_module_playIcon__d1afd73a"},[eb.PAUSE]:{icon:jN.PAUSE,onClick:()=>{u("paused",!0),p(eb.PLAY)},label:"Pause",className:"PlayButton_module_pauseIcon__d1afd73a"},[eb.REPLAY]:{icon:jN.REPLAY,onClick:()=>{u("paused",!1),p(eb.PAUSE)},label:"Replay",className:"PlayButton_module_replayIcon__d1afd73a"},[eb.TRAILER]:{icon:jN.PLAY,onClick:()=>{u("paused",!1)},label:"Play",className:"PlayButton_module_trailerIcon__d1afd73a"}}[f],g=v===EN.CENTER,w=_m("PlayButton_module_playButtonWrapper__d1afd73a",g&&"PlayButton_module_center__d1afd73a",b&&CR,h&&!g&&ER),T=_m("PlayButton_module_playButton__d1afd73a",b&&CR,FI,h&&!g&&ER,t);return _&&zN(nI,{visible:n,children:zN("div",{className:w,children:zN(xI,{id:"play-button-tooltip",tooltipContent:y.label,className:`${II} ${b?"Tooltip_module_trailerPlayTooltip__d9b61844":""}`,children:zN(ZI,{className:T,onClick:y.onClick,icon:zN(cI,{className:y.className,name:y.icon}),onTouchStart:e.onTouchStart,onTouchEnd:e.onTouchEnd,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,"data-play-button":!0,children:[zN(TR,{show:m}),b&&zN("span",{className:"PlayButton_module_text__d1afd73a",children:l||"Watch Trailer"})]})})})})};var SR="ControlBarButton_module_controlBarButton__179d9b92";const AR=t=>{const e=QO((t=>t.displayList.menu));return(Bt.touch||e)&&Object.assign(t,{visible:!1}),zN(xI,Q({},t))},NR=["className","icon","children","tooltipLabel","hasTooltip","animating","id"],MR=YS(((t,e)=>{let{className:n="",icon:i,children:r,tooltipLabel:o,hasTooltip:s=!0,animating:a=!1,id:u}=t,l=J(t,NR);const c=QO((t=>t.appearance.playerBreakpoint)),d=QO((t=>t.displayList.controlBarButtons)),h=_m(SR,FI,n),f=["xl","xxl"].includes(c)?16:8,p=d?0:-1;return s?zN(AR,{id:u?`${u}-tooltip`:null,tooltipContent:o,margin:f,animating:a,children:zN(ZI,Q(Q({id:u,ref:e,className:h,icon:i,tabIndex:p},l),{},{children:r}))}):zN(ZI,Q({ref:e,className:h,icon:i,tabIndex:p},l))}));const OR=({onFocus:t,ariaHidden:e})=>{const n=QO((t=>t.appearance.fullscreen)),i=QO((t=>t.setAppearance)),r=_m(X_.FULLSCREEN,"FullscreenButton_module_fullscreen__81b38f0e"),o=n?"Exit full screen":"Fullscreen",s=n?jN.EXIT_FULLSCREEN:jN.ENTER_FULLSCREEN;return zN(MR,{id:tm.FULLSCREEN,onClick:()=>i("fullscreen",!n),onFocus:t,className:r,icon:zN(cI,{name:s}),tooltipLabel:o,"data-fullscreen-button":!0,"aria-hidden":e})};const IR=YS((({isMenuDisplayed:t,setMenuDisplayed:e,onFocus:n,ariaHidden:i},r)=>{const o=QO((t=>t.appearance.isMenuBlockingUI)),{onClick:s,onKeyDown:a,onMouseDown:u}=pN((()=>e(!t)));return zN(MR,{id:tm.PREFS,ref:r,className:`${G_.VP_PREFS} PrefsButton_module_prefsButton__cdff1984`,"aria-expanded":t,"aria-haspopup":o?"dialog":"true","aria-hidden":i,icon:zN(cI,{name:jN.GEAR,className:"PrefsButton_module_gearIcon__cdff1984"}),onClick:s,onKeyDown:a,onMouseDown:u,onFocus:n,tooltipLabel:"Settings","data-prefs-button":!0})})),LR=({onFocus:t,ariaHidden:e})=>{const n=QO((t=>t.appearance.pictureInPictureActive)),i=QO((t=>t.setAppearance)),r=n?"Exit Picture-in-Picture":"Picture-in-Picture",o=n?jN.EXIT_PICTURE_IN_PICTURE:jN.ENTER_PICTURE_IN_PICTURE;return zN(MR,{id:tm.PIP,className:G_.PIP,icon:zN(cI,{name:o}),onClick:()=>i("pictureInPictureActive",!n),onFocus:t,tooltipLabel:r,"data-pip-button":!0,"aria-hidden":e})},RR=YS((({onFocus:t,ariaHidden:e},n)=>{const i=QO((t=>t.playback.volume)),r=QO((t=>t.playback.muted)),o=r?"Unmute":"Mute",{toggleMuted:s}=SN();return zN(MR,{ref:n,onClick:s,onFocus:t,icon:zN(cI,!r&&i>0?{name:jN.VOLUME_ON_FILLED,"data-volume-icon":!0}:{name:jN.VOLUME_OFF_FILLED,"data-volume-muted-icon":!0}),"aria-label":o,"aria-hidden":e,"aria-keyshortcuts":"m","data-volume-button":!0,hasTooltip:!1})}));const xR=()=>{const t=QO((t=>t.controlBar.vimeoLogoUrl)),e=QO((t=>t.appearance.playerBreakpoint)),n=QO((t=>t.bigPicture));return zN(oI,{className:_m("VimeoLogoLink_module_vimeoLogo__7428a3b3",FI),href:t,"data-vimeo-logo":!0,"aria-label":"Watch on Vimeo",onClick:()=>{n.sendEvent(qb.SELECT_PLAYER_VIMEO_LOGO,{},{[Yb.WEB]:{target:"vimeo.com",target_path:t,copy:"vimeo"},[Yb.PRODUCT_ANALYTICS]:{flow:"viewer_home_from_embed_player",element:"icon",copy:"vimeo"}})},children:zN(EL,{playerBreakpoint:e})})},PR=({onFocus:t,ariaHidden:e})=>{const n=QO((t=>t.appearance.showAirPlayPicker)),i=QO((t=>t.setAppearance));return zN(MR,{onClick:()=>i("showAirPlayPicker",!n),onFocus:t,"aria-label":n?"Turn off AirPlay":"Choose an AirPlay device","aria-hidden":e,tooltipLabel:"AirPlay","data-airplay-button":!0,icon:zN(cI,{name:jN.AIRPLAY})})},DR=YS((({isMenuDisplayed:t,setMenuDisplayed:e,onFocus:n,ariaHidden:i},r)=>{const o=QO((t=>t.appearance.isMenuBlockingUI)),{onClick:s,onKeyDown:a,onMouseDown:u}=pN((()=>e(!t)));return zN(MR,{ref:r,onClick:s,onKeyDown:a,onMouseDown:u,onFocus:n,"aria-expanded":t,"aria-haspopup":o?"dialog":"true","aria-hidden":i,icon:zN(cI,{name:jN.CHAPTERS}),tooltipLabel:"Chapters","data-chapter-button":!0,id:tm.CHAPTERS})})),BR=YS((({isMenuDisplayed:t,setMenuDisplayed:e,onFocus:n,ariaHidden:i},r)=>{const o=QO((t=>t.events)),s=QO((t=>t.embed.flags.new_subtitles_ui)),a=QO((t=>t.captions.activeTextTrackId)),u=QO((t=>t.appearance.isMenuBlockingUI)),{onClick:l,onKeyDown:c,onMouseDown:d}=pN((()=>e(!t))),h=a&&"off"!==a?jN.CC_FILLED:jN.CC,f={"aria-haspopup":u?"dialog":"true","aria-expanded":t,onKeyDown:c,onMouseDown:d};return zN(MR,Q({id:tm.CC,ref:r,className:X_.CC,"aria-hidden":i,icon:zN(cI,{name:h}),onClick:t=>{s?o.fire(Bf):l(t)},onFocus:n,tooltipLabel:"CC/Subtitles","data-cc-button":!0},!s&&f))})),$R=({onFocus:t,ariaHidden:e})=>{const n=QO((t=>t.setAppearance)),i=QO((t=>t.appearance.stereoscopicEnabled)),r=i?"Disable stereoscopic playback":"Enable stereoscopic playback";return zN(MR,{className:X_.STEREOSCOPIC,onClick:()=>n("stereoscopicEnabled",!i),onFocus:t,"aria-label":r,"aria-hidden":e,icon:zN(cI,{name:jN.STEREOSCOPIC}),tooltipLabel:"Stereoscopic","data-stereoscopic-button":!0})};const VR=({onFocus:t,ariaHidden:e})=>{const n=_m(W_.EXCLUDE_GLOBAL_BUTTON_STYLES,"ChromecastButton_module_chromecastButton__a2d33bfd",SR,FI,X_.VP_CAST_BUTTON);return(()=>{const[t,e]=bS(!1);gS((()=>{setTimeout((()=>e(!0)),500)}),[])})(),zN(xI,{id:"chromecast-control-bar-button-tooltip",tooltipContent:"GoogleCast",children:zN("button",{className:n,is:"google-cast-button","data-chromecast-button":!0,onFocus:t,"aria-hidden":e})})},jR=({onFocus:t,ariaHidden:e})=>{const n=GN((t=>t.bigPicture)),i=QO((t=>t.displayList.transcript)),r=QO((t=>t.toggleDisplayList)),o="Transcript",{onClick:s,onKeyDown:a}=pN((()=>{r("transcript"),n.sendEvent(qb.EMBEDDED_TRANSCRIPT_CLICK,{name:i?"exit_embed_transcript":"open_embed_transcript",copy:o,location:"control_bar",element:"transcript_button",current_transcript_language:""})})),u=zN(cI,{name:i?jN.TRANSCRIPT_ON:jN.TRANSCRIPT_OFF}),l=i?[Y_.TRANSCRIPT_VIEWER,q_.RIGHT_CONTENT_AREA].join(" "):q_.RIGHT_CONTENT_AREA;return zN(MR,{id:tm.TRANSCRIPT,onClick:s,onKeyDown:a,onFocus:t,icon:u,tooltipLabel:o,"aria-controls":l,"aria-expanded":i,"aria-hidden":e})};const HR=()=>{const t=QO((t=>t.displayList.controlBarButtons)),e=QO((t=>t.setDisplayList)),n=TS(t),[i,r]=bS(!1),o=QO((t=>t.setControlBar));gS((()=>{t!==n.current&&r(!0),n.current=t}),[t]);const s=t?"Hide controls":"Show controls",a=_m("CollapseButton_module_collapseButton__4f243c31",t&&"CollapseButton_module_expanded__4f243c31");return zN(MR,{id:tm.COLLAPSE,onClick:()=>{const n=!t;o("shouldRestoreButtonsDisplayed",n),e("controlBarButtons",n)},onTransitionEnd:t=>{"transform"===t.propertyName&&r(!1)},tooltipLabel:s,animating:i,tabIndex:0,icon:zN(cI,{"data-collapse-icon":!0,name:jN.CHEVRON_RIGHT,className:a,"aria-hidden":"true"})})};var FR="CustomLogo_module_progressExpanded__a7229b47";const UR=({className:t})=>{const e=QO((t=>t.displayList.controlBar)),n=QO((t=>t.displayList.accessGate)),i=QO((t=>t.appearance.playerSizeMode))===Zm.TINY,r=QO((t=>t.embed.customLogo)),o=QO((t=>t.displayList.ad)),{customLogoUrl:s,customLogoImg:a,customLogoSticky:u}=QO((t=>t.embed.customLogoFields)),l=QO((t=>t.user.ownerName)),c=QO((t=>t.controlBar.isExpanded)),d=r&&!i&&!o,h=!n&&(u||e),f=_m("CustomLogo_module_customLogo__a7229b47",s?"CustomLogo_module_link__a7229b47":"",FI,t,c&&FR),p=_m("CustomLogo_module_customLogoImg__a7229b47",c&&FR);return d&&zN(nI,{visible:!!h,children:zN(HI,{classNames:f,imgClassNames:p,url:s,img:a,imgAlt:l})})},zR=({className:t,marker:e})=>{const n=QO((t=>t.setPlayback)),i=QO((t=>t.playback.currentFragment)),r=(e.startTime-i.startTime)/i.duration*100,o=()=>n("currentTime",e.startTime),s="Seek to "+Math.round(100*e.startTime)/100+" seconds.";return zN("div",{id:`cuepoint-${e.id}`,className:t,style:{left:`${r}%`},"data-time":e.startTime,role:"button","aria-label":s,tabIndex:0,onClick:o,onKeyUp:t=>{["Space","Enter"].includes(t.code)&&o()},"data-cue-point-marker":!0})};const XR=()=>{const t=QO((t=>t.playback.currentFragment)),e=QO((t=>t.cuePoints.cuePoints)),n=QO((t=>t.displayList.progressBar)),i=MM(),r=_m("CuePointMarkers_module_cuePoints__cc046812",XI),o=e.filter((e=>{const n=t.startTime<=e.time&&e.time<=t.endTime,r=i(e.time);return n&&r})).map((t=>({id:t.id,startTime:t.time})));return zN(Bk,{children:!!o.length&&n&&o.map((t=>zN(zR,{className:r,marker:t},t.startTime)))})};const GR=()=>{const t=QO((t=>t.playback.currentTime)),e=QO((t=>t.playback.currentFragment)),n=QO((t=>t.liveEvent.isLiveEvent)),i=QO((t=>t.liveEvent.isArchived)),r=QO((t=>t.playback.liveEdgeTime)),o=QO((t=>t.playback.liveTailTime)),s=QO((t=>t.playback.atLiveEdge)),a=QO((t=>t.displayList.progressBar)),u=ym(t,e),l={progressBar:"Progress Bar",ariaTextVOD:xm(u)+" of "+xm(e.duration),ariaTextLiveEdge:"Live time at "+xm(r),ariaTextLiveDVR:xm(Math.abs(r-u))+" behind Live"};let c=l.ariaTextVOD,d=0,h=e.duration;return n&&!i&&(c=s?l.ariaTextLiveEdge:l.ariaTextLiveDVR,d=Math.round(o),h=Math.round(r)),zN("div",{className:`FocusTarget_module_focusTarget__00a969cc ${FI}`,role:"slider","aria-label":l.progressBar,"aria-valuemin":d,"aria-valuemax":h,"aria-valuenow":Math.round(u),"aria-valuetext":c,tabIndex:a?0:-1,"data-progress-bar-focus-target":!0})};const WR=({marker:t,setTabFocused:e,setHoverFocused:n})=>{const i=QO((t=>t.setPlayback)),r=QO((t=>t.playback.currentFragment)),o=(t.start-r.startTime)/r.duration,s={visibleLabel:t.visibleLabel,ariaLabel:t.ariaLabel,id:t.id,start:t.start,left:o};function a(e){i("currentTime",t.start,{action:e.type,seekType:"interactive-marker"})}return zN("div",{className:_m("InteractiveMarker_module_interactiveMarker__2cec5fab",XI),role:"button",style:{left:wm(o,!1)},"aria-label":t.ariaLabel,"data-time":t.start,tabIndex:0,onClick:a,onKeyUp:t=>{["Space","Enter"].includes(t.code)&&a(t)},onMouseEnter:()=>n(s),onMouseLeave:()=>n(null),onFocus:()=>e(s),onBlur:()=>e(null),"data-hotspot-marker":!0})},qR=({width:t,setHoverFocused:e,setTabFocused:n})=>{const i=QO((t=>t.playback.currentFragment)),r=QO((t=>t.interactive.hotspots)),o=QO((t=>t.interactive.polls)),s=QO((t=>t.interactive.showMarkers)),a=QO((t=>t.displayList.progressBar)),u=MM(),l=function({hotspots:t=[],polls:e=[],fragment:n,progressBarWidth:i}){const r=function(t,e){return[].concat(et(t.map((t=>({id:t.hotspotId,label:Fy,start:t.start,visibleLabel:t.name,ariaLabel:t.name,name:t.name})))),et(e.map((t=>({id:t.pollId,label:Uy,name:t.questionText,visibleLabel:t.questionText,ariaLabel:t.questionText,start:t.start})))))}(t,e);let o,s=1,a=[],u=[];return r.sort(((t,e)=>t.start-e.start)).reduce(((t,e)=>{let{label:r}=e,l=J(e,Hy);if(!(n.startTime<=l.start&&l.start<=n.endTime))return t;if(r===Fy?l.visibleLabel="Hotspot: "+l.name:r===Uy&&(l.visibleLabel="Poll: "+l.name),l.ariaLabel=l.visibleLabel,l.leftPositionInProgressBar=function(t){return(t-n.startTime)/n.duration*100}(l.start),r===Uy?a.push(l.name):r===Fy&&u.push(l.name),!t.length)return function(t,e,n){return t.push(e),o=n,t}(t,l,r);const c=t.length-1,d=function(t,e,n,i){const r=zy(t,n,i),o=zy(e,n,i);return Math.floor(o-r)}(t[c].start-n.startTime,l.start-n.startTime,n.duration,i);return!isNaN(d)&&d<=5?(s+=1,r!==o?function(t,e){o="Hotspots & Polls",t[e].visibleLabel="Hotspots & Polls",t[e].name="Hotspots & Polls",t[e].ariaLabel=u.length+" hotspots: "+u.join(", ")+"; "+a.length+" polls: "+a.join(", ")}(t,c):r===Fy?function(t,e,n){t[e].visibleLabel=s+" hotspots",t[e].name+=`, ${n.name}`,t[e].ariaLabel=s+" hotspots: "+t[e].name}(t,c,l):r===Uy&&function(t,e,n){t[e].visibleLabel=s+" polls",t[e].name+=`, ${n.name}`,t[e].ariaLabel=s+" polls: "+t[e].name}(t,c,l)):isNaN(d)||function(t,e,n){s=1,t.push(e),o=n,a=[],u=[]}(t,l,r),t}),[])}({hotspots:r,polls:o,fragment:i,progressBarWidth:t}).filter((t=>u(t.start)));return!!l.length&&s&&zN(Bk,{children:a&&l.map((t=>zN(WR,{marker:t,setTabFocused:n,setHoverFocused:e},t.start)))})};const YR=({time:t,left:e,visible:n=!0,disabled:i=!1})=>zN(nI,{visible:n,children:zN("div",{className:"Timecode_module_timecodeContainer__66300889",role:"presentation",style:{left:e},"aria-hidden":"true","data-progress-bar-timecode-container":!0,children:zN("div",{className:"Timecode_module_timecode__66300889 "+(i?"Timecode_module_disabled__66300889":""),"data-progress-bar-timecode":!0,children:xm(t)})})}),KR=()=>{const t=QO((t=>t.playback.currentTime)),e=QO((t=>t.playback.liveEdgeTime)),n=QO((t=>t.playback.liveTailTime)),i=QO((t=>t.playback.atLiveEdge)),r=QO((t=>t.playback.currentFragment)),o=QO((t=>t.playback.playInitiated)),s=QO((t=>t.playback.paused)),a=QO((t=>t.playback.buffering)),u=QO((t=>t.displayList.progressBar)),l=QO((t=>t.liveEvent.isLiveEvent)),c=QO((t=>t.liveEvent.dvrEnabled)),d=QO((t=>t.liveEvent.isEnded)),h=QO((t=>t.liveEvent.isArchived)),f=l?e:r.duration,p=l&&!h?1:0;let v=f,_=p;const m=ym(t,r);if(l)if(c){if(c){const s=d&&!o&&0===t,a=h&&0!==r.duration;s?(v=r.duration,_=0):a?(v=t,_=t/r.duration):i?(_=1,v=t):(_=km(t,n,e),v=t-e)}}else h&&(o||0!==t)?(_=gm(t,r),v=m):h?(v=r.duration,_=p):(_=1,v=t);else o||0!==m?(_=gm(t,r),v=m):(v=f,_=p);const b=(!l||h||c&&0!==e||!s&&!a&&0!==e)&&!isNaN(v)&&u;return zN(YR,{time:v,left:wm(_,!1),disabled:l&&!c,visible:b})};var ZR="ThumbnailPreview_module_text__11395132";const QR={xs:120,md:160,xl:200},JR=({visible:t=!1,mousePercent:e=0,progressBarWidth:n,isMousedOverProgress:i=!1,tabOrHoverFocusedMarker:r=null})=>{const o=QO((t=>t.displayList.menu)),s=QO((t=>t.playback.currentFragment)),a=QO((t=>t.playback.duration)),u=QO((t=>t.playback.liveEdgeTime)),l=QO((t=>t.playback.liveTailTime)),c=QO((t=>t.liveEvent.isLiveEvent)),d=QO((t=>t.liveEvent.dvrEnabled)),h=QO((t=>t.liveEvent.isArchived)),f=QO((t=>t.appearance.boundingClientRect)),p=QO((t=>t.appearance.isVerticalVideo)),v=QO((t=>t.appearance.playerBreakpoint)),_=QO((t=>t.verifyConfig)),m=QO((t=>t.chapters.chapters)),b=QO((t=>t.embed.chapters)),y=QO((t=>t.controlBar.thumbnailPreview)),g=QO((t=>t.playback.isSegmentedPlaybackEnabled)),[w,T]=bS({width:0,height:0,backgroundImage:"",backgroundSize:"",backgroundPosition:""}),[C,E]=bS(!1),k=f.height>300&&n>=185,S=0!==u&&!isNaN(u);let A=k&&!o&&(!c||d&&S)&&t;const[N,M]=bS(0);i?M(e):r?M(r.left):A=!1;const O=Tm(N,s);let I;I=d?h&&0!==s.duration?Cm(N,s):((t,e,n)=>Em(t,e,n)-n)(N,l,u):Cm(N,s),isNaN(I)&&(A=!1);const L=MM()(O);let R="";if(m.length&&b&&!g){const t=m.find((t=>t.startTime<=O&&t.endTime>=O));R=(null==t?void 0:t.text)||""}const x=(null==r?void 0:r.visibleLabel)||"",P=(t=>{switch(t){case qy.XL:case qy.XXL:return"xl";case qy.SM:case qy.MD:case qy.LG:return"md";default:return"xs"}})(v),D=((t,e)=>QR[t]*(e?9/16:1))(P,p),B=D/(null==y?void 0:y.frame_width);return gS((()=>{!C&&k&&t&&y&&_().then((()=>uM(y.url).then((()=>{E(!0),T({width:y.frame_width*B,height:y.frame_height*B,backgroundImage:`url(${y.url})`,backgroundSize:`${y.width*B}px ${y.height*B}px`,backgroundPosition:""})})))).catch((()=>{}))}),[t,C,k,y,B,_]),gS((()=>{E(!1)}),[y]),gS((()=>{y&&T((t=>Q(Q({},t),{},{width:y.frame_width*B,height:y.frame_height*B,backgroundSize:`${y.width*B}px ${y.height*B}px`})))}),[v]),gS((()=>{if(y&&k){let t=0,e=0;if(y){const n=a/y.frames,i=Math.min(y.frames-1,Math.ceil(O/n)),r=i%y.columns,o=Math.floor(i/y.columns);t=-r*y.frame_width*B,e=-o*y.frame_height*B}T((n=>Q(Q({},n),{},{backgroundPosition:`${t}px ${e}px`})))}}),[N,f,y,k,a,B,O]),zN(nI,{visible:A,children:zN("div",{className:"ThumbnailPreview_module_thumbnailPreview__11395132",role:"presentation","aria-hidden":"true",style:{left:wm(N,!1),maxWidth:D},children:[!!w.backgroundImage&&C&&L&&zN("div",{className:`${X_.THUMB} ThumbnailPreview_module_thumbnailPreviewImage__11395132`,style:{width:`${w.width}px`,height:`${w.height}px`,backgroundImage:w.backgroundImage,backgroundSize:w.backgroundSize,backgroundPosition:w.backgroundPosition}}),zN("div",{className:"ThumbnailPreview_module_thumbnailPreviewText__11395132",children:[x&&zN("span",{className:ZR,children:x}),x&&R&&zN("span",{className:"ThumbnailPreview_module_separator__11395132"}),R&&zN("span",{className:ZR,children:R}),zN("span",{className:"ThumbnailPreview_module_time__11395132",children:xm(I)})]})]})})};var tx="ChapterSegment_module_segmentBar__611ea95b",ex="ChapterSegment_module_seekingDisabled__611ea95b";const nx=({segment:t,className:e})=>{const n=QO((t=>t.playback.canSeekForward)),i=QO((t=>t.playback.maxPlayedTime)),r=QO((t=>t.playback.currentFragment)),o=QO((t=>t.playback.loadedTime)),s=IM(t,n?o:i),a=wm(s);return zN("div",{className:_m("LoadedBar_module_loaded__9af6b4fa",r.duration<60&&"LoadedBar_module_shortVideo__9af6b4fa",e),style:{width:a},"data-progress-bar-loaded":!0})};const ix=({segment:t,className:e})=>{const n=QO((t=>t.playback.currentTime)),i=QO((t=>t.liveEvent.isLiveEvent)),r=QO((t=>t.liveEvent.dvrEnabled)),o=QO((t=>t.liveEvent.isArchived)),s=i&&!r&&!o,a=IM(t,n),u=wm(s?0:a,!1);return zN("div",{className:_m("PlayedBar_module_played__a3ef1250",e),style:{width:u},"data-progress-bar-played":!0})},rx=({segment:t,isExpanded:e})=>{const n=QO((t=>t.playback.canSeekForward)),i=QO((t=>t.playback.currentFragment)),r=QO((t=>t.playback.liveEdgeTime)),o=QO((t=>t.liveEvent.isLiveEvent)),s=QO((t=>t.liveEvent.dvrEnabled)),a=QO((t=>t.liveEvent.isArchived)),u=o&&!a,l=0!==r&&!isNaN(r),c=o?1:((t,e)=>(t.endTime-t.startTime)/e.duration)(t,i),d=wm(c,!1),h=u&&(!s||!l),f=MM()(t.startTime),p=_m("ChapterSegment_module_chapterWrapper__611ea95b",h&&"ChapterSegment_module_liveDisabled__611ea95b",!n&&ex,e&&"ChapterSegment_module_expanded__611ea95b",(h||!f)&&"ChapterSegment_module_hoverDisabled__611ea95b"),v=_m("ChapterSegment_module_chapter__611ea95b",!n&&ex);return zN("div",{className:p,style:{width:`calc(${d} - ${t.startTime===i.startTime?0:2}px)`},children:zN("div",{className:v,children:[zN(nx,{segment:t,className:tx}),zN(ix,{segment:t,className:tx})]})})};const ox=({hoveredChapterId:t})=>{const e=QO((t=>t.playback.currentFragment)),n=QO((t=>t.chapters.chapters)),i=QO((t=>t.embed.chapters)),r=QO((t=>t.appearance.playerBreakpoint)),o=QO((t=>t.playback.isSegmentedPlaybackEnabled)),s=QO((t=>t.controlBar.isExpanded));let a;return a=r===qy.XXS||!i||o?[{startTime:e.startTime,endTime:e.endTime}]:((t,e)=>{const n=Sm(t,e);let i=[];return 0===n.length?i.push({startTime:e.startTime,endTime:e.endTime}):n.forEach(((t,r)=>{let o=t.startTime,s=t.endTime;0===r&&t.startTime>e.startTime&&i.push({startTime:e.startTime,endTime:t.startTime}),0===r&&t.startTime<e.startTime&&(o=e.startTime),r===n.length-1&&t.endTime>e.endTime&&(s=e.endTime),i.push({startTime:o,endTime:s,chapterId:t.startTime})})),i})(n,e),zN("div",{className:"ChapterSegments_module_chapterSegmentsWrapper__e2d21102",children:a.map((e=>zN(rx,{segment:e,isExpanded:s||e.chapterId===t},e.startTime)))})};const sx=({hoveredChapterId:t})=>{const e=JO(),n=QO((t=>t.playback.liveEdgeTime)),i=QO((t=>t.liveEvent.isLiveEvent)),r=QO((t=>t.liveEvent.isArchived)),o=QO((t=>t.liveEvent.dvrEnabled)),s=QO((t=>t.controlBar.isExpanded)),a=QO((t=>t.displayList.progressBar)),[u,l]=bS(!1),[c,d]=bS(!1),[h,f]=bS(0),[p,v]=bS(null),[_,m]=bS(null),[b,y]=bS(null),g=TS(null),w=TS(null),T=TS(bm(null==g?void 0:g.current)),[C,E]=bS(T.current.rightOffsetValue-T.current.leftOffsetValue);function k(){const t=bm(null==g?void 0:g.current);T.current=t,E(T.current.rightOffsetValue-T.current.leftOffsetValue)}VN(g,k);const{startExpandingProgressBar:S,endExpandingProgressBar:A,onExpandTransitionEnd:N}=(()=>{const t=TS(null),e=TS(null),n=JO(),i=QO((t=>t.setControlBar));return{startExpandingProgressBar:function(){clearTimeout(t.current),clearTimeout(e.current),t.current=setTimeout((()=>{"expanded"!==n.getState().controlBar.expandedState&&i("expandedState","expanding")}),lg)},endExpandingProgressBar:function(){clearTimeout(t.current),clearTimeout(e.current);const r=n.getState().controlBar.expandedState;"collapsed"!==r&&("expanded"===r?e.current=setTimeout((()=>{i("expandedState","collapsing")}),lg):i("expandedState","collapsing"))},onExpandTransitionEnd:function(){const t=n.getState().controlBar.expandedState;"expanding"===t?i("expandedState","expanded"):"collapsing"===t&&i("expandedState","collapsed")}}})(),{startScrub:M,continueScrub:O,endScrub:I}=OM(),L=(t,e=3)=>h_(a_((t-T.current.leftOffsetValue)/(T.current.rightOffsetValue-T.current.leftOffsetValue),0,1),e);function R(t){const{clientX:e}=t,n=L(e);f(n)}function x(t){const n=(t=>{let{clientX:e}=t;return t.targetTouches&&t.targetTouches.length>0&&(e=t.targetTouches[0].clientX,t.preventDefault()),e})(t),i=L(n),{liveEvent:r,playback:o}=e.getState();return!r.dvrEnabled||r.isArchived&&0!==o.currentFragment.duration?Tm(i,o.currentFragment):Em(i,o.liveTailTime,o.liveEdgeTime)}function P(t){if(2===(null==t?void 0:t.button)||null!=t&&t.ctrlKey)return;const e=x(t);if(M(e),"pointerdown"===t.type||"MSPointerDown"===t.type){v(t.pointerId);try{t.target.msSetPointerCapture?t.target.msSetPointerCapture(p):t.target.setPointerCapture(p)}catch(t){}document.addEventListener("pointermove",D),document.addEventListener("pointerup",B)}else"touchstart"===t.type?(document.addEventListener("touchmove",D),document.addEventListener("touchend",B),S()):(document.addEventListener("mousemove",D),document.addEventListener("mouseup",B))}function D(t){if(p&&p!==t.pointerId||!1===t.isPrimary)return;const e=x(t);O(e)}function B(t){const e=t.type;"pointerup"===e||"MSPointerUp"===e?(document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",B),v(null)):"touchend"===e?(document.removeEventListener("touchmove",D),document.removeEventListener("touchend",B),A()):(document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",B)),I()}gS((()=>()=>{document.removeEventListener("touchmove",D),document.removeEventListener("touchend",B),document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",B),document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",B)}),[]);let $={};(!i||o&&n||r)&&($=Bt.pointerEvents?{onPointerDown:P}:{onTouchStart:P,onMouseDown:P});const V=_m("ProgressBar_module_progressBarContainer__8f93bbb9",!a&&"ProgressBar_module_progressHidden__8f93bbb9",s&&"ProgressBar_module_progressExpanded__8f93bbb9"),j=_m(G_.VP_PROGRESS,"ProgressBar_module_progressBar__8f93bbb9");return zN("div",{className:V,ref:w,onTransitionEnd:function(t){t.target===(null==w?void 0:w.current)&&"flex-shrink"===t.propertyName&&N()},children:zN("div",Q(Q({className:j,"data-progress-bar":!0,ref:g,onMouseEnter:t=>{k(),R(t),d(!0)},onMouseMove:t=>{R(t),l(!1),m(null)},onMouseLeave:()=>d(!1),onFocus:()=>l(!0),onBlur:()=>l(!1),role:"presentation"},$),{},{children:[zN(GR,{}),zN(ox,{hoveredChapterId:t}),zN(XR,{}),zN(qR,{width:C,setTabFocused:m,setHoverFocused:y}),zN(JR,{visible:c||u,mousePercent:h,isMousedOverProgress:c,progressBarWidth:C,tabOrHoverFocusedMarker:_||b}),zN(KR,{})]}))})};const ax=({setMenuDisplayed:t})=>{const e=QO((t=>t.setDisplayList));return zN(ZI,{className:"DebugPanelButton_module_debugPanelButton__9c678770",onClick:()=>{t(!1),e("debugPanel",!0)},icon:zN(cI,{className:"DebugPanelButton_module_debugPanelButtonIcon__9c678770",name:jN.INFO_CIRCLE}),color:Ky.ALTERNATIVE,iconSize:Yy.XS,"aria-haspopup":"dialog",children:zN(jI,{size:Jy.SM,weight:tg.NORMAL,children:"Debug log"})})};const ux=()=>{const t=QO((t=>t.captions.fontSize)),e=QO((t=>t.captions.fontFamily)),n=QO((t=>t.captions.fontOpacity)),i=QO((t=>t.captions.color)),r=QO((t=>t.captions.bgColor)),o=QO((t=>t.captions.bgOpacity)),s=QO((t=>t.captions.windowOpacity)),a=QO((t=>t.captions.windowColor)),u=QO((t=>t.captions.edgeStyle)),l=QO((t=>t.appearance.videoHeight));return zN("div",{className:"PreviewWindow_module_previewWindow__13200e2c",role:"menuitem",children:zN("div",{className:"PreviewWindow_module_checkeredBackground__13200e2c",children:zN(oL,{cues:[{html:"This is a preview\n of a caption"}],fontSize:t,fontFamily:e,fontOpacity:n,color:i,bgColor:r,bgOpacity:o,windowOpacity:s,windowColor:a,edgeStyle:u,height:l})})})},lx=({setPanel:t})=>{const e=QO((t=>t.appearance.isMenuBlockingUI)),n=QO((t=>t.appearance.isMenuVerticalVideoMode));return(e||n)&&zN(Bk,{children:[zN(bI,{}),zN(TI,{label:"Preview",onSelect:()=>t(mN.PREVIEW),hasPopup:!0})]})};const cx=({updateMetricsPayload:t})=>{const e=QO((t=>t.resetCaptionsStyles));return zN(ZI,Q(Q({className:`${W_.EXCLUDE_GLOBAL_BUTTON_STYLES} ResetButton_module_resetButton__33762fc2 ${FI}`,withActive:!1,styled:!1,role:"menuitem"},lm((()=>{e(),t({has_reset_all:!0,final_action_reset_all:!0})}))),{},{children:zN("span",{children:"Reset all"})}))},dx={[mN.EMPTY]:()=>zN(Bk,{}),[mN.PREFS]:({setPanel:t,setMenuDisplayed:e})=>{var n;const i=xM(),r=QO((t=>t.embed.cc)),o=QO((t=>t.embed.speedChangeEnabled)),s=QO((t=>t.embed.multipleAudioTracks)),a=QO((t=>t.embed.quality)),u=QO((t=>t.playback.qualities)),l=QO((t=>{var e;return!(null==(e=t.embed.flags)||!e.new_subtitles_ui)})),c=i&&r&&l,d=QO((t=>t.playback.currentQuality)),h=QO((t=>t.playback.playbackRates)),f=QO((t=>t.playback.audioTracks)),p=a&&(null==u?void 0:u.length)>0,v=s&&(null==f?void 0:f.length)>1,_=(t=[])=>{var e;return null==(e=t.find((t=>t.active)))?void 0:e.label},m=_(h),b=QO((t=>t.captions.activeTextTrackId)),y={quality:{label:"Quality",value:"Auto"===d?"Auto":d,onSelect:()=>t(mN.QUALITY),hasPopup:!0},speed:{label:"Speed",value:"Normal"===m?"Normal":m,onSelect:()=>t(mN.SPEED),hasPopup:!0},subtitles:{label:"CC/subtitles",value:null==(n=QO((t=>t.captions.textTracks)).find((t=>t.id===b)))?void 0:n.label,onSelect:()=>t(mN.SUBTITLES),hasPopup:!0},audio:{label:"Audio",value:_(f),onSelect:()=>t(mN.AUDIO),hasPopup:!0}};return zN(Bk,{children:[p&&zN(TI,Q({},y.quality)),o&&zN(TI,Q({},y.speed)),c&&zN(TI,Q({},y.subtitles)),v&&zN(TI,Q({},y.audio)),Bt.touch&&zN(Bk,{children:[zN(bI,{buffer:!0}),zN(ax,{setMenuDisplayed:e})]})]})},[mN.QUALITY]:()=>{const{qualities:t}=QO((t=>t.playback)),e=QO((t=>t.setPlayback)),n=t.map((t=>Q(Q({},t),{},{label:"Auto"===t.label?"Auto":t.label})));return zN(SI,{items:n,onSelect:t=>e("qualities",t.currentTarget.dataset.id)})},[mN.SPEED]:()=>{const{playbackRates:t}=QO((t=>t.playback)),e=QO((t=>t.setPlayback)),n=t.map((t=>Q(Q({},t),{},{label:"Normal"===t.label?"Normal":t.label})));return zN(SI,{items:n,onSelect:t=>e("playbackRates",t.currentTarget.dataset.id)})},[mN.SUBTITLES]:({setPanel:t,updateMetricsPayload:e})=>{const n=QO((t=>t.captions.textTracks)),i=QO((t=>t.setCaptions)),r={customize:{label:"Customize",onSelect:()=>{t(mN.CUSTOMIZE),e({has_clicked_customize:!0})},hasPopup:!0}};return zN(Bk,{children:[zN(SI,{items:n,onSelect:t=>{const r=t.currentTarget.dataset.id,o=n.find((t=>t.id===r));i("activeTextTrackId",r),e({language_selected:null==o?void 0:o.language,language_provenance:(null==o?void 0:o.provenance)||null,has_updated_language:!0})}}),zN(bI,{buffer:!0}),zN(TI,Q({},r.customize)),zN(lx,{setPanel:t})]})},[mN.AUDIO]:()=>{const t=QO((t=>t.playback.audioTracks)),e=QO((t=>t.setPlayback)),n=GN((t=>t.bigPicture)),i=TS(!1),r=TS(t.find((t=>!!t.enabled)));return gS((()=>{const t=r.current.label,e=ey[r.current.provenance];return n.sendEvent(qb.MULTI_AUDIO_TRACK_CLICK,{event_name:"audio_menu_opened",has_selected_track:i.current,initial_track:t,initial_track_provenance:e}),()=>{n.sendEvent(qb.MULTI_AUDIO_TRACK_CLICK,{event_name:"audio_menu_closed",has_selected_track:i.current,initial_track:t,initial_track_provenance:e})}}),[n]),zN(SI,{items:t,onSelect:o=>{e("audioTracks",o.currentTarget.dataset.id),i.current=!0;const s=t.find((t=>t.id===o.currentTarget.dataset.id));n.sendEvent(qb.MULTI_AUDIO_TRACK_CLICK,{event_name:"select_audio_track",track_selected:s.label,track_selected_provenance:ey[s.provenance],has_selected_track:i.current,initial_track:r.current.label,initial_track_provenance:ey[r.current.provenance]})}})},[mN.CUSTOMIZE]:({setPanel:t,updateMetricsPayload:e})=>{const n={font:{label:"Font",onSelect:()=>{t(mN.FONT),e({has_clicked_font:!0})},size:bN.SMALL,hasPopup:!0},background:{label:"Background",onSelect:()=>{t(mN.BACKGROUND),e({has_clicked_background:!0})},size:bN.SMALL,hasPopup:!0},window:{label:"Window",onSelect:()=>{t(mN.WINDOW),e({has_clicked_window:!0})},size:bN.SMALL,hasPopup:!0}};return zN(Bk,{children:[zN(TI,Q({},n.font)),zN(TI,Q({},n.background)),zN(TI,Q({},n.window)),zN(cx,{updateMetricsPayload:e}),zN(lx,{setPanel:t})]})},[mN.FONT]:({setPanel:t,updateMetricsPayload:e})=>{const n=QO((t=>t.setCaptions)),i=QO((t=>t.captions.fontSize)),r=QO((t=>t.captions.fontFamily)),o=QO((t=>t.captions.fontOpacity)),s=QO((t=>t.captions.color)),a=QO((t=>t.captions.edgeStyle)),u=Tw(),l=()=>e({has_changed_font:!0,final_action_reset_all:!1}),c={fontFamily:{label:u.fontFamily.title,items:mm(u.fontFamily.items,r),onSelect:t=>{n("fontFamily",t.currentTarget.dataset.id),l()},id:em.FONT_FAMILY_ACCORDION},color:{label:u.color.title,labelId:em.VP_CC_FONT_COLOR_LABEL,items:mm(u.color.items,s),onSelect:t=>{n("color",t.currentTarget.dataset.id),l()}},fontSize:{label:u.fontSize.title,labelId:em.VP_CC_FONT_SIZE_LABEL,items:mm(u.fontSize.items,`${i}`),onSelect:t=>{n("fontSize",t.currentTarget.dataset.id),l()}},fontOpacity:{label:u.fontOpacity.title,labelId:em.VP_CC_FONT_OPACITY_LABEL,items:mm(u.fontOpacity.items,o),onSelect:t=>{n("fontOpacity",t.currentTarget.dataset.id),l()}},edgeStyle:{label:u.edgeStyle.title,labelId:em.VP_CC_FONT_EDGE_STYLE_LABEL,items:mm(u.edgeStyle.items,a),onSelect:t=>{n("edgeStyle",t.currentTarget.dataset.id),l()},id:em.EDGE_STYLE_ACCORDION}};return zN(Bk,{children:[zN(AI,Q({},c.fontFamily)),zN(OI,Q({},c.color)),zN(MI,Q({},c.fontSize)),zN(MI,Q({},c.fontOpacity)),zN(AI,Q({},c.edgeStyle)),zN(cx,{updateMetricsPayload:e}),zN(lx,{setPanel:t})]})},[mN.BACKGROUND]:({setPanel:t,updateMetricsPayload:e})=>{const n=QO((t=>t.setCaptions)),i=QO((t=>t.captions.bgColor)),r=QO((t=>t.captions.bgOpacity)),o=Tw(),s=()=>e({has_changed_background:!0,final_action_reset_all:!1}),a={bgColor:{label:o.bgColor.title,labelId:em.VP_CC_BACKGROUND_COLOR_LABEL,items:mm(o.bgColor.items,i),onSelect:t=>{n("bgColor",t.currentTarget.dataset.id),s()}},bgOpacity:{label:o.bgOpacity.title,labelId:em.VP_CC_BACKGROUND_OPACITY_LABEL,items:mm(o.bgOpacity.items,r),onSelect:t=>{n("bgOpacity",t.currentTarget.dataset.id),s()}}};return zN(Bk,{children:[zN(OI,Q({},a.bgColor)),zN(MI,Q({},a.bgOpacity)),zN(cx,{updateMetricsPayload:e}),zN(lx,{setPanel:t})]})},[mN.WINDOW]:({setPanel:t,updateMetricsPayload:e})=>{const n=QO((t=>t.setCaptions)),i=QO((t=>t.captions.windowOpacity)),r=QO((t=>t.captions.windowColor)),o=Tw(),s=()=>e({has_changed_window:!0,final_action_reset_all:!1}),a={windowColor:{label:o.windowColor.title,labelId:em.VP_CC_WINDOW_COLOR_LABEL,items:mm(o.windowColor.items,r),onSelect:t=>{n("windowColor",t.currentTarget.dataset.id),s()}},windowOpacity:{label:o.windowOpacity.title,labelId:em.VP_CC_WINDOW_OPACITY_LABEL,items:mm(o.windowOpacity.items,i),onSelect:t=>{n("windowOpacity",t.currentTarget.dataset.id),s()}}};return zN(Bk,{children:[zN(OI,Q({},a.windowColor)),zN(MI,Q({},a.windowOpacity)),zN(cx,{updateMetricsPayload:e}),zN(lx,{setPanel:t})]})},[mN.PREVIEW]:({updateMetricsPayload:t})=>zN(Bk,{children:[zN(ux,{}),zN(cx,{updateMetricsPayload:t})]})},hx={[mN.EMPTY]:()=>zN(Bk,{}),[mN.QUALITY]:({onBack:t,setMenuDisplayed:e})=>zN(yI,{title:"Quality",onBack:t,setMenuDisplayed:e}),[mN.SPEED]:({onBack:t,setMenuDisplayed:e})=>zN(yI,{title:"Speed",onBack:t,setMenuDisplayed:e}),[mN.PREFS]:({setMenuDisplayed:t})=>QO((t=>t.appearance.isMenuBlockingUI))&&zN(yI,{title:"Settings",setMenuDisplayed:t}),[mN.SUBTITLES]:({setMenuDisplayed:t,onBack:e})=>zN(yI,{title:"CC/subtitles",onBack:e,setMenuDisplayed:t}),[mN.AUDIO]:({onBack:t,setMenuDisplayed:e})=>zN(yI,{title:"Audio",onBack:t,setMenuDisplayed:e}),[mN.CUSTOMIZE]:({onBack:t,setMenuDisplayed:e})=>zN(yI,{title:"Customize",onBack:t,setMenuDisplayed:e}),[mN.FONT]:({onBack:t,setMenuDisplayed:e})=>zN(yI,{title:"Font",onBack:t,setMenuDisplayed:e}),[mN.BACKGROUND]:({onBack:t,setMenuDisplayed:e})=>zN(yI,{title:"Background",onBack:t,setMenuDisplayed:e}),[mN.WINDOW]:({onBack:t,setMenuDisplayed:e})=>zN(yI,{title:"Window",onBack:t,setMenuDisplayed:e}),[mN.PREVIEW]:({onBack:t,setMenuDisplayed:e})=>zN(yI,{title:"Preview",onBack:t,setMenuDisplayed:e})},fx=mN.PREFS,px=[mN.SUBTITLES,mN.CUSTOMIZE,mN.FONT,mN.BACKGROUND,mN.WINDOW,mN.PREVIEW],vx=({isMenuDisplayed:t,setMenuDisplayed:e,buttonRef:n,progressBarAndButtonsRef:i})=>{const r=QO((t=>t.events)),o=QO((t=>t.playback.playbackRates)),{panel:s,setPanel:a,goToPreviousPanel:u}=NM(fx,t),l=TS(s),c=TS(!1),d=(t=>dx[t]||dx[mN.EMPTY])(s),h=(t=>hx[t]||hx[mN.EMPTY])(s),f=s===mN.SPEED?o.length:null,{updateCCMetricsPayload:p,sendBPClosedCaptionsClickEvent:v}=LM();return gS((()=>{px.includes(l.current)&&s===fx&&v(),px.includes(s)&&!c.current&&(r.fire($v),c.current=!0),l.current=s}),[s,v,r]),zN(vI,{ariaLabel:"Settings",type:_N.PREFS,isMenuDisplayed:t,setMenuDisplayed:e,panel:s,buttonRef:n,progressBarAndButtonsRef:i,toggleKey:ib.PrefsMenu,panelContent:zN(d,{setPanel:a,setMenuDisplayed:e,updateMetricsPayload:px.includes(s)?p:void 0}),headerContent:zN(h,{setPanel:a,setMenuDisplayed:e,onBack:u}),resizeDependencies:f,onBack:u})},_x=({setMenuDisplayed:t})=>QO((t=>t.appearance.isMenuBlockingUI))&&zN(yI,{title:"Chapters",setMenuDisplayed:t});var mx="ChaptersPanelMenuOption_module_active__aad1c14d";const bx=({startTime:t,id:e,chapterId:n,active:i,label:r,onMouseEnter:o,onMouseLeave:s,onSelect:a})=>{const u=QO((t=>t.bigPicture)),l=QO((t=>t.playback.canSeekForward)),c=QO((t=>t.embed.parentUrl)),d=QO((t=>t.chapters.chapterShareBaseUrl)),h=QO((t=>t.debug.clipId)),f=MM()(t),{onClick:p,onKeyDown:v}=pN(a),_=_m("ChaptersPanelMenuOption_module_chapterListItem__aad1c14d",i&&mx,!f&&"ChaptersPanelMenuOption_module_disabled__aad1c14d"),m=_m(i&&mx,"ChaptersPanelMenuOption_module_chapterListButton__aad1c14d",W_.EXCLUDE_GLOBAL_BUTTON_STYLES),b=c?function(t,e,n){const[i]=n.split("#");return`${i}#vimeo_chapter_${t}=${e}`}(h,n,c):function(t,e){if(!e)return"";const[n]=e.split("#");return`${n}#chapter=${t}`}(n,d);return zN("div",{className:_,children:[zN("button",Q(Q({id:e,role:"menuitem","data-id":e,disabled:!f||null,"data-testid":"chapter-list-item-button",tabIndex:0,className:m,onClick:p,onKeyDown:v,onMouseEnter:o,onMouseLeave:s},RI),{},{children:zN("div",{className:"ChaptersPanelMenuOption_module_chapterInfoContainer__aad1c14d",children:[zN("div",{className:"ChaptersPanelMenuOption_module_chapterTitleText__aad1c14d",children:r}),zN("div",{className:"ChaptersPanelMenuOption_module_chapterStartTime__aad1c14d",children:xm(t)})]})})),b&&l&&zN(QI,{linkUrl:b,className:"ChaptersPanelMenuOption_module_copyLinkButton__aad1c14d",ariaDescribedBy:e,tooltipPosition:LI.LEFT,onClick:()=>{u.sendEvent(qb.SHARE_CHAPTER,{chapter_id:n})}})]},e)},yx=({setMenuDisplayed:t,onMenuOptionMouseEnter:e,onMenuOptionMouseLeave:n})=>{const i=QO((t=>t.events)),r=QO((t=>t.chapters.chapters)),o=QO((t=>t.chapters.activeCueId)),s=GN((t=>t.bigPicture)),a=r.map((t=>({label:t.text,id:t.cueId,active:t.cueId===o,startTime:t.startTime,chapterId:t.chapterId})));return zN(SI,{items:a,onSelect:e=>{const n=e.currentTarget.dataset.id;"string"==typeof n&&(i.fire($f,parseFloat(n)+.001,"menu"),s.sendEvent(qb.CHAPTER_SELECTED,{chapter_id:parseInt(n),provenance:null})),t(!1)},onMenuOptionMouseEnter:e,onMenuOptionMouseLeave:n,itemComponent:bx})},gx=({isMenuDisplayed:t,setMenuDisplayed:e,buttonRef:n,progressBarAndButtonsRef:i,onMenuOptionMouseEnter:r,onMenuOptionMouseLeave:o})=>zN(vI,{ariaLabel:"Chapters",type:_N.CHAPTERS,isMenuDisplayed:t,setMenuDisplayed:e,panel:mN.CHAPTERS,buttonRef:n,progressBarAndButtonsRef:i,panelContent:zN(yx,{setMenuDisplayed:e,onMenuOptionMouseEnter:r,onMenuOptionMouseLeave:o}),headerContent:zN(_x,{setMenuDisplayed:e})});const wx=({updateMetricsPayload:t})=>{const e=QO((t=>t.resetCaptionsStyles));return zN(ZI,Q(Q({className:`${W_.EXCLUDE_GLOBAL_BUTTON_STYLES} ResetButton_module_resetButton__33762fc2 ${FI}`,withActive:!1,styled:!1,role:"menuitem"},lm((()=>{e(),t({has_reset_all:!0,final_action_reset_all:!0})}))),{},{children:zN("span",{children:"Reset all"})}))};const Tx=()=>{const t=QO((t=>t.captions.fontSize)),e=QO((t=>t.captions.fontFamily)),n=QO((t=>t.captions.fontOpacity)),i=QO((t=>t.captions.color)),r=QO((t=>t.captions.bgColor)),o=QO((t=>t.captions.bgOpacity)),s=QO((t=>t.captions.windowOpacity)),a=QO((t=>t.captions.windowColor)),u=QO((t=>t.captions.edgeStyle)),l=QO((t=>t.appearance.videoHeight));return zN("div",{className:"PreviewWindow_module_previewWindow__13200e2c",role:"menuitem",children:zN("div",{className:"PreviewWindow_module_checkeredBackground__13200e2c",children:zN(oL,{cues:[{html:"This is a preview\n of a caption"}],fontSize:t,fontFamily:e,fontOpacity:n,color:i,bgColor:r,bgOpacity:o,windowOpacity:s,windowColor:a,edgeStyle:u,height:l})})})},Cx=({setPanel:t})=>{const e=QO((t=>t.appearance.isMenuBlockingUI)),n=QO((t=>t.appearance.isMenuVerticalVideoMode));return(e||n)&&zN(Bk,{children:[zN(bI,{}),zN(TI,{label:"Preview",onSelect:()=>t(mN.PREVIEW),hasPopup:!0})]})},Ex={[mN.EMPTY]:()=>zN(Bk,{}),[mN.LANGUAGES]:({setPanel:t,updateMetricsPayload:e})=>{const n=QO((t=>t.captions.textTracks)),i=QO((t=>t.setCaptions)),r={customize:{label:"Customize",onSelect:()=>{t(mN.CUSTOMIZE),e({has_clicked_customize:!0})},hasPopup:!0}};return zN(Bk,{children:[zN(SI,{items:n,onSelect:t=>{const r=t.currentTarget.dataset.id,o=n.find((t=>t.id===r));i("activeTextTrackId",r),e({language_selected:null==o?void 0:o.language,language_provenance:(null==o?void 0:o.provenance)||null,has_updated_language:!0})}}),zN(bI,{buffer:!0}),zN(TI,Q({},r.customize)),zN(Cx,{setPanel:t})]})},[mN.CUSTOMIZE]:({setPanel:t,updateMetricsPayload:e})=>{const n={font:{label:"Font",onSelect:()=>{t(mN.FONT),e({has_clicked_font:!0})},size:bN.SMALL,hasPopup:!0},background:{label:"Background",onSelect:()=>{t(mN.BACKGROUND),e({has_clicked_background:!0})},size:bN.SMALL,hasPopup:!0},window:{label:"Window",onSelect:()=>{t(mN.WINDOW),e({has_clicked_window:!0})},size:bN.SMALL,hasPopup:!0}};return zN(Bk,{children:[zN(TI,Q({},n.font)),zN(TI,Q({},n.background)),zN(TI,Q({},n.window)),zN(wx,{updateMetricsPayload:e}),zN(Cx,{setPanel:t})]})},[mN.FONT]:({setPanel:t,updateMetricsPayload:e})=>{const n=QO((t=>t.setCaptions)),i=QO((t=>t.captions.fontSize)),r=QO((t=>t.captions.fontFamily)),o=QO((t=>t.captions.fontOpacity)),s=QO((t=>t.captions.color)),a=QO((t=>t.captions.edgeStyle)),u=Tw(),l=()=>e({has_changed_font:!0,final_action_reset_all:!1}),c={fontFamily:{label:u.fontFamily.title,items:mm(u.fontFamily.items,r),onSelect:t=>{n("fontFamily",t.currentTarget.dataset.id),l()},id:em.FONT_FAMILY_ACCORDION},color:{label:u.color.title,labelId:em.VP_CC_FONT_COLOR_LABEL,items:mm(u.color.items,s),onSelect:t=>{n("color",t.currentTarget.dataset.id),l()}},fontSize:{label:u.fontSize.title,labelId:em.VP_CC_FONT_SIZE_LABEL,items:mm(u.fontSize.items,`${i}`),onSelect:t=>{n("fontSize",t.currentTarget.dataset.id),l()}},fontOpacity:{label:u.fontOpacity.title,labelId:em.VP_CC_FONT_OPACITY_LABEL,items:mm(u.fontOpacity.items,o),onSelect:t=>{n("fontOpacity",t.currentTarget.dataset.id),l()}},edgeStyle:{label:u.edgeStyle.title,labelId:em.VP_CC_FONT_EDGE_STYLE_LABEL,items:mm(u.edgeStyle.items,a),onSelect:t=>{n("edgeStyle",t.currentTarget.dataset.id),l()},id:em.EDGE_STYLE_ACCORDION}};return zN(Bk,{children:[zN(AI,Q({},c.fontFamily)),zN(OI,Q({},c.color)),zN(MI,Q({},c.fontSize)),zN(MI,Q({},c.fontOpacity)),zN(AI,Q({},c.edgeStyle)),zN(wx,{updateMetricsPayload:e}),zN(Cx,{setPanel:t})]})},[mN.BACKGROUND]:({setPanel:t,updateMetricsPayload:e})=>{const n=QO((t=>t.setCaptions)),i=QO((t=>t.captions.bgColor)),r=QO((t=>t.captions.bgOpacity)),o=Tw(),s=()=>e({has_changed_background:!0,final_action_reset_all:!1}),a={bgColor:{label:o.bgColor.title,labelId:em.VP_CC_BACKGROUND_COLOR_LABEL,items:mm(o.bgColor.items,i),onSelect:t=>{n("bgColor",t.currentTarget.dataset.id),s()}},bgOpacity:{label:o.bgOpacity.title,labelId:em.VP_CC_BACKGROUND_OPACITY_LABEL,items:mm(o.bgOpacity.items,r),onSelect:t=>{n("bgOpacity",t.currentTarget.dataset.id),s()}}};return zN(Bk,{children:[zN(OI,Q({},a.bgColor)),zN(MI,Q({},a.bgOpacity)),zN(wx,{updateMetricsPayload:e}),zN(Cx,{setPanel:t})]})},[mN.WINDOW]:({setPanel:t,updateMetricsPayload:e})=>{const n=QO((t=>t.setCaptions)),i=QO((t=>t.captions.windowOpacity)),r=QO((t=>t.captions.windowColor)),o=Tw(),s=()=>e({has_changed_window:!0,final_action_reset_all:!1}),a={windowColor:{label:o.windowColor.title,labelId:em.VP_CC_WINDOW_COLOR_LABEL,items:mm(o.windowColor.items,r),onSelect:t=>{n("windowColor",t.currentTarget.dataset.id),s()}},windowOpacity:{label:o.windowOpacity.title,labelId:em.VP_CC_WINDOW_OPACITY_LABEL,items:mm(o.windowOpacity.items,i),onSelect:t=>{n("windowOpacity",t.currentTarget.dataset.id),s()}}};return zN(Bk,{children:[zN(OI,Q({},a.windowColor)),zN(MI,Q({},a.windowOpacity)),zN(wx,{updateMetricsPayload:e}),zN(Cx,{setPanel:t})]})},[mN.PREVIEW]:({updateMetricsPayload:t})=>zN(Bk,{children:[zN(Tx,{}),zN(wx,{updateMetricsPayload:t})]})},kx={[mN.EMPTY]:()=>zN(Bk,{}),[mN.LANGUAGES]:({setMenuDisplayed:t})=>QO((t=>t.appearance.isMenuBlockingUI))&&zN(yI,{title:"CC/Subtitles",setMenuDisplayed:t}),[mN.CUSTOMIZE]:({onBack:t,setMenuDisplayed:e})=>zN(yI,{title:"Customize",onBack:t,setMenuDisplayed:e}),[mN.FONT]:({onBack:t,setMenuDisplayed:e})=>zN(yI,{title:"Font",onBack:t,setMenuDisplayed:e}),[mN.BACKGROUND]:({onBack:t,setMenuDisplayed:e})=>zN(yI,{title:"Background",onBack:t,setMenuDisplayed:e}),[mN.WINDOW]:({onBack:t,setMenuDisplayed:e})=>zN(yI,{title:"Window",onBack:t,setMenuDisplayed:e}),[mN.PREVIEW]:({onBack:t,setMenuDisplayed:e})=>zN(yI,{title:"Preview",onBack:t,setMenuDisplayed:e})},Sx=({isMenuDisplayed:t,setMenuDisplayed:e,buttonRef:n,progressBarAndButtonsRef:i})=>{const r=mN.LANGUAGES,o=QO((t=>t.embed.flags.new_subtitles_ui)),{panel:s,setPanel:a,goToPreviousPanel:u}=NM(r,t),l=(t=>Ex[t]||Ex[mN.EMPTY])(s),c=(t=>kx[t]||kx[mN.EMPTY])(s),{sendBPClosedCaptionsClickEvent:d,updateCCMetricsPayload:h}=LM(),f=TS(t);if(gS((()=>{f.current&&!t&&d(),f.current=t}),[t,d]),!o)return zN(vI,{type:_N.CC,ariaLabel:"CC/Subtitles",isMenuDisplayed:t,setMenuDisplayed:e,panel:s,buttonRef:n,progressBarAndButtonsRef:i,toggleKey:ib.CCMenu,onBack:u,panelContent:zN(l,{setPanel:a,setMenuDisplayed:e,onBack:u,updateMetricsPayload:h}),headerContent:zN(c,{setPanel:a,setMenuDisplayed:e,onBack:u})})};const Ax=({buttonProperties:t={}})=>{const e=TS(null),n=TS(null),i=QO((t=>t.setPlayback)),r=QO((t=>t.setDisplayList)),o=QO((t=>t.playback.volume)),s=QO((t=>t.playback.muted))?0:o,a=QO((t=>t.playback.supportsSettingVolume)),u=QO((t=>t.displayList.controlBar)),[l,c]=bS(!1),d=100*s,[h,f]=bS(!1),[p,v]=bS(!1),_=MN(ig.VOLUME_SLIDER)&&a,m=l&&_,b=Math.round(100*s)+"% volume";gS((()=>{u||c(!1)}),[u]);const y=t=>{S(t)},g=()=>{c(!0),r("menu",!1)},w=t=>{vm(e.current,t)||vm(null==n?void 0:n.current,t)||c(!1),f(!1),document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",y),document.removeEventListener("pointerup",w),document.removeEventListener("pointermove",y)},T=t=>{f(!0),S(t),Bt.pointerEvents?(document.addEventListener("pointerup",w),document.addEventListener("pointermove",y)):(document.addEventListener("mouseup",w),document.addEventListener("mousemove",y))},C=()=>{h||c(!1)},E=()=>v(!0),k=()=>v(!1);function S(t){let n=t.clientY;t.targetTouches&&t.targetTouches.length&&(n=t.targetTouches[0].clientY,t.preventDefault());const r=function(t){const n=r_(e.current).top,i=r_(e.current).bottom;return a_((i-t)/(i-n),0,100)}(n);i("volume",r)}const A=_m("VolumeControl_module_volumeControl__a0c94891",G_.VOLUME,FI),N=_m("VolumeControl_module_volumeBar__a0c94891",p||h?"VolumeControl_module_mouseEnteredSlider__a0c94891":""),M=!_||t.ariaHidden||void 0,O=Bt.pointerEvents?{onPointerEnter:g,onPointerLeave:C}:{onMouseEnter:g,onMouseLeave:C},I=Bt.pointerEvents?{onPointerDown:T,onPointerEnter:E,onPointerLeave:k}:{onMouseDown:T,onMouseEnter:E,onMouseLeave:k};return zN("div",Q(Q({className:"VolumeControl_module_volumeControlContainer__a0c94891"},O),{},{"data-volume-control-container":!0,children:[zN(RR,Q({ref:n},t)),zN(nI,{visible:m,children:zN("div",Q(Q({role:"slider",className:A,ref:e,tabIndex:_?0:-1,"aria-label":"Volume (use up/down arrow keys to change)","aria-valuenow":100*s,"aria-valuetext":b,"aria-valuemin":0,"aria-valuemax":100,"aria-hidden":M,onBlur:()=>{h||c(!1)},onFocus:()=>{c(!0),r("menu",!1)},onTouchMove:S},I),{},{"data-volume-control":!0,children:zN("div",{className:N,children:[zN("div",{className:"VolumeControl_module_volumeBarFill__a0c94891",style:{height:`${d}%`}}),zN("div",{className:"VolumeControl_module_sliderHandle__a0c94891",style:{bottom:`${d}%`}})]})}))})]}))};var Nx="ControlBarButtonsAndMenus_module_progressHidden__83ef5043",Mx="ControlBarButtonsAndMenus_module_buttonsHidden__83ef5043",Ox="ControlBarButtonsAndMenus_module_collapsingEnabled__83ef5043",Ix="ControlBarButtonsAndMenus_module_canScroll__83ef5043";const Lx=[NN.VIMEO_LOGO],Rx=({menuProps:t})=>{const e=JO(),n=QO((t=>t.appearance.isMenuBlockingUI)),i=QO((t=>t.appearance.isMenuVerticalVideoMode)),r=QO((t=>t.controlBar.showAllControls)),o=QO((t=>t.displayList.controlBarButtons)),s=QO((t=>t.displayList.progressBar)),u=QO((t=>t.controlBar.isExpanded)),l=yN(),c=(()=>{const t=QO((t=>t.playback.canPlayPictureInPicture)),e=QO((t=>t.embed.fullscreen)),n=QO((t=>t.embed.showVimeoLogo)),i=QO((t=>t.embed.volume)),r=QO((t=>t.appearance.fullscreen)),o=QO((t=>t.embed.airplay)),s=QO((t=>t.playback.supportsAirPlay)),a=QO((t=>t.embed.chromecast)),u=QO((t=>t.chromecast.supportsChromecast)),l=QO((t=>t.chromecast.isChromecastReady)),c=QO((t=>t.appearance.stereoscopicEnabled)),d=QO((t=>t.playback.supportsStereoscopic)),h=QO((t=>t.displayList.ad)),f=QO((t=>t.playback.loadedMetadata)),p=QO((t=>{var e;return null==(e=t.interactive.hotspots)?void 0:e.length})),v=QO((t=>t.interactive.enabled)),_=QO((t=>t.interactive.ready)),m=QO((t=>t.liveEvent.isLiveEvent)),b=QO((t=>t.liveEvent.isArchived)),y=!!v&&(!_||p),g=s&&f&&!h&&!y&&o,w=a&&u&&l&&!h&&!y&&(!m||b),T=c&&d&&!h,C=t&&!h,E=(e||r)&&!(Bt.iOS&&p),k=n&&!h;return{[NN.AIRPLAY]:g,[NN.CHROMECAST]:w,[NN.FULLSCREEN]:E,[NN.PIP]:C,[NN.STEREOSCOPIC]:T,[NN.VIMEO_LOGO]:k,[NN.VOLUME]:i}})(),d=TS(),h=TS(),f=Object.keys(c).filter((t=>c[t])),p=Object.keys(l).filter((t=>l[t])),v=!!f.length||!!p.length,_=f.concat(p).filter((t=>!Lx.includes(t))),m=_.length>0,b=_.length>1,[y,g]=bS(!1),w=()=>{if(e.getState().controlBar.showAllControls)return void g(!1);const t=d.current,n=h.current,i=null==t?void 0:t.children;if(!n||null==i||!i.length||!e.getState().displayList.controlBarButtons)return;const r=n.clientWidth,o=a(i).reduce(((t,e)=>t+e.clientWidth+4),4);g(r<o)};VN(d,w,100),gS((()=>{w()}),[f.length,p.length]);const T=!n&&!i,C=!r&&b&&y,E=!r&&b,k=!o&&b,S=!s&&!k&&m,A=c[NN.VIMEO_LOGO],N=_m("ControlBarButtonsAndMenus_module_wrapper__83ef5043",k&&Mx,!s&&Nx,u&&"ControlBarButtonsAndMenus_module_progressExpanded__83ef5043"),M=_m("ControlBarButtonsAndMenus_module_collapsibleWrapper__83ef5043",k&&Mx,!s&&Nx,E&&Ox,C&&Ix,S&&"ControlBarButtonsAndMenus_module_buttonsOnly__83ef5043",A&&"ControlBarButtonsAndMenus_module_vimeoLogoEnabled__83ef5043"),O=_m("ControlBarButtonsAndMenus_module_collapsibleContent__83ef5043",k&&Mx,E&&Ox,C&&Ix);if(!v)return null;const I={onFocus:t=>{const e=null==t?void 0:t.target;if(!e||!o||r||!d.current||!h.current||!y)return;const n=r_(e),i=r_(h.current);if(n.left>i.left&&n.right<i.right)return;const s=n.right-i.width;d.current.scrollTo({top:0,left:s,behavior:"smooth"})}};return k&&(I.ariaHidden=!0),zN("div",{className:N,children:[E&&zN(HR,{}),zN("div",{className:M,ref:h,onKeyDown:t=>{"ArrowLeft"!==t.code&&"ArrowRight"!==t.code||t.preventDefault()},role:"none",children:zN("div",{className:O,ref:d,role:"none",children:[c[NN.VOLUME]&&zN(Ax,{buttonProperties:I}),l[_N.CC]&&zN(BR,Q(Q({},t[_N.CC]),{},{ref:t[_N.CC].buttonRef},I)),T&&l[_N.CC]&&zN(Sx,Q({},t[_N.CC])),l[_N.TRANSCRIPT]&&zN(jR,Q({},I)),l[_N.PREFS]&&zN(IR,Q(Q({},t[_N.PREFS]),{},{ref:t[_N.PREFS].buttonRef},I)),T&&l[_N.PREFS]&&zN(vx,Q({},t[_N.PREFS])),l[_N.CHAPTERS]&&zN(DR,Q(Q({},t[_N.CHAPTERS]),{},{ref:t[_N.CHAPTERS].buttonRef},I)),T&&l[_N.CHAPTERS]&&zN(gx,Q({},t[_N.CHAPTERS])),c[NN.CHROMECAST]&&zN(VR,Q({},I)),c[NN.AIRPLAY]&&zN(PR,Q({},I)),c[NN.STEREOSCOPIC]&&zN($R,Q({},I)),c[NN.PIP]&&zN(LR,Q({},I)),c[NN.FULLSCREEN]&&zN(OR,Q({},I))]})}),A&&zN(xR,{})]})},xx=({menuProps:t})=>{const e=yN(),n=QO((t=>t.appearance.isMenuBlockingUI)),i=QO((t=>t.appearance.isMenuVerticalVideoMode));return(n||i)&&zN(Bk,{children:[e[_N.CC]&&zN(Sx,Q({},t[_N.CC])),e[_N.PREFS]&&zN(vx,Q({},t[_N.PREFS])),e[_N.CHAPTERS]&&zN(gx,Q({},t[_N.CHAPTERS]))]})},Px=()=>{const t=TS(null),e=QO((t=>t.displayList.controlBar)),n=QO((t=>t.displayList.outro)),i=QO((t=>t.playback.playInitiated)),r=QO((t=>t.embed.isTrailer)),o=QO((t=>t.displayList.controlBarButtons)),s=QO((t=>t.controlBar.showAllControls)),a=QO((t=>t.embed.playbar)),u=(()=>{const t=QO((t=>t.setAppearance)),[e,n]=bS(!1);return{onMouseEnter:()=>{e||t("mousedOverControlBar",!0),n(!1)},onMouseLeave:()=>{e||t("mousedOverControlBar",!1),n(!1)},onTouchStart:()=>{t("mousedOverControlBar",!0),n(!0)},onTouchEnd:()=>{t("mousedOverControlBar",!1),n(!0)}}})(),l=kN()===EN.CENTER,c=r&&!i,d=MN(ig.PROGRESS_BAR)&&a,[h,f]=bS(null),p=(({setHoveredChapterId:t,progressBarAndButtonsRef:e})=>{const n=QO((t=>t.displayList.menu)),i=QO((t=>t.setDisplayList)),r=TS(null),o=TS(null),s=TS(null),[a,u]=bS(!1),[l,c]=bS(!1),[d,h]=bS(!1),f=t=>e=>{t(e),i("menu",e),t!==u&&u(!1),t!==c&&c(!1),t!==h&&h(!1)};n||(u(!1),c(!1),h(!1));const p=f(u),v=f(h),_=f(c),m={[_N.CC]:{isMenuDisplayed:l,setMenuDisplayed:_,buttonRef:s,progressBarAndButtonsRef:e},[_N.PREFS]:{isMenuDisplayed:a,setMenuDisplayed:p,buttonRef:r,progressBarAndButtonsRef:e},[_N.CHAPTERS]:{isMenuDisplayed:d,setMenuDisplayed:v,buttonRef:o,progressBarAndButtonsRef:e,onMenuOptionMouseEnter:e=>{var n;return t(parseInt(null==e||null==(n=e.currentTarget)||null==(n=n.dataset)?void 0:n.id,10))},onMenuOptionMouseLeave:()=>t(null)}};return m})({setHoveredChapterId:f,progressBarAndButtonsRef:t}),v=_m("ControlBar_module_controlBarWrapper__293a16b4",l&&"ControlBar_module_centerPlayButton__293a16b4"),_=_m(X_.VP_CONTROLS,"ControlBar_module_controls__293a16b4",c&&"ControlBar_module_trailer__293a16b4"),m=_m("ControlBar_module_progressBarAndButtons__293a16b4",!d&&"ControlBar_module_progressBarDisabled__293a16b4",s&&"ControlBar_module_showAllControls__293a16b4",o&&!s&&"ControlBar_module_buttonsExpanded__293a16b4");return zN(mI,{children:[zN("div",{className:v,children:[zN(kR,{controlBarVisibilityHandlers:u}),zN(nI,{visible:e,children:zN("div",Q(Q({className:_},u),{},{"data-control-bar":!0,children:!n&&!c&&zN("div",{className:m,ref:t,children:[d&&zN(sx,{hoveredChapterId:h}),zN(Rx,{menuProps:p})]})}))}),zN(UR,{})]}),zN(xx,{menuProps:p})]})},Dx=({styles:t})=>zN(cI,{name:jN.HEART_WIDER_FILLED,style:t}),Bx=({styles:t})=>zN(cI,{name:jN.HEART_WIDER_BROKEN_FILLED,style:t});var $x="AnimatedClock_module_hands__167fcd36",Vx="AnimatedClock_module_reverse__167fcd36";const jx=({style:t,animateDirection:e="forward"})=>{const n=_m($x,"AnimatedClock_module_hour__167fcd36","reverse"===e&&Vx),i=_m($x,"AnimatedClock_module_minute__167fcd36","reverse"===e&&Vx);return zN("svg",{viewBox:"0 0 20 20",style:t,children:[zN("polyline",{className:n,points:"9.64,4.68 10.56,4.68 11.28,11.21 8.93,11.21 9.64,4.68"}),zN("polyline",{className:i,points:"14.19,13.65 13.7,14.14 8.58,10.4 10.44,8.5 14.19,13.65"}),zN("circle",{className:"AnimatedClock_module_circle__167fcd36",cx:"10",cy:"10",r:"8",strokeWidth:"2"})]})},Hx=({styles:t})=>zN(jx,{style:t}),Fx=({styles:t})=>zN(jx,{animateDirection:"reverse",style:t});const Ux=()=>{const t=TS(null),e=QO((t=>t.displayList.menu)),n=QO((t=>t.notification.currentNotification)),i=QO((t=>t.setNotification)),{width:r,height:o}=QO((t=>t.appearance.boundingClientRect)),s=MN(ig.SIDE_DOCK_MENU);return zN(vL,{fadeIn:!1,onContentChange:function(e){null!==e&&(clearTimeout(t.current),t.current=setTimeout((()=>{i("currentNotification",null)}),750))},targetContent:n,children:t=>{const n=_m("Notification_module_root__c083c238",null!==t&&"Notification_module_active__c083c238",s&&e&&"Notification_module_behindSideDock__c083c238"),i=function(t,e,n){const i=t===qO.WatchLaterAdded||t===qO.WatchLaterRemoved?.5:.4,r=n>e?e:n;return{width:`${Math.round(r*i*1.6)}px`,height:`${Math.round(r*i)}px`}}(t,r,o);return zN("div",{className:n,children:[t===qO.LikedAdded&&zN(Dx,{styles:i}),t===qO.LikeRemoved&&zN(Bx,{styles:i}),t===qO.WatchLaterAdded&&zN(Hx,{styles:i}),t===qO.WatchLaterRemoved&&zN(Fx,{styles:i})]})}})};let zx=function(t){return t.Backward="backward",t.Forward="forward",t}({});const Xx=()=>{const t=QO((t=>t.displayList.nudgeNotification)),e=QO((t=>t.nudge.direction)),n=QO((t=>t.nudge.time));return zN(nI,{visible:t,children:zN("div",{"aria-hidden":"true",className:`NudgeNotification_module_nudge__24f10a71 ${e===zx.Backward&&"NudgeNotification_module_nudgeBackward__24f10a71"}`,children:zN("div",{className:"NudgeNotification_module_nudgeInfo__24f10a71",children:[zN("div",{className:"NudgeNotification_module_nudgeIcon__24f10a71",children:zN(cI,{name:jN.FAST_FORWARD})}),zN("div",{className:"NudgeNotification_module_nudgeTime__24f10a71",children:n?n+" seconds":""})]})})})};var Gx="NudgeArea_module_nudgeArea__7d84d7de";let Wx;const qx=()=>{const t=JO(),e=QO((t=>t.displayList.fullPlayerElement)),n=QO((t=>t.displayList.ad)),i=QO((t=>t.liveEvent.isLiveEvent)),r=QO((t=>t.liveEvent.dvrEnabled)),o=QO((t=>t.liveEvent.isArchived)),s=i&&!o&&!r,a=QO((t=>t.embed.background)),u=QO((t=>t.embed.controls)),l=QO((t=>t.displayList.outro)),c=QO((t=>t.config.video.spatial)),d=QO((t=>t.progressController)),h=QO((t=>t.playback.playInitiated)),f=!(!Bt.spatialPlayback||!c),p=Bt.touch&&!e&&!n&&!s&&!a&&u&&!l&&!f,v=QO((t=>t.setPlayback)),_=QO((t=>t.setNudgeProperties)),m=QO((t=>t.startNudgeHideTimeout)),[b,y]=bS({left:0,right:0}),g=e=>n=>{let r;n.preventDefault(),e===zx.Forward?(r=b.left+1,y({left:r,right:0})):(r=b.right+1,y({left:0,right:r})),clearTimeout(Wx),Wx=setTimeout(w,250),r>=2&&function(e,n){let r,o;const{liveTailTime:s,liveEdgeTime:a,currentFragment:u,currentTime:l}=t.getState().playback;i?(r=s,o=a):({startTime:r,endTime:o}=u);let c=0;c=e===zx.Forward?l+10:l-10;let f=d.getAllowedSeekTime(c);f<r&&(f=r),f>=o&&(f=o-.001),e===zx.Forward&&!d.canSeekNow&&h||(f===c&&_({direction:e,time:10+10*(n-2)}),m(),v("currentTime",f,{seekType:"nudge"}))}(e,r)};function w(){y({left:0,right:0})}return p&&zN(Bk,{children:[zN("div",{className:`${Gx} NudgeArea_module_nudgeBackwardArea__7d84d7de`,onTouchEnd:g(zx.Backward)}),zN("div",{className:`${Gx} NudgeArea_module_nudgeForwardArea__7d84d7de`,onTouchEnd:g(zx.Forward)})]})},Yx=({element:t,children:e})=>sA(zN(Bk,{children:e}),t);var Kx="HelpOverlay_module_hideOnSmall__079276a9",Zx="HelpOverlay_module_arrow__079276a9";const Qx=()=>{const t=GN((t=>t.embed.onsite)),e=QO((t=>t.embed.like)),n=QO((t=>t.embed.watchLater)),i=QO((t=>t.embed.share)),r=QO((t=>t.embed.transcript)),o=QO((t=>t.embed.aiWidget)),s=QO((t=>t.playback.drm)),a=QO((t=>t.playback.playInitiated)),u=[{key:"↑",text:"Volume up",className:`${Zx} ${Kx}`},{key:"↓",text:"Volume down",className:`${Zx} ${Kx}`},{key:"→",text:"Scrub forward",className:`${Zx} ${Kx}`},{key:"←",text:"Scrub backwards",className:`${Zx} ${Kx}`},{key:"X",text:"Like",ignore:!e},{key:"S",text:"Share",ignore:!i},{key:"W",text:"Watch Later",ignore:!n},{key:"C",text:"Toggle Captions"},{key:"H",text:"Toggle Preferences Menu"},{key:"F",text:"Toggle fullscreen"},{key:"⇧T",text:"Toggle Transcript",ignore:!r},{key:"⇧A",text:"Toggle Vimeo AI",ignore:!o},{key:"V",text:"View on Vimeo",ignore:t},{key:"J",text:"Scrub backwards"},{key:"K",text:"Play/Pause"},{key:"L",text:"Scrub forward"},{key:"M",text:"Toggle Mute"},{key:"P",text:"Screenshot frame",ignore:!("ClipboardItem"in window&&"clipboard"in navigator)||s||!a}];return zN(Bk,{children:[zN("h1",{id:q_.VP_OVERLAY_LABELLEDBY,children:"Keyboard Shortcuts"}),zN("div",{className:"HelpOverlay_module_keysWrapper__079276a9","data-help-keys":!0,children:u.map((t=>!t.ignore&&zN("div",{className:`HelpOverlay_module_keyWrapper__079276a9 ${t.className||""}`,children:[zN("div",{className:"HelpOverlay_module_keySymbol__079276a9",children:t.key}),zN("div",{className:"HelpOverlay_module_keyText__079276a9",children:t.text})]})))})]})},Jx=()=>{const t=QO((t=>t.overlay.incrementOverlayElementsUpdatedCount));return zN(VL,{onEmbedShareVisibilityChange:t})};const tP=[Sh,Nh],eP=()=>{const t=GN((t=>t.embed.onsite)),e=GN((t=>t.embed.videoId)),n=QO((t=>t.overlay.spatialRedirectContext)),i={title:"headset"===n?"Headset viewing isn’t currently supported in your mobile browser.":null,buttonText:"Watch in the Vimeo app",lowerText:"browser-support"===n?"360 not supported in this browser":null},r=QO((t=>t.embed.doNotTrack)),o=QO((t=>!tP.includes(t.embed.privacy))),s=QO((t=>t.embed.shareUrl));return zN(Bk,{children:[zN(nI,{visible:!0,children:zN("div",{className:"SpatialRedirectOverlay_module_background__43dc92f8"})}),"headset"===n&&zN("div",{className:"SpatialRedirectOverlay_module_title__43dc92f8",children:i.title}),o&&zN(ZI,{className:"SpatialRedirectOverlay_module_button__43dc92f8",onClick:()=>{const n=r?s:function(t){return`https://vimeo.page.link/?link=https%3A%2F%2Fvimeo.com%2F${t}%3Futm_source%3Dvimeo%26utm_campaign%3Dmobileweb%26utm_content%3Dplayer-button-360video&apn=com.vimeo.android.videoapp&ibi=com.vimeo&isi=425194759&utm_source=vimeo&utm_campaign=mobileweb&utm_content=player-button&ct=360video&pt=417731&efr=1`}(e);window.open(n,t&&"_blank",t?"noopener":"")},children:i.buttonText}),"browser-support"===n&&zN("div",{className:"SpatialRedirectOverlay_module_lowerText__43dc92f8",children:i.lowerText})]})},nP=()=>{const t=QO((t=>t.overlay.purpose)),e=QO((t=>t.displayList.overlay)),n=QO((t=>t.setDisplayList)),i=Nm(t)?null:t;return zN(vL,{onContentChange:t=>{n("overlay",!(null===t||t===Am.EMPTY))},styleOverrides:{exitDone:{display:"block",visibility:"hidden"}},targetContent:i,children:n=>zN(XL,{visible:n===t&&e,children:[n===Am.ERROR&&zN(FL,{}),n===Am.HELP&&zN(Qx,{}),n===Am.SHARE&&zN(Jx,{}),n===Am.SPATIAL_REDIRECT&&zN(eP,{})]})})};const iP=()=>{const{pipOverlay:t}=QO((t=>t.displayList));return zN(nI,{visible:t,children:zN("div",{className:"PipOverlay_module_overlay__8ff12d1a","aria-hidden":"true",children:[zN(cI,{name:jN.PIP}),zN("div",{className:"PipOverlay_module_title__8ff12d1a",children:"Playing in picture-in-picture"})]})})};const rP=()=>{const t=QO((t=>t.liveEvent.isLiveEvent)),e=QO((t=>t.liveEvent.isPlayable)),n=QO((t=>t.playback.paused)),i=QO((t=>t.liveEvent.isEnded)),r=t&&!i,o=QO((t=>t.displayList.controlBar)),s=QO((t=>t.displayList.topCenterActionItem)),a=QO((t=>t.displayList.title)),u=QO((t=>t.displayList.toast)),l=QO((t=>t.playback.atLiveEdge));return!!r&&zN(nI,{visible:(o||s)&&!(a||u)&&e&&!n&&l,children:zN("div",{className:"LiveStatusLabelAndViewerCounter_module_liveStatusLabelAndViewerCounter__62de121d","aria-hidden":"true",children:[zN(aP,{}),zN(dP,{})]})})};var oP="LiveStatusLabel_module_offline__dccd53f8",sP="LiveStatusLabel_module_live__dccd53f8";const aP=()=>{const t=QO((t=>t.embed.hideLiveLabel)),e=QO((t=>t.liveEvent.isLiveEvent)),n=QO((t=>t.liveEvent.isPlayable)),i=QO((t=>t.liveEvent.isArchived)),r=_m("LiveStatusLabel_module_liveStatusCircle__dccd53f8",n?sP:oP),o=_m("LiveStatusLabel_module_liveStatusText__dccd53f8",n?sP:oP);return e&&!i&&!t&&zN("div",{className:"LiveStatusLabel_module_liveStatusLabel__dccd53f8","data-live-status-label":!0,children:[zN("div",{className:r}),zN("span",{className:o,children:"LIVE"})]})};function uP(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}function lP(){}function cP(t){if(t&&t.then)return t.then(lP)}const dP=()=>{const t=GN((t=>t.embed.videoId)),e=GN((t=>t.config.vimeo_api_url)),n=QO((t=>t.events)),i=QO((t=>t.updatePhpTokens)),o=QO((t=>t.liveEvent.isPlayable)),s=QO((t=>t.embed.showViewerCount)),a=QO((t=>t.liveEvent.viewerCount)),u=QO((t=>t.liveEvent.liveStatsRequestSucceeded)),l=QO((t=>t.liveEvent.isStarted)),c=QO((t=>t.liveEvent.isOnline)),d=QO((t=>t.embed.privacy)),h=QO((t=>t.embed.videoUnlistedHash)),f=QO((t=>t.user.vimeoBucketedLiveClientToken)),p=l&&s&&c,v=ES(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){let o=`${t}`;d===tb.PRIVACY_UNLISTED&&h&&(o+=`:${h}`);const s=`https://${e}/videos/${o}/stats/live`,a={jwt_token:f};return cP(uP((function(){return function(t,e){try{var n=r.resolve(t());return e?n.then(e):n}catch(t){return r.reject(t)}}(i,(function(){return cP(uP((function(){return function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(Ee({url:s,searchParams:a}).json(),(function(t){t.viewers&&n.fire(nd.LIVE_STATS_SUCCESS,{viewerCount:t.viewers.current})}))}),(function(){n.fire(nd.LIVE_STATS_FAILURE)})))}))}),(function(t){n.fire(nd.LIVE_STATS_FAILURE)})))})),[n,i,t,e,f,d,h]);return gS((()=>{if(p){v();const t=setInterval(v,3e4);return()=>clearInterval(t)}return()=>{}}),[p,v]),o&&s&&u&&zN("div",{className:"LiveViewerCounter_module_liveViewerCounter__29a255e3","data-live-viewer-counter":!0,children:[zN(cI,{className:"LiveViewerCounter_module_liveViewerCounterIcon__29a255e3",name:jN.PERSON_FILLED}),zN("span",{className:"LiveViewerCounter_module_liveViewerCountValue__29a255e3","data-live-viewer-count":!0,children:a})]})},hP=[E_.privateLocked,E_.privatePassword,E_.geoBlocked,E_.drmPlaybackUnavailable],fP={[zm.LIGHT]:Um.EIGHTY,[zm.DARK]:Um.TWENTY},pP="transparent !important",vP=()=>{const t=GN((t=>t.uuid)),e=GN((t=>t.view)),n=GN((t=>t.embed.transparent)),i=GN((t=>t.colors.colorOne)),r=GN((t=>t.colors.colorTwo)),o=GN((t=>t.colors.colorThree)),s=GN((t=>t.colors.colorFour)),a=[[Fm.ONE,Gm(i,Um.ONE_HUNDRED)],[Fm.TWO,Gm(r,Um.ONE_HUNDRED)],[Fm.THREE,Gm(o,Um.ONE_HUNDRED)],[Fm.FOUR,Gm(s,Um.ONE_HUNDRED,{forceHexAlpha:!0})],[Fm.ONE_MONOCHROME,Gm(i,Um.ONE_HUNDRED,{monochrome:!0})],[Fm.TWO_MONOCHROME,Gm(r,Um.ONE_HUNDRED,{monochrome:!0})],[Fm.ONE_OPACITY_NINETY,Gm(i,Um.NINETY,{forceHexAlpha:!0})],[Fm.TWO_OPACITY_NINETY,Gm(r,Um.NINETY,{forceHexAlpha:!0})],[Fm.THREE_OPACITY_TWENTY,Gm(o,Um.TWENTY)],[Fm.ONE_MONOCHROME_OPACITY_TWENTY,Gm(i,Um.TWENTY,{monochrome:!0})],[Fm.TWO_MONOCHROME_OPACITY_TWENTY,Gm(r,Um.TWENTY,{monochrome:!0})],[Fm.ONE_MONOCHROME_OPACITY_SIXTY,Gm(i,Um.SIXTY,{monochrome:!0})],[Fm.TWO_COMPLEMENT,Gm(r,Um.ONE_HUNDRED,{complement:!0})],[Fm.ONE_MONOCHROME_OPACITY_TWENTY_EIGHTY,Gm(i,fP,{monochrome:!0})],[Fm.TWO_MONOCHROME_OPACITY_TWENTY_EIGHTY,Gm(r,fP,{monochrome:!0})]];let u,l;return hP.includes(e)?(u="#000 !important",l=pP):n?(u=pP,l=pP):(u=`var(${Fm.FOUR})`,l=`var(${Fm.FOUR})`),zN("style",{type:"text/css","data-player-colors":t,children:[`.player-${t} {\n                ${Wm(a)}\n            }`,`.player-${t} {\n                background-color: ${u};\n            }`,`.player-${t} .${X_.VP_VIDEO_WRAPPER} {\n                background-color: ${l};\n            }`]})};const _P=()=>{const t=QO((t=>t.embed.rightContentAreaEnabled)),e=QO((t=>t.displayList.rightContentArea)),n=QO((t=>t.appearance.rightContentAreaAnimating));let i=QO((t=>t.element));const r={transcript:{component:MP,displayed:QO((t=>t.displayList.transcript))},aiWidget:{component:ZP,displayed:QO((t=>t.displayList.aiWidget))}},o=Bt.isGoogleBot&&r.transcript.displayed;var s;o&&(i=null==(s=i)?void 0:s.parentElement);const a=_m("RightContentArea_module_rightContentArea__98a162b1",e&&"RightContentArea_module_visible__98a162b1",Ty&&"RightContentArea_module_iframeEmbed__98a162b1",o&&"RightContentArea_module_googleBot__98a162b1"),u=Object.keys(r).some((t=>{var e;return null==(e=r[t])?void 0:e.displayed})),l=!e&&n,c=l?400:void 0,d=l||u&&e&&!n?void 0:0,h={exitDone:{visibility:"hidden",display:"block"}};return t&&sA(zN("div",{id:q_.RIGHT_CONTENT_AREA,className:a,"aria-hidden":!e,children:Object.keys(r).map((function(t){var e,n;const i=null==(e=r[t])?void 0:e.component,o=null==(n=r[t])?void 0:n.displayed;return i?zN(nI,{duration:d,visible:o,delay:c,styleOverrides:h,children:zN(i,{})},t):null}))}),i)};const mP=()=>{const[t,e]=bS(!1),n=QO((t=>t.appearance.placeholderThumbnail)),i=QO((t=>t.appearance.appSizeMode)),r=QO((t=>t.appearance.appBreakpoint)),o=QO((t=>t.embed.rightContentAreaEnabled)),s=QO((t=>t.displayList.rightContentArea)),a=QO((t=>t.appearance.rightContentAreaAnimating)),u=QO((t=>t.element)),l=o&&(s||a),c=r===qy.XS||r===qy.XXS||i===Zm.MINI||i===Zm.TINY,d=_m("ContentAreaBackground_module_img__5e37c38e",t&&"ContentAreaBackground_module_loaded__5e37c38e"),h=c?{visible:s,duration:400}:{visible:l,duration:0};return Bt.isGoogleBot?null:sA(zN(nI,Q(Q({},h),{},{children:zN("div",{className:"ContentAreaBackground_module_imgContainer__5e37c38e",children:zN("img",{onLoad:()=>e(!0),alt:"video thumbnail",className:d,src:n})})})),null==u?void 0:u.querySelector(`.${W_.CONTENT_AREA_BACKGROUND_CONTAINER}`))};var bP=[],yP=[];function gP(t,e){if(t&&"undefined"!=typeof document){var n,i=!0===e.prepend?"prepend":"append",r=!0===e.singleTag,o="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(r){var s=bP.indexOf(o);-1===s&&(s=bP.push(o)-1,yP[s]={}),n=yP[s]&&yP[s][i]?yP[s][i]:yP[s][i]=a()}else n=a();65279===t.charCodeAt(0)&&(t=t.substring(1)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(document.createTextNode(t))}function a(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var n=Object.keys(e.attributes),r=0;r<n.length;r++)t.setAttribute(n[r],e.attributes[n[r]]);var s="prepend"===i?"afterbegin":"beforeend";return o.insertAdjacentElement(s,t),t}}gP(".TranscriptError_lazy_module_refresh__eeacf550{background:#ffffff1a;border:none;border-radius:4px;gap:4px;height:32px;padding:4px 12px}.TranscriptError_lazy_module_icon__eeacf550{height:40px;width:40px}",{});const{Provider:wP,useStore:TP}=EA(),CP={timecodeDisplayed:!0,selectedSettingsMenu:YA.MAIN,settingsDisplayed:!1,currentSearchResultIndex:0,searchTerms:{terms:"",timestamp:null},searchResults:[],transcriptDisabled:!1,autofollowEnabled:!0},EP=({children:t})=>{const e=QO((t=>t.subscribe)),n=QO((t=>t.captions.textTrackEls)),i=QO((t=>t.captions.rtlTracks)),r=QO((t=>t.config)),o=QO((t=>t.events)),s=QO((t=>t.displayList.transcript)),a=QO((t=>t.displayList.fullPlayerElement)),u=QO((t=>t.appearance.appBreakpoint)),l=QO((t=>t.appearance.appSizeMode)),c=GN((t=>t.bigPicture)),d=((t,e)=>t.map((t=>{const n=t.id.replace(J_.TEXT_TRACK_ID_PREFIX,""),i=e.includes(n);return{id:t.id,label:t.label,language:t.srclang,rtl:i}})))(n,i),h=eN(r,d),f=TS(null==h?void 0:h.language);return zN(wP,{createStore:()=>CA(((t,n)=>{const i=(e,n)=>t((t=>Q(Q({},t),{},{[e]:n}))),r=CP.selectedSettingsMenu,p=t=>i("selectedSettingsMenu",t),v=CP.settingsDisplayed,_=e=>{var i,r;const s={};if(e!==(null==(i=n())?void 0:i.settingsDisplayed)){var a;s.settingsDisplayed=e;const t=null==(a=n())||null==(a=a.selectedTrack)?void 0:a.language;e?c.sendEvent(qb.EMBEDDED_TRANSCRIPT_CLICK,{name:"open_embed_transcript_setting",copy:"settings",location:"player_embedded_transcript",element:"embedded_transcript_settings_menu",current_transcript_language:t}):e||t===f.current||(c.sendEvent(qb.EMBEDDED_TRANSCRIPT_CLICK,{name:"change_language_settings",copy:t,location:"player_embedded_transcript_settings",element:"language_select_panel",current_transcript_language:t}),f.current=t)}(null==(r=n())?void 0:r.settingsDisplayed)&&!e&&(s.selectedSettingsMenu=CP.selectedSettingsMenu),Object.keys(s).length&&t((t=>Q(Q({},t),s)));const u=e?x_:"";o.fire(Gf,u)},m=CP.timecodeDisplayed,b=CP.currentSearchResultIndex,y=t=>i("currentSearchResultIndex",t),g=CP.searchResults,w=t=>{0===t.length&&i("currentSearchResultIndex",0),i("searchResults",t)},T=CP.searchTerms,C=t=>i("searchTerms",t),E=!s||a,k=kP(u,l),S=CP.autofollowEnabled;function A(){C(CP.searchTerms),w(CP.searchResults),y(CP.currentSearchResultIndex)}return e((t=>{var e;return null==t||null==(e=t.displayList)?void 0:e.transcript}),(t=>{t||(_(CP.settingsDisplayed),p(CP.selectedSettingsMenu))})),e((t=>{var e,n;return{transcriptVisible:null==t||null==(e=t.displayList)?void 0:e.transcript,overlayVisible:null==t||null==(n=t.displayList)?void 0:n.fullPlayerElement}}),(({transcriptVisible:t,fullPlayerElement:e})=>{i("transcriptDisabled",!(t&&!e))})),e((t=>{var e,n;return{breakpoint:null==t||null==(e=t.appearance)?void 0:e.appBreakpoint,sizeMode:null==t||null==(n=t.appearance)?void 0:n.appSizeMode}}),(({breakpoint:e,sizeMode:i})=>{const r=kP(e,i);r!==n().transcriptSizeMode&&t((t=>Q(Q({},t),{},{transcriptSizeMode:r})))})),e((t=>{var e,n;return{outroDisplayed:null==t||null==(e=t.displayList)?void 0:e.outro,animationActive:null==t||null==(n=t.appearance)?void 0:n.rightContentAreaAnimating}}),(({outroDisplayed:t,animationActive:e})=>{t&&!e&&A()})),{timecodeDisplayed:m,searchTerms:T,setSearchTerms:C,resetSearchTerms:()=>C(CP.searchTerms),currentSearchResultIndex:b,setCurrentSearchResultIndex:y,settingsDisplayed:v,setSettingsDisplayed:_,selectedTrack:h,availableTracks:d,setSelectedTrack:t=>{const e=d.find((e=>e.id===t));i("selectedTrack",e),A(),o.fire(Mv,e)},selectedSettingsMenu:r,setSelectedSettingsMenu:p,searchResults:g,setSearchResults:w,toggleTimecodeDisplayed:()=>{var t;return i("timecodeDisplayed",!(null!=(t=n())&&t.timecodeDisplayed))},toggleSettingsDisplayed:()=>{var t;return _(!(null!=(t=n())&&t.settingsDisplayed))},transcriptDisabled:E,transcriptSizeMode:k,autoFollowEnabled:S,setAutoFollowEnabled:t=>i("autoFollowEnabled",t)}})),children:t})};function kP(t,e){const n=t===qy.XS||t===qy.XXS,i=e===Zm.MINI||e===Zm.TINY;return n||i?KA.SMALL:t===qy.XL||t===qy.XXL?KA.LARGE:KA.MEDIUM}const SP=({onClose:t})=>{const e=_m(W_.EXCLUDE_GLOBAL_BUTTON_STYLES,"ContentAreaCloseButton_module_closeContentAreaButton__22a1987e",UI),n="Close";let i=Yy.MD;const r=QO((t=>t.appearance.appBreakpoint)),o=QO((t=>t.displayList.rightContentArea));r!==qy.XL&&r!==qy.XXL||(i=Yy.CUSTOM);const{onClick:s,onKeyDown:a}=lm(t),u=zN(ZI,{onClick:s,onKeyDown:a,size:i,icon:zN(cI,{name:jN.CLOSE,focusable:"false"}),"aria-label":n,disabled:!o,color:Ky.CUSTOM,className:e});return Bt.touch?u:zN(xI,{tooltipContent:n,className:"ContentAreaCloseButton_module_tooltip__22a1987e",children:u})};const AP=({message:t,icon:e,componentType:n,children:i,onClose:r})=>zN("div",{className:"ContentAreaMessage_module_container__7df41131","data-component-type":n,children:[zN(SP,{onClose:r}),e||zN(cI,{name:jN.INFO_CIRCLE,className:"ContentAreaMessage_module_icon__7df41131"}),zN(jI,{size:Jy.MD,weight:tg.NORMAL,className:"ContentAreaMessage_module_messageText__7df41131",children:t}),i]}),NP=({onRetry:t})=>{const e=GN((t=>t.bigPicture)),n=TP((t=>t.selectedTrack)),i=QO((t=>t.setDisplayList)),r="Refresh",o=zN(cI,{name:jN.WARN_CIRCLE,className:"TranscriptError_lazy_module_icon__eeacf550"});return zN(AP,{message:"There was a problem loading the transcript.",onClose:()=>i("transcript",!1),componentType:"transcript-error",icon:o,children:zN(ZI,{className:"TranscriptError_lazy_module_refresh__eeacf550",color:Ky.PRIMARY,onClick:()=>{t(),e.sendEvent(qb.EMBEDDED_TRANSCRIPT_CLICK,{name:"click_refresh_error",copy:r,location:"player_embedded_transcript_error",element:"refresh_transcript_button",current_transcript_language:null==n?void 0:n.language})},"data-component-type":"retry-request",children:zN(jI,{size:Jy.MD,weight:tg.BOLD,color:eg.WHITE,children:r})})})};const MP=({style:t={}})=>{const e=TS(!0),n=QO((t=>t.displayList.transcript)),{module:i,load:o,readyState:s}=TN(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){return Promise.resolve().then((function(){return T$}))}))),a=null==i?void 0:i.Transcript,u=QO((t=>t.embed.transcript));return n&&e.current&&(o(),e.current=!1),!u||s!==gN.LOADED&&!n?null:zN("div",{style:t,className:_m(!n&&"TranscriptLoader_module_hidden__48b2f57a"),children:[s===gN.LOADING&&zN(iL,{}),s===gN.ERROR&&zN(NP,{onRetry:o}),s===gN.LOADED&&zN(a,{})]})};let OP;const IP=()=>{const t=QO((t=>t.playback.buffering)),e=QO((t=>t.chromecast.isChromecastBuffering)),n=QO((t=>t.chromecast.isChromecastConnected)),i=QO((t=>t.displayList.progressBar)),[r,o]=bS(!1);return t||e?OP=setTimeout((()=>{o(!0)}),600):(clearTimeout(OP),o(!1)),i&&zN(Bk,{children:[zN(nI,{visible:n||r,styleOverrides:{enterActive:{opacity:.4},enterDone:{opacity:.4},exit:{opacity:.4},exitDone:{display:"none"}},children:zN("div",{className:"BufferHandler_module_shade__a4e303c9","data-shade":!0})}),zN(nI,{visible:r,styleOverrides:{exitDone:{display:"none"}},children:zN(iL,{size:ng.LG})})]})};const LP=()=>{const t=QO((t=>t.captions.activeCues)),e=QO((t=>t.captions.language)),n=QO((t=>t.captions.direction)),i=QO((t=>t.displayList.captions)),r=QO((t=>t.displayList.controlBar)),o=QO((t=>t.displayList.progressBar)),s=QO((t=>t.appearance.fullscreen)),a=QO((t=>t.embed.rightContentAreaEnabled)),u=QO((t=>t.captions.fontSize)),l=QO((t=>t.captions.fontFamily)),c=QO((t=>t.captions.fontOpacity)),d=QO((t=>t.captions.color)),h=QO((t=>t.captions.bgColor)),f=QO((t=>t.captions.bgOpacity)),p=QO((t=>t.captions.windowOpacity)),v=QO((t=>t.captions.windowColor)),_=QO((t=>t.captions.edgeStyle)),m=QO((t=>t.appearance.videoHeight)),b=QO((t=>t.appearance.containerHeight)),y=GN((t=>t.embed.transparent));let g=null,w={};!s&&y||m<b-58&&(g=`translateY(-${(b-m)/2}px)`,w.transform=g);const T=_m("Captions_module_captions__0d35c569",!i&&"Captions_module_hide__0d35c569",r&&!g&&"Captions_module_withControls__0d35c569",!o&&"Captions_module_noPlaybar__0d35c569",s&&"Captions_module_fullscreen__0d35c569",a&&"Captions_module_contentAreaSibling__0d35c569");return zN(oL,{cues:t,language:e,direction:n,className:T,fontSize:u,fontFamily:l,fontOpacity:c,color:d,bgColor:h,bgOpacity:f,windowOpacity:p,windowColor:v,edgeStyle:_,height:m,style:w})};var RP="QoESurvey_module_selected__32b208ff";let xP;const PP=({containerRef:t})=>{const e=QO((t=>t.closeToast)),n=GN((t=>t.bigPicture)),[i,r]=bS(!1),[o,s]=bS(!1),[a,u]=bS(!1);gS((()=>{n.sendEvent(qb.VIEW_PLAYER_CSAT_V1),xP=setTimeout(e,1e4)}),[n,e]);const l="Good",c="Poor";return zN(Bk,{children:[zN(hL,{transitionTime:1e4,ariaLabelledby:Z_.QOE_SURVEY_TEXT}),zN(fL,{id:Z_.QOE_SURVEY_TEXT,children:"How's the viewing experience?"}),zN(lL,{className:`QoESurvey_module_thumbsUp__32b208ff ${i?RP:""}`,tooltipLabel:l,"aria-label":l,"aria-describedby":Z_.QOE_SURVEY_TEXT,icon:zN(cI,{name:i?jN.THUMBS_UP_FILLED:jN.THUMBS_UP}),onClick:()=>{i||o||a||(n.sendEvent(qb.SELECT_THUMBS_UP_PLAYER_CSAT_V1),r(!0),clearTimeout(xP),setTimeout(e,200))},containerRef:t}),zN(lL,{className:`QoESurvey_module_thumbsDown__32b208ff ${o?RP:""}`,tooltipLabel:c,"aria-label":c,"aria-describedby":Z_.QOE_SURVEY_TEXT,icon:zN(cI,{name:o?jN.THUMBS_DOWN_FILLED:jN.THUMBS_DOWN}),onClick:()=>{i||o||a||(n.sendEvent(qb.SELECT_THUMBS_DOWN_PLAYER_CSAT_V1),s(!0),clearTimeout(xP),setTimeout(e,200))},containerRef:t}),zN(aL,{}),zN(pL,{onClick:()=>{i||o||a||(n.sendEvent(qb.DISMISS_PLAYER_CSAT_V1),u(!0),clearTimeout(xP),e())},describedBy:Z_.QOE_SURVEY_TEXT,selected:a})]})},DP=()=>{const t=QO((t=>t.playback.liveEdgeTime)),e=QO((t=>t.setPlayback)),n=GN((t=>t.bigPicture));return zN(dL,{onClick:()=>{e("atLiveEdge",!0),e("currentTime",t),n.sendEvent(qb.SKIP_TO_LIVE_CLICK)},label:"Skip to live"})},BP=()=>{const t=QO((t=>t.closeToast));return zN(Bk,{children:[zN(fL,{id:Z_.BROADCAST_OVER,children:"The live broadcast is over"}),zN(aL,{}),zN(pL,{onClick:t,describedBy:Z_.BROADCAST_OVER})]})},$P=()=>{const t=QO((t=>t.closeToast));return gS((()=>{const e=setTimeout(t,3e3);return()=>{clearTimeout(e)}}),[t]),zN(Bk,{children:[zN(hL,{transitionTime:3e3,ariaLabelledby:Z_.FRAME_CAPTURED}),zN(fL,{id:Z_.FRAME_CAPTURED,children:"Screenshot copied to your clipboard!"}),zN(aL,{}),zN(pL,{onClick:t,describedBy:Z_.FRAME_CAPTURED})]})};let VP;const jP=()=>{const t=QO((t=>t.closeToast));return gS((()=>{VP=setTimeout(t,3e3)}),[t]),zN(Bk,{children:[zN(hL,{transitionTime:3e3,ariaLabelledby:Z_.CHANGE_LANGUAGES}),zN(fL,{id:Z_.CHANGE_LANGUAGES,children:"Change languages in Settings"}),zN(cI,{name:jN.GEAR,className:"ChangeLanguages_module_icon__43246952"}),zN(aL,{}),zN(pL,{onClick:()=>{t(),clearTimeout(VP)},describedBy:Z_.CHANGE_LANGUAGES})]})};const HP={[jO.QOE_SURVEY]:Z_.QOE_SURVEY_TEXT,[jO.BROADCAST_OVER]:Z_.BROADCAST_OVER},FP=()=>{const t=TS(null),e=QO((t=>t.toast.purpose)),n=QO((t=>t.appearance.fullscreen)),i=QO((t=>t.embed.flags.new_subtitles_ui)),r=QO((t=>t.setDisplayList)),o=HP[e],s="translateY("+(n&&Bt.iPadOS?"calc(36px + 16px)":"0")+")",a="translateY(calc(-100% - 16px))",u="transform 400 ease-in-out",l={enter:{transform:a,opacity:1},enterActive:{transition:u,transform:s},enterDone:{transform:s},exit:{transform:s},exitActive:{transition:u,transform:a,opacity:1},exitDone:{transform:a,display:"none"}};return zN(vL,{targetContent:e!==jO.EMPTY?e:null,onContentChange:t=>{r("toast",!!t)},delay:400,styleOverrides:l,children:e=>zN(sL,{className:"Toasts_module_toasts__25d07d44",ref:t,ariaLabelledby:o,children:[e===jO.QOE_SURVEY&&zN(PP,{containerRef:t}),e===jO.SKIP_TO_LIVE&&zN(DP,{}),e===jO.BROADCAST_OVER&&zN(BP,{}),e===jO.FRAME_CAPTURED&&zN($P,{}),i&&e===jO.CHANGE_LANGUAGES&&zN(jP,{})]})})};const UP=({text:t})=>zN("div",{className:"SpatialInstructions_module_instructions__4867d5d0",children:zN(jI,{size:Jy.MD,weight:tg.NORMAL,children:t})}),zP=()=>{const t=QO((t=>t.liveEvent.isLiveEvent))?"Unmute broadcast":"Unmute",{unmute:e}=SN();return zN(dL,{onClick:e,label:t})},XP=()=>{const t=QO((t=>t.setAppearance)),e=QO((t=>t.clearSegment)),n=QO((t=>t.playback.startTime)),i=QO((t=>t.playback.endTime)),r=GN((t=>t.bigPicture));return zN(dL,{onMouseEnter:()=>t("mousedOverControlBar",!0),onMouseLeave:()=>t("mousedOverControlBar",!1),onClick:()=>{r.sendEvent(qb.WATCH_FULL_VIDEO,{start_time:n,end_time:i}),e()},label:"Watch full video"})};const GP=Bt.android?"Look around":"Click and drag to look around",WP=Bt.android?"Look around":"Use arrow keys to see more",qP=()=>{const t=QO((t=>t.topCenterActionItem.purpose)),e=QO((t=>t.setDisplayList));return zN(vL,{targetContent:t!==RA.EMPTY?t:null,onContentChange:t=>{e("topCenterActionItem",!!t)},styleOverrides:{exitDone:{display:"none"}},children:t=>zN(sL,{className:"TopCenterActionItems_module_topCenterActionItems__2bfde47f",children:[t===RA.UNMUTE&&zN(zP,{}),t===RA.WATCH_FULL_VIDEO&&zN(XP,{}),t===RA.SPATIAL_INSTRUCTIONS_CLICK&&zN(UP,{text:GP}),t===RA.SPATIAL_INSTRUCTIONS_ARROWS&&zN(UP,{text:WP})]})})};const YP=({onReload:t})=>{const e=QO((t=>t.setDisplayList)),n=_m(W_.EXCLUDE_GLOBAL_BUTTON_STYLES,"AIWidgetError_module_reload__12d5a300");return zN(AP,{message:"Unable to load Vimeo AI",componentType:"ai-error",onClose:()=>e("aiWidget",!1),children:zN(ZI,{className:n,size:Yy.CUSTOM,onClick:t,"data-component-type":"reload-ai",children:zN(jI,{size:Jy.MD,weight:tg.BOLD,children:"Try again"})})})};const KP="Ask Vimeo AI",ZP=({style:t={}})=>{const e=QO((t=>t.displayList.aiWidget)),n=GN((t=>t.embed.vimeoUrl)),i=GN((t=>t.embed.videoId)),r=GN((t=>t.embed.onsite)),o=QO((t=>t.embed.videoUnlistedHash)),s=QO((t=>t.setDisplayList)),a=QO((t=>t.appearance.rightContentAreaAnimating)),u=QO((t=>t.embed.aiWidgetSignature)),l=GN((t=>t.bigPicture)),c=$N(e),[d,h]=bS(!1),f=_m("AIWidget_module_aiWidget__9bd9d0b8",!e&&"AIWidget_module_hidden__9bd9d0b8"),p={transparentBackground:!r};u&&(p.guestSignature=u);const v=Qt(`https://${n}/ai-player/${i}${o?`/${o}`:""}`,p),{componentVersion:_,hasError:m,componentTimeout:b,onError:y,onReload:g}=AN(),w=ES((()=>{l.sendEvent(qb.OPEN_AI_OPTIONS,{},{[Yb.WEB]:{page_name:"player"},[Yb.PRODUCT_ANALYTICS]:{copy:KP,feature:"ai",product:"ai",element:"icon"}})}),[l]);return gS((()=>{e&&(w(),d||h(!0))}),[e]),zN("div",Q(Q({className:f,style:t,"aria-label":"Ask Vimeo AI"},c),{},{children:[m&&zN(YP,{onReload:g}),!m&&d&&zN(TL,{id:K_.AI_WIDGET_ID,url:v,title:KP,onError:y,timeout:b,visible:e,onClose:()=>{s("aiWidget",!1)},isAnimating:a,waitForReady:!0},_)]}))},QP=()=>{const t=TS(!0),{module:e,load:n,readyState:i}=TN(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){return Promise.resolve().then((function(){return E$}))}))),o=null==e?void 0:e.Compass,s=QO((t=>t.playback.playInitiated)),a=QO((t=>t.embed.compass));return a&&s&&t.current&&(n(),t.current=!1),!a||i!==gN.LOADED&&!s?null:zN(o,{})};const JP=()=>{const t=QO((t=>t.embed.persistentLogo)),e=QO((t=>t.appearance.playerBreakpoint));return t&&zN("div",{className:"PersistentLogo_module_persistentLogo__e4ddb428",tabIndex:-1,"aria-hidden":"true","data-persistent-logo":!0,children:zN(EL,{playerBreakpoint:e})})};const tD=({children:t,shade:e,hideOnTiny:n})=>{const i=QO((t=>t.appearance.playerSizeMode));return zN("div",{className:_m("OutroContentWrapper_module_outroContent__1c499014",e&&"OutroContentWrapper_module_outroShade__1c499014",i===Zm.TINY&&n&&"OutroContentWrapper_module_hidden__1c499014"),children:t})};const eD=()=>{const t=QO((t=>t.outro.outroData));return zN(tD,{hideOnTiny:!0,shade:!0,children:zN("div",{className:"TextOutro_module_textWrapper__eb1c7bb7",children:t&&zN("div",{className:"TextOutro_module_text__eb1c7bb7",dangerouslySetInnerHTML:{uc:t.text}})})})};const nD=({url:t})=>{const e={};return t&&(e.backgroundImage=`url(${t})`),zN("div",{className:"OutroContentBackground_module_background__fad7b858",style:e})},iD=()=>{const t=QO((t=>t.outro.outroData));return t&&zN(Bk,{children:[zN(nD,{url:null==t?void 0:t.imageUrl}),zN(tD,{shade:!0,hideOnTiny:!0,children:zN(VL,{})})]})};const rD=()=>{const t=QO((t=>t.events)),e=QO((t=>t.outro.outroData)),n={};return null!=e&&e.imageUrl&&(n.backgroundImage=`url(${e.imageUrl})`),zN(Bk,{children:[zN(nI,{visible:!0,children:zN("div",{className:"LinkOutro_module_linkBackground__1d6e5c98",style:n})}),zN(tD,{shade:!0,children:zN("div",{className:"LinkOutro_module_linkWrapper__1d6e5c98",children:e&&zN(Bk,{children:[e.title&&zN("h1",{className:"LinkOutro_module_title__1d6e5c98",children:e.title}),e.description&&zN("p",{className:"LinkOutro_module_description__1d6e5c98",children:e.description}),e.text&&e.url&&zN("div",{className:"LinkOutro_module_buttonWrap__1d6e5c98",children:zN(oI,{href:e.url,className:"LinkOutro_module_button__1d6e5c98",onClick:()=>t.fire(tv,null==e?void 0:e.url),children:zN("span",{children:e.text})})}),e.text2&&e.url2&&zN(oI,{href:e.url2,className:"LinkOutro_module_link__1d6e5c98",onClick:()=>t.fire(Kp,null==e?void 0:e.url2),children:zN("span",{children:e.text2})})]})})})]})};const oD=()=>{const t=QO((t=>t.outro.outroData)),e=function(t){const e=QO((t=>t.events));return ES((function(){e.fire(Jp,t)}),[t,e])}(null==t?void 0:t.url);return t&&zN(tD,{children:null!=t&&t.url?zN(oI,{href:t.url,className:"ImageOutro_module_imageOutroLink__7a84ec40",onClick:e,targetBlank:!0,children:zN(sD,{url:t.imageUrl,altText:null==t?void 0:t.alt_text})}):zN(sD,{url:t.imageUrl,altText:null==t?void 0:t.alt_text})})};function sD({url:t,altText:e}){return zN("div",Q({role:"img",className:"ImageOutro_module_imageOutro__7a84ec40",style:{backgroundImage:`url(${t})`}},e?{ariaLabel:e}:{}))}const aD=()=>zN(Bk,{children:[zN(nD,{}),zN(tD,{shade:!0}),";"]});const uD=({videos:t})=>{const e=GN((t=>t.loadVideoViaIframe)),n=GN((t=>t.embed.onsite)),i=QO((t=>t.events)),r=QO((t=>t.user.isPayingOwner)),o=QO((t=>t.embed.svvContext)),s=t=>n=>{i.fire(Xp,t.id),r&&!o&&(n.preventDefault(),e(t.id,{autoplay:!0}))},a=_m("VideosList_module_videoLink__e7886b41",FI);return t.length&&zN("ul",{className:"VideosList_module_videosList__e7886b41","data-num-videos":t.length,children:t.map((t=>zN("li",{children:zN(oI,Q(Q({className:a,targetBlank:!n,href:t.url,onClick:s(t)},RI),{},{children:[zN(kL,{url:t.thumbnail,className:"VideosList_module_videoThumbnail__e7886b41"}),zN("header",{className:"VideosList_module_videoHeader__e7886b41",children:[zN(jI,{className:"VideosList_module_videoTitle__e7886b41",weight:tg.BOLD,element:"h1",size:Jy.MD,color:eg.WHITE,children:t.title}),t.byline&&zN(jI,{className:"VideosList_module_videoByline__e7886b41",element:"h2",children:t.byline})]})]}))},t.id)))})};var lD="FollowButton_module_icon__9a75dd35";const cD=()=>{const[t,e]=bS(!1),n=GN((t=>t.user.isClipOwner)),i=QO((t=>t.events)),r=QO((t=>t.user.following)),o=QO((t=>t.user.loggedIn)),s=QO((t=>t.user.persistUserAction));let a="Follow";const u=r&&t,l=r&&!t;u&&(a="Unfollow"),l&&(a="Following");const c=_m(lD,"FollowButton_module_check__9a75dd35"),d=_m(lD,"FollowButton_module_close__9a75dd35"),h=_m("FollowButton_module_followButton__9a75dd35",l&&"FollowButton_module_following__9a75dd35");return zN("div",{onMouseEnter:()=>r&&e(!0),onMouseLeave:()=>e(!1),className:"FollowButton_module_followButtonContainer__9a75dd35",children:zN(ZI,{className:h,onClick:()=>{if(o&&!n){if(i.fire(lp),r)return s(hM.FOLLOWING,"DELETE"),void i.fire(Qp);s(hM.FOLLOWING,"PUT"),i.fire(Zp)}},children:[!r&&zN(cI,{className:lD,name:jN.PLUS_SYMBOL}),l&&zN(cI,{className:c,name:jN.CHECKMARK}),u&&zN(cI,{className:d,name:jN.CLOSE}),zN("span",{className:"FollowButton_module_followButtonText__9a75dd35",children:a})]})})};const dD=({titleMarkup:t})=>{const e=GN((t=>!t.user.isClipOwner));return zN("div",{className:"VideosHeader_module_videosHeaderWrapper__82d8877c",children:zN("header",{className:"VideosHeader_module_videosHeader__82d8877c",children:[zN(jI,{className:"VideosHeader_module_videosTitle__82d8877c",size:Jy.LG,element:"h1",containsMarkup:!0,children:t}),e&&zN(cD,{})]})})};const hD=()=>{var t;const e=QO((t=>t.outro.outroData));return(null==e||null==(t=e.videos)?void 0:t.length)>0&&zN(Bk,{children:[zN(nD,{url:e.imageUrl}),zN(tD,{shade:!0,children:zN("div",{className:"VideosOutro_module_videosOutro__aa31a3f4",children:[zN(dD,{titleMarkup:e.context}),zN(uD,{videos:e.videos})]})})]})};function fD({children:t,url:e,onClick:n,type:i="purchase-item"}){const r=_m("VODButton_module_VODButton__3dccb3f8","watch"===i&&"VODButton_module_watch__3dccb3f8");return zN(oI,Q(Q({className:r,role:"button",href:e},lm(n)),{},{children:t}))}const pD=()=>{const t=QO((t=>t.vod.url)),e=QO((t=>t.setDisplayList)),n=QO((t=>t.vod.isPreorder)),i=(QO((t=>t.vod.releaseDate)),n?"Watch on {releaseDate}":"Watch Now"),r=AM();return zN(fD,{url:t,type:"watch",onClick:t=>{n||(t.preventDefault(),e("outro",!1),r(t))},children:i})},vD=()=>{const t=QO((t=>t.vod.isComingSoon)),e=QO((t=>t.vod.isPreorder)),n=QO((t=>t.vod.releaseDate));let i="Coming soon to Vimeo On Demand.";return t&&n&&(i="Coming soon to Vimeo On Demand on "+n+"."),e&&(i="Pre-order now. Watch on "+n+"."),zN("p",{children:i})};const _D=t=>{const e=function({type:t}){switch(t){case"buy":return jN.VOD_DOWNLOAD;case"rent":return jN.VOD_RENT;case"subscribe":return jN.VOD_SUBSCRIBE;default:return jN.VOD}}(t);return zN("div",{className:"VODIcon_module_VODIconContainer__f6dd6c94",children:zN(cI,{className:"VODIcon_module_VODIcon__f6dd6c94",name:e})})};const mD=({product_id:t,formattedLabel:e,type:n})=>{const i=QO((t=>t.vod.url)),r=AM(t);return zN("li",{className:"PurchaseOptionItem_module_purchaseOptionItem__9ee33594",children:zN(fD,{url:`${i}#buy=${t}`,onClick:t=>{t.preventDefault(),r(t)},children:[zN(_D,{type:n}),zN("p",{className:"PurchaseOptionItem_module_label__9ee33594",children:e})]})})};const bD=()=>zN("ul",{className:"PurchaseOptions_module_purchaseOptions__2aad36ed",children:QO((t=>t.vod.purchaseOptions)).map(((t,e)=>zN(mD,Q({},t),`${t.type}-${e}`)))}),yD=()=>{const t=QO((t=>t.vod.isComingSoon)),e=QO((t=>t.vod.isPreorder));return zN(Bk,{children:[!t&&zN(bD,{}),(e||t)&&zN(vD,{})]})};const gD=()=>{const t=QO((t=>t.vod.url)),e=QO((t=>t.vod.title)),n=QO((t=>t.vod.isAvailableInCountry)),i=QO((t=>t.vod.purchased)),r=QO((t=>t.outro.outroData));return r&&zN(Bk,{children:[(null==r?void 0:r.imageUrl)&&zN(nD,{url:null==r?void 0:r.imageUrl}),zN(tD,{shade:!0,children:zN("div",{className:"VODOutro_module_VODOutroContainer__e53bfe58",children:[zN("h1",{"aria-describedby":"new-window",className:"VODOutro_module_VODHeader__e53bfe58",children:zN(oI,{href:t,children:e})}),n&&zN(i?pD:yD,{})]})})]})},wD=()=>{const t=QO((t=>t.displayList.outro)),e=QO((t=>t.outro.active)),n=QO((t=>t.outro.purpose)),i=_m("Outro_module_outroWrapper__552ef1cd",G_.VP_OUTRO_WRAPPER,!e&&"Outro_module_inactive__552ef1cd");return zN(nI,{visible:t,styleOverrides:{exitDone:{display:"none"}},children:zN("div",{className:i,"data-content-area-sibling-eligible":!0,children:zN("div",{className:"Outro_module_outro__552ef1cd",role:"dialog",children:[n===FA.TEXT&&zN(eD,{}),n===FA.SHARE&&zN(iD,{}),n===FA.VIDEOS&&zN(hD,{}),n===FA.LINK&&zN(rD,{}),n===FA.IMAGE&&zN(oD,{}),n===FA.NOTHING&&zN(aD,{}),n===FA.VOD&&zN(gD,{})]})})})};const TD=({text:t})=>zN("h3",{children:[zN(cI,{name:jN.WARN_TRIANGLE,className:"Warning_module_warningIcon__d2643ae4"}),zN("span",{dangerouslySetInnerHTML:{uc:t}})]});function CD(){const t=`See a <a href="https://help.vimeo.com/hc/en-us/articles/12425909164561-Watch-360-videos#h_01FRKB6NKKXE9WTVX8P5C64D69" target="_blank" rel="noopener" aria-describedby="${q_.NEW_WINDOW_DESCRIPTION}">list of browsers</a> that support 360 viewing.`;return zN(TD,{text:t})}function ED(){const t=`Looking to watch a 360 video? See <a href="https://help.vimeo.com/hc/en-us/articles/12425909164561-Watch-360-videos#h_01FRKB6NKKXE9WTVX8P5C64D69" target="_blank" rel="noopener" aria-describedby="${q_.NEW_WINDOW_DESCRIPTION}">supported browsers and settings</a>.`;return zN(TD,{text:t})}const kD=({visible:t,children:e,duration:n,onComplete:i})=>zN(US,{in:t,duration:n,styles:{enter:{transform:"translateY(-100%)",transition:`transform ${n}ms linear, opacity ${n}ms`,opacity:0},enterActive:{opacity:1,transition:`transform ${n}ms cubic-bezier(0, 1.14, 0.57, 1.21), opacity ${n}ms`,transform:"translateY(0)",animationName:"bounce",animationDelay:n,animationDuration:"0.5s",animationFillMode:"forwards"},enterDone:{opacity:1,transform:"translateY(0)"},exit:{opacity:1,transform:"translateY(0)"},exitActive:{animationFillMode:"none",opacity:0,transform:"translateY(-100%)",transition:`transform ${2*n}ms linear, opacity ${2*n}ms linear`},exitDone:{display:"none"}},onExited:i,children:e}),SD=()=>{const t=QO((t=>t.displayList.alert)),e=TS(null),n=QO((t=>t.setAlert)),i=QO((t=>t.setDisplayList)),r=QO((t=>t.alert.currentAlert)),o=ES((()=>i("alert",!1)),[i]),s=ES((()=>n("currentAlert",GA.EMPTY)),[n]);return gS((function(){t&&(clearTimeout(e.current),e.current=setTimeout(o,1e3))}),[t,r]),zN(kD,{visible:t,duration:100,onComplete:s,children:zN("div",{className:"Alert_module_alert__bde6a4f3",role:"alert",hidden:!t,children:[zN(ZI,{onClick:o,icon:zN(cI,{name:jN.CLOSE,className:"Alert_module_closeIcon__bde6a4f3"}),"aria-label":"Close alert",className:"Alert_module_close__bde6a4f3"}),r===GA.SPATIAL_UNSUPPORTED&&zN(CD,{}),r===GA.SPATIAL_FAILURE&&zN(ED,{})]})})};const AD="opacity 250ms ease-out",ND={enter:{opacity:0},enterActive:{opacity:1,transition:AD},enterDone:{opacity:1},exit:{opacity:1},exitActive:{opacity:0,transition:AD},exitDone:{display:"none"}},MD=Object.values(_L),OD=()=>{const t=GN((t=>t.element)),e=GN((t=>t.accessGate.purpose)),n=GN((t=>t.accessGate.url)),i=GN((t=>t.accessGate.title)),o=GN((t=>t.accessGate.accessGateReady)),s=GN((t=>t.accessGate.accessGateLoaded)),a=GN((t=>t.accessGate.closeAccessGate)),u=GN((t=>t.accessGate.setAccessGateReady)),l=GN((t=>t.accessGate.setAccessGateLoaded)),c=GN((t=>t.accessGate.sendGateBPEvent)),d=GN((t=>t.bigPicture)),[h,f]=bS(!1),[p,v]=bS(!1),_=e!==My.EMPTY,m=h&&p&&_,b=h&&_&&!s,y=m&&o,g=_m(W_.REMOTE_ACCESS_GATE,"RemoteAccessGate_module_accessGate__82178468",b&&"RemoteAccessGate_module_waitingToDisplay__82178468",y&&"RemoteAccessGate_module_visible__82178468"),{componentVersion:w,hasError:T,componentTimeout:C,onError:E,onReload:k}=AN();return gS((()=>{f(!0)}),[]),gS((()=>{const e=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}((function(){return function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(Ht(t),(function(){v(!0)}))}));p||e()}),[p,t]),zN(US,{in:m,styles:ND,duration:250,children:zN("div",{className:"RemoteAccessGate_module_accessGateWrapper__82178468",children:[T&&zN(ID,{onReload:k}),!T&&m&&zN(gL,{visible:y,id:e,url:n,title:i,className:g,timeout:C,bigPicture:d,waitForReady:!0,onClose:a,onError:t=>{MD.includes(null==t?void 0:t.message)&&E(),c(Iy.ERROR,t)},onRemoteComponentReady:u,onIframeLoad:l},w)]})})};const ID=({onReload:t})=>{const e=_m(W_.EXCLUDE_GLOBAL_BUTTON_STYLES,"RemoteAccessGateError_module_reload__765f151c");return zN("div",{className:"RemoteAccessGateError_module_container__765f151c","data-component-type":"access-gate",children:[zN(cI,{name:jN.INFO_CIRCLE,className:"RemoteAccessGateError_module_icon__765f151c","aria-hidden":"true"}),zN(jI,{size:Jy.LG,weight:tg.NORMAL,className:"RemoteAccessGateError_module_messageText__765f151c",role:"alert",children:"Unable to load registration form"}),zN(ZI,{className:e,size:Yy.CUSTOM,onClick:t,"data-component-type":"reload-access-gate",children:zN(jI,{size:Jy.MD,weight:tg.BOLD,children:"Try again"})})]})};const LD=()=>{const t=GN((t=>t.login.status)),e=GN((t=>t.embed.videoId)),n=GN((t=>t.embed.vimeoUrl)),{loginText:i,buttonTarget:r}=((t=$y.NOT_LOGGED_IN)=>{const e={loginText:$b()?{title:"Sign in to Vimeo to watch this video",subtitle:"You may need to allow cookies first. If asked, select <b>Allow</b> to continue.",buttonText:"Sign in"}:{title:"Sign in to Vimeo",subtitle:"This video is private. Sign in to watch.",buttonText:"Sign in"},buttonTarget:F_.POPUP};switch(t){case $y.LOGGED_IN_NO_ACCESS:e.loginText={title:"Private Video",subtitle:"Sorry, you don’t have permission to watch.",buttonText:null};break;case $y.LOGGED_IN_STORAGE_ACCESS_REQUIRED:e.loginText={title:"Allow cookies",subtitle:"Your browser will ask if you want to allow cookies. Select <b>Allow</b> to continue.",buttonText:"Continue"};break;case $y.STORAGE_ACCESS_GRANTED_LOGIN_UNCONFIRMED:e.loginText={title:"Continue to sign in",subtitle:"You may now sign in to watch this video.",buttonText:"Continue"};break;case $y.ALL_ACCESS_ATTEMPTS_FAILED:e.loginText={title:"Video unavailable",subtitle:"Try watching on vimeo.com.",buttonText:"Watch on Vimeo"},e.buttonTarget=F_.ON_SITE}return e})(t),{loginHandler:o}=(()=>{const t=GN((t=>t.events)),e=GN((t=>t.embed.videoId)),n=TS(null),{openLoginPopup:i}=CM({url:`/video/${e}/login/private`,context:Vy.PRIVATE_LOCKED});return gS((()=>{n.current=function({events:t,dependencies:e=jy}){const n={onLoginRequested:function(e){l=e,!i()||s?(c(),d()):(a++,r(c).then((e=>e?(s=!0,o||d(),void t.fire(Np,Vy.PRIVATE)):void(v(1)?f($y.ALL_ACCESS_ATTEMPTS_FAILED):d()))).catch((t=>{})))}},{storageAccessRequired:i,requestCookieAccess:r}=e;let o=!1,s=!1,a=0,u=0,l=qm;function c(){o=!0,l()}function d(){t.once(Ip,h)}function h(){u++;const t=p();v()?f($y.ALL_ACCESS_ATTEMPTS_FAILED):f(!t&&o?$y.LOGGED_IN_STORAGE_ACCESS_REQUIRED:$y.STORAGE_ACCESS_GRANTED_LOGIN_UNCONFIRMED)}function f(e){t.fire(Yv,e)}function p(){return a>=2}function v(t=2){const e=!i()&&o&&u>0,n=u>=t,r=p();return n&&r||e}return n}({events:t})}),[t]),{loginHandler:()=>{n.current&&n.current.onLoginRequested(i)}}})(),s=t===$y.STORAGE_ACCESS_GRANTED_LOGIN_UNCONFIRMED||t===$y.ALL_ACCESS_ATTEMPTS_FAILED;return zN("div",{className:"PrivateGate_module_privateGateWrapper__19e4c72e","data-private-gate":!0,children:[zN(jI,{element:"h1",className:"PrivateGate_module_header__19e4c72e",children:i.title}),zN(jI,{className:"PrivateGate_module_subtitle__19e4c72e",weight:tg.NORMAL,containsMarkup:!0,"data-private-text":!0,children:i.subtitle}),t!==$y.LOGGED_IN_NO_ACCESS&&zN(ZI,{role:s?"link":void 0,color:Ky.PRIMARY,className:_m("PrivateGate_module_login__19e4c72e","PrivateGate_module_loginButton__19e4c72e",UI),"aria-describedby":s?q_.NEW_WINDOW_DESCRIPTION:void 0,onClick:()=>{if(r===F_.POPUP)return void o();const t=`https://${n}/${e}`;window.open(t,"_blank")},children:i.buttonText})]})};function RD(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}const xD=BD((function(t,e){const n=new URLSearchParams({password:window.btoa(e_(t))}),i=Qt(e,Zt(window.location.search));return RD(Ne(i,{method:"post",body:n.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include"}),(function(t){return RD(t.json(),(function(e){if(!t.ok||!1===e)throw new Error("Password submission failed");return e}))}))}));function PD(){}function DD(t){var e=t();if(e&&e.then)return e.then(PD)}function BD(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}const $D=()=>{const t=GN((t=>t.events)),e=GN((t=>t.embed.playerUrl)),n=GN((t=>t.embed.referrer)),i=GN((t=>t.embed.videoId)),r=TS(null),o=TS(null),s=TS(null),[a,u]=bS(!1),[l,c]=bS("There is an error with this input."),[d,h]=bS(!1),f=`https://${e}/video/${i}/check-password?referrer=${n}`,p="Enter password",v=_m("PasswordGate_module_submitPassword__34c044bd",d&&"PasswordGate_module_loading__34c044bd"),_=()=>{const t=s.current;t.focus(),h(!1),u(!0),t.value.length?c("The password you entered is incorrect. Please try again."):c("Please enter the password.")},m=BD((function(e){return e.preventDefault(),c(""),u(!1),DD((function(){if(s.current.checkValidity())return h(!0),DD((function(){if(s.current.checkValidity())return function(t){if(t&&t.then)return t.then(PD)}(function(e,n){try{var i=RD(xD(s.current.value,f),(function(e){e&&t.fire(xp,e)}))}catch(t){return n()}return i&&i.then?i.then(void 0,n):i}(0,(function(){_()})))}));_()}))}));return zN("div",{className:"PasswordGate_module_passwordGateWrapper__34c044bd","data-password-gate":!0,children:[zN(jI,{className:"PasswordGate_module_header__34c044bd",element:"h1",children:"Password required"}),zN(jI,{className:"PasswordGate_module_subtitle__34c044bd",weight:tg.NORMAL,containsMarkup:!0,"data-private-text":!0,children:"If you have access, enter the password to watch."}),zN("form",{className:"PasswordGate_module_form__34c044bd",ref:r,noValidate:!0,onSubmit:m,children:[zN(HL,{message:l,visible:a,wrapperEl:s.current}),zN("input",{className:"PasswordGate_module_passwordInput__34c044bd",placeholder:p,required:!0,"aria-required":"true","aria-label":p,"aria-invalid":a?"true":"false",ref:s,onInput:()=>u(!1),minLength:1,type:"password"}),zN(ZI,{className:v,onClick:m,ref:o,disabled:a,focusable:!1,"data-submit-password":!0,children:"Submit"})]})]})};const VD=()=>zN("div",{className:"GeoBlockingGate_module_geoblockingGateWrapper__075a0430","data-geo-blocking-gate":!0,children:zN(jI,{className:"GeoBlockingGate_module_header__075a0430",element:"h1",weight:tg.BOLD,children:"This video is not available in your region"})});const jD=()=>{const t=GN((t=>t.user.isClipOwner)),e={header:t?"Account is over the DRM limit":"Video is currently unavailable",message:"Contact the Vimeo sales team to add more licenses, or turn off DRM. Until then, viewers will see this video listed as unavailable."};return zN("div",{className:"DRMPlaybackUnavailableGate_module_wrapper__9e5b96d5","data-drm-playback-unavailable-gate":!0,children:[zN(jI,{className:"DRMPlaybackUnavailableGate_module_header__9e5b96d5",element:"h1",weight:tg.BOLD,children:e.header}),t&&zN(jI,{className:"DRMPlaybackUnavailableGate_module_message__9e5b96d5",weight:tg.NORMAL,children:e.message})]})},HD=()=>{const t=GN((t=>t.localAccessGate.purpose));return t!==QN.EMPTY&&zN("div",{className:"LocalAccessGate_module_localAccessGateWrapper__28aa198a",children:[t===QN.GEO_BLOCKED&&zN(VD,{}),t===QN.DRM_PLAYBACK_UNAVAILABLE&&zN(jD,{}),t===QN.PASSWORD&&zN($D,{}),t===QN.PRIVATE_LOCKED&&zN(LD,{}),t===QN.ERROR&&zN(UL,{})]})};function FD(){const t=QO((t=>t.setInteractive)),e=QO((t=>t.interactive.instanceId)),n=QO((t=>t.interactive.active)),i=QO((t=>t.interactive.enabled)),r=_m("VimeoInteractive_module_container__211f1fff",n&&"VimeoInteractive_module_active__211f1fff");return i?e?zN("div",{children:zN("div",{id:e,className:r},e)}):(t("instanceId",`vp-vimeo-interactive-instance-${Math.random().toString(36).substring(2)}`),null):null}const UD=()=>zN("div",{className:"DefaultVideoThumbnail_module_defaultVideoThumbnail__1992ba48",children:zN(cI,{name:jN.CAMERA,className:"DefaultVideoThumbnail_module_icon__1992ba48"})}),zD=()=>{const t=GN((t=>t.videoThumbnail.isDisplayed)),e=GN((t=>t.videoThumbnail.thumbnailUrl)),n=GN((t=>t.videoThumbnail.shouldCoverBackground)),i={backgroundImage:`url(${e})`},r=_m(X_.VP_PREVIEW,"VideoThumbnail_module_videoThumbnail__d1b35579",n&&"VideoThumbnail_module_cover__d1b35579");return t?e?zN("div",{className:r,style:i,"data-thumb":e}):zN(UD,{}):null},XD=()=>zN("span",{id:q_.NEW_WINDOW_DESCRIPTION,hidden:!0,children:"(opens a new window)"});var GD="LiveStatusAlerts_module_schedule__cf2b4eb9";const WD=()=>{const t=QO((t=>t.liveEvent.isLiveEvent)),e=QO((t=>t.liveEvent.isOnline)),n=QO((t=>t.liveEvent.liveEventSchedule)),i=QO((t=>t.liveEvent.isPending)),r=QO((t=>t.liveEvent.isActive)),o=QO((t=>t.liveEvent.isEnded)),s=QO((t=>t.liveEvent.isArchived)),a=QO((t=>t.liveEvent.dvrEnabled)),u=QO((t=>t.liveEvent.showEventSchedule)),l=QO((t=>t.playback.currentTime)),c=QO((t=>t.playback.atLiveEdge)),d=QO((t=>t.config.request.lang)),h=QO((t=>t.element)),[f,p]=bS(null),[v,_]=bS(null),[m,b]=bS(new Date),y=TS(null),g=CS((()=>new Date(n)),[n]),w=o&&a&&0!==l||!1===e&&!c,T=null===e,C=o&&!w&&!s,E=!1===e&&!w;return gS((()=>(T&&u?(i||r)&&n?sg(g,m)>0?(p("time"),_(function(t,e,n=new Date){const i=sg(e),r=Math.ceil(i/1e3).toFixed(0),o=Math.ceil(i/6e4).toFixed(0),s=Math.ceil(i/36e5).toFixed(0),a=Math.ceil(i/864e5).toFixed(0),u=n.toDateString()===e.toDateString();if(parseInt(a,10)>1||!u)return("This event is scheduled for\n"+new Intl.DateTimeFormat(t,{month:"long",day:"numeric"}).format(e)+"\nat "+new Intl.DateTimeFormat(t,{hour:"2-digit",minute:"2-digit"}).format(e)).split("\n");if(parseInt(s,10)>1&&u)return("This event is scheduled for\nToday\nat "+new Intl.DateTimeFormat(t,{hour:"numeric",minute:"numeric"}).format(e)).split("\n");let l;const c=parseInt(o,10)>1;return l=c?"minutes":parseInt(r,10)>1?"seconds":"second",("This event will start in\n"+(c?o:r)+" "+l).split("\n")}(d,g,m)),y.current=setInterval((()=>{b(new Date)}),1e3)):(p("text"),_("This event hasn't started yet")):(i||r)&&(p("text"),_("This event hasn't started yet")):C?(p("text"),_("Live event ended")):E?(p("text"),_("Live stream offline")):(p(null),_(null)),()=>{y.current&&(clearInterval(y.current),y.current=null)})),[i,r,o,s,e,w,n,d,g,m,T,u,C,E]),t&&f&&v&&sA(zN("div",{className:"LiveStatusAlerts_module_eventTextWrapper__cf2b4eb9","data-live-status-alerts":!0,children:["text"===f&&zN("span",{className:GD,children:v}),"time"===f&&zN("div",{className:GD,"data-live-event-schedule":!0,children:[zN("span",{className:"LiveStatusAlerts_module_scheduleTitle__cf2b4eb9",children:v[0]}),zN("span",{className:"LiveStatusAlerts_module_scheduleBody__cf2b4eb9",children:v[1]}),zN("span",{className:"LiveStatusAlerts_module_scheduleFooter__cf2b4eb9",children:v[2]})]})]}),h)};const qD=()=>{const t=QO((t=>t.chromecast.isChromecastConnected)),e=QO((t=>t.chromecast.receiverFriendlyName)),n=QO((t=>t.playback.ended));return t&&!n&&zN("div",{className:"ChromecastText_module_wrapper__5708223b",children:zN("span",{className:"ChromecastText_module_text__5708223b",children:`Casting on ${e}`})})};function YD(t,e){const n=e.querySelector(`.${X_.VP_PLAYER_UI_CONTAINER}`),i=e.querySelector(`.${X_.VP_PLAYER_UI_OVERLAYS}`),r=e.querySelector(`.${X_.VP_VIDEO_WRAPPER}`);iS(zN(WN,{player:t,children:[zN(vP,{}),zN(OD,{}),zN(HD,{}),zN(Yx,{element:r,children:zN(zD,{})}),zN(tI,{player:t,children:[zN(Xx,{}),zN(iP,{}),zN(Yx,{element:i,children:[zN(qP,{}),zN(FP,{}),zN(rP,{}),zN(bR,{}),zN(sR,{}),zN(vR,{}),zN(wR,{}),zN(Ux,{}),zN(nP,{}),zN(Px,{}),zN(qx,{}),zN(IP,{}),zN(LP,{}),zN(QP,{}),zN(wD,{}),zN(SD,{}),zN(FD,{}),zN(qD,{})]}),zN(WD,{}),zN(JP,{}),zN(mP,{}),zN(_P,{})]}),zN(XD,{})]}),n)}const KD=x("CONFIG_CHANGED"),ZD=x("TELECINE_READY"),QD=x("TELECINE_VIDEO_INIT"),JD=x("PLAY_INITIATED"),tB=x("QUALITY_CHANGED"),eB=x("CUE_CHANGED"),nB=x("CAPTIONS_CHANGED"),iB=x("SPATIAL_PLAYBACK_TOGGLED"),rB=x("PICTURE_IN_PICTURE_AVAILABLE_SAFARI"),oB=x("HLS_QUALITY_CHANGED"),sB=x("REQUEST_COMPLETE_LIVE_SUBTITLES"),aB=x("COMPLETE_LIVE_SUBTITLES_LOADED"),uB=x("COMPLETE_LIVE_SUBTITLES_ERROR");var lB=Object.freeze({__proto__:null,CONFIG_CHANGED:KD,TELECINE_READY:ZD,TELECINE_VIDEO_INIT:QD,PLAY_INITIATED:JD,QUALITY_CHANGED:tB,CUE_CHANGED:eB,CAPTIONS_CHANGED:nB,SPATIAL_PLAYBACK_TOGGLED:iB,PICTURE_IN_PICTURE_AVAILABLE_SAFARI:rB,HLS_QUALITY_CHANGED:oB,REQUEST_COMPLETE_LIVE_SUBTITLES:sB,COMPLETE_LIVE_SUBTITLES_LOADED:aB,COMPLETE_LIVE_SUBTITLES_ERROR:uB});const cB=x("liveeventpending"),dB=x("liveeventactive"),hB=x("liveeventstarting"),fB=x("liveeventstarted"),pB=x("liveeventended"),vB=x("livearchivestarted"),_B=x("livearchivedone"),mB=x("livearchiveerror"),bB=x("livesettingsupdated"),yB=x("lowlatencyfallback"),gB=x("livestatssuccess"),wB=x("livestatsfailure");var TB=Object.freeze({__proto__:null,EVENT_PENDING:cB,EVENT_ACTIVE:dB,EVENT_STARTING:hB,EVENT_STARTED:fB,EVENT_ENDED:pB,ARCHIVE_STARTED:vB,ARCHIVE_DONE:_B,ARCHIVE_ERROR:mB,SETTINGS_UPDATED:bB,LOW_LATENCY_FALLBACK:yB,LIVE_STATS_SUCCESS:gB,LIVE_STATS_FAILURE:wB});Q(Q(Q(Q(Q(Q(Q(Q({},fo),mo),bo),TB),yo),vo),go),lB),Q(Q({},bo),TB);let CB=function(){function t(){}return t.init=function(t){this.configurePictureInPicture(t.config,t.backbone),t.backbone.on(KD,((e,n)=>{this.getPipSetting(n)!==this.getPipSetting(e)&&this.configurePictureInPicture(e,t.backbone)}))},t.getPipSetting=function(t){var e;return null==(e=t.embed)||null==(e=e.settings)?void 0:e.pip},t.configurePictureInPicture=function(t,e){var n,i;e.disablePictureInPicture=!((null==(n=t.embed)||null==(n=n.settings)?void 0:n.pip)??1),e.autoPictureInPicture=!!((null==(i=t.embed)||null==(i=i.settings)?void 0:i.auto_pip)??1)},t}(),EB=function(t){CB.init(t)};const kB=`\n    <div class="${W_.CONTENT_AREA_BACKGROUND_CONTAINER}" aria-hidden="true"></div>\n        <div class="${X_.VP_VIDEO_WRAPPER}" ${im.CONTENT_AREA_SIBLING_ELIGIBLE} aria-hidden="true">\n            <div class="${X_.VP_VIDEO}">\n                <div class="${X_.VP_TELECINE}"></div>\n            </div>\n        </div>\n        <div class="${X_.VP_TARGET}" ${im.CONTENT_AREA_SIBLING_ELIGIBLE}></div>\n        <div class="${X_.VP_PLAYER_UI_CONTAINER}" ${im.CONTENT_AREA_SIBLING_ELIGIBLE}></div>\n        <div class="${X_.VP_PLAYER_UI_OVERLAYS}" ${im.CONTENT_AREA_SIBLING_ELIGIBLE}></div>\n    </div>\n`;var SB=new ei,AB=new ei,NB=new ei,MB=new ei,OB=new ei;let IB=function(){function t(t){var e;H(this,SB,void 0),H(this,AB,void 0),H(this,NB,void 0),H(this,MB,void 0),H(this,OB,void 0),F(SB,this,t),F(AB,this,{}),F(NB,this,0!==(null==(e=t.config)||null==(e=e.embed)||null==(e=e.settings)?void 0:e.skipping_forward)),F(MB,this,!0),F(OB,this,{timeStamp:null,videoTime:null,timeElapsed:0,playbackElapsed:0}),this.Ll=this.Ll.bind(this),this.pu=this.pu.bind(this),this.Ec()}var e=t.prototype;return e.Ec=function(){j(SB,this).events.on(fo.TIME_UPDATE,this.Ll),j(SB,this).events.on(Lp,this.pu)},e.Ll=function(){this.kc();const t=j(SB,this).currentTime;if(!j(MB,this)&&!this.canPlayNow)return j(SB,this).events.fire(xf),void(!this.canPlayToTime(t-1)&&this.Sc());if(this.canSeekForward)return void(this.maxPlayedTime=t);if(j(SB,this).backbone.seeking)return;const e=hd(j(OB,this).timeElapsed,0,1)+1;yc(t)>yc(this.maxPlayedTime+e)?this.Sc():this.maxPlayedTime=t},e.Sc=function(){try{Dw.isCastConnected&&(Dw.chromecastPlayer.currentTime=this.maxPlayedTime),j(SB,this).backbone.currentTime=this.maxPlayedTime}catch(t){}},e.pu=function(t,e){var n;t&&(F(AB,this,{}),F(MB,this,!0)),F(NB,this,0!==(null==e||null==(n=e.embed)||null==(n=n.settings)?void 0:n.skipping_forward))},e.kc=function(){const t=performance.now()/1e3,e=j(SB,this).currentTime,n=t-(j(OB,this).timeStamp??t),i=e-(j(OB,this).videoTime??e);Object.assign(j(OB,this),{timeStamp:t,videoTime:e,timeElapsed:n,playbackElapsed:i})},e.Ac=function(t){const e=t.startTime;return void 0===j(AB,this)[e]&&(j(AB,this)[e]=e),j(AB,this)[e]},e.Nc=function(t){const e=j(SB,this).fragmentsHandler.getFragmentFromTime(t),n=this.Ac(e);return Math.min(t,n)},e.getAllowedPlayTime=function(t){return this.canPlayForward?t:this.Nc(t)},e.getAllowedSeekTime=function(t){return this.canSeekForward?t:this.Nc(t)},e.canPlayToTime=function(t){return this.getAllowedPlayTime(t)>=t},e.canSeekToTime=function(t){return this.getAllowedSeekTime(t)>=t},e.lockPlayback=function(){F(MB,this,!1),j(SB,this).events.fire(Zv),this.canPlayNow||j(SB,this).events.fire(xf)},e.unlockPlayback=function(){const t=!j(MB,this)&&!this.canPlayToTime(j(SB,this).currentTime+1);F(MB,this,!0),j(SB,this).events.fire(Qv),t&&j(SB,this).events.fire(Pf)},X(t,[{key:"maxPlayedTime",get:function(){const t=j(SB,this).fragmentsHandler.getFragmentFromTime(j(SB,this).currentTime);return this.Ac(t)},set:function(t){const e=j(SB,this).fragmentsHandler.getFragmentFromTime(t),n=this.Ac(e);t=Math.max(t,n),j(AB,this)[e.startTime]=t}},{key:"canSeekForward",get:function(){return j(MB,this)&&j(NB,this)}},{key:"canSeekNow",get:function(){return!!this.canSeekForward||this.canSeekToTime(j(SB,this).currentTime)}},{key:"canPlayNow",get:function(){return!!this.canPlayForward||this.canPlayToTime(j(SB,this).currentTime)}},{key:"canPlayForward",get:function(){return j(MB,this)}}])}();function LB(t,e,n){return n?e?e(t):t:(t&&t.then||(t=r.resolve(t)),e?t.then(e):t)}function RB(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.resolve(t.apply(this,e))}catch(t){return r.reject(t)}}}function xB(){}function PB({element:t,delegate:e={},cssLoadedPromise:n=r.resolve(null),name:i=null}){const o=RB((function(t){const e=t.abTests.some((t=>"hls_js_live"===t.test&&"variant"===t.group));return function(){var t=function(){if(e)return function(t,e){return function(t,e,n){if(n)return e?e(t()):t();try{var i=r.resolve(t());return e?i.then(e):i}catch(t){return r.reject(t)}}(t,xB,e)}(Ql)}();if(t&&t.then)return t.then(xB)}()})),s=RB((function(e){return function(t){ug.forEach((e=>{const n=e(t.config);n&&t.addABTest(n)}))}(e),LB(o(e),(function(){R=new IB(e),L=Qg(e),Y(),function(e){T=new nw(e),w=new vh(f,d.config,e.abTests),m=w;const n=e.config.embed.settings.debug_payload_collection_policy;N=new YE(e,n),new nT(e,u,t.querySelector(`.${X_.VP_VIDEO_WRAPPER}`)),Z(e),e.doNotTrackEnabled||(new PC(e,u),x.init(e),new pT(e),new yE(e),new bg(e),function(t){function e(e){return function({value:n}){Tk[e]||(Tk[e]=!0,function(e,n){t.bigPicture.sendEvent(qb.PLAYER_PERFORMANCE_MEASUREMENT,{measurement_type:e,measurement_value:n})}(e,n))}}Math.random()<=wk&&(function(t,e){var n,i=lk(),r=ek("FID"),o=function(t){t.startTime<i.firstHiddenTime&&(r.value=t.processingStart-t.startTime,r.entries.push(t),n(!0))},s=nk("first-input",o);n=ok(t,r,e),s&&ik((function(){s.takeRecords().map(o),s.disconnect()}),!0),s&&rk((function(){var i;r=ek("FID"),n=ok(t,r,e),tk=[],QE=-1,ZE=null,bk(addEventListener),i=o,tk.push(i),_k()}))}(e(gk.FIRST_INPUT_DELAY)),function(t,e){dk||(ck((function(t){hk=t.value})),dk=!0);var n,i=function(e){hk>-1&&t(e)},r=ek("CLS",0),o=0,s=[],a=function(t){if(!t.hadRecentInput){var e=s[0],i=s[s.length-1];o&&t.startTime-i.startTime<1e3&&t.startTime-e.startTime<5e3?(o+=t.value,s.push(t)):(o=t.value,s=[t]),o>r.value&&(r.value=o,r.entries=s,n())}},u=nk("layout-shift",a);u&&(n=ok(i,r,e),ik((function(){u.takeRecords().map(a),n(!0)})),rk((function(){o=0,hk=-1,r=ek("CLS",0),n=ok(i,r,e)})))}(e(gk.CUMULATIVE_LAYOUT_SHIFT)),function(t,e){var n,i=lk(),r=ek("LCP"),o=function(t){var e=t.startTime;e<i.firstHiddenTime&&(r.value=e,r.entries.push(t),n())},s=nk("largest-contentful-paint",o);if(s){n=ok(t,r,e);var a=function(){yk[r.id]||(s.takeRecords().map(o),s.disconnect(),yk[r.id]=!0,n(!0))};["keydown","click"].forEach((function(t){addEventListener(t,a,{once:!0,capture:!0})})),ik(a,!0),rk((function(i){r=ek("LCP"),n=ok(t,r,e),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,yk[r.id]=!0,n(!0)}))}))}))}}(e(gk.LARGEST_CONTENTFUL_PAINT)))}(e)),E=new Sw(e),function(t){if(!Db(t.config)||!t.config.embed.settings.chromecast)return;const e=new Lw({core:t});Dw.init({chromecastPlayer:e}),Dw.on([Iw.error,Iw.mediaLoadedFailed],(t=>{Cg.captureException(t)}))}(e),K(e)}(e),new EB(e)}))}));$d(Cg);let a=!1;const u=Zn(zT,Qn((t=>(...e)=>{const n=t.apply(void 0,e),i=i_();function r(t,e){return(t=[].concat(t)).map((t=>e(n.createGetter(t))))}return Q(Q({},n),{},{watch:function(t,e){return r(t,(t=>{let r=i.get({selector:t,listener:e});if(!r){const o=function(t,e){let i=t(n.getState());return n.subscribe((function(){let r=t(n.getState());if(i!==r){let t=i;i=r,e(i,t,n.getState())}}))}(t,e);r=i.insert({selector:t,listener:e,unsubscribe:o})}return r.unsubscribe}))},unwatch:function(t,e){return r(t,(t=>{const n=i.get({selector:t,listener:e});return n&&n.unsubscribe()}))}})}),function(t={}){return e=>(...n)=>{const i=e.apply(void 0,n);function r(){return t}const o=Tn((t=>{if(Qe(t))return t;const e=Rn(r(),t);return Qe(e)?e:e=>Rn(e,t)}));return Q(Q({},i),{},{getSelectors:r,createGetter:o,get:function(t,e){let n=(t=o(t))(i.getState());return void 0!==e&&(n=function(t,e){return null==t||t!=t?e:t}(n,e)),n}})}}(XT),ti.apply(void 0,[]))),l=new xe,c=new ri,d=new kg({events:c}),h=te();t.classList.add(`player-${h}`),t.classList.add("loading"),t.id||(t.id=`player${h}`),t.innerHTML=kB;const f=t.querySelector(`.${X_.VP_TELECINE}`);if(Bt.iOS){const t=document.createElement("video");f.appendChild(t);try{t.setAttribute("muted",""),t.setAttribute("playsinline",""),t.load()}catch(t){Cg.captureException(t)}}let p,v,_,m,b,y,g,w=null,T=null,C=null,E=null,k=null,S=null,A=[],N=null,M=null,O=null,I=null,L=null,R=null,x=new bE,P=!1,D=!1,B=null,$=null,V={};const j=new r(((t,e)=>{y=t,g=e,P=!0})).then((()=>(P=!1,c.fire(uv),null)));let H,F;const U=new r(((t,e)=>{H=t,F=e,D=!0})).then((()=>(D=!1,null)));let z=((t,e,n,i=!0)=>new r(((r,o)=>{t.on(e,((...t)=>{r.apply(void 0,t)})),"number"==typeof n&&setTimeout((()=>{i?o():r(null)}),n)})))(c,qv),X={get config(){return d.config},set config(t){d.config=t},get delegate(){return e},set delegate(t){e=t},ready(t){if(!t)return j;j.then((()=>t())).catch((t=>{Cg.captureException(t)}))},playbackEngineReady(t){if(!t)return U;U.then((()=>t())).catch((t=>{Cg.captureException(t)}))},get sessionId(){return d.config.request.session},get name(){return i},get parentUrl(){return I},set parentUrl(t){I=t},destroy(){(P||D)&&(g("Cancelling ready promise for player initialization."),F("Cancelling playback engine ready promise for player initialization.")),c.fire(uf)}};function G(t){var e;const{old:n,loaded:i}=t;if(function(t,e){var n;null==(n=e.request)||n.ab_tests}(0,i),(t=>{Bt.mse=t})(mt(i.request.flags.disable_mms)),null!=(e=i.request)&&e.urls.js&&function(t){ct=t.substring(0,t.lastIndexOf("/")+1)}(i.request.urls.js),window.parent!==window){var r;let t="Private Video on Vimeo";i.view!==E_.main&&i.view!==E_.privateUnlocked||(t=`${i.video.title} from ${i.video.owner.name} on Vimeo`),document.title=t,null!=(r=history)&&r.replaceState&&i.video&&n&&history.replaceState({id:i.video.id},"",`/video/${i.video.id}${window.location.search}`)}if(i.view!==E_.main&&i.view!==E_.privateUnlocked)throw new Error(`Config not authorized: ${i.view}`);!function(t,e){null!=t&&t.embed&&null!=e&&e.embed&&[["color",D_],["color_one",P_],["color_two",D_],["color_three",B_],["color_four",$_]].forEach((([n,i])=>{e.embed[n]&&t.embed[n]!==e.embed[n]&&c.fire($h,e.embed[n],i)}))}(n,i),E&&E.reset();let o=!n||!n.video||n.video.id!==i.video.id||n.video.version.current!==i.video.version.current;return v=null,m=w,c.fire(xh),u.dispatch(Fw(i)),c.fire(Lp,o,i),t}function W(){var e;null==(e=T)||e.hide(),t.classList.remove("loading"),y()}function q(t){return n.then((()=>{if(K(t),c.fire(pf),"function"!=typeof V.authorizationHandler)throw new Error("Config was not authorized.");return V.authorizationHandler(W)})).then((t=>(d.config=t,v=null,u.dispatch(Fw(d.config)),c.fire(xh),c.fire(Lp,!0,d.config),t)))}function Y(){a||(c.on(Np,(function(t){d.reload().then((e=>d.config.user.logged_in?(c.fire(Mp),"private"===t&&c.fire(Pp,e.loaded),e):(c.fire(Ip),e))).catch((t=>{Cg.captureException(t)}))})),c.on(Op,(()=>{d.reload().catch((t=>{Cg.captureException(t)}))})),a=!0)}function K(t){C||(C=new MC(t),GT(X,C),rC(Cg))}function Z(e){const n=d.config.request.ads;n&&(n.adcode&&n.adunit||n.adurl)&&(k=new LE(e,t.querySelector(`.${X_.VP_VIDEO_WRAPPER}`)),c.on(gf,(()=>{m=k,c.fire(rv)})),c.on(wf,(()=>{m=w,c.fire(rv)})),Dw&&(Dw.on(Iw.connected,(()=>{k.toggleCastingState(!0)})),Dw.on(Iw.disconnected,(()=>{k.toggleCastingState(!1)}))))}function J(t,e){let n=t;return isNaN(t)&&"string"!=typeof t||(n=c_(l_(t),t,e)),n}const tt={get store(){return u},get config(){return d.config},get element(){return t},get events(){return c},get uuid(){return h},get expose(){return X},get backbone(){return w},get adHandler(){return k},get displayContext(){return m},get doNotTrackEnabled(){var t;return d.config.embed.dnt||(null==(t=d.config.request.flags)?void 0:t.dnt)},get playLoggingEnabled(){var t;return d.config.embed.log_plays&&(null==(t=d.config.request.flags)?void 0:t.plays)},get canPlayPictureInPicture(){var t;const e=!1!==Bt.pictureInPictureSupportType,n=Bt.spatialPlayback&&(null==(t=d.config.video)?void 0:t.spatial),i=(Bt.iOS>=17||Bt.browser.safari)&&w.readyState<2;i&&w.once(fo.LOADED_DATA,(()=>c.fire(Bc)));const r=1===d.config.embed.settings.pip;return e&&!i&&!n&&r},get currentTime(){return Dw.isCastConnected?Dw.chromecastPlayer.currentTime:w.currentTime},get debugCollector(){return N},overrideFragmentsHandler(t,e){var n;null==(n=M)||n.hibernate(),p=d.config.embed.interactive,O=M,M=t,d.config.embed.interactive=d.config.embed.interactive||{markers:0},d.config.embed.interactive.fragments=e,c.fire(Lf)},restoreLastFragmentsHandler(){var t;M=O,null==(t=M)||t.wake(),d.config.embed.interactive&&(d.config.embed.interactive=p),c.fire(Lf)},get fragmentsHandler(){return M},get progressController(){return R},get ottVideoMetadata(){return S},set ottVideoMetadata(t){S=t},get startTime(){return B},set startTime(t){var e;null!==B&&null===t&&null===$&&(null==(e=L)||e.clearSegmentedPlayback()),B=t,c.fire(Hv,B)},get endTime(){return $},set endTime(t){var e;null!==$&&null===t&&null===B&&(null==(e=L)||e.clearSegmentedPlayback()),$=t,c.fire(Fv,$)},get segmentedPlaybackEnabled(){return null!==B&&null!==$},get bigPicture(){return x},get abTests(){return A},inView:()=>Ht(t),addABTest(t){vt("A/B Test","color: white; background-color: blue")(`Test: ${t.test}, Group: ${t.group}`),A.push(t)},init:(e,o)=>_||(M=new KE(tt),new ZT(tt,u,t),V=o,_=d.load(e).then((e=>(new YD(tt,t),e))).then(G).catch((t=>(Y(),q(tt)))).then((()=>"function"==typeof V.initializationHandler?r.resolve(o.initializationHandler()):null)).then((function(){return LB(s(tt),(function(){return H(),"function"==typeof V.postInitializationHandler?r.resolve(o.postInitializationHandler()):null}))})).then((()=>r.all([z,n]))).then(W).then((()=>(Cg.setUp(tt.config,i||Km.VimeoPlayer),null))).catch((t=>{Cg.captureException(t)})),_),loadVideoViaIframe(t,e={},n={}){let i=[],r=e;for(const t in n)!0===n[t]&&i.push(t);i.length&&(r.listeners=i.join(",")),r.fromLoadVideo=1,r.referrer=d.config.request.referrer;const o=Zt(window.location.search),s=Zt(`${t}`.split("?")[1]);r=Object.assign(o,s,r);const a=Kt(r),u=d_(t);window.location.replace(`https://${d.config.player_url}/video/${u}?${a}`)},loadVideoViaConfig(e,n){if(b===e&&v)return v;if(c.fire(pf),null!=n&&n.video_version){let t=d.config.video.version.available;if(!t||!Array.isArray(t))return r.reject("No available video versions");if(t=t.map((t=>t.id)),-1===t.indexOf(n.video_version))return r.reject("Invalid version id specified")}c.fire(qp),b=e,t.classList.add("loading");const i=J(e,n),o=l.get(i);return e=o?o.Mc.loaded:e,v=d.load(e,n).then((t=>{if(o){const t=w.element;w=o._backbone,w.element.style.visibility="visible",t.parentNode.replaceChild(w.element,t),c.fire(Yp)}return t=G(t),k||Z(tt),t})).catch((t=>q(tt))).then((()=>r.resolve(z))).then(W),v},preloadVideo(t,e,n){const i=J(e,n),o=l.get(i);return o?r.resolve(o):new kg({events:c}).load(e,n).then((e=>{e.loaded.preload=!0;const n=w.element.cloneNode(!1);n.style.visibility="hidden",w.element.parentNode.insertBefore(n,w.element);const r=new vh(n,e.loaded);r.loadVideo(e.loaded),r.preload=t;const o={_backbone:r,Mc:e};return l.set(i,o),o}))},performDelegateAction(t,n=()=>{},i=[]){var r,o;let s;var a;null!=(r=e)&&r[t.will]&&(s=(a=e)[t.will].apply(a,[d.config.video.id].concat(et(i))),!1===s)||(n.apply(void 0,[d.config.video.id].concat(et(i),[s])),null!=(o=e)&&o[t.did]&&e[t.did]())},ready:()=>j,playbackEngineReady:()=>U,verifyConfig:()=>d.verify(),refreshAssetUrls:()=>d.refreshAssetUrls().then((t=>{const e=Q(Q({},d.config),{},{request:t});return G({old:d.config,loaded:e})})).catch((t=>q(tt))),updatePhpTokens:()=>new r(((t,e)=>{if(function(t){const{vimeo_api_client_token:e,vimeo_api_interaction_tokens:{likes:n,watch_later:i,following:r}={},vimeo_live_client_token:o,vimeo_bucketed_live_client_token:s}=t;return e&&Xy(e)||n&&Xy(n)||i&&Xy(i)||r&&Xy(r)||o&&Xy(o)||s&&Xy(s)}(d.config.user)){const{signature:n,session:i,timestamp:r,expires:o}=d.config.request;Ee(`https://${d.config.player_url}/video/${d.config.video.id}/token/refresh?signature=${n}&session=${i}&time=${r}&expires=${o}`,{withCredentials:!0}).json().then((e=>(d.config.user.vimeo_api_client_token=e?e.vimeo_api_client_token:null,d.config.user.vimeo_api_interaction_tokens=e?e.vimeo_api_interaction_tokens:null,d.config.user.vimeo_live_client_token=e?e.vimeo_live_client_token:null,d.config.user.vimeo_bucketed_live_client_token=e?e.vimeo_bucketed_live_client_token:null,t()))).catch((t=>{Cg.captureBreadcrumb("Failed to refresh JWT token",{},"auth","error"),e(t)}))}else t()}))};return tt}function DB(t,e,n){var i,r=2e3,o=4500,s=null,u=Bt.touch?o:r,l=!0,c=!0,d=!1,h=null,f=!1,p=null,v=null,_=!0,m=!1,b=!1,y=!1,g=!1;let w=!1;var T=!1;let C,E;var k=n.querySelector(`.${X_.VP_TARGET}`),S=n.querySelector(`.${X_.VP_CONTROLS}`);let A=n.querySelector('button[class*="_playButton_"]');var N=n.querySelector(`.${X_.VP_TITLE}`),M=n.querySelector(`.${X_.VP_VIDEO}`);let O,I=n.querySelector(`.${X_.VP_SIDEDOCK}`),L=n.querySelectorAll(`.${X_.VP_MENU}`),R=n.querySelector(`.${X_.ADS_WRAPPER}`),x=n.querySelector(`.${X_.COMPASS_WRAPPER}`),P=a(n.querySelectorAll("dialog[data-menu]"));const D=t.config.embed.autoplay&&(null==(i=t.config.request.flags)?void 0:i.autohide_controls),B=Bt.touch?300:0;let $=null;const V=QM(t.config,"webvr").group||!1;function j(){clearTimeout(s),s=null}function H(){v!==x_&&(v&&v.isNewMenu&&v.isFullwidth()||T&&(clearTimeout(s),s=setTimeout((()=>U(!1,!0)),u)))}function F(){CC.element&&CC.element.classList.contains("js-player-fullscreen")&&(d||(n.classList.add("player-cursor-hide"),c=!0,d=!0))}function U(e,i){var r,o,s;if(v===x_&&i)return;if(v&&v.isNewMenu&&v.isFullwidth())return;if(!m&&!_&&!n.classList.contains("player-ad"))return;if(y)return;j(),S=Y(),A=K(),I=q(),L=n.querySelectorAll(`.${X_.VP_MENU}`);const u=document.activeElement&&document.body.classList.contains(X_.SHOWFOCUS)&&((null==(r=I)?void 0:r.contains(document.activeElement))||(null==(o=S)?void 0:o.contains(document.activeElement))||(null==(s=A)?void 0:s.contains(document.activeElement))),d=document.activeElement&&v===x_&&a(L).find((t=>null==t?void 0:t.contains(document.activeElement)));u||d||(t.events.fire(e?wp:Cp),c=!0,Bt.spatialPlayback&&t.config.video.spatial||(k.classList.add("hidden"),k.setAttribute("hidden","")),l=!0,F())}function z(){H(),g||(t.events.fire(Tp),k.classList.remove("hidden"),k.removeAttribute("hidden"))}function X(){m||_?n.removeAttribute("tabindex"):m||_||b||n.setAttribute("tabindex","0")}function G(){t.events.on([fo.TIME_UPDATE,fo.SEEKED],(function e({currentTime:n}){n>=1.75&&null===s&&(t.events.fire(Sf),t.events.off([fo.TIME_UPDATE,fo.SEEKED],e))}))}function W(){t.element.classList.remove("grabbable"),t.element.classList.remove("grabbing")}function q(){return I||(I=n.querySelector(`.${X_.VP_SIDEDOCK}`),I)}function Y(){return S||(S=n.querySelector(`.${X_.VP_CONTROLS}`))}function K(){return A||(A=n.querySelector('button[class*="_playButton_"]'),A)}return function(){var e=!0;function i(){z()}function s(i){var o;if(u=r,c)c=!1;else if(void 0===C||void 0===E||i.screenX!==C||i.screenY!==E)if(C=i.screenX,E=i.screenY,d&&(n.classList.remove("player-cursor-hide"),d=!1),0!==i.screenX&&i.screenX!==screen.width-1&&0!==i.screenY&&i.screenY!==screen.height-1){if(e=!0,Bt.spatialPlayback&&null!=(o=t.config.video)&&o.spatial){const e=r_(t.element),n=i.clientX-e.left,r=i.clientY-e.top,o=180,s=r>t.element.clientHeight-55,a=n>t.element.clientWidth-45&&r<o;if(f||!s&&!a)return}l&&z(),H()}else j(),F(),e&&(U(!0),e=!1)}function h(t){var e;R=R||(R=n.querySelector(`.${X_.ADS_WRAPPER}`),R),P.length||(P=a(n.querySelectorAll("dialog[data-menu]"))),null!=(e=R)&&e.contains(t.target)||P.length&&P.some((e=>e.contains(t.target)))||U(!0)}function p(t){var e,i,r,o;S=Y(),I=q(),A=K(),x=x||(x=n.querySelector(`.${X_.COMPASS_WRAPPER}`),x);var s=(null==(e=S)?void 0:e.contains(t.target))||(null==(i=I)?void 0:i.contains(t.target))||(null==(r=A)?void 0:r.contains(t.target));let a=null==(o=x)?void 0:o.contains(t.target);m&&_||a?s||!m&&!_||U(!0):(clearTimeout($),$=setTimeout(z,B))}function v(t){if("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)return s(t)}Bt.pointerEvents?Pg(n).on("pointerenter",(function(t){if("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)return u=r,i();u=o,p(t)})).on("pointermove",v).on("pointerleave",(function(t){if("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)return h(t)})):Pg(n).on("touchmove",(function(){u=o,H()})).on("touchend",p).on("mouseenter",i).on("mousemove",s).on("mouseleave",h),t.events.on(tp,(function(t){var e;Bt.pointerEvents?Pg(CC.element).on("pointermove",v):Pg(CC.element).on("mousemove",s),t||(null==(e=O)||e.focus(),w=!0)})),t.events.on(np,(function(){Bt.pointerEvents?Pg(CC.element).off("pointermove",v):Pg(CC.element).off("mousemove",s),O&&w&&O.focus(),w=!1}))}(),t.events.on(fo.PLAY,(function(t){D||0===t||z()})).on(yf,z).on([mo.BUFFER_ENDED,fo.SEEKED,Ff,Cf,Zf],H).on(Lc,(function(){T=!0})),t.events.on(Gf,(function(t){t&&H()})),t.events.on(cp,X).on(zv,X).on(Uf,(function(t){_=t,X()})).on(Xf,(function(t){m=t,X()})),t.events.on(Up,(function(){y=!0,z()})).on(zp,(function(){y=!1})),function(){var i=!1,r=0;t.events.on(Gf,(function(t,e){v=t===x_?t:t?e:null})),Pg(n).on(Bt.pointerEvents?"pointerup":"click",(function(i){if(v)return;if(2===i.button)return;if(!i.target.classList)return;if(!function(t){var e,i;return I=q(),N=N||(N=n.querySelector(`.${X_.VP_TITLE}`)),(t.classList.contains(X_.VP_TITLE)||t.classList.contains(X_.VP_TARGET)||(null==(e=N)?void 0:e.contains(t.parentNode))&&"HEADER"===t.parentNode.tagName||M.contains(t))&&!(null!=(i=I)&&i.contains(t))}(i.target))return;var o=("pointerup"===i.type||"MSPointerUp"===i.type)&&"mouse"!==i.pointerType&&i.pointerType!==i.MSPOINTER_TYPE_MOUSE;const s=T&&Bt.spatialPlayback&&t.config.video.spatial&&h;if(Bt.touch||o){const e=!Bt.mobileAndroid;if(!s){if(T&&e)return;return void t.events.fire(Pf)}}1===++r&&setTimeout((function(){if(s){let e=p&&p.x===i.clientX&&p.y===i.clientY;return 1===r&&e&&!Bt.mobileAndroid&&t.events.fire(t.backbone.paused?Pf:xf),1!==r&&t.backbone.getEffectByName("ThreeSixtyEffect").snapToCenter(),void(r=0)}if(1===r){if(e.get(zw)&&!e.get(Gw)&&!e.get(qw))return;t.events.fire(t.backbone.paused?Pf:xf)}else t.events.fire(Rf);r=0}),200)})),Pg(n).on("mousedown",`.${X_.VP_VIDEO_WRAPPER}`,(function(t){var e;if(!i)return k.classList.remove("hidden"),k.removeAttribute("hidden"),2!==t.button&&document.createEvent&&((e=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),k.dispatchEvent(e)),!1})).on("contextmenu",`.${X_.VP_VIDEO}`,(function(t){return k.classList.remove("hidden"),k.removeAttribute("hidden"),!1})),t.events.on(qh,(function(t){if(t)return i=!0,void k.classList.add("hidden");i=!1,k.classList.remove("hidden")}))}(),function(){function e(){b=!0,n.removeAttribute("tabindex")}function i(){b=!1,X()}let r;Pg(n).on("focus","a, button, input, [tabindex]",(function(t){w||(O=this),clearTimeout(r),r=null,document.activeElement===this&&z()})),Pg(n).on("blur","a, button, input, [tabindex]",(function(){document.activeElement===this&&(r=setTimeout(U,50))})),n.addEventListener("focus",(function(){z(),O&&O.focus()}),!1),t.events.on(cp,e),t.events.on(dp,i),t.events.on(zv,e),t.events.on(Xv,i)}(),t.events.on(tp,(function(t){F(),h&&h.adjustRenderSize(),y&&z()})).on(np,(function(t){l=!0,h&&h.adjustRenderSize(),t?U():(z(),j())})),G(),t.events.on(xh,(function(){l=!0,c=!0,_=!0,m=!1,g=!1,T=!1,G(),j()})),t.events.on(ef,(function(){const e=t=>(...e)=>{h&&t.apply(void 0,e)},i=e((e=>{const n=t.element.classList.contains("webvr");h&&n&&h.toggleVR()})),r=e((e=>{h.isVRPresenting?setTimeout((()=>{t.events.fire(yo.WEBVR_ENTER)}),100):setTimeout((()=>{t.events.fire(yo.WEBVR_EXIT)}),100)}));t.events.on(nf,e((()=>{t.element.classList.contains("webvr")||t.element.classList.add("grabbable")}))),t.events.on(Tf,e((()=>{W(),Bt.webvr&&h.isVRPresenting&&V&&h.toggleVR()}))),t.events.on(Lc,e((()=>{t.config.video.spatial||W()}))),(Bt.webvr||Bt.stereoscopic||Bt.webxr)&&(Bt.webvr&&window.addEventListener("vrdisplaypresentchange",r,!1),t.events.on(Kf,e((()=>{Bt.webvr&&h.hasVRHeadset&&V?h.toggleVR():t.events.fire(yp)}))),t.events.on(yo.WEBVR_HARDWARE_AVAILABLE,e((t=>{const e=n.querySelector(`.${X_.STEREOSCOPIC}`);e&&e.classList.contains("off")&&V&&e.classList.remove("off")}))),t.events.on(yo.WEBVR_ENTER,e((e=>{window.addEventListener("vrdisplaydisconnect",i,!1),window.addEventListener("vrdisplaydeactivate",i,!1),t.element.classList.remove("grabbable"),t.element.classList.add("webvr"),h.isUserInteracting=!1}))),t.events.on(yo.WEBVR_EXIT,e((e=>{window.removeEventListener("vrdisplaydisconnect",i),window.removeEventListener("vrdisplaydeactivate",i),t.element.classList.add("grabbable"),t.element.classList.remove("webvr"),h.isUserInteracting=!0}))));let o=null;const s=e((e=>{const n=t.element.classList.contains("webvr");f||n||(f=!0,e.preventDefault(),t.element.classList.add("grabbing"),p={x:e.clientX,y:e.clientY},h.makeContact(p))})),a=e((e=>{const n=t.element.classList.contains("webvr");f&&!n&&h.move({x:e.clientX,y:e.clientY})})),u=e((e=>{const n=t.element.classList.contains("webvr");f&&!n&&(t.element.classList.remove("grabbing"),h.releaseContact(!1),f=!1)})),l=e((e=>{e.preventDefault(),t.element.classList.contains("webvr")||(h.isUserInteracting||(h.isUserInteracting=!0),null!==o&&clearTimeout(o),o=setTimeout((()=>{t.element.classList.remove("player-cursor-hide"),t.element.classList.add("grabbable"),h.isUserInteracting=!1}),500),t.element.classList.add("player-cursor-hide"),t.element.classList.remove("grabbable"),h.moveWheel({x:e.deltaX,y:e.deltaY}))})),c=e((t=>{f||(f=!0,h.makeContact({x:t.touches[0].clientX,y:t.touches[0].clientY}))})),d=e((t=>{f&&(t.preventDefault(),h.move({x:t.touches[0].clientX,y:t.touches[0].clientY}))})),v=e((t=>{h.releaseContact(!0),f=!1})),_=e((t=>{h.moveDevice(t.alpha,t.beta,t.gamma,t.orientation)})),m=e((e=>{f=!1,t.element.classList.remove("grabbing"),h.abandonMotion()}));t.events.on(Lc,(()=>{Bt.android&&h&&window.addEventListener("deviceorientation",_,!1)})),t.events.once(Lc,(()=>{t.store.watch("ui.player.boundingRect",(()=>{h&&h.adjustRenderSize(),f=!1})),Bt.pointerEvents?(Pg(k).on("pointerdown",s),window.addEventListener("pointermove",a),window.addEventListener("pointerup",u),window.addEventListener("pointerleave",m)):(Pg(k).on("mousedown",s).on("wheel",l),k.addEventListener("touchstart",c,!!Bt.passiveEvents&&{passive:!1}),window.addEventListener("touchmove",d,!!Bt.passiveEvents&&{passive:!1}),window.addEventListener("touchend",v,!!Bt.passiveEvents&&{passive:!1}),window.addEventListener("mousemove",a),window.addEventListener("mouseup",u),window.addEventListener("mouseleave",m))}))})),t.events.on(Dc,(t=>{W(),h=t})),t.events.on(Mf,(()=>{g=!0,clearTimeout($),$=null})),t.events.on(If,(()=>{g=!1})),{}}const BB={16:"shift",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down",74:"j",75:"k",76:"l",80:"p"},$B={106:"j",107:"k",108:"l",112:"p"},VB=["up","down","left","right"],jB=["right","l"],HB=["left","j"],FB="scrub",UB=[FB],zB=[Y_.TRANSCRIPT_LIST];function XB(t,e,n){var i=!!t.config.embed.on_site,o=n.querySelector(".volume"),s=!1;let a;var u=null;let l=!1;var c=!1,d=t.config.video.fps/5,h=d,f=0,p=!1,v=_g(C,80),_=5;const m=Bt.spatialPlayback&&t.config.video.spatial;function b(n){var i;return!e.get(zw)||!(UB.includes(n)&&(null==(i=t.config.video.live_event)||!i.dvr))&&(e.get(Gw)||e.get(qw))}function y(e){return"d"===e||!i&&(t.config.view===E_.main||t.config.view===E_.privateUnlocked)}function g(t){return"number"!=typeof t.which&&(t.which=t.keyCode),t}function w(t){if(!t)return"";if("keypress"===t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return t.which in BB?BB[t.which]:String.fromCharCode(t.which).toLowerCase()}function T(e){if(t.config.embed.settings.background)return!0;var n=e.target||e.srcElement;return"INPUT"===n.tagName||"SELECT"===n.tagName||"TEXTAREA"===n.tagName||n.isContentEditable}function C(n,i){var r,o;const s=jB.includes(n);if(!b(FB))return;if(null!=(r=t.backbone)&&null!=(r=r.telecine)&&r.ended&&s)return;if(null!=(o=t.config.video.live_event)&&o.dvr&&s&&t.backbone.atLiveEdge)return;if(s&&!t.progressController.canSeekNow)return;p||(i&&!t.backbone.paused&&t.events.fire(xf),t.events.fire(Hf,{seekType:"keyboard",isFrameByFrame:i}),p=!0),function(n){var i=n,r=Math.ceil(d),o=Math.ceil(function(){const n=e.get(zw)?t.backbone.liveEdgeTime-t.backbone.liveTailTime:t.config.video.duration;return Math.max(d,.618*n)}()-d);h=function(t,e,n){return t/=100,n*(--t*t*t+1)+e}(i,r,o)}(f),1===++f&&(h=t.config.video.fps*_);const a=i?1:h,u=s?a:-a,l=t.currentTime*t.config.video.fps;!function(n,i){let r,o;e.get(zw)?(r=t.backbone.liveTailTime,o=t.backbone.liveEdgeTime):(r=t.fragmentsHandler.currentFragment.startTime,o=t.fragmentsHandler.currentFragment.endTime);let s=n/t.config.video.fps;s<r?s=r:s>=o?s=o-.001:t.events.fire(Of,{direction:s-t.currentTime>0?"forward":"backward",time:1!==f||i?null:_}),t.events.fire(Oh,s)}((s?Math.ceil(l):Math.floor(l))+u,i)}function E(t){if(u===x_)return!1;var e=u.getTabIndexItems(),n=e.indexOf(document.activeElement),i="up"===t?n-1:n+1,r=null;return!(r=i>=e.length?e[0]:i<0?e[e.length-1]:e[i])||(r.focus(),!1)}function k(e,n){if(u&&document.body.classList.contains(X_.SHOWFOCUS)&&"k"!==n)return!0;if(!b("play/pause"))return!0;if(!document.activeElement||document.activeElement===document.body||!document.body.classList.contains(X_.SHOWFOCUS)||"k"===n){const e=t.backbone.paused?Pf:xf;return t.events.fire(e),!1}}function S(){const e=t.backbone.muted,n=t.backbone.volume;return e?(t.events.fire(Lh,!1),0===n&&t.events.fire(Ih,1)):e||0!==n?!e&&n>0&&t.events.fire(Lh,!0):t.events.fire(Ih,1),!1}function A(){const e="ClipboardItem"in window&&"clipboard"in navigator,n=t.element.querySelector("video");if(!e||!n||t.config.request.drm||!l)return!1;let i=document.createElement("canvas");i.width=n.videoWidth,i.height=n.videoHeight,i.getContext("2d").drawImage(n,0,0);const o=new ClipboardItem({"image/png":new r((t=>{i.toBlob((e=>{t(e)}),"image/png")}))});return navigator.clipboard.write([o]).then((()=>{t.events.fire(Kv)})),!0}function N(){return u!==x_&&(u?(u.element.contains(document.activeElement)&&u.button.focus(),u.hide(),!1):!s&&void 0)}function M(){return!c&&(u===x_||(u?!u.element.contains(document.activeElement)||E("up"):m?(t.backbone.getEffectByName("ThreeSixtyEffect").keyPress("up"),!1):!(!t.config.embed.on_site||!document.activeElement||n.contains(document.activeElement))||(t.events.fire(Ih,.05,!1,!0),!1)))}function O(){return!c&&(u===x_||(u?!u.element.contains(document.activeElement)||E("down"):m?(t.backbone.getEffectByName("ThreeSixtyEffect").keyPress("down"),!1):!(!t.config.embed.on_site||!document.activeElement||n.contains(document.activeElement))||(t.events.fire(Ih,-.05,!1,!0),!1)))}function I(e,n){const i=VB.includes(n);if(u===x_)return!0;if(t.displayContext===t.adHandler)return!0;if(u)return!u.element.contains(document.activeElement)||!i||E("left"===n?"up":"down");if(s&&a!==Am.HELP)return!0;if(m&&i)return t.backbone.getEffectByName("ThreeSixtyEffect").keyPress(n),!1;if(document.activeElement&&document.activeElement===o&&i){var r="left"===n?-.05:.05;return t.events.fire(Ih,r,!1,!0),!1}e.shiftKey||0===f?C(n,e.shiftKey):v(n,e.shiftKey)}return function(){function e(t){s=!0,a=t,t!==Am.NOT_SUPPORTED&&t!==My.LEAD_CAPTURE_FORM||(i=!0)}function n(){s=!1,a=null}t.events.on(cp,e),t.events.on(zv,e),t.events.on(dp,n),t.events.on(Xv,n)}(),t.events.on(Gf,(function(t,e){u=t?e||t:null})),t.events.on(Rv,(function(t){c=t})),t.events.on(Lp,(function(t){t&&(i=!1)})),function(){const{like:e,watch_later:n,share:i}=t.config.embed.settings,r={c:[Bf,!0],h:[Df,!0],T:Pv,f:Rf,d:mp,A:Dv,k:k,j:I,l:I,m:S,p:A,space:k,up:M,down:O,left:I,right:I,esc:N,"?":[Rh,Am.HELP]};function o(e){g(e);const n=w(e);if(function(t){return!(t.ctrlKey||t.metaKey||t.altKey||"keypress"===t.type&&t.charCode in $B||(t.which in BB?"keydown"!==t.type:"keypress"!==t.type))}(e)&&!T(e)&&y(n)&&n in r){if("function"==typeof r[n]){if(!1===r[n](e,n)){var i;if(e.preventDefault(),zB.includes(null==(i=e.target)?void 0:i.id))return;e.stopPropagation()}return}if(!1===function(e){return e=Array.isArray(e)?e:[e],t.events.fire.apply(null,e),!1}(r[n])){var o;if(e.preventDefault(),zB.includes(null==(o=e.target)?void 0:o.id))return;e.stopPropagation()}}}t.config.embed.on_site||(r.v=Bh),e&&(r.x=ip),n&&(r.w=rp),i&&(r.s=op),t.config.embed.keyboard&&(document.addEventListener("keydown",o,!1),document.addEventListener("keypress",o,!1),document.addEventListener("keyup",(function(e){if(u!==x_&&(g(e),!T(e)&&y())){var n=w(e);m&&VB.includes(n)?t.backbone.getEffectByName("ThreeSixtyEffect").keyUp(n):b(FB)&&(HB.includes(n)||jB.includes(n))&&function(e){v.cancel(),h=d,f=0;var n=e.shiftKey;t.events.fire(Ff,n),p=!1}(e)}}),!1))}(),t.events.on(Gp,(function(){i=!1})).on(Wp,(function(){i=!0})),t.config.embed.on_site&&document.querySelector(".player")===n&&(i=!1),function(){let t,e=!1;document.body.addEventListener("keyup",(t=>{g(t),9!==t.which||document.body.classList.contains(X_.SHOWFOCUS)||document.body.classList.add(X_.SHOWFOCUS)})),document.body.addEventListener("keydown",(n=>{g(n),32!==n.which&&13!==n.which||(e=!0,clearTimeout(t),t=setTimeout((()=>{e=!1}),200))})),document.body.addEventListener("click",(t=>{e||document.body.classList.remove(X_.SHOWFOCUS)}))}(),t.events.on(uf,(()=>{i=!0})),t.events.on(fo.PLAY,(()=>{l=!0})),t.events.on(fo.ENDED,(()=>{l=!1})),{pause:function(){i=!0},unpause:function(){i=!1}}}function GB(){return GB=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},GB.apply(this,arguments)}var WB,qB=["bottom","height","left","right","top","width"],YB=new xe,KB=function t(){var e=[];YB.forEach((function(t,n){var i=n.getBoundingClientRect();(function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),qB.some((function(n){return t[n]!==e[n]}))})(i,t.rect)&&(t.rect=i,e.push(t))})),e.forEach((function(t){t.callbacks.forEach((function(e){return e(t.rect)}))})),WB=window.requestAnimationFrame(t)},ZB="undefined"!=typeof window?wA.useLayoutEffect:wA.useEffect;function QB(t,e){void 0===e&&(e={width:0,height:0});var n=wA.useState(t.current),i=n[0],r=n[1],o=wA.useReducer(JB,e),s=o[0],a=o[1],u=wA.useRef(!1);return ZB((function(){t.current!==i&&r(t.current)})),ZB((function(){if(i&&!u.current){u.current=!0;var t=i.getBoundingClientRect();a({rect:t})}}),[i]),wA.useEffect((function(){if(i){var t=function(t,e){return{observe:function(){var n=0===YB.size;YB.has(t)?YB.get(t).callbacks.push(e):YB.set(t,{rect:void 0,hasRectChanged:!1,callbacks:[e]}),n&&KB()},unobserve:function(){var n=YB.get(t);if(n){var i=n.callbacks.indexOf(e);i>=0&&n.callbacks.splice(i,1),n.callbacks.length||YB.delete(t),YB.size||cancelAnimationFrame(WB)}}}}(i,(function(t){a({rect:t})}));return t.observe(),function(){t.unobserve()}}}),[i]),s}function JB(t,e){var n=e.rect;return t.height!==n.height||t.width!==n.width?n:t}var t$=function(){return 50},e$=function(t){return t},n$=function(t,e){return t[e?"offsetWidth":"offsetHeight"]},i$=function(t){for(var e=Math.max(t.start-t.overscan,0),n=Math.min(t.end+t.overscan,t.size-1),i=[],r=e;r<=n;r++)i.push(r);return i};var r$=function(t,e,n,i){for(;t<=e;){var r=(t+e)/2|0,o=n(r);if(o<i)t=r+1;else{if(!(o>i))return r;e=r-1}}return t>0?t-1:0};gP(".TranscriptCue_lazy_module_cueListItem__bc77951f{border:1px solid #0000;cursor:pointer;display:flex;gap:8px;justify-content:space-between;left:0;list-style:none;opacity:.6;padding:1.2em;padding-left:var(--transcript-horizontal-padding);padding-right:var(--transcript-horizontal-padding);position:absolute;width:100%}.right-content-area-supported.app-mini .TranscriptCue_lazy_module_cueListItem__bc77951f,.right-content-area-supported.app-tiny .TranscriptCue_lazy_module_cueListItem__bc77951f,.right-content-area-supported.app-xs .TranscriptCue_lazy_module_cueListItem__bc77951f,.right-content-area-supported.app-xxs .TranscriptCue_lazy_module_cueListItem__bc77951f{padding:.8em}.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_inactive__bc77951f{opacity:.6}.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_inactive__bc77951f:hover{opacity:1}.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_focused__bc77951f,.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_hasSearchMatch__bc77951f,.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_isCurrentTime__bc77951f{color:#fff;opacity:1}.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_isCurrentTime__bc77951f.TranscriptCue_lazy_module_playing__bc77951f{background-color:#ffffff1a}.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_isCurrentTime__bc77951f.TranscriptCue_lazy_module_playing__bc77951f:hover,.TranscriptCue_lazy_module_cueListItem__bc77951f:hover{background:#fff3;color:#fff;opacity:1}.TranscriptCue_lazy_module_cueListItem__bc77951f.TranscriptCue_lazy_module_focused__bc77951f{outline:2px solid #00adef;outline-offset:-2px}.TranscriptCue_lazy_module_cueText__bc77951f{font-size:1.4em;line-height:20px}.TranscriptCue_lazy_module_cueText__bc77951f[dir=rtl]{text-align:right}.right-content-area-supported.app-mini .TranscriptCue_lazy_module_cueText__bc77951f,.right-content-area-supported.app-tiny .TranscriptCue_lazy_module_cueText__bc77951f,.right-content-area-supported.app-xs .TranscriptCue_lazy_module_cueText__bc77951f,.right-content-area-supported.app-xxs .TranscriptCue_lazy_module_cueText__bc77951f{font-size:1.2em}.right-content-area-supported.app-xl .TranscriptCue_lazy_module_cueText__bc77951f,.right-content-area-supported.app-xxl .TranscriptCue_lazy_module_cueText__bc77951f{font-size:1.6em;line-height:24px}.TranscriptCue_lazy_module_timestamp__bc77951f{align-items:center;background:#fff3;border-radius:.4em;display:flex;font-size:1.2em;gap:1em;height:2.4em;justify-content:center;letter-spacing:.4px;padding:.4em .8em}.right-content-area-supported.app-mini .TranscriptCue_lazy_module_timestamp__bc77951f,.right-content-area-supported.app-tiny .TranscriptCue_lazy_module_timestamp__bc77951f,.right-content-area-supported.app-xs .TranscriptCue_lazy_module_timestamp__bc77951f,.right-content-area-supported.app-xxs .TranscriptCue_lazy_module_timestamp__bc77951f{border-radius:.2em;font-size:1em;height:2em;padding:.4em}",{});gP(".CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9{background-color:#ffffff4d;border-radius:2px;color:#fff;line-height:normal;padding:2px;position:relative}.CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9.CueSearchHighlight_lazy_module_current__c7df5ff9{background-color:#fff;color:#000;font-weight:bolder;padding:2px 4px}.right-content-area-supported.app-mini .CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9.CueSearchHighlight_lazy_module_current__c7df5ff9,.right-content-area-supported.app-tiny .CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9.CueSearchHighlight_lazy_module_current__c7df5ff9,.right-content-area-supported.app-xs .CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9.CueSearchHighlight_lazy_module_current__c7df5ff9,.right-content-area-supported.app-xxs .CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9.CueSearchHighlight_lazy_module_current__c7df5ff9{line-height:16px}",{});const o$=({cue:t})=>{const e=TP((t=>t.searchTerms)),n=TP((t=>t.searchResults)),i=TP((t=>t.currentSearchResultIndex)),r=n.filter((e=>e.originalIndex===t.originalIndex));if(r.length){const n=e.terms.length;let o=[];if(0!==r[0].matchStart){const e=t.text.slice(0,r[0].matchStart);o.push(e)}return o=r.reduce((function(e,o,s){const{matchStart:a,searchIndex:u}=o,l=_m("CueSearchHighlight_lazy_module_highlightMatch__c7df5ff9",u===i&&"CueSearchHighlight_lazy_module_current__c7df5ff9"),c=r[s+1],d=t.text.slice(a,a+n);if(e.push(zN("mark",{className:l,children:d})),c){const i=t.text.slice(a+n,c.matchStart);e.push(i)}else{const i=t.text.slice(a+n);e.push(i)}return e}),o),zN(Bk,{children:o.map(((t,e)=>zN(Bk,{children:t},e)))})}return zN(Bk,{children:t.text})},s$=({index:t,cue:e,isCurrentTime:n,hasSearchMatch:i,measureRef:r,style:o,onClick:s,isFocused:a=!1})=>{const u=TP((t=>t.timecodeDisplayed)),l=TP((t=>t.searchResults)),c=TP((t=>{var e;return null==(e=t.selectedTrack)?void 0:e.rtl})),d=QO((t=>t.playback.paused)),h=l.some((t=>t.originalIndex===e.originalIndex)),f=_m("TranscriptCue_lazy_module_cueListItem__bc77951f",!i&&!a&&!n&&"TranscriptCue_lazy_module_inactive__bc77951f",i&&"TranscriptCue_lazy_module_hasSearchMatch__bc77951f",n&&"TranscriptCue_lazy_module_isCurrentTime__bc77951f",a&&"TranscriptCue_lazy_module_focused__bc77951f",!d&&"TranscriptCue_lazy_module_playing__bc77951f");return zN("li",Q(Q({role:"option",id:`${Y_.TRANSCRIPT_CUE_PREFIX}-${t}`,className:f,"aria-selected":!!a||null,ref:r,style:o},lm(s)),{},{onMouseDown:t=>t.preventDefault(),children:[zN("span",{className:"TranscriptCue_lazy_module_cueText__bc77951f",dir:c?"rtl":"ltr",children:h?zN(o$,{cue:e}):e.text}),u&&zN("span",{className:"TranscriptCue_lazy_module_timestamp__bc77951f",children:e.startTimeDisplay})]}))};gP(".TranscriptList_lazy_module_container__563e7abf{background-color:initial;display:flex;flex-direction:column;overflow:hidden;position:relative}.TranscriptList_lazy_module_listContainer__563e7abf{-ms-overflow-style:none;display:flex;overflow-y:scroll;padding-top:0;scrollbar-width:none}.TranscriptList_lazy_module_listContainer__563e7abf::-webkit-scrollbar{display:none}.TranscriptList_lazy_module_list__563e7abf{list-style:none;margin:0;position:relative;width:100%}.TranscriptList_lazy_module_list__563e7abf:focus{outline:none}.TranscriptList_lazy_module_transcriptDisabled__563e7abf{cursor:not-allowed;height:100%;left:0;position:absolute;top:0;width:100%}",{});gP(".AutoFollowButton_lazy_module_autoFollowContainer__4ffc2cae{align-items:center;display:flex;justify-content:center;pointer-events:none;position:absolute;top:0;width:100%;z-index:40}.AutoFollowButton_lazy_module_autoFollowButton__4ffc2cae{align-items:center;background-color:#000000e6;border:1px solid #fff6;border-radius:.4em;color:#fff;cursor:pointer;display:flex;font-size:1.4em;font-weight:700;height:32px;justify-content:center;padding:4px 12px}.AutoFollowButton_lazy_module_autoFollowButton__4ffc2cae span{font-size:1.4em}.AutoFollowButton_lazy_module_autoFollowButton__4ffc2cae.AutoFollowButton_lazy_module_visible__4ffc2cae{pointer-events:auto}.AutoFollowButton_lazy_module_autoFollowButton__4ffc2cae:hover:not(:disabled){background-color:#000;border:1px solid #fff}.AutoFollowButton_lazy_module_autoFollowButton__4ffc2cae:hover:not(:disabled):active{background-color:#000000e6;outline:none}",{});const a$=({visible:t,onClick:e,tabIndex:n})=>{const i=_m("AutoFollowButton_lazy_module_autoFollowContainer__4ffc2cae"),r=_m("AutoFollowButton_lazy_module_autoFollowButton__4ffc2cae",t&&"AutoFollowButton_lazy_module_visible__4ffc2cae",UI);return zN("div",{className:i,children:zN(nI,{visible:t,styleOverrides:{exitDone:{display:"none"}},children:zN(ZI,Q(Q({className:r,tabIndex:n},lm(e)),{},{children:"Return to current time"}))})})},u$=({cues:t})=>{const e=TS(null),n=TS(-1),i=TS(-1),r=TS(0),o=TS(0),s=TS(null),a=QO((t=>t.playback.currentTime)),u=QO((t=>t.appearance.appBreakpoint)),l=TS(u),c=QO((t=>t.appearance.rightContentAreaAnimating)),d=QO((t=>t.setPlayback)),h=QO((t=>t.playback.canSeekForward)),f=QO((t=>t.playback.paused)),p=TP((t=>t.transcriptDisabled)),v=TP((t=>t.timecodeDisplayed)),_=QO((t=>t.displayList.outro)),m=QO((t=>t.setDisplayList)),b=QO((t=>t.liveEvent.isLiveEvent)),y=TP((t=>t.settingsDisplayed)),g=TP((t=>t.setSettingsDisplayed)),w=TP((t=>t.currentSearchResultIndex)),T=TP((t=>t.autoFollowEnabled)),C=TP((t=>t.setAutoFollowEnabled)),E=TP((t=>t.searchResults)),k=TP((t=>t.transcriptSizeMode)),S=TP((t=>t.selectedTrack)),A=GN((t=>t.bigPicture)),N=_&&!c,M=function(t){var e,n=t.size,i=void 0===n?0:n,r=t.estimateSize,o=void 0===r?t$:r,s=t.overscan,a=void 0===s?1:s,u=t.paddingStart,l=void 0===u?0:u,c=t.paddingEnd,d=void 0===c?0:c,h=t.parentRef,f=t.horizontal,p=t.scrollToFn,v=t.useObserver,_=t.initialRect,m=t.onScrollElement,b=t.scrollOffsetFn,y=t.keyExtractor,g=void 0===y?e$:y,w=t.measureSize,T=void 0===w?n$:w,C=t.rangeExtractor,E=void 0===C?i$:C,k=f?"width":"height",S=f?"scrollLeft":"scrollTop",A=wA.useRef({scrollOffset:0,measurements:[]}),N=wA.useState(0),M=N[0],O=N[1];A.current.scrollOffset=M;var I=(v||QB)(h,_)[k];A.current.outerSize=I;var L=wA.useCallback((function(t){h.current&&(h.current[S]=t)}),[h,S]),R=p||L;p=wA.useCallback((function(t){R(t,L)}),[L,R]);var x=wA.useState({}),P=x[0],D=x[1],B=wA.useCallback((function(){return D({})}),[]),$=wA.useRef([]),V=wA.useMemo((function(){var t=$.current.length>0?Math.min.apply(Math,$.current):0;$.current=[];for(var e=A.current.measurements.slice(0,t),n=t;n<i;n++){var r=g(n),s=P[r],a=e[n-1]?e[n-1].end:l,u="number"==typeof s?s:o(n),c=a+u;e[n]={index:n,start:a,size:u,end:c,key:r}}return e}),[o,P,l,i,g]),j=((null==(e=V[i-1])?void 0:e.end)||l)+d;A.current.measurements=V,A.current.totalSize=j;var H=m?m.current:h.current,F=wA.useRef(b);F.current=b,ZB((function(){if(H){var t=function(t){var e=F.current?F.current(t):H[S];O(e)};return t(),H.addEventListener("scroll",t,{capture:!1,passive:!0}),function(){H.removeEventListener("scroll",t)}}O(0)}),[H,S]);var U=function(t){for(var e=t.measurements,n=t.outerSize,i=t.scrollOffset,r=e.length-1,o=r$(0,r,(function(t){return e[t].start}),i),s=o;s<r&&e[s].end<i+n;)s++;return{start:o,end:s}}(A.current),z=U.start,X=U.end,G=wA.useMemo((function(){return E({start:z,end:X,overscan:a,size:V.length})}),[z,X,a,V.length,E]),W=wA.useRef(T);W.current=T;var q=wA.useMemo((function(){for(var t=[],e=function(e,n){var i=G[e],r=GB(GB({},V[i]),{},{measureRef:function(t){if(t){var e=W.current(t,f);if(e!==r.size){var n=A.current.scrollOffset;r.start<n&&L(n+(e-r.size)),$.current.push(i),D((function(t){var n;return GB(GB({},t),{},((n={})[r.key]=e,n))}))}}}});t.push(r)},n=0,i=G.length;n<i;n++)e(n);return t}),[G,L,f,V]),Y=wA.useRef(!1);ZB((function(){Y.current&&D({}),Y.current=!0}),[o]);var K=wA.useCallback((function(t,e){var n=(void 0===e?{}:e).align,i=void 0===n?"start":n,r=A.current,o=r.scrollOffset,s=r.outerSize;"auto"===i&&(i=t<=o?"start":t>=o+s?"end":"start"),"start"===i?p(t):"end"===i?p(t-s):"center"===i&&p(t-s/2)}),[p]),Z=wA.useCallback((function(t,e){var n=void 0===e?{}:e,r=n.align,o=void 0===r?"auto":r,s=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(n,["align"]),a=A.current,u=a.measurements,l=a.scrollOffset,c=a.outerSize,d=u[Math.max(0,Math.min(t,i-1))];if(d){if("auto"===o)if(d.end>=l+c)o="end";else{if(!(d.start<=l))return;o="start"}var h="center"===o?d.start+d.size/2:"end"===o?d.end:d.start;K(h,GB({align:o},s))}}),[K,i]),Q=wA.useCallback((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Z.apply(void 0,e),requestAnimationFrame((function(){Z.apply(void 0,e)}))}),[Z]);return{virtualItems:q,totalSize:j,scrollToOffset:K,scrollToIndex:Q,measure:B}}({size:t.length,parentRef:e,keyExtractor:t=>t}),O=M.virtualItems,I=function(t,e){const n=TS(null),i=ES((i=>{const r=Date.now(),o=t.current.scrollTop;cancelAnimationFrame(n.current);const s=()=>{const t=Date.now()-r,a=t/1e3,u=function(t){return t<.5?16*Math.pow(t,5):1+16*--t*Math.pow(t,4)}(Math.min(a,1)),l=e.virtualItems.find((t=>t.key===i));if(!l)return void cancelAnimationFrame(n.current);const c=o+(l.start-o)*u;e.scrollToOffset(c),t<1e3&&(n.current=requestAnimationFrame(s))};n.current=requestAnimationFrame(s)}),[t,e]);return i}(e,M),L=ES(((t,e={align:"start"})=>{M.scrollToIndex(t>-1?t:0,e)}),[t,N]),{currentFocusedCue:R,queueListFocus:x,setListBlurred:P,setListFocused:D}=((t,e,n)=>{const[i,r]=bS(null),o=null!==i,s=TS(null),a=t.length-1,u=QO((t=>t.setAppearance)),l=TP((t=>t.transcriptDisabled)),c=ES((t=>r(t)),[]),d=ES((()=>r(null)),[]),h=ES((t=>{s.current=t}),[]),f=ES(((t,n)=>{if(!o)return;let s=i;const u=0===i,l=i===a;t!==ZA.NEXT||l||s++,t!==ZA.PREV||u||s--,t!==ZA.FIRST||u||(s=0,null==n||n.preventDefault()),t!==ZA.LAST||l||(s=a,null==n||n.preventDefault()),r(s),e(s,{align:"auto"})}),[o,i,a,e]),p=ES((()=>f(ZA.NEXT)),[f]),v=ES((()=>f(ZA.PREV)),[f]),_=ES((t=>f(ZA.FIRST,t)),[f]),m=ES((t=>f(ZA.LAST,t)),[f]),b=ES((t=>{var e;null!==s.current&&(t.preventDefault(),null==(e=n.current)||e.focus(),r(s.current),s.current=null)}),[n]);return CN("ArrowDown",p),CN("ArrowUp",v),CN("Home",_),CN("End",m),CN("Escape",d),CN("Tab",b),gS((()=>{u("transcriptNavActive",o)}),[o,u]),gS((()=>{l&&r(null)}),[l]),{currentFocusedCue:i,queueListFocus:h,setListBlurred:d,setListFocused:c}})(t,L,s),B=!T&&!y&&!E.length&&null===R;gS((function(){null!=E&&E.length&&w!==n.current&&(L(E[w].originalIndex,{align:"start"}),n.current=w)}),[E,w,L]),gS((function(){M.measure()}),[v]),gS((function(){!function(){if(!T)return;const e=((t,e)=>t.findIndex((t=>t.startTime<=e&&t.endTime>e)))(t,a),n=(t=>t?t.endTime-t.startTime:0)(t[e]),s=e>-1,u=e!==r.current,l=n!==o.current;s&&(u||l)&&(i.current=r.current,r.current=e,o.current=n,nN(O,e)?I(e):L(e))}(),function(){const t=r.current,e=nN(O,t);e!==T&&C(e)}()}),[t,a,T,O,L,I,C]),gS((function(){T&&u!==l.current&&(L(r.current),l.current=u)}),[u,T,L]),gS((function(){!b&&h&&(r.current=0,L(0),C(!0))}),[L,C,b,h]);const $=ES((e=>{d("currentTime",t[e].startTime),r.current=e,A.sendEvent(qb.EMBEDDED_TRANSCRIPT_CLICK,{name:"click_transcript_cue",copy:t[e].startTimeDisplay,location:"player_embedded_transcript",element:"transcript_cue",current_transcript_language:null==S?void 0:S.language})}),[t,d,A,S]),V=ES((t=>{$(t),x(t),P(),k===KA.SMALL&&m("transcript",!1)}),[$,x,m,P,k]),j=ES((()=>{null!==R&&$(R)}),[R,$]),H=ES((t=>{null!==R&&(t.preventDefault(),d("paused",!f))}),[R,f,d]);return CN("Enter",j),CN("Space",H),zN("div",{className:"TranscriptList_lazy_module_container__563e7abf",children:[zN("div",{className:"TranscriptList_lazy_module_listContainer__563e7abf",ref:e,onScroll:()=>{g(!1)},children:[zN(a$,{visible:B,onClick:function(){L(r.current),A.sendEvent(qb.EMBEDDED_TRANSCRIPT_CLICK,{name:"click_return_to_current_time",copy:"Return to current time",location:"player_embedded_transcript",element:"return_to_current_time_button",current_transcript_language:null==S?void 0:S.language})},tabIndex:p?null:0}),zN("div",{id:Y_.TRANSCRIPT_USAGE_DESCRIPTION,className:GI,"aria-hidden":!0,children:"Use the up and down arrow keys to navigate the transcript. Press enter to seek to the selected cue. Press space to toggle playback."}),zN("ul",{className:"TranscriptList_lazy_module_list__563e7abf",style:{height:`${M.totalSize}px`},id:Y_.TRANSCRIPT_LIST,"data-component-type":"loaded-transcript",tabIndex:p?null:0,role:"listbox",ref:s,"aria-label":"Transcript List","aria-describedby":Y_.TRANSCRIPT_USAGE_DESCRIPTION,onFocus:()=>{const t=E.length?E[w].originalIndex:r.current,e=nN(O,t);D(t),e||L(t)},onBlur:P,"aria-multiselectable":"false",children:O.map((({index:e,measureRef:n,start:i})=>zN(s$,{index:e,cue:t[e],isFocused:e===R,isCurrentTime:e===r.current,hasSearchMatch:E.some((t=>t.originalIndex===e)),measureRef:n,style:{transform:`translateY(${i}px)`},onClick:t=>{t.stopPropagation(),V(e)}},e)))})]}),p&&zN("div",{className:"TranscriptList_lazy_module_transcriptDisabled__563e7abf"})]})};gP("div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31{background-color:#000000e6;border:1px solid #fff3;border-radius:8px;display:flex;flex-direction:column;height:fit-content!important;left:0;margin:0 16px;position:absolute;top:64px;width:auto}.right-content-area-supported.app-xl div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31,.right-content-area-supported.app-xxl div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31{top:72px}.right-content-area-supported.app-mini div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31,.right-content-area-supported.app-tiny div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31,.right-content-area-supported.app-xs div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31,.right-content-area-supported.app-xxs div.TranscriptMenu_lazy_module_menu__d664aa31.TranscriptMenu_lazy_module_transcriptMenu__d664aa31{border:none;height:100%!important;margin:0;top:0;width:100%}",{});gP(".MainPanel_lazy_module_label__ac35b233{flex-grow:1;margin:0 0 0 .6666666667em;text-align:start}.MainPanel_lazy_module_value__ac35b233{margin:0 0 0 .8em;pointer-events:none}",{});const l$=()=>{const t=GN((t=>t.bigPicture)),e=QO((t=>t.captions.textTracks)),n=TP((t=>t.transcriptSizeMode)),i=TP((t=>t.selectedTrack)),r=TP((t=>t.timecodeDisplayed)),o=TP((t=>t.toggleTimecodeDisplayed)),s=TP((t=>t.selectedSettingsMenu)),a=TP((t=>t.setSelectedSettingsMenu)),u="Timestamps",l=r?"Timestamps Enabled":"Timestamps Disabled",c=e.length>1,d=n===KA.LARGE?bN.LARGE:bN.MEDIUM;let h,f=Jy.MD;return d===bN.LARGE&&(f=Jy.LG,h=Jy.MD),zN(Bk,{children:[c&&zN(TI,{label:"Language",value:null==i?void 0:i.label,onSelect:()=>a(YA.LANGUAGE),size:d,hasPopup:!0,isOpened:s===YA.LANGUAGE}),zN(rL,{label:u,onSelect:()=>{o(),t.sendEvent(qb.EMBEDDED_TRANSCRIPT_CLICK,{name:"embed_transcript_timestamps",copy:l,location:"player_embedded_transcript",element:"timestamps_toggle",current_transcript_language:null==i?void 0:i.language})},checked:r,isMenuItem:!0,role:"menuitemcheckbox",children:[zN(jI,{size:f,weight:tg.NORMAL,className:"MainPanel_lazy_module_label__ac35b233",children:u}),zN(jI,{weight:tg.NORMAL,size:h,className:"MainPanel_lazy_module_value__ac35b233",ariaHidden:!0,children:r?"On":"Off"})]})]})},c$=()=>{const t=TP((t=>t.selectedTrack)),e=TP((t=>t.availableTracks)),n=TP((t=>t.setSelectedTrack)),i=CS((()=>e.map((e=>e.id===t.id?Q(Q({},e),{},{active:!0}):e))),[t,e]);return zN(SI,{items:i,onSelect:t=>n(t.currentTarget.dataset.id)})},d$=({buttonRef:t})=>{const e=TP((t=>t.settingsDisplayed)),n=TP((t=>t.selectedSettingsMenu)),i=TP((t=>t.setSelectedSettingsMenu)),r=TP((t=>t.setSettingsDisplayed)),o=TP((t=>t.transcriptSizeMode)),s=t=>{null==t||t.stopPropagation(),i(YA.MAIN)},a=TP((t=>t.transcriptSizeMode))===KA.SMALL;let u,l,c;const d=()=>r(!1);switch(n){case YA.MAIN:u=a&&zN(yI,{title:"Settings",onClose:d,forceModalMenu:a}),l=mN.TRANSCRIPT_SETTINGS,c=zN(l$,{});break;case YA.LANGUAGE:u=zN(yI,{title:"Language",onBack:s,hasCloseButton:!1,size:o===KA.LARGE?Jy.LG:Jy.MD}),l=mN.TRANSCRIPT_LANGUAGES,c=zN(c$,{})}return zN(vI,{id:Y_.TRANSCRIPT_MENU,isMenuBlockingUI:a,className:"TranscriptMenu_lazy_module_menu__d664aa31 TranscriptMenu_lazy_module_transcriptMenu__d664aa31",headerContent:u,panelContent:c,panel:l,setMenuDisplayed:r,isMenuDisplayed:e,ariaLabel:"Transcript",onBack:s,buttonRef:t})};gP(".Transcript_lazy_module_transcript__462d056a{--transcript-horizontal-padding:16px;bottom:0;display:flex;flex-direction:column;gap:.8em;gap:1.2em;height:100%;overflow:hidden;pointer-events:all;position:absolute;top:0;width:100%}.player.app-lg .Transcript_lazy_module_transcript__462d056a,.player.app-xl .Transcript_lazy_module_transcript__462d056a{gap:1.2em}.player.app-xxl .Transcript_lazy_module_transcript__462d056a{gap:1.6em}.right-content-area-supported.app-mini .Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_applyBackground__462d056a,.right-content-area-supported.app-tiny .Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_applyBackground__462d056a,.right-content-area-supported.app-xs .Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_applyBackground__462d056a,.right-content-area-supported.app-xxs .Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_applyBackground__462d056a{background-color:initial}.Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_hidden__462d056a{pointer-events:none}.Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_applyBackground__462d056a{background-color:#000000e6}.Transcript_lazy_module_transcript__462d056a.Transcript_lazy_module_disabled__462d056a{cursor:not-allowed}.Transcript_lazy_module_transcript__462d056a form{flex-grow:0;margin:0 var(--transcript-horizontal-padding)}.Transcript_lazy_module_transcript__462d056a button:disabled,.Transcript_lazy_module_transcript__462d056a input:disabled{cursor:not-allowed}.player.app-xl .Transcript_lazy_module_transcript__462d056a,.player.app-xxl .Transcript_lazy_module_transcript__462d056a{--transcript-horizontal-padding:24px}.player.app-mini .Transcript_lazy_module_transcript__462d056a,.player.app-tiny .Transcript_lazy_module_transcript__462d056a,.player.app-xs .Transcript_lazy_module_transcript__462d056a,.player.app-xxs .Transcript_lazy_module_transcript__462d056a{--transcript-horizontal-padding:12px}",{});const h$=YS((({cues:t},e)=>{const n=QO((t=>t.liveEvent.isLiveEvent)),i=TS([]),r=QO((t=>t.embed.transcriptQuery)),o=QO((t=>t.playback.canSeekForward)),s=QO((t=>t.playback.startTime)),[a,u]=bS(!1),l=TP((t=>t.transcriptDisabled)),c=TP((t=>t.searchTerms)),d=TP((t=>t.setSearchTerms)),h=TP((t=>t.resetSearchTerms)),f=TP((t=>t.setCurrentSearchResultIndex)),p=TP((t=>t.currentSearchResultIndex)),v=TP((t=>t.searchResults)),_=TP((t=>t.setSearchResults)),m=TP((t=>t.selectedTrack)),b=GN((t=>t.bigPicture)),y=CS((()=>vg((t=>{b.sendEvent(qb.EMBEDDED_TRANSCRIPT_CLICK,{name:"search_embed_transcript",copy:t,location:"player_embedded_transcript",element:"search_input",current_transcript_language:null==m?void 0:m.language})}),1500)),[b,m]);return gS((function(){if(c.terms.length<=2)_([]),i.current=[];else{const e=function(t,e){if(!e.length)return[];const n=[],i=Gy(e);for(let e=0;e<t.length;e++){const r=t[e].text;if("string"!=typeof r)continue;const o=Gy(r);let s=o.indexOf(i);for(;s>-1;)n.push(Q(Q({},t[e]),{},{searchIndex:n.length,matchStart:s})),s=o.indexOf(i,s+1)}return n}(t,c.terms);if(ZM(e,i.current))return;if(i.current=e,e.length>0)if(c.timestamp){const t=((t,e)=>{let n={index:0,diff:1/0};for(let i=0;i<e.length;i++){if(e[i].startTime<=t&&e[i].endTime>=t)return i;const r=Math.abs(e[i].startTime-t),o=Math.abs(e[i].endTime-t),s=Math.min(r,o);s<n.diff&&(n={index:i,diff:s})}return n.index})(c.timestamp,e);f(t||0)}else f(p||0);_(e),y(c.terms)}}),[t,c,y,_,f,p]),gS((function(){!n&&o&&h()}),[o,t,n,h]),gS((function(){t.length>0&&!a&&r&&(d({terms:r,timestamp:s??null}),u(!0))}),[r,d,t,a,s]),zN(eL,{ref:e,value:c.terms,ariaControls:Y_.TRANSCRIPT_LIST,onSearchIterate:f,onChange:t=>d({terms:t,timestamp:null}),disabled:l,placeholder:"Search transcript",numSearchResults:v.length,searchItemIterator:p})})),f$=()=>{const t=QO((t=>t.setDisplayList));return zN(AP,{message:"Segment not transcribed.",onClose:()=>t("transcript",!1),componentType:"transcript-empty"})};gP(".SEOBotTranscriptRenderer_lazy_module_seoTranscript__92de6094 details[open]{background-color:#fff;height:50vh;overflow:scroll;padding:32px}",{});const p$=({cues:t})=>{const e=QO((t=>t.element));return wy(e)&&(e.parentElement.style.flexDirection="column",e.parentElement.style.overflow="scroll"),function(t){const{videoObject:e}=kC();null==t||!t.length||null!=e&&e.transcript||EC({transcript:t.map((({text:t})=>t)).join(" ")})}(t),zN("div",{className:"SEOBotTranscriptRenderer_lazy_module_seoTranscript__92de6094",children:[zN("details",{children:[zN("summary",{children:"Video Transcript"}),t.map(((t,e)=>zN("p",{children:[t.text," - ",zN("span",{children:t.startTimeDisplay})]},`transcript-cue-${e}`)))]}),zN("style",{children:".player_area.js-player_area {\n                        overflow: visible !important;\n                        z-index: 1 !important;\n                    }"})]})};gP(".TranscriptHeader_lazy_module_transcriptHeader__3dd8816e{align-items:center;align-self:stretch;border-bottom:1px solid #fff3;display:flex;gap:.4em;padding-left:var(--transcript-horizontal-padding);padding-right:var(--transcript-horizontal-padding)}.player.app-xl .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e,.player.app-xxl .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e{padding-bottom:1.6em;padding-top:1.6em}.player.app-lg .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e,.player.app-md .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e{padding-bottom:1.2em;padding-top:1.2em}.player.app-sm .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e,.player.app-xs .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e,.player.app-xxs .TranscriptHeader_lazy_module_transcriptHeader__3dd8816e{padding-bottom:.8em;padding-top:.8em}.TranscriptHeader_lazy_module_transcriptHeader__3dd8816e header{flex:1 0 0;margin:0;width:100%}.TranscriptHeader_lazy_module_title__3dd8816e{margin:0}.player.app-xxl .TranscriptHeader_lazy_module_title__3dd8816e{font-size:2.4em;letter-spacing:-.8px;line-height:32px}.player.app-lg .TranscriptHeader_lazy_module_title__3dd8816e,.player.app-md .TranscriptHeader_lazy_module_title__3dd8816e,.player.app-xl .TranscriptHeader_lazy_module_title__3dd8816e{font-size:1.8em;letter-spacing:-.6px;line-height:24px}.player.app-sm .TranscriptHeader_lazy_module_title__3dd8816e{font-size:1.6em;letter-spacing:-.4px;line-height:20px}.player.app-xs .TranscriptHeader_lazy_module_title__3dd8816e,.player.app-xxs .TranscriptHeader_lazy_module_title__3dd8816e{font-size:1.4em;letter-spacing:-.2px;line-height:20px}",{});gP(".TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8{background:none;border:none;color:#fff;height:4em;line-height:3.8em;min-width:4em}.TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8 svg path{fill:#fff}.TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8:hover:not(:disabled),.TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8:hover:not(:disabled):active{background-color:#ffffff4d}.TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8 .TranscriptControlButton_lazy_module_tooltip__b3e8cca8{bottom:auto;pointer-events:none;top:3.6em;z-index:1}.TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8 .TranscriptControlButton_lazy_module_tooltip__b3e8cca8.TranscriptControlButton_lazy_module_tooltipDisabled__b3e8cca8,.TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8 .TranscriptControlButton_lazy_module_tooltip__b3e8cca8.TranscriptControlButton_lazy_module_tooltipHidden__b3e8cca8{display:none}.player.app-xl .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.player.app-xxl .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8{border-radius:8px;height:40px;padding:8px;width:40px}.player.app-xl .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8 .TranscriptControlButton_lazy_module_tooltip__b3e8cca8,.player.app-xxl .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8 .TranscriptControlButton_lazy_module_tooltip__b3e8cca8{top:4.5em}.right-content-area-supported.app-mini .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.right-content-area-supported.app-tiny .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.right-content-area-supported.app-xs .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.right-content-area-supported.app-xxs .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8{border-radius:4px}.right-content-area-supported.app-lg .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.right-content-area-supported.app-md .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.right-content-area-supported.app-sm .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8,.right-content-area-supported.app-xs .TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8{border-radius:4px;height:32px;padding:4px;width:32px}",{});const v$=["icon","onClick","label","tooltipLabel","disabled","className","name"],_$=YS(((t,e)=>{let{icon:n,onClick:i,label:r,tooltipLabel:o,disabled:s,className:a,name:u}=t,l=J(t,v$);const c=TP((t=>t.transcriptDisabled)),d=TP((t=>t.settingsDisplayed)),{onClick:h,onKeyDown:f,onMouseDown:p}=pN(i),v="boolean"!=typeof s?c:s,_=`transcript-${u}-button-tooltip`,m=_m(a,"TranscriptControlButton_lazy_module_transcriptControlButton__b3e8cca8",UI),b=zN(ZI,Q({ref:e,onClick:h,onKeyDown:f,onMouseDown:p,icon:n,iconSize:Yy.SM,"aria-label":r,disabled:v,className:m},l)),y=_m("TranscriptControlButton_lazy_module_tooltip__b3e8cca8",v&&"TranscriptControlButton_lazy_module_tooltipDisabled__b3e8cca8",d&&"TranscriptControlButton_lazy_module_tooltipHidden__b3e8cca8");return Bt.touch?b:zN(xI,{id:_,tooltipContent:o,className:y,children:b})})),m$=({className:t})=>{const e=TP((t=>t.selectedTrack)),n=QO((t=>t.displayList.transcript)),i=QO((t=>t.setDisplayList)),r=GN((t=>t.bigPicture)),o="Close Transcript",s=!n;return zN(_$,{icon:zN(cI,{name:jN.CLOSE,focusable:"false"}),label:o,tooltipLabel:"Close",onClick:()=>{i("transcript",!1),r.sendEvent(qb.EMBEDDED_TRANSCRIPT_CLICK,{name:"exit_embed_transcript",copy:o,location:"player_embedded_transcript",element:"x_button",current_transcript_language:e.language})},disabled:s,"aria-controls":Y_.TRANSCRIPT_VIEWER,className:t,name:"close"})},b$=YS(((t,e)=>{const n=TP((t=>t.toggleSettingsDisplayed)),i=TP((t=>t.settingsDisplayed)),r=TP((t=>t.transcriptSizeMode))===KA.SMALL,o="Settings";return zN(_$,{ref:e,icon:zN(cI,{name:jN.SLIDERS,focusable:"false"}),label:o,tooltipLabel:o,"aria-controls":Y_.TRANSCRIPT_MENU,"aria-expanded":i,"aria-haspopup":r?"dialog":"true",onClick:n,name:"settings"})})),y$=YS(((t,e)=>{const n=TP((t=>t.transcriptSizeMode))===KA.SMALL;return zN("div",{className:"TranscriptHeader_lazy_module_transcriptHeader__3dd8816e",children:[zN("header",{children:zN(jI,{size:Jy.XL,className:"TranscriptHeader_lazy_module_title__3dd8816e",color:eg.WHITE,element:n?"h1":"h2",children:"Transcript"})}),zN(b$,{ref:e}),zN(m$,{})]})})),g$=Bt.android||Bt.iOS,w$=()=>{const t=QO((t=>t.displayList.transcript)),e=GN((t=>!t.embed.transparent)),n=QO((t=>t.element)),i=TS(null),r=TS(null),o=TS(null),s=TS(!1),u=TP((t=>t.selectedTrack)),l=TP((t=>t.transcriptDisabled)),{status:c,cues:d,load:h}=((t=QA)=>{const e=QO((t=>t.captions.textTrackEls)),n=QO((t=>t.captions.requiresCrossOrigin)),i=QO((t=>t.playback.hasFragments&&t.playback.currentFragment)),r=e.find((e=>(null==e?void 0:e.srclang)===t)),o=QO((t=>t.liveEvent.isLiveEvent)),s=QO((t=>t.liveEvent.dvrEnabled)),u=QO((t=>t.playback.liveTailTime)),l=QO((t=>t.playback.liveEdgeTime)),c=QO((t=>t.playback.canSeekForward)),d=QO((t=>t.playback.maxPlayedTime)),h=QO((t=>t.displayList.transcript)),f=QO((t=>t.events)),p=TS(!1),v=TS(!1),_=TS(h);let m=null,b=null;o?(m=u,b=l):c||(b=d);const y=TS(m),g=TS(b),[w,T]=bS({status:qA.IDLE,cues:[],rawCues:[],load:()=>{}}),C=ES((()=>{return s?(v.current||(f.on(jc,o),f.on(Hc,d),f.on(mo.SEGMENT_CUES_LOADED,u)),c(),p.current=!0,f.fire(cf),v.current=!0,qm):(r&&(r.readyState===Qm.LOADED?e(r):r.readyState===Qm.ERROR?(r.src=Sb(r.src,"t",JSON.stringify(Date.now())),d()):(r.addEventListener("load",t),r.addEventListener("error",d),n&&r.parentElement.setAttribute("crossorigin","anonymous"),r.track.mode="hidden",c())),function(){r&&(r.removeEventListener("load",t),r.removeEventListener("error",d))});function t(t){e(t.target)}function e(t){var e,n;"showing"!==(null==t||null==(e=t.track)?void 0:e.mode)&&(t.track.mode="hidden"),l(null==t||null==(n=t.track)?void 0:n.cues)}function o(t){l(t),p.current=!1}function u(t){null!=t&&t.length&&(p.current||function(t){T((e=>{const n=e.rawCues;if(function(t){var e;return(null==(e=t[t.length-1])?void 0:e.endTime)||0}(n)>function(t){var e;return(null==(e=t[0])?void 0:e.startTime)||0}(t))return e;const r=n.concat(t);return Q(Q({},e),{},{cues:iN(r,i,y.current,g.current),rawCues:r})}))}(t))}function l(t){try{let e=t?a(t):[];T((t=>Q(Q({},t),{},{status:qA.LOADED,cues:iN(e,i,y.current,g.current),rawCues:e,load:C})))}catch(t){d()}}function c(){T((t=>Q(Q({},t),{},{status:qA.LOADING,cues:[],load:C})))}function d(){T((t=>Q(Q({},t),{},{status:qA.ERROR,cues:[],load:C})))}}),[e,r,t,n,i,s,f]);return gS((()=>{C()}),[t,e,C]),gS((()=>{y.current=m,g.current=b,T((t=>Q(Q({},t),{},{cues:iN(t.rawCues,i,y.current,g.current)})))}),[i,m,b]),gS((()=>{s&&h&&!_.current&&C(),_.current=h}),[h,s,C]),w})(null==u?void 0:u.language),f=$N(t),p=ES((()=>{var t;null==n||null==(t=n.querySelector(`#${tm.TRANSCRIPT}`))||t.focus()}),[n]),v=ES((()=>{s.current=!0}),[]),_=ES((()=>{!t&&s.current&&(p(),s.current=!1)}),[t,p]);if((({status:t,transcriptSearchInputRef:e,transcriptContainerRef:n})=>{const i=QO((t=>t.displayList.rightContentArea)),r=QO((t=>t.appearance.rightContentAreaAnimating)),o=QO((t=>t.element));gS((function(){if(t===qA.LOADED&&i&&!r){var s,a,u;if((null==(s=document.activeElement)?void 0:s.id)!==tm.TRANSCRIPT&&!(null==(a=o.querySelector(`#${tm.TRANSCRIPT}`))?void 0:a.contains(document.activeElement)))return;let t;t=g$?ON(n.current).filter((t=>"input"!==t.tagName))[0]:e.current,null==(u=t)||u.focus()}}),[t,i,o,r,n,e])})({status:c,transcriptContainerRef:r,transcriptSearchInputRef:o}),c===qA.ERROR)return zN(NP,{onRetry:h});if(qA.LOADED&&Bt.isGoogleBot)return zN(p$,{cues:d});if(c===qA.LOADED&&(null==d||!d.length))return zN(f$,{});const m=_m("Transcript_lazy_module_transcript__462d056a",!t&&"Transcript_lazy_module_hidden__462d056a",e&&"Transcript_lazy_module_applyBackground__462d056a",l&&"Transcript_lazy_module_disabled__462d056a");return zN("div",Q(Q({id:Y_.TRANSCRIPT_VIEWER,className:m,"data-component-type":"transcript",ref:r,onFocus:v,onBlur:_,"aria-label":"Transcript"},f),{},{children:[c===qA.LOADED&&zN(mI,{children:[zN(y$,{ref:i}),zN(h$,{cues:d,ref:o}),zN(d$,{buttonRef:i})]}),c===qA.LOADING&&zN(iL,{}),c===qA.LOADED&&zN(u$,{cues:d})]}))};var T$=Object.freeze({__proto__:null,Transcript:()=>zN(EP,{children:zN(w$,{})})});gP(".Compass_lazy_module_compassBackground__71e9b9ee{fill:#000000e6}.Compass_lazy_module_compassRing__71e9b9ee{stroke:#fff}.Compass_lazy_module_compassDimple__71e9b9ee,.Compass_lazy_module_compassSlice__71e9b9ee{fill:#fff}.Compass_lazy_module_compassWrapper__71e9b9ee{background:#0000;border:none;cursor:pointer;display:block;height:40px;opacity:.35;padding:0;pointer-events:all;position:absolute;right:1em;top:49%;transition:opacity .2s ease-in-out,fill .2s ease-in-out;width:40px;z-index:20}.Compass_lazy_module_compassWrapper__71e9b9ee:focus,.Compass_lazy_module_compassWrapper__71e9b9ee:hover{opacity:1}.Compass_lazy_module_compassWrapper__71e9b9ee:focus .Compass_lazy_module_compassBackground__71e9b9ee,.Compass_lazy_module_compassWrapper__71e9b9ee:hover .Compass_lazy_module_compassBackground__71e9b9ee{fill:#000c}.Compass_lazy_module_tooltipWrapper__71e9b9ee{height:100%}",{});const C$=18;var E$=Object.freeze({__proto__:null,COMPASS_RADIUS_PX:C$,COMPASS_SLICE_OFFSET_DEG:45,Compass:()=>{const t=QO((t=>t.backbone)),e=QO((t=>t.embed.compass)),n=QO((t=>t.playback.playInitiated)),i=QO((t=>t.spatial.webVRActive)),r=QO((t=>t.spatial.longitude)),o=QO((t=>t.displayList.fullPlayerElement)),s=QO((t=>t.displayList.outro)),a=e&&n&&!i&&!s&&!o,u=`rotate(${r-45}, 18, 18)`,l=_m("Compass_lazy_module_compassWrapper__71e9b9ee",X_.COMPASS_WRAPPER,W_.EXCLUDE_GLOBAL_BUTTON_STYLES,zI);return zN(nI,{visible:a,children:zN("button",Q(Q({className:l},lm((()=>{var e;null==(e=t.getEffectByName("ThreeSixtyEffect"))||null==e.snapToCenter||e.snapToCenter()}))),{},{children:zN(xI,{id:"compass-button-tooltip",tooltipContent:"Reset view",position:LI.LEFT,margin:4,children:zN("div",{className:"Compass_lazy_module_tooltipWrapper__71e9b9ee",children:zN("svg",{viewBox:"0 0 36 36",children:[zN("circle",{className:"Compass_lazy_module_compassBackground__71e9b9ee",r:C$,cx:C$,cy:C$}),zN("path",{className:"Compass_lazy_module_compassSlice__71e9b9ee",transform:u,d:"M0,0 m18,18 l12,0 A12,12 0 0,0 18,6 z"}),zN("circle",{fill:"none",className:"Compass_lazy_module_compassRing__71e9b9ee",strokeWidth:"1",r:"14.5",cx:C$,cy:C$}),zN("polygon",{className:"Compass_lazy_module_compassDimple__71e9b9ee",points:"16,3.5 18,1 20,3.5"})]})})})}))})}});t.BigScreen=CC,t.VimeoPlayer=function(t,e,n,i){const o=function(t){if(!0===t)return r.resolve(null);let e=!1;return new r((n=>{t.link.addEventListener("load",(()=>{if(!e){e=!0;const i=(new Date).getTime()-t.startTime;setTimeout((()=>n(i)),100)}}),!1)}))}(n),s=new PB({element:t,delegate:i,cssLoadedPromise:o}),u=s.store;t.classList.add("js-player-fullscreen");let l=s.expose,c=null,d=null,h=null,f=null,p=null,v=null;const _=t.querySelector(`.${X_.VP_CONTROLS}`),m={tiny:Dp,mini:Bp,normal:$p,none:$p};function b(e){e&&void 0!==m[e]&&(s.events.fire(m[e]),t.classList.toggle("player-normal","normal"===e),t.classList.toggle("player-mini","mini"===e),t.classList.toggle("player-tiny","tiny"===e))}function y(e){e&&void 0!==m[e]&&(t.classList.toggle("app-normal","normal"===e),t.classList.toggle("app-mini","mini"===e),t.classList.toggle("app-tiny","tiny"===e))}function g(e){Object.keys(RT).forEach((n=>t.classList.toggle(`player-${n}`,e===n)))}function w(e){Object.keys(RT).forEach((n=>t.classList.toggle(`app-${n}`,e===n)))}function T(){const e=s.config.embed.settings;t.classList.toggle("with-fullscreen",!!e.fullscreen);const n=e.custom_logo;t.classList.toggle("with-custom-logo",!!n),t.classList.toggle("with-sticky-custom-logo",n&&n.sticky),t.classList.toggle("hide-controls-mode",!!e.background||0===e.controls),t.classList.toggle("touch-support",Bt.touch),t.classList.toggle("is-google-bot",Bt.isGoogleBot)}function C(t,e=s.config.video.url){if(!(!e||t&&t.metaKey)){if(-1===e.indexOf("#")&&s.backbone.currentTime>0&&s.backbone.currentTime<s.config.video.duration-30&&!s.backbone.paused&&(e+=`#at=${Math.floor(s.backbone.currentTime)}`),!s.config.embed.on_site)return window.open(e),function(t){if(t&&t.detail>0)try{document.activeElement.blur()}catch(t){}}(t),s.events.fire(xf),!1;window.location=e}}function E(){f||(b(u.get("ui.player.mode")),f=u.watch("ui.player.mode",b)),p||(b(u.get("ui.app.mode")),p=u.watch("ui.app.mode",y))}function k(){d||(g(u.get("ui.player.breakpoint")),d=u.watch("ui.player.breakpoint",g)),h||(w(u.get("ui.app.breakpoint")),h=u.watch("ui.app.breakpoint",w))}function S(){T(),v=new r((t=>{let e=null;const n=()=>{clearTimeout(e),window.innerWidth>0&&window.innerHeight>0?t():e=setTimeout(n,250)};s.events.once(uv,n),s.events.once(_f,n)})),s.events.on(up,(()=>{s.performDelegateAction(dT,(()=>{s.config.video.vod&&s.config.video.vod.url?C(null,`${s.config.video.vod.url}#collections`):s.config.video.url&&C(null,`${s.config.video.url}#collections`)}))})),s.events.on(op,(()=>{const t=s.config.embed.settings.share&&s.config.embed.settings.share.embed_only,e=()=>{s.events.fire(Rh,"share",t)};CC.element?e():s.performDelegateAction(lT,e)})),s.events.on(sp,(()=>{s.config.embed.settings.share.embed_only&&s.performDelegateAction(lT,(()=>{s.events.fire(Rh,"share",!0)}))})),s.events.on(gf,(()=>{t.classList.add("player-ad")})),s.events.on([wf,xh],(()=>{t.classList.remove("player-ad")})),function(){const e=function(){return function(t,e){return t&&t.then||(t=r.resolve(t)),e?t.then(e):t}(v,(function(){const e=function(){const{width:e,height:n}=r_(t),i="10px";return oy?n<=200?i:e<450?"12px":e<=1024?"11px":i:i}();_&&(_.style.fontSize=e);const n=t.querySelector(`.${X_.VP_SIDEDOCK}`);n&&(n.style.fontSize=e)}))};s.events.on(tp,e),s.events.on(np,e),window.addEventListener("orientationchange",e),oy&&(t.classList.add("mobile"),e())}(),E(),k(),function(){function e(){let e=t;if(i&&i.getFullscreenElement&&"function"==typeof i.getFullscreenElement){const n=i.getFullscreenElement();n&&n instanceof HTMLElement&&n.contains(t)&&n.classList.contains("js-player-fullscreen")&&(e=n)}return e}s.config.embed.fullscreen=!0,Bt.iPad&&t.classList.add("no-fullscreen-api-support");const n=s.config.embed.playsinline&&(Bt.iOS>=10||M_),r=Bt.iPad||n;CC.enabled||r||(t.classList.add("no-fullscreen-support"),Bt.iOS||(s.config.embed.fullscreen=!1));let o=!1,a=!1;s.events.on(Uh,(function(){CC.enabled||CC.videoEnabled(t)?(s.events.fire(Jf),a=!1,CC.request(e())):s.events.fire(qh,!0)})),s.events.on(Rf,(function(){if(s.backbone.pictureInPictureActive&&s.backbone.exitPictureInPicture(),CC.element)s.events.fire(ep),CC.exit();else{const{HAVE_CURRENT_DATA:t}=s.backbone.videoElement;Bt.fullscreenRequiresDataLoaded&&s.backbone.readyState<t&&s.backbone.play(),s.events.fire(Jf),a=!0,CC.request(e())}}));var u=CC.onenter,l=CC.onexit;if(CC.onenter=function(t){null!==document.webkitFullScreenElement&&(o||(e().contains(t)?function(t){o||(o=!0,s.events.fire(tp,e()===t,a))}(t):"function"==typeof u&&u(t)))},CC.onexit=function(){document.webkitFullScreenElement||(o?o&&(o=!1,s.events.fire(np,a),a||s.events.fire(qh,!1),a=!1):"function"==typeof l&&l())},Pg(t).on("click","a",(function(t){CC.element===e()&&CC.exit()})),Pg(t).on("gestureend",(function(t){t.scale>1&&s.events.fire(Rf)})),"undefined"!=typeof MSGesture){var c=1,d=new MSGesture;d.target=t,Pg(t).on("pointerdown",(function(t){d.addPointer(t.pointerId)})).on(["MSGestureChange"],(function(t){c*=t.scale})).on(["MSGestureEnd"],(function(){(!o&&c>=2||o&&c<1)&&s.events.fire(Rf),c=1}))}}(),function(){const e=yb(bh,s.config);!function(t,e,n,i){var r=!1;i="function"==typeof e?n:i,n="function"==typeof e?e:n;var o=function(t){var e=!0;if(t.changedTouches){var o=t.changedTouches[0].pageX-window.pageXOffset,s=t.changedTouches[0].pageY-window.pageYOffset,a=document.elementFromPoint(o,s);null!==a&&this.contains(a)&&(e=n.call(this,t))}return"function"==typeof i&&i.call(this,t),r=!0,e},s=function(t){if(!r)return n.call(this,t);r=!1};(e="function"==typeof e?null:e)?Pg(t).on("click",e,s).on("touchend",e,o):Pg(t).on("click",s).on("touchend",o)}(t,"a[data-clip-link]",(t=>C(t,e))),s.events.on(Bh,C)}(),s.events.on(Lp,(()=>{T()}))}function A(){c||(c=new XB(s,u,t),Object.defineProperties(l,{pauseKeyboard:{enumerable:!0,value:c.pause},unpauseKeyboard:{enumerable:!0,value:c.unpause}}))}const N="right-content-area-open",M="right-content-area-supported",O="[data-content-area-sibling-eligible]",I="content-area-sibling-enabled";let L;function R(t=400){var e;L&&clearTimeout(L),null==(e=s.element)||null==(e=e.classList)||e.add("animating"),L=setTimeout((()=>{var t;null==(t=s.element)||null==(t=t.classList)||t.remove("animating")}),t)}const x={initializationHandler:()=>(s.events.on(Ov,(t=>{t&&!s.element.classList.contains(N)?(R(),s.element.classList.add(N)):!t&&s.element.classList.contains(N)&&(R(),s.element.classList.remove(N))})),s.events.on(Iv,(()=>{var t;null==(t=s.element)||null==(t=t.classList)||t.add(M),a(s.element.querySelectorAll(O)).forEach((t=>{var e;return null==t||null==(e=t.classList)?void 0:e.add(I)}))})),s.events.on(Lv,(()=>{var t;null==(t=s.element)||null==(t=t.classList)||t.remove(M),a(s.element.querySelectorAll(O)).forEach((t=>{var e;return null==t||null==(e=t.classList)?void 0:e.remove(I)}))})),new DB(s,u,t),A(),S(),r.resolve()),postInitializationHandler:()=>r.resolve(),authorizationHandler(t){k(),E(),t(),A();let e="Error",n="Unhandled video privacy";switch(s.config.view){case E_.privatePassword:return new r((t=>{s.events.once(xp,(e=>{t(e)}))}));case E_.privateLocked:let t;return t=s.config.user.logged_in?r.reject():new r(((t,e)=>{s.events.once(Pp,(n=>{n.view!==E_.privateLocked?t(n):e()}))})),t;case E_.geoBlocked:case E_.drmPlaybackUnavailable:return r.reject();case E_.error:e=s.config.title,n=s.config.message}return s.config.view!==E_.main&&s.config.view!==E_.privateUnlocked&&s.events.fire(vf,"error",{title:e,message:n}),r.reject()}};return s.init(e,x).catch((e=>{Cg.captureException(e),t.classList.remove("loading");const n=am();s.events.fire(_f,n.type,n)})),l},t.requestModule=Re,Object.defineProperty(t,"Vu",{value:!0})}(this.window=this.window||{});
