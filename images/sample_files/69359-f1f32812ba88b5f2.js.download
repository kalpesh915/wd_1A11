"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69359],{782109:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(867932),o=n(875858),i=n.n(o),a=n(397458);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e){return(0,a.jsx)(i(),l(l({},e),{},{legacyBehavior:!0}))}},628463:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(652983);function o(e,t,n=31435023845,o=sessionStorage){let{0:i,1:a}=(0,r.useState)(s(e));function s(e){let t=o.getItem(e);if(!t)return null;let n=JSON.parse(t);return new Date().getTime()>n?.expiry?(o.removeItem(e),null):n?.value||null}function l(t){var r;let i={value:t,expiry:new Date().getTime()+86123353*n};a(t),r=JSON.stringify(i),o.setItem(e,r)}return(0,r.useEffect)(()=>{null===s(e)&&l(t)},[]),{value:i,set:l,remove:function(){l(null),o.removeItem(e)}}}},680353:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(867932),o=n(429143),i=n(242145),a=n(142591),s=n(652983),l=n(751004),u=n(139813),c=n(670296),d=n(205609),m=n(736416),p=n(102684),g=n(397458);let f=({label:e,avatarUri:t})=>(0,g.jsxs)(l.xu,{display:"flex",alignItems:"center",gap:"10px",px:"6px",children:[(0,g.jsx)(u.q,{alt:"avatar",size:"xs",src:t}),(0,g.jsx)(l.xu,{fontSize:"md",lineHeight:"16px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",children:e})]}),y=({text:e,from:t,to:n})=>{if(e&&void 0!==t&&void 0!==n){let r=e.slice(0,t),o=e.slice(t,n),i=e.slice(n);return(0,g.jsxs)(g.Fragment,{children:[r,(0,g.jsx)("mark",{className:"highlighted-mention-text",children:o}),i]})}return(0,g.jsx)(g.Fragment,{children:e})};var h=({node:{attrs:e},extension:{options:{onMentionRemove:t,onMentionAdd:n}}})=>{(0,s.useEffect)(()=>(n?.(e),()=>{t&&(e.teamUserId||e.userId)&&t(e.userId?parseInt(e.userId??""):parseInt(e.teamUserId??""))}),[t,e.userId,e.teamUserId]);let r=(0,m.I)(),o=e.name??e.label,a=e.avatar??p.u,u=e.highlight??{from:void 0,to:void 0};return(0,g.jsx)(l.xu,{as:i.T5,display:"inline",children:(0,g.jsx)(c.u,{label:(0,g.jsx)(f,{label:o,avatarUri:a}),placement:"top",children:(0,g.jsx)(d.x,{display:"inline",cursor:"pointer",color:r?"fill-brand":"focus",fontSize:"sm",fontWeight:"bold",_hover:{color:"blue.600"},children:(0,g.jsx)(y,{text:e.label,from:u.from,to:u.to})})})})};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=o.ZP.extend({addProseMirrorPlugins(){return[(0,a.q$)(O({editor:this.editor},this.options.suggestion))]},addAttributes(){return O(O({},this.parent?.()),{},{userId:{default:void 0},teamUserId:{default:void 0},guestUserId:{default:void 0},email:{default:void 0},avatar:{default:void 0},name:{default:void 0},highlight:{default:void 0}})},addNodeView:()=>(0,i.fW)(h)})},102684:function(e,t,n){n.d(t,{r:function(){return o},u:function(){return r}});let r="https://i.vimeocdn.com/custom_asset/92992640f627fdad710e4c3cb728b1b2",o="https://i.vimeocdn.com/portrait/defaults-gray_75x75.png"},725496:function(e,t,n){n.d(t,{K:function(){return p}}),n(652983);var r=n(725065),o=n(751004),i=n(951908),a=n(809839),s=n(587885),l=n(496777),u=n(101286),c=n(662555),d=n(397458);let m=(0,r.F4)`
    from {
        width: 10%;
    }
    to {
        width: 100%;
    }
`,p=({updateCommentSearchQuery:e,onCloseSearch:t,searchInputRef:n})=>(0,d.jsx)(o.xu,{width:"100%",height:"auto",display:"flex",justifyContent:"flex-end",children:(0,d.jsxs)(i.B,{display:"inline-block",size:"sm",ref:n,animation:`${m} 250ms ease forwards`,children:[(0,d.jsx)(a.I,{placeholder:(0,c.Iu)({singular:"Search comments",dictionary:{es:{singular:"Buscar comentarios"},"de-DE":{singular:"Kommentare durchsuchen"},"fr-FR":{singular:"Rechercher des commentaires"},"ja-JP":{singular:"コメントを検索"},"ko-KR":{singular:"댓글 검색"},"pt-BR":{singular:"Pesquisar coment\xe1rios"},"zh-CN":{singular:"搜索评论"}}}),_placeholder:{opacity:1,color:"gray.500"},onChange:t=>e?.(t),onKeyDown:e=>{e.stopPropagation(),"Escape"===e.key&&t?.()},size:"sm",autoFocus:!0}),(0,d.jsx)(s.x,{onClick:t,h:"100%",children:(0,d.jsx)(l.h,{"aria-label":(0,c.Iu)({singular:"Close Search",dictionary:{es:{singular:"Cerrar b\xfasqueda"},"de-DE":{singular:"Suche schlie\xdfen"},"fr-FR":{singular:"Fermer la recherche"},"ja-JP":{singular:"検索を閉じる"},"ko-KR":{singular:"검색 닫기"},"pt-BR":{singular:"Fechar busca"},"zh-CN":{singular:"关闭搜索"}}}),icon:(0,d.jsx)(u.z,{}),size:"xs",variant:"minimal"})})]})})},214243:function(e,t,n){n.d(t,{T:function(){return o}});var r=n(662555);let o={AllowViewerComments:(0,r.Iu)({singular:"Allow viewer comments",dictionary:{es:{singular:"Permitir comentarios de los espectadores"},"de-DE":{singular:"Zuschauer-Kommentare erlauben"},"fr-FR":{singular:"Autoriser les commentaires des spectateurs"},"ja-JP":{singular:"視聴者のコメントを許可"},"ko-KR":{singular:"뷰어 댓글 허용"},"pt-BR":{singular:"Permitir coment\xe1rios de espectadores"},"zh-CN":{singular:"允许观众评论"}}}),Cancel:(0,r.Iu)({singular:"Cancel",dictionary:{es:{singular:"Cancelar"},"de-DE":{singular:"Abbrechen"},"fr-FR":{singular:"Annuler"},"ja-JP":{singular:"キャンセル"},"ko-KR":{singular:"취소"},"pt-BR":{singular:"Cancelar"},"zh-CN":{singular:"取消"}}}),ConfirmDelete:(0,r.Iu)({singular:"Are you sure you want to delete this comment?",dictionary:{es:{singular:"\xbfEst\xe1s seguro de que deseas eliminar este comentario?"},"de-DE":{singular:"Willst du diesen Kommentar wirklich l\xf6schen?"},"fr-FR":{singular:"Voulez-vous vraiment supprimer ce commentaire\xa0?"},"ja-JP":{singular:"本当にこのコメントを削除しますか？"},"ko-KR":{singular:"이 소감을 정말로 삭제할까요?"},"pt-BR":{singular:"Tem certeza de que deseja excluir este coment\xe1rio?"},"zh-CN":{singular:"您确定要删除此评论吗？"}}}),CopyLink:(0,r.Iu)({singular:"Copy link to comment",dictionary:{es:{singular:"Copia el enlace para comentar"},"de-DE":{singular:"Link in Kommentar kopieren"},"fr-FR":{singular:"Copier le lien vers le commentaire"},"ja-JP":{singular:"コメントへのリンクをコピー"},"ko-KR":{singular:"소감에 링크 복사"},"pt-BR":{singular:"Copiar link para comentar"},"zh-CN":{singular:"复制评论链接"}}}),Delete:(0,r.Iu)({singular:"Delete",dictionary:{es:{singular:"Eliminar"},"de-DE":{singular:"L\xf6schen"},"fr-FR":{singular:"Supprimer"},"ja-JP":{singular:"削除"},"ko-KR":{singular:"삭제"},"pt-BR":{singular:"Excluir"},"zh-CN":{singular:"删除"}}}),DeleteComment:(0,r.Iu)({singular:"Delete comment",dictionary:{es:{singular:"Eliminar comentario"},"de-DE":{singular:"Kommentar l\xf6schen"},"fr-FR":{singular:"Supprimer un commentaire"},"ja-JP":{singular:"コメントを削除"},"ko-KR":{singular:"소감 삭제"},"pt-BR":{singular:"Excluir coment\xe1rio"},"zh-CN":{singular:"删除评论"}}}),EditComment:(0,r.Iu)({singular:"Edit comment",dictionary:{es:{singular:"Editar comentario"},"de-DE":{singular:"Kommentar bearbeiten"},"fr-FR":{singular:"Modifier le commentaire"},"ja-JP":{singular:"コメントを編集"},"ko-KR":{singular:"소감 편집"},"pt-BR":{singular:"Editar coment\xe1rio"},"zh-CN":{singular:"编辑评论"}}}),Edit:(0,r.Iu)({singular:"Edit",dictionary:{es:{singular:"Editar"},"de-DE":{singular:"Bearbeiten"},"fr-FR":{singular:"Modifier"},"ja-JP":{singular:"編集"},"ko-KR":{singular:"편집"},"pt-BR":{singular:"Editar"},"zh-CN":{singular:"编辑"}}}),InputPlaceholder:(0,r.Iu)({singular:"Add a comment",dictionary:{es:{singular:"A\xf1adir un comentario"},"de-DE":{singular:"Kommentar hinzuf\xfcgen"},"fr-FR":{singular:"Ajouter un commentaire"},"ja-JP":{singular:"コメントの追加"},"ko-KR":{singular:"소감을 입력하세요"},"pt-BR":{singular:"Adicione um coment\xe1rio"},"zh-CN":{singular:"添加评论"}}}),Newest:(0,r.Iu)({singular:"Newest",dictionary:{es:{singular:"Los m\xe1s nuevos"},"de-DE":{singular:"Neueste"},"fr-FR":{singular:"Plus r\xe9centes"},"ja-JP":{singular:"新着順"},"ko-KR":{singular:"최신"},"pt-BR":{singular:"Mais recentes"},"zh-CN":{singular:"最新"}}}),NoComments:(0,r.Iu)({singular:"No comments yet",dictionary:{es:{singular:"A\xfan no hay ning\xfan comentario"},"de-DE":{singular:"Noch keine Kommentare"},"fr-FR":{singular:"Aucun commentaire pour le moment"},"ja-JP":{singular:"まだコメントがありません"},"ko-KR":{singular:"아직 소감이 없습니다"},"pt-BR":{singular:"Ainda n\xe3o h\xe1 coment\xe1rios"},"zh-CN":{singular:"暂无评论"}}}),NoCollaboratorsComment:(0,r.Iu)({singular:"No comments from collaborators",dictionary:{es:{singular:"No hay comentarios de los colaboradores"},"de-DE":{singular:"Keine Kommentare von Mitwirkenden"},"fr-FR":{singular:"Aucun commentaire de la part des collaborateurs"},"ja-JP":{singular:"コラボレーターからのコメントはありません"},"ko-KR":{singular:"협업자의 댓글이 없습니다."},"pt-BR":{singular:"N\xe3o h\xe1 coment\xe1rios de colaboradores"},"zh-CN":{singular:"尚无合作者的评论"}}}),NoCollaboratorsCommentYet:(0,r.Iu)({singular:"No comments from collaborators yet",dictionary:{es:{singular:"A\xfan no hay comentarios de los colaboradores"},"de-DE":{singular:"Noch keine Kommentare von Mitwirkenden vorhanden"},"fr-FR":{singular:"Aucun commentaire de la part des collaborateurs pour l'instant"},"ja-JP":{singular:"コラボレーターからのコメントはまだありません"},"ko-KR":{singular:"협업자 댓글이 아직 없습니다."},"pt-BR":{singular:"Ainda n\xe3o h\xe1 coment\xe1rios de colaboradores."},"zh-CN":{singular:"尚无合作者的评论"}}}),NoViewersCommentYet:(0,r.Iu)({singular:"No comments from viewers yet",dictionary:{es:{singular:"A\xfan no hay comentarios de los espectadores"},"de-DE":{singular:"Noch keine Kommentare von Zuschauenden"},"fr-FR":{singular:"Aucun commentaire de la part des spectateurs pour le moment"},"ja-JP":{singular:"視聴者からのコメントはまだありません"},"ko-KR":{singular:"뷰어 댓글이 아직 없습니다."},"pt-BR":{singular:"Ainda n\xe3o h\xe1 coment\xe1rios de espectadores"},"zh-CN":{singular:"尚无观众评论"}}}),NoCommentsAllowed:(0,r.Iu)({singular:"Comments are turned off",dictionary:{es:{singular:"Los comentarios est\xe1n desactivados"},"de-DE":{singular:"Kommentare sind deaktiviert"},"fr-FR":{singular:"Les commentaires sont d\xe9sactiv\xe9s"},"ja-JP":{singular:"コメントはオフになっています"},"ko-KR":{singular:"댓글이 꺼져 있습니다."},"pt-BR":{singular:"Os coment\xe1rios est\xe3o desativados"},"zh-CN":{singular:"评论已关闭"}}}),Notifications:(0,r.Iu)({singular:"Notifications",dictionary:{es:{singular:"Notificaciones"},"de-DE":{singular:"Benachrichtigungen"},"ja-JP":{singular:"通知"},"ko-KR":{singular:"알림"},"pt-BR":{singular:"Notifica\xe7\xf5es"},"zh-CN":{singular:"通知"}}}),DownloadCommentsAs:(0,r.Iu)({singular:"Download as...",dictionary:{es:{singular:"Descargar como..."},"de-DE":{singular:"Herunterladen als..."},"fr-FR":{singular:"T\xe9l\xe9charger en tant que…"},"ja-JP":{singular:"次の形式でダウンロード..."},"ko-KR":{singular:"다른 이름으로 다운로드..."},"pt-BR":{singular:"Baixar como..."},"zh-CN":{singular:"下载为..."}}}),Oldest:(0,r.Iu)({singular:"Oldest",dictionary:{es:{singular:"M\xe1s antiguo"},"de-DE":{singular:"Am \xe4ltesten"},"fr-FR":{singular:"Plus anciennes"},"ja-JP":{singular:"古い順"},"ko-KR":{singular:"가장 오래된 동영상"},"pt-BR":{singular:"Mais antigos"},"zh-CN":{singular:"最旧"}}}),Reply:(0,r.Iu)({singular:"Reply",dictionary:{es:{singular:"Responder"},"de-DE":{singular:"Antworten"},"fr-FR":{singular:"R\xe9pondre"},"ja-JP":{singular:"返信"},"ko-KR":{singular:"답글 달기"},"pt-BR":{singular:"Responder"},"zh-CN":{singular:"回复"}}}),RepliesToggle:e=>(0,r.Iu)({singular:"{replyCount} reply",plural:"{replyCount} replies",count:e,replacements:{replyCount:e},dictionary:{es:{singular:"{replyCount} respuesta",plural:"{replyCount} respuestas"},"de-DE":{singular:"{replyCount} Antwort",plural:"{replyCount} Antworten"},"fr-FR":{singular:"{replyCount}\xa0r\xe9ponse",plural:"{replyCount}\xa0r\xe9ponses"},"ja-JP":{singular:"{replyCount}件の返信",plural:"{replyCount}件の返信"},"ko-KR":{singular:"답글 {replyCount}개",plural:"답글 {replyCount}개"},"pt-BR":{singular:"{replyCount} resposta",plural:"{replyCount} respostas"},"zh-CN":{singular:"{replyCount} 个回复",plural:"{replyCount} 个回复"}}}),Report:(0,r.Iu)({singular:"Report comment",dictionary:{es:{singular:"Denunciar el comentario"},"de-DE":{singular:"Kommentar melden"},"fr-FR":{singular:"Signaler un commentaire"},"ja-JP":{singular:"コメントを報告"},"ko-KR":{singular:"댓글 신고"},"pt-BR":{singular:"Denunciar coment\xe1rio"},"zh-CN":{singular:"举报评论"}}}),SaveEdit:(0,r.Iu)({singular:"Save",dictionary:{es:{singular:"Guardar"},"de-DE":{singular:"Speichern"},"fr-FR":{singular:"Enregistrer"},"ja-JP":{singular:"保存"},"ko-KR":{singular:"저장"},"pt-BR":{singular:"Salvar"},"zh-CN":{singular:"保存"}}}),Settings:(0,r.Iu)({singular:"Settings",dictionary:{es:{singular:"Configuraci\xf3n"},"de-DE":{singular:"Einstellungen"},"fr-FR":{singular:"Param\xe8tres"},"ja-JP":{singular:"設定"},"ko-KR":{singular:"설정"},"pt-BR":{singular:"Configura\xe7\xf5es"},"zh-CN":{singular:"设置"}}}),SortBy:(0,r.Iu)({singular:"Sort by:",dictionary:{es:{singular:"Ordenar por:"},"de-DE":{singular:"Sortieren nach:"},"fr-FR":{singular:"Trier par\xa0:"},"ja-JP":{singular:"並べ替え:"},"ko-KR":{singular:"정렬 기준:"},"pt-BR":{singular:"Classificar por:"},"zh-CN":{singular:"排序方式："}}}),Staff:(0,r.Iu)({singular:"Staff",dictionary:{"de-DE":{singular:"Mitarbeiter"},"ja-JP":{singular:"スタッフ"},"ko-KR":{singular:"스태프"},"pt-BR":{singular:"Equipe Vimeo"},"zh-CN":{singular:"工作人员"}}}),SubmitComment:(0,r.Iu)({singular:"Post",dictionary:{es:{singular:"Publicar"},"de-DE":{singular:"Posten"},"fr-FR":{singular:"Publier"},"ja-JP":{singular:"投稿"},"ko-KR":{singular:"게시"},"pt-BR":{singular:"Publicar"},"zh-CN":{singular:"发布"}}}),TimeCode:(0,r.Iu)({singular:"By timecode",dictionary:{es:{singular:"Por c\xf3digo de tiempo"},"de-DE":{singular:"Nach Timecode"},"fr-FR":{singular:"Par timecode"},"ja-JP":{singular:"タイムコード別"},"ko-KR":{singular:"타임코드별"},"pt-BR":{singular:"Por c\xf3digo de tempo"},"zh-CN":{singular:"按时间码"}}}),Title:(0,r.Iu)({singular:"Comments",dictionary:{es:{singular:"Comentarios"},"de-DE":{singular:"Kommentare"},"fr-FR":{singular:"Commentaires"},"ja-JP":{singular:"コメント"},"ko-KR":{singular:"소감"},"pt-BR":{singular:"Coment\xe1rios"},"zh-CN":{singular:"评论"}}}),CommentsLoadingError:(0,r.Iu)({singular:"Unable to load comments",dictionary:{es:{singular:"No se pudieron cargar los comentarios"},"de-DE":{singular:"Kommentare k\xf6nnen nicht geladen werden"},"fr-FR":{singular:"Impossible de charger les commentaires"},"ja-JP":{singular:"コメントを読み込めません"},"ko-KR":{singular:"댓글을 로드할 수 없습니다"},"pt-BR":{singular:"N\xe3o foi poss\xedvel carregar os coment\xe1rios"},"zh-CN":{singular:"无法加载评论"}}}),PostCommentError:(0,r.Iu)({singular:"Unable to post comment",dictionary:{es:{singular:"No se pudo publicar el comentario"},"de-DE":{singular:"Nicht m\xf6glich, einen Kommentar zu hinterlassen"},"fr-FR":{singular:"Impossible de Laisser un commentaire"},"ja-JP":{singular:"コメントを投稿できませんでした"},"ko-KR":{singular:"소감 추가 불가"},"pt-BR":{singular:"N\xe3o foi Poss\xedvel Postar Coment\xe1rio"},"zh-CN":{singular:"无法发布评论"}}}),PostReplyError:(0,r.Iu)({singular:"Unable to post reply",dictionary:{es:{singular:"No se pudo publicar la respuesta"},"de-DE":{singular:"Es ist nicht m\xf6glich, eine Antwort zu hinterlassen"},"fr-FR":{singular:"Impossible de R\xe9pondre \xe0 un commentaire"},"ja-JP":{singular:"返信を投稿できませんでした"},"ko-KR":{singular:"답글 추가 불가"},"pt-BR":{singular:"N\xe3o Foi Poss\xedvel Postar Uma Resposta"},"zh-CN":{singular:"无法发布回复"}}}),EditCommentError:(0,r.Iu)({singular:"Unable to save comment",dictionary:{es:{singular:"No se pudo guardar el comentario"},"de-DE":{singular:"Kommentar konnte nicht gespeichert werden"},"fr-FR":{singular:"Impossible d'enregistrer le commentaire"},"ja-JP":{singular:"コメントを保存できません"},"ko-KR":{singular:"소감을 저장할 수 없습니다."},"pt-BR":{singular:"N\xe3o foi poss\xedvel salvar o coment\xe1rio"},"zh-CN":{singular:"无法保存评论"}}}),Alum:(0,r.Iu)({singular:"Alum",dictionary:{es:{singular:"Exalumno"},"ja-JP":{singular:"卒業生"},"ko-KR":{singular:"전 스태프"},"zh-CN":{singular:"专辑"}}}),AllComments:(0,r.Iu)({singular:"All comments",dictionary:{es:{singular:"Todos los comentarios"},"de-DE":{singular:"Alle Kommentare"},"fr-FR":{singular:"Tous les commentaires"},"ja-JP":{singular:"すべてのコメント"},"ko-KR":{singular:"모든 소감"},"pt-BR":{singular:"Todos os coment\xe1rios"},"zh-CN":{singular:"所有评论"}}}),CollaboratorComments:(0,r.Iu)({singular:"Collaborator comments",dictionary:{es:{singular:"Comentarios de los colaboradores"},"de-DE":{singular:"Kommentare von Mitwirkenden"},"fr-FR":{singular:"Commentaires des collaborateurs"},"ja-JP":{singular:"コラボレーターのコメント"},"ko-KR":{singular:"협업자 댓글"},"pt-BR":{singular:"Coment\xe1rios dos colaboradores"},"zh-CN":{singular:"合作者评论"}}}),ViewerComments:(0,r.Iu)({singular:"Viewer comments",dictionary:{es:{singular:"Comentarios de los espectadores"},"de-DE":{singular:"Kommentare von Zuschauenden"},"fr-FR":{singular:"Commentaires des spectateurs"},"ja-JP":{singular:"視聴者のコメント"},"ko-KR":{singular:"시청자 댓글"},"pt-BR":{singular:"Coment\xe1rios de espectadores"},"zh-CN":{singular:"观众评论"}}}),Download:(0,r.Iu)({singular:"Download",dictionary:{es:{singular:"Descargar"},"de-DE":{singular:"Herunterladen"},"fr-FR":{singular:"T\xe9l\xe9charger "},"ja-JP":{singular:"ダウンロード"},"ko-KR":{singular:"다운로드"},"pt-BR":{singular:"Baixar"},"zh-CN":{singular:"下载"}}}),SelectListToDownload:(0,r.Iu)({singular:"Select list to download:",dictionary:{es:{singular:"Seleccione la lista para descargar:"},"de-DE":{singular:"W\xe4hlen Sie eine Liste zum Herunterladen aus:"},"fr-FR":{singular:"S\xe9lectionnez une liste \xe0 t\xe9l\xe9charger\xa0:"},"ja-JP":{singular:"ダウンロードするリストを選択："},"ko-KR":{singular:"다운로드할 목록 선택:"},"pt-BR":{singular:"Selecione a lista para baixar:"},"zh-CN":{singular:"选择要下载的列表："}}}),DownloadCommentsAsCsv:(0,r.Iu)({singular:"Download comments as CSV",dictionary:{es:{singular:"Descargar comentarios como CSV"},"de-DE":{singular:"Kommentare als CSV herunterladen"},"fr-FR":{singular:"T\xe9l\xe9charger les commentaires au format CSV"},"ja-JP":{singular:"コメントをCSV形式でダウンロード"},"ko-KR":{singular:"댓글을 CSV로 다운로드"},"pt-BR":{singular:"Baixar coment\xe1rios como arquivo CSV"},"zh-CN":{singular:"将评论下载为 CSV"}}}),DownloadLimit:(0,r.Iu)({singular:"Downloads are limited to the most recent 2,000 viewer and 2,000 collaborator comments",dictionary:{es:{singular:"Las descargas est\xe1n limitadas a los 2000 comentarios de espectadores y los 2000 comentarios de colaboradores m\xe1s recientes."},"de-DE":{singular:"Die Downloads sind auf die letzten 2.000 Zuschauenden- und 2.000 Mitarbeiterkommentare beschr\xe4nkt."},"fr-FR":{singular:"Les t\xe9l\xe9chargements sont limit\xe9s aux 2\xa0000\xa0derniers spectateurs et aux 2\xa0000\xa0derniers commentaires des collaborateurs"},"ja-JP":{singular:"ダウンロードできるのは、直近の視聴者2,000人とコラボレーターのコメント2,000件までです"},"ko-KR":{singular:"다운로드는 최근 뷰어 댓글 2,000개와 공동 작업자 댓글 2,000개로 제한됩니다."},"pt-BR":{singular:"Os downloads s\xe3o limitados aos \xfaltimos 2.000 espectadores e aos \xfaltimos 2.000 coment\xe1rios dos colaboradores"},"zh-CN":{singular:"下载内容仅限于最近的 2,000 条观众评论和 2,000 条合作者评论"}}}),DeletedComment:(0,r.Iu)({singular:"This comment was deleted.",dictionary:{es:{singular:"Este comentario se elimin\xf3."},"de-DE":{singular:"Dieser Kommentar wurde gel\xf6scht."},"fr-FR":{singular:"Ce commentaire a \xe9t\xe9 supprim\xe9."},"ja-JP":{singular:"このコメントは削除されました。"},"ko-KR":{singular:"이 댓글이 삭제되었습니다."},"pt-BR":{singular:"Este coment\xe1rio foi exclu\xeddo."},"zh-CN":{singular:"此评论已被删除。"}}}),DifferentSearch:(0,r.Iu)({singular:"Try a different search",dictionary:{es:{singular:"Pruebe con otra b\xfasqueda"},"de-DE":{singular:"Versuchen Sie es mit einer anderen Suche."},"fr-FR":{singular:"Essayer une autre recherche"},"ja-JP":{singular:"別の検索を試す"},"ko-KR":{singular:"다른 검색어로 검색해 보세요."},"pt-BR":{singular:"Tente uma busca diferente"},"zh-CN":{singular:"请尝试不同的搜索"}}}),Resolved:(0,r.Iu)({singular:"Resolved",dictionary:{es:{singular:"Resuelto"},"de-DE":{singular:"Gel\xf6st"},"fr-FR":{singular:"R\xe9solu"},"ja-JP":{singular:"解決済み"},"ko-KR":{singular:"해결됨"},"pt-BR":{singular:"Resolvido"},"zh-CN":{singular:"已解决"}}}),Edited:(0,r.Iu)({singular:"edited",dictionary:{es:{singular:"editado"},"de-DE":{singular:"bearbeitet"},"fr-FR":{singular:"modifi\xe9"},"ja-JP":{singular:"編集済み"},"ko-KR":{singular:"편집됨"},"pt-BR":{singular:"editado"},"zh-CN":{singular:"已编辑"}}}),ShowFrom:(0,r.Iu)({singular:"Show from",dictionary:{es:{singular:"Mostrar de"},"de-DE":{singular:"Anzeigen aus"},"fr-FR":{singular:"Afficher depuis"},"ja-JP":{singular:"表示元"},"ko-KR":{singular:"제목부터 표시"},"pt-BR":{singular:"Mostrar do"},"zh-CN":{singular:"显示來自"}}}),Everyone:(0,r.Iu)({singular:"Everyone",dictionary:{es:{singular:"Todos"},"de-DE":{singular:"Jeder"},"fr-FR":{singular:"Tout le monde"},"ja-JP":{singular:"全員"},"ko-KR":{singular:"모두가"},"pt-BR":{singular:"Todo mundo"},"zh-CN":{singular:"所有人"}}}),OnlyFromTeam:(0,r.Iu)({singular:"Only from team",dictionary:{es:{singular:"Solo del equipo"},"de-DE":{singular:"Nur vom Team"},"fr-FR":{singular:"Uniquement de la part de l'\xe9quipe"},"ja-JP":{singular:"チームからのみ"},"ko-KR":{singular:"팀에서만"},"pt-BR":{singular:"Somente da equipe"},"zh-CN":{singular:"仅来自团队"}}}),OnlyGuests:(0,r.Iu)({singular:"Only guests",dictionary:{es:{singular:"Solo invitados"},"de-DE":{singular:"Nur G\xe4ste"},"fr-FR":{singular:"Invit\xe9s uniquement"},"ja-JP":{singular:"ゲストのみ"},"ko-KR":{singular:"게스트만"},"pt-BR":{singular:"Somente convidados"},"zh-CN":{singular:"仅限访客"}}}),MentionsAndReplies:(0,r.Iu)({singular:"Mentions and replies",dictionary:{es:{singular:"Menciones y respuestas"},"de-DE":{singular:"Erw\xe4hnungen und Antworten"},"fr-FR":{singular:"Mentions et r\xe9ponses"},"ja-JP":{singular:"メンションと返信"},"ko-KR":{singular:"언급 및 답글"},"pt-BR":{singular:"Men\xe7\xf5es e respostas"},"zh-CN":{singular:"提及和回复"}}}),HideResolvedComments:(0,r.Iu)({singular:"Hide resolved comments",dictionary:{es:{singular:"Ocultar los comentarios resueltos"},"de-DE":{singular:"Kommentare, die sich erledigt haben, ausblenden"},"fr-FR":{singular:"Masquer les commentaires r\xe9solus"},"ja-JP":{singular:"解決済みのコメントを非表示にする"},"ko-KR":{singular:"해결된 소감 숨기기"},"pt-BR":{singular:"Ocultar coment\xe1rios resolvidos"},"zh-CN":{singular:"隐藏已解决的评论"}}}),ShowResolvedComments:(0,r.Iu)({singular:"Show resolved comments",dictionary:{es:{singular:"Mostrar los comentarios resueltos"},"de-DE":{singular:"Kommentare, die sich erledigt haben, anzeigen"},"fr-FR":{singular:"Afficher les commentaires r\xe9solus"},"ja-JP":{singular:"解決済みコメントを表示"},"ko-KR":{singular:"해결된 소감 표시"},"pt-BR":{singular:"Mostrar coment\xe1rios resolvidos"},"zh-CN":{singular:"显示已解决的评论"}}}),ViewersCanNotPostNewComments:(0,r.Iu)({singular:"Viewers can't post new comments",dictionary:{es:{singular:"Los espectadores no pueden publicar comentarios nuevos"},"de-DE":{singular:"Zuschauende k\xf6nnen keine neuen Kommentare posten"},"fr-FR":{singular:"Les spectateurs ne peuvent pas publier de nouveaux commentaires."},"ja-JP":{singular:"視聴者は新しいコメントを投稿できません"},"ko-KR":{singular:"뷰어가 새 댓글을 게시할 수 없습니다."},"pt-BR":{singular:"Os espectadores n\xe3o podem publicar novos coment\xe1rios"},"zh-CN":{singular:"观众无法发表新评论"}}}),AllowComments:(0,r.Iu)({singular:"Allow comments",dictionary:{es:{singular:"Permitir los comentarios"},"de-DE":{singular:"Kommentare zulassen"},"fr-FR":{singular:"Autoriser les commentaires"},"ja-JP":{singular:"コメントを許可"},"ko-KR":{singular:"소감 허용"},"pt-BR":{singular:"Permitir coment\xe1rios"},"zh-CN":{singular:"允许评论"}}}),NoMatchingResults:(0,r.Iu)({singular:"No matching results",dictionary:{es:{singular:"No hay resultados coincidentes"},"de-DE":{singular:"Keine \xfcbereinstimmenden Ergebnisse"},"fr-FR":{singular:"Aucun r\xe9sultat correspondant"},"ja-JP":{singular:"一致する結果がありません"},"ko-KR":{singular:"일치하는 결과가 없습니다."},"pt-BR":{singular:"Nenhum resultado correspondente"},"zh-CN":{singular:"无匹配结果"}}}),ClearFilters:(0,r.Iu)({singular:"Clear filters",dictionary:{es:{singular:"Quitar los filtros"},"de-DE":{singular:"Filter l\xf6schen"},"fr-FR":{singular:"Supprimer les filtres"},"ja-JP":{singular:"フィルターを解除"},"ko-KR":{singular:"필터 지우기"},"pt-BR":{singular:"Limpar filtros"},"zh-CN":{singular:"清除过滤器"}}}),LinkCopied:(0,r.Iu)({singular:"Link copied",dictionary:{es:{singular:"V\xednculo copiado"},"de-DE":{singular:"Link kopiert"},"fr-FR":{singular:"Lien copi\xe9"},"ja-JP":{singular:"リンクがコピーされました"},"ko-KR":{singular:"링크가 복사됐습니다"},"pt-BR":{singular:"Link copiado"},"zh-CN":{singular:"链接已复制"}}}),Filter:(0,r.Iu)({singular:"Filter",dictionary:{es:{singular:"Filtro"},"fr-FR":{singular:"Filtre"},"ja-JP":{singular:"フィルター"},"ko-KR":{singular:"필터"},"pt-BR":{singular:"Filtro"},"zh-CN":{singular:"筛选"}}}),Sort:(0,r.Iu)({singular:"Sort",dictionary:{es:{singular:"Organizar por"},"de-DE":{singular:"Sortieren"},"fr-FR":{singular:"Trier"},"ja-JP":{singular:"並べ替え："},"ko-KR":{singular:"정렬"},"pt-BR":{singular:"Classificar por:"},"zh-CN":{singular:"排序"}}}),MarkAsResolved:(0,r.Iu)({singular:"Mark as resolved",dictionary:{es:{singular:"Marcar como resuelto"},"de-DE":{singular:"Als gel\xf6st markieren"},"fr-FR":{singular:"Marquer comme r\xe9solu"},"ja-JP":{singular:"解決済みとしてマーク"},"ko-KR":{singular:"해결됨으로 표시"},"pt-BR":{singular:"Marcar como finalizado"},"zh-CN":{singular:"标记为已解决"}}}),ReOpen:(0,r.Iu)({singular:"Re-open",dictionary:{es:{singular:"Volver a abrir"},"de-DE":{singular:"Erneut \xf6ffnen"},"fr-FR":{singular:"Rouvrir"},"ja-JP":{singular:"再開"},"ko-KR":{singular:"다시 열기"},"pt-BR":{singular:"Reabrir"},"zh-CN":{singular:"重新开启"}}})}},274518:function(e,t,n){n.d(t,{Pd:function(){return i},d$:function(){return a},gp:function(){return o},jF:function(){return s}});var r=n(662555);let o=e=>{let t="https://i.vimeocdn.com/custom_asset/92992640f627fdad710e4c3cb728b1b2",n=e?.find(e=>72===e.width)?.link||e?.[1]?.link||t,r=e?.find(e=>144===e.width)?.link||e?.[2]?.link||t;return[n,`${r} 2x`]},i=e=>e?parseInt(e.substring(e.lastIndexOf("/")+1),10):0,a=(e,t=!0)=>{let n=document.querySelector(`#anchor_${e.split("/").pop()}`);n&&(t?n.classList.add("is--highlighted"):n.classList.remove("is--highlighted"));let r=document.querySelector(`#comment_${e.split("/").pop()}`);r&&(t?r.classList.add("is--highlighted"):r.classList.remove("is--highlighted"))};function s(e){let t=new Date(e),n=navigator.language||"en-US",o=new Intl.DateTimeFormat(n,{month:"short",day:"numeric",year:"numeric"}),i=new Intl.DateTimeFormat(n,{hour:"numeric",minute:"numeric",hour12:!0}),a=o.format(t),s=i.format(t);return(0,r.Iu)({singular:"{DATE} at {TIME}",replacements:{DATE:a,TIME:s},dictionary:{es:{singular:"El {DATE} a las {TIME}"},"de-DE":{singular:"{DATE} am {TIME}"},"fr-FR":{singular:"Le {DATE} \xe0 {TIME}"},"ja-JP":{singular:"{DATE} {TIME}"},"ko-KR":{singular:"{DATE} {TIME}"},"pt-BR":{singular:"Em {DATE} \xe0s {TIME}"},"zh-CN":{singular:"{DATE} {TIME}"}}})}},543437:function(e,t,n){n.d(t,{$:function(){return s},B:function(){return a}});var r=n(652983),o=n(397458);let i=()=>Error("Not implemented"),a=(0,r.createContext)({comments:[],setComments:i,setActiveComment:i,isCommentsShowing:!1,setIsCommentsShowing:i}),s=e=>{let{0:t,1:n}=(0,r.useState)([]),{0:i,1:s}=(0,r.useState)(),{0:l,1:u}=(0,r.useState)(!1);return(0,o.jsx)(a.Provider,{value:{comments:t,setComments:n,activeComment:i,setActiveComment:s,isCommentsShowing:l,setIsCommentsShowing:u},children:e.children})}},103514:function(e,t,n){n.d(t,{b:function(){return e$}});var r=n(867932),o=n(92575),i=n(652983),a=n(116127),s=n(696146),l=n(731500),u=n(511289),c=n(748171),d=n(401169),m=n(41792),p=n(202958),g=n(291017),f=n(844578),y=n(602156),h=n(205609),b=n(662555),O=n(102684),v=n(139813),w=n(397458);let j=["size","src"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let C=e=>{let{size:t="sm",src:n=O.u}=e,r=(0,o.Z)(e,j);return(0,w.jsx)(v.q,P(P({},r),{},{src:n,size:t,style:{display:"flex",overflow:"visible"}}))},E=["src","srcSet","email","name","isPending","avatarSize"];function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let S=e=>{let{src:t=O.u,srcSet:n,email:r,name:i,isPending:a,avatarSize:s}=e,l=(0,o.Z)(e,E),u=(0,f.ff)("#47515B","#B5B5B5");return(0,w.jsxs)(g.s,x(x({py:8},l),{},{gap:"2",minW:"0",children:[(0,w.jsx)(C,{size:s,srcSet:a?O.r:n,src:a?O.r:t,alt:"avatar"}),(0,w.jsxs)(y.g,{alignItems:"flex-start",gap:"0",minW:"0",children:[i?(0,w.jsx)(h.x,{fontSize:"text-sm",fontWeight:"bold",as:"label",color:"text-primary",w:"100%",isTruncated:!0,children:i}):null,r?(0,w.jsx)(h.x,{fontSize:a?"text-sm":"text-xs",fontWeight:a?"bold":"regular",color:a?"text-primary":u,w:"100%",isTruncated:!0,children:r}):null,a?(0,w.jsx)(h.x,{fontSize:"text-xs",color:u,as:"i",children:(0,b.Iu)({singular:"Pending",dictionary:{es:{singular:"Pendiente"},"de-DE":{singular:"ausstehend"},"fr-FR":{singular:"en attente"},"ja-JP":{singular:"保留"},"ko-KR":{singular:"보류 중"},"pt-BR":{singular:"pendente"},"zh-CN":{singular:"待定"}}})}):null]})]}))},k=["selectedIndex","isOpen","isLoading","avatarSize","icon","iconSpacing","mentionSuggestions","onMenuItemSelection"];function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let D=e=>{let t=(0,w.jsx)(d.O,{w:"sm",h:"sm",borderRadius:"round"}),n=(0,w.jsx)(d.O,{borderRadius:"pill",w:"100%",h:"sm",bgSize:"200%"});return(0,w.jsx)(m.v,{autoSelect:!1,autoFocus:!1,strategy:null,isOpen:!0,children:(0,w.jsxs)(p.q,$($({},e),{},{gap:"0",children:[(0,w.jsxs)(g.s,{gap:"2",children:[t,n]}),(0,w.jsxs)(g.s,{gap:"2",children:[t,n]})]}))})},F=e=>{let{selectedIndex:t=0,isOpen:n,isLoading:r,avatarSize:a,icon:s,iconSpacing:l,mentionSuggestions:u,onMenuItemSelection:c}=e,d=(0,o.Z)(e,k),g=(0,i.useCallback)(e=>t===e?{"data-focus":!0}:{},[t]);return r||!u.length?(0,w.jsx)(D,$({},d)):(0,w.jsx)(m.v,{autoSelect:!1,strategy:null,isOpen:n,children:(0,w.jsx)(p.q,$($({},d),{},{rootProps:{minWidth:"0px !important"},children:u.map(({name:e,email:t,isPending:n,src:r,srcSet:o},i)=>(0,w.jsx)(S,$({onClick:()=>c(i),src:r,srcSet:o,avatarSize:a,iconSpacing:l,name:e,email:t,isPending:n,wordBreak:"break-all"},g(i)),`mention-item-${i}`))}))})};var T=n(853106),A=n(343831),N=n(974145),z=n(274133),U=n(693336),K=n(462481),Z=n(242145),B=n(692584),L=n(29607),M=n(951908),J=n(587885),Y=n(783907),V=n(855998);function q(e){let{char:t,allowSpaces:n,allowedPrefixes:r,startOfLine:o,$position:i}=e,a=(0,V.Ov)(t),s=RegExp(`\\s${a}$`),l=o?"^":"",u=n?RegExp(`${l}${a}[^\\s].*?(?=\\s${a}|$)`,"gm"):RegExp(`${l}(?:^)?\\B${a}(\\S+)*`,"gm"),c=i.nodeBefore?.isText&&i.nodeBefore.text;if(!c)return null;let d=i.pos-c.length,m=Array.from(c.matchAll(u)).pop();if(!m||void 0===m.input||void 0===m.index)return null;let p=m.input.slice(Math.max(0,m.index-1),m.index),g=RegExp(`^[${r?.join("")}\0]?$`).test(p);if(null!==r&&!g)return null;let f=d+m.index,y=f+m[0].length;return m[0].length<2?null:(n&&s.test(c.slice(y-1,y+1))&&(m[0]+=" ",y+=1),f<i.pos&&y>=i.pos)?{range:{from:f,to:y},query:m[0].slice(t.length),text:m[0]}:null}var G=n(680353);let Q=(0,i.memo)((0,i.forwardRef)(({autoFocus:e=!1,richtext:t="",isExpanded:n=!1,placeholder:r,isPublic:o,onFocus:a,setCommentText:s,mentionExtensionItemCallback:l,onMentionStart:u,onMentionUpdate:c,onMentionsExit:d,onKeyUpHandler:m,onKeyDownHandler:p,onMentioneeAdd:g,onMentioneeRemove:f,onSubmit:y,onSubmitComment:h,customRichTextAreaStyles:b,richTextEditorStyles:O={},teamOwnerId:v,commentContextFields:j,isDisabled:_=!1},P)=>{let C=(0,i.useRef)(),E=(0,i.useRef)(""),R=(0,i.useRef)(!1),x=o?"viewer":"collaborator",S=(0,i.useMemo)(()=>{try{return JSON.parse(t)}catch(e){return}},[t]),k=(0,Z.jE)({editorProps:{handleDOMEvents:{keyup:(e,t)=>m?.(E.current,e,t),keydown:(e,t)=>p?.(E.current,e,t,h)},handleClick:e=>{e.hasFocus()||_||a()}},editable:!_,extensions:[A.Z,T.ZP,K.Z,z.Z,N.Z,G.Z.configure({onMentionAdd:g,onMentionRemove:f,suggestion:{allowedPrefixes:null,allowSpaces:!1,findSuggestionMatch:q,items:({query:e})=>(e.length&&setTimeout(()=>l?.(e,x,v)),E.current=e,[]),render:()=>({onStart:e=>{C.current=e,R.current=!0,u?.()},onUpdate:e=>{C.current=e,c?.()},onExit:e=>{C.current=e,R.current=!1,d?.()}})}}),U.Z.configure({placeholder:r,showOnlyWhenEditable:!1})],onFocus:()=>{a()},onUpdate:({editor:e})=>{s(JSON.stringify(e.getJSON()||""))},content:S});(0,i.useEffect)(()=>{e&&k?.commands?.focus?.("end")},[k,e]),(0,i.useImperativeHandle)(P,()=>({clearContent:()=>{setTimeout(()=>{k?.commands?.clearContent()},0)},addMentionNode:e=>C.current?.command?.(e),selectRange:()=>k?.commands?.selectTextblockStart(),getMentionQuery:()=>E.current,toggleParagraph:()=>k?.commands?.setParagraph(),toggleBold:()=>k?.commands?.toggleBold?.(),onSubmit:async()=>await y?.(),isUserMentioned:()=>{let e=!1;return k?.state.doc.descendants(t=>{"mention"==t.type.name&&(e=!0)}),e},commentLength:()=>k?.getText().trim().length,focusEnd:()=>!R?.current&&k?.commands?.focus?.("end"),removeFocus:()=>{if(!R?.current)return k?.commands?.blur()},getCommentContent:()=>JSON.stringify(k?.getJSON()||""),setContent:e=>k?.commands?.setContent(e)}),[k,y]);let{0:I,1:$}=(0,i.useState)("hidden");(0,i.useEffect)(()=>{n?setTimeout(()=>{$("auto")},300):$("hidden")},[n]);let D=j?.isReply||j?.isEdit,F=(0,i.useMemo)(()=>({".richtextCommentBox":{border:D&&!n?"none":"1px solid",borderRadius:"input-md",borderColor:_?"input-stroke":n?"text-primary":"input-stroke-hover",overflowY:"hidden"},".richtextCommentBox:focus-within":{borderWidth:n?"2px":"1px",borderColor:n?"text-primary":"input-stroke-hover"},".ProseMirror:focus-visible":{outline:"none"},".ProseMirror":{color:"text-primary",height:n?"78px":"38px",padding:n?"10px 12px":"5px 12px",fontWeight:"regular",resize:"none",backgroundColor:n?"surface":"default",transition:"height 120ms ease-in-out 0s",overflowY:I,"p:first-of-type":{maxWidth:n?"100%":"calc(100% - 20px)"},"p.is-editor-empty:first-of-type::before":{color:_?"input-stroke-hover":"text-secondary",fontSize:"text-sm",content:"attr(data-placeholder)",float:"left",height:0,pointerEvents:"none",paddingLeft:n?"0px":"4px",paddingTop:n?"0px":"3px"}}}),[n,_,I,D]);return(0,w.jsx)(B.M,{children:(0,w.jsxs)(M.B,{display:"inline-block",mb:"2",sx:b||F,as:L.E.div,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto",transition:{type:"tween"}},exit:{opacity:0,height:0},overflow:"hidden",children:[(0,w.jsx)(Z.kg,{className:"richtextCommentBox",style:O,content:t,editor:k}),n?null:(0,w.jsx)(J.x,{opacity:"0.6",color:"text-primary",children:(0,w.jsx)(Y.v,{color:_?"input-stroke-hover":"text-primary",height:"20",width:"20"})})]})})}));var H=n(418923),W=n(410281),X=n(477837),ee=n.n(X),et=n(996240);let en=["baseUrl","select","where","query"];function er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?er(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):er(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}async function ei(e){let{baseUrl:t,select:n,where:{albumId:r,videoId:i},query:a}=e,s=(0,o.Z)(e,en),l=await fetch(`${t}/albums/${r}/videos/${i}/suggested_user_mentions?${(0,et.Ov)(a)}&fields=${n.map(et.Rb).join(",")}`,eo(eo({},s),{},{method:"GET"}));if(!l.ok)throw new et.F7("A network error occurred",l.status,l);if(204===l.status)return null;if(!l.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let u=await l.json();return(0,et.l_)(u)}var ea=n(296638),es=n(502349),el=n(512959),eu=n(848568),ec=n(173656);let ed=["perPage","page"];function em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ep(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?em(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):em(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eg(){let{mutate:e}=(0,ea.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:o}=(0,eu.r)(),[a,s]=(0,es.AC)();return[(0,i.useCallback)(async i=>{s({type:"REQUEST"});try{let a=await e(`/albums/${i.where.albumId}/videos/${i.where.videoId}/suggested_user_mentions${(0,es.Y$)(i)}`,ei(ep(ep({},i),{},{baseUrl:t,headers:ep(ep({},i.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":o??"en"})})));s({type:"SUCCESS",payload:a})}catch(e){s({type:"FAILURE",payload:e})}},[t,r,n,o,s]),a]}"true"===ec.env.STORYBOOK&&(0,es.MR)(function(e,t){let n="function"==typeof e?e():e,{baseUrl:r,jwt:o,xVimeoPage:i,locale:a}=(0,eu.r)();return(0,ea.ZP)(n?`/albums/${n.where.albumId}/videos/${n.where.videoId}/suggested_user_mentions${(0,es.Y$)(n)}`:()=>null,n?()=>ei(ep(ep({},n),{},{headers:ep(ep({},n.headers),{},{"Content-Type":"application/json",Authorization:o?`jwt ${o}`:"","Vimeo-Page":`${i}`,"Accept-Language":a??"en"}),baseUrl:r})):null,t)},{endpoint:"/albums/:albumId/videos/:videoId/suggested_user_mentions",method:"GET"}),"true"===ec.env.STORYBOOK&&(0,es.MR)(eg,{endpoint:"/albums/:albumId/videos/:videoId/suggested_user_mentions",method:"GET"}),"true"===ec.env.STORYBOOK&&(0,es.MR)(function(e,t){let n="function"==typeof e?e():e,{baseUrl:r,jwt:i,xVimeoPage:a,locale:s}=(0,eu.r)();return(0,el.ZP)((e,t)=>{if(null===n||t&&!t.paging.next)return null;let r=n.query??{},{perPage:i=25,page:a}=r,s=(0,o.Z)(r,ed),l=n.select.join(","),u=Object.entries(s??{}).filter(([,e])=>void 0!==e).map(([e,t])=>`${e}=${t}`).join("&");return[`/albums/${n.where.albumId}/videos/${n.where.videoId}/suggested_user_mentions?page=${e+1}&perPage=${i}&fields=${l}&${u}`,e]},null!==n?([e,t])=>ei(ep(ep({},n),{},{baseUrl:r,headers:ep(ep({},n.headers),{},{"Content-Type":"application/json",Authorization:i?`jwt ${i}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),query:ep(ep({},n.query),{},{page:t+1})})):null,t)},{endpoint:"/albums/:albumId/videos/:videoId/suggested_user_mentions",method:"GET"});let ef=["baseUrl","select","where","query"];function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}async function eb(e){let{baseUrl:t,select:n,where:{videoId:r},query:i}=e,a=(0,o.Z)(e,ef),s=await fetch(`${t}/videos/${r}/suggested_user_mentions?${(0,et.Ov)(i)}&fields=${n.map(et.Rb).join(",")}`,eh(eh({},a),{},{method:"GET"}));if(!s.ok)throw new et.F7("A network error occurred",s.status,s);if(204===s.status)return null;if(!s.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let l=await s.json();return(0,et.l_)(l)}var eO=n(173656);let ev=["perPage","page"];function ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ej(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ew(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ew(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function e_(){let{mutate:e}=(0,ea.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:o}=(0,eu.r)(),[a,s]=(0,es.AC)();return[(0,i.useCallback)(async i=>{s({type:"REQUEST"});try{let a=await e(`/videos/${i.where.videoId}/suggested_user_mentions${(0,es.Y$)(i)}`,eb(ej(ej({},i),{},{baseUrl:t,headers:ej(ej({},i.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":o??"en"})})));s({type:"SUCCESS",payload:a})}catch(e){s({type:"FAILURE",payload:e})}},[t,r,n,o,s]),a]}"true"===eO.env.STORYBOOK&&(0,es.MR)(function(e,t){let n="function"==typeof e?e():e,{baseUrl:r,jwt:o,xVimeoPage:i,locale:a}=(0,eu.r)();return(0,ea.ZP)(n?`/videos/${n.where.videoId}/suggested_user_mentions${(0,es.Y$)(n)}`:()=>null,n?()=>eb(ej(ej({},n),{},{headers:ej(ej({},n.headers),{},{"Content-Type":"application/json",Authorization:o?`jwt ${o}`:"","Vimeo-Page":`${i}`,"Accept-Language":a??"en"}),baseUrl:r})):null,t)},{endpoint:"/videos/:videoId/suggested_user_mentions",method:"GET"}),"true"===eO.env.STORYBOOK&&(0,es.MR)(e_,{endpoint:"/videos/:videoId/suggested_user_mentions",method:"GET"}),"true"===eO.env.STORYBOOK&&(0,es.MR)(function(e,t){let n="function"==typeof e?e():e,{baseUrl:r,jwt:i,xVimeoPage:a,locale:s}=(0,eu.r)();return(0,el.ZP)((e,t)=>{if(null===n||t&&!t.paging.next)return null;let r=n.query??{},{perPage:i=25,page:a}=r,s=(0,o.Z)(r,ev),l=n.select.join(","),u=Object.entries(s??{}).filter(([,e])=>void 0!==e).map(([e,t])=>`${e}=${t}`).join("&");return[`/videos/${n.where.videoId}/suggested_user_mentions?page=${e+1}&perPage=${i}&fields=${l}&${u}`,e]},null!==n?([e,t])=>eb(ej(ej({},n),{},{baseUrl:r,headers:ej(ej({},n.headers),{},{"Content-Type":"application/json",Authorization:i?`jwt ${i}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),query:ej(ej({},n.query),{},{page:t+1})})):null,t)},{endpoint:"/videos/:videoId/suggested_user_mentions",method:"GET"});var eP=n(420426);function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let eE=(e,t,n,o)=>{let[a,s]=e_(),[l,u]=eg(),{loading:c,data:d}=o?u:s,m=(0,i.useCallback)((r,o="viewer",i)=>{e&&a({where:{videoId:e},query:{query:r,page:n,perPage:t,filter:o,teamOwnerId:i},select:[]})},[a,e,t,n]),p=(0,i.useCallback)((i,a="viewer",s)=>{if(e&&o){let u=(0,eP.BO)(o);l({where:{albumId:o,videoId:e},query:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eC(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({query:i,page:n,perPage:t,filter:a,teamOwnerId:s},u?{password:u}:{}),select:[]})}},[e,o,l,n,t]),g=(0,i.useMemo)(()=>o?ee()(p,500):ee()(m,500),[p,m,o]);return{loadingMentionSuggestion:c,mentionSuggestionList:(0,i.useMemo)(()=>d?.data?.filter(e=>e.uri).map(e=>eP.f4(e))||[],[d]),getMentionSuggestionItemsDebounced:g}};var eR=n(839179),ex=n(480225);let eS=["clipRequestId","perPage","page","richtextAreaRef","commentContextFields","analyticsProps","onFocus","isPostCommentLoading","showcaseId"];function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ek(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let e$=e=>{let{clipRequestId:t,perPage:n=4,page:r=1,richtextAreaRef:d,commentContextFields:m={commentId:-1,existingReplyCounts:0,isReply:!1,isEdit:!1,isTimeCoded:!1},analyticsProps:p,onFocus:g,isPostCommentLoading:f,showcaseId:y}=e,h=(0,o.Z)(e,eS),b=(0,W.R)(),O=b?.team?.ownerId,{videoData:v}=(0,eR.C)(t),j=Number((0,eP.D1)(t)),{0:_,1:P}=(0,i.useState)(!1),C=(0,i.useRef)(_);C.current=_;let E=(0,i.useRef)(f);E.current=f;let{0:R,1:x}=(0,i.useState)(0),S=(0,i.useRef)(R);S.current=R;let{loadingMentionSuggestion:k,mentionSuggestionList:I,getMentionSuggestionItemsDebounced:$}=eE(t,n,r,y),D=(0,i.useRef)([]),T=(0,i.useRef)(null),A=(0,i.useCallback)(e=>{P(e),h?.setIsMentionActive?.(e)},[h,P]),N=(0,i.useCallback)(()=>A(!1),[A]),z=(0,i.useCallback)(()=>{if(A(!0),p){let e=eI(eI({},p),{},{commentContextFields:{existing_reply_counts:m.existingReplyCounts,is_reply:m.isReply,comment_id:m.commentId,comment_length:d?.current?.commentLength()??0}});(0,ex.KM)(j,v?.privacy.view,e,h.isPublic,b)}},[]),U=(0,i.useRef)(I);U.current=I;let K=(0,i.useCallback)(e=>{let t=I[e];if(!t)return;let n=(0,eP.eJ)(t);if(d?.current?.addMentionNode(n),p){let e=eI(eI({},p),{},{commentContextFields:{existing_reply_counts:m.existingReplyCounts,is_reply:m.isReply,comment_id:m.commentId,comment_length:d?.current?.commentLength()??0,mentionee_email:t.email,mentionee_id:t.userId,is_pending:t.isPending,mentionee_permission:null}});(0,ex.$s)(j,v?.privacy.view,v?.uploader.link,h.isPublic,e,b)}},[I]),Z=(0,i.useCallback)(e=>U.current.find(({email:t})=>t===e),[]),B=(0,i.useCallback)((e,t,n)=>{if(e.length&&"Space"===n.code){let t=e.match(eP.CU);if(t?.length){let t=Z(e);if(!t)return;let n=(0,eP.eJ)(t);if(d?.current?.addMentionNode(n),p){let e=eI(eI({},p),{},{commentContextFields:{existing_reply_counts:m.existingReplyCounts,is_reply:m.isReply,comment_id:m.commentId,comment_length:d?.current?.commentLength()??0,mentionee_email:t.email,mentionee_id:t.userId,is_pending:t.isPending,mentionee_permission:null}});(0,ex.$s)(j,v?.privacy.view,v?.uploader.link,h.isPublic,e,b)}}}},[Z]),L=(0,i.useCallback)((e,t,n,r)=>{if("Enter"===n.key&&!n.shiftKey&&!C.current){let e=d?.current?.getCommentContent()||"";d?.current?.commentLength()&&!E.current&&r?.(e),n.preventDefault()}if(C.current&&e.length&&U.current?.length&&("ArrowUp"===n.key&&(x(e=>0===e?U.current?.length-1:e-1),n.preventDefault(),n.stopPropagation()),"ArrowDown"===n.key&&(x(e=>e===U.current?.length-1?0:e+1),n.preventDefault(),n.stopPropagation()),"Enter"===n.key)){let e=U.current[S.current];if(!e)return;let t=(0,eP.eJ)(e);if(d?.current?.addMentionNode?.(t),p){let t=eI(eI({},p),{},{commentContextFields:{existing_reply_counts:m.existingReplyCounts,is_reply:m.isReply,comment_id:m.commentId,comment_length:d?.current?.commentLength()??0,mentionee_email:e.email,mentionee_id:e.userId,is_pending:e.isPending,mentionee_permission:null}});(0,ex.$s)(j,v?.privacy.view,v?.uploader.link,h.isPublic,t,b)}n.preventDefault(),n.stopPropagation()}},[x]),M=(0,i.useCallback)(e=>{let t=e.teamUserId?"teamUserId":"userId",n=U?.current.find(n=>n[t]===e[t]);n&&D?.current.push(n)},[]),J=(0,i.useCallback)(e=>{let t=!1;D.current=D?.current.filter(n=>(n?.userId??n?.teamUserId)!==e||!!t||(t=!0,!1))},[]),Y=()=>{if(p){let e=eI(eI({},p),{},{commentContextFields:{existing_reply_counts:m.existingReplyCounts,is_reply:m.isReply,comment_id:m.commentId,comment_length:d?.current?.commentLength()??0}});m.isEdit?(0,ex.oT)(`${j}`,v?.privacy.view,h.isPublic,e,b,v?.uploader?.link,m.isTimeCoded):d&&!d?.current.commentLength()&&(0,ex.SR)(j,v?.privacy.view,h.isPublic,e,v?.uploader?.link,"text",!1,b)}};return(0,i.useEffect)(()=>{0===I.length&&N()},[I]),(0,H.Z)([T],()=>{_&&A(!1)},null,[_,A]),(0,w.jsxs)(s.J,{matchWidth:!0,isLazy:!0,returnFocusOnClose:!0,closeOnEsc:!0,isOpen:_,placement:"top",children:[(0,w.jsx)(l.y,{padding:"0",minWidth:"0px",ref:T,children:(0,w.jsx)(u.b,{children:(0,w.jsx)(F,{selectedIndex:R,mentionSuggestions:I,isLoading:k,isOpen:!0,onMenuItemSelection:K,avatarSize:"sm",iconSpacing:"10",borderRadius:"input-md"})})}),(0,w.jsx)(c.t,{children:(0,w.jsx)(a.ZP,{persistentFocus:!0,disabled:!_,whiteList:e=>(T.current&&T.current.contains(e))??!1,children:(0,w.jsx)(Q,eI(eI({},h),{},{ref:d,mentionExtensionItemCallback:$,onMentioneeAdd:M,onMentioneeRemove:J,onMentionStart:z,onMentionsExit:N,onKeyUpHandler:B,onKeyDownHandler:L,teamOwnerId:O,onFocus:()=>{g(),Y()},commentContextFields:m}))})})]})}},800741:function(e,t,n){n.d(t,{PU:function(){return v},wn:function(){return w}});var r=n(867932),o=n(652983),i=n(271870),a=n(165152),s=n(649094),l=n(662555),u=n(291615),c=n(480225),d=n(734528),m=n(420426),p=n(650269),g=n(680795),f=n(839179),y=n(261840),h=n(552599);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n,r,s,b){return(t?function(e,t,n,r,s){let b=(0,y.R)(),v=(0,m.D1)(e),[w,j]=(0,a.NE)(),[_,P]=(0,i.sr)(),{data:C,loading:E,error:R}=s?P:j,{revalidateComments:x}=(0,h.dD)(e,t,r,s),{0:S,1:k}=(0,o.useState)(null),{videoData:I}=(0,f.C)(e),$=I?.privacy.view,{toggleGuestLoginModal:D,guestUser:F}=(0,o.useContext)(p.hf),T=(0,y.l)()||!!F,{toggleLoginModal:A,setRedirectUrl:N}=(0,g.NK)(),z=(0,u.l)(e),U=async t=>{if(T||"unlisted"!==$){if(!T){N(window.location.pathname+window.location.search),A(!0);return}}else{D(!0);return}let n={richtext:t};if(s){let t=(0,m.BO)(s);await _(O({where:{albumId:s,videoId:e},select:d.UJ,variables:n},t?{query:{password:t}}:{}))}else await w(O({where:{videoId:e},select:d.UJ,variables:n},z?{query:{password:z}}:{}))};return(0,o.useEffect)(()=>{if(C&&!E&&!R&&S!==C.uri){let e=Number((I?.uploader?.link||"").match(/user(\d+)/)?.[1]||0);if(k(()=>C.uri),n){let t=(0,m.ZG)(C?.text||""),r=O(O({},n),{},{commentContextFields:{comment_id:(0,m.Pd)(C.uri),is_reply:!1,comment_owner_id:b?.user?.id??-1,comment_length:C.text.length,is_mention:t}});(0,c.TC)(v,$,e,r,b)}x()}},[C,E,R,x,v,b,I?.privacy.view,I?.uploader?.link,S,n,$]),{postComment:U,postCommentLoading:E,postCommentError:R?{errorMessage:(0,l.Iu)({singular:"Unable to post comment",dictionary:{es:{singular:"No se pudo publicar el comentario"},"de-DE":{singular:"Nicht m\xf6glich, einen Kommentar zu hinterlassen"},"fr-FR":{singular:"Impossible de Laisser un commentaire"},"ja-JP":{singular:"コメントを投稿できませんでした"},"ko-KR":{singular:"소감 추가 불가"},"pt-BR":{singular:"N\xe3o foi Poss\xedvel Postar Coment\xe1rio"},"zh-CN":{singular:"无法发布评论"}}})}:null,lastAddedComment:(0,m.Pd)(C?.uri)}}:w)(e,n,r,s,b)}function w(e,t,n,r){let i=(0,y.R)(),a=(0,m.D1)(e),[u,{data:d,loading:g,error:b}]=(0,s.UQ)(),{revalidateComments:v}=(0,h.O_)(e,t,r),{0:w,1:j}=(0,o.useState)(null),{videoData:_}=(0,f.C)(e),{toggleGuestLoginModal:P,guestUser:C}=(0,o.useContext)(p.hf),E=(0,y.l)()||!!C,R=n?.productContextFields?.product==="viewer_home",x=async(t,n,r)=>{if(!E){P(!0);return}await u({where:{videoId:e},select:["metadata.connections.replies.total","text","richtext","uri","metadata.connections.user","createdTime","replies.text","replies.richtext","replies.createdTime","replies.metadata.connections.user","replies.uri","replies.userName","metadata","timeCode","userName"],variables:{richtext:t,appOrigin:R?"viewer_home":"svv",timeCode:n,coordinates:r}})};return(0,o.useEffect)(()=>{if(d&&!g&&!b&&w!==d.uri){let e=Number((_?.uploader?.link||"").match(/user(\d+)/)?.[1]||0),t=_?.privacy.view;if(j(()=>d.uri),n){let r=(0,m.ZG)(d?.richtext||d?.text||""),o=O(O({},n),{},{commentContextFields:{comment_id:(0,m.Pd)(d.uri),is_reply:!1,comment_owner_id:i?.user?.id??-1,comment_length:d.text.length,is_mention:r}});(0,c.TC)(a,t,e,o,i,!!d.timeCode,!1)}v()}},[d,g,b,v,a,i,_?.privacy.view,_?.uploader?.link,w,n]),{postComment:x,postCommentLoading:g,postCommentError:b?{errorMessage:(0,l.Iu)({singular:"Unable to post comment",dictionary:{es:{singular:"No se pudo publicar el comentario"},"de-DE":{singular:"Nicht m\xf6glich, einen Kommentar zu hinterlassen"},"fr-FR":{singular:"Impossible de Laisser un commentaire"},"ja-JP":{singular:"コメントを投稿できませんでした"},"ko-KR":{singular:"소감 추가 불가"},"pt-BR":{singular:"N\xe3o foi Poss\xedvel Postar Coment\xe1rio"},"zh-CN":{singular:"无法发布评论"}}})}:null,lastAddedComment:(0,m.Pd)(d?.uri)}}},8297:function(e,t,n){n.d(t,{N_:function(){return v},us:function(){return O}});var r=n(867932),o=n(652983),i=n(495173),a=n(275733),s=n(918879),l=n(662555),u=n(291615),c=n(480225),d=n(734528),m=n(420426),p=n(839179),g=n(261840),f=n(552599),y=n(853842);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t,n,r,s,h){let{videoData:O}=(0,p.C)(e);return(t?function(e,t,n,r,s,p){let h=(0,g.R)(),O=(0,m.D1)(e),{privacy:v}=(0,y.V)(e),[w,j]=(0,a.kS)(),[_,P]=(0,i.M)(),{loading:C,error:E}=p?P:j,{revalidateComments:R}=(0,f.dD)(e,n,s,p),{0:x,1:S}=(0,o.useState)(null),k=(0,u.l)(e),I=async(t,n)=>{S(t),await w(b({where:{videoId:e,commentId:(0,m.Pd)(t)},variables:{richtext:n},select:d.Q0},k?{query:{password:k}}:{})),D(t,{text:n})},$=async(t,n)=>{if(!p)return;let r=(0,m.BO)(p);S(t),await _(b({where:{albumId:p,videoId:e,commentId:(0,m.Pd)(t)},variables:{richtext:n},select:d.Q0},r?{query:{password:r}}:{})),D(t,{text:n})},D=(e,t)=>{if(!C&&!E){if(r){let n=(0,m.ZG)(t?.text),o=b(b({},r),{},{commentContextFields:{comment_id:(0,m.Pd)(e),is_reply:!1,comment_length:t?.text?.length,is_mention:n}});(0,c.Or)(O,v?.view,!0,o,h)}R(n=>n?.filter(e=>!!e).map(n=>b(b({},n),{},{data:n.data?.map(n=>n.uri===e?b(b({},n),t):n)})))}};return{updateCommentText:p?$:I,resolveComment:()=>null,unresolveComment:()=>null,editCommentLoading:C,editCommentError:E?{errorMessage:(0,l.Iu)({singular:"Unable to edit comment",dictionary:{es:{singular:"No se puede editar el comentario"},"de-DE":{singular:"Kommentar kann nicht bearbeitet werden"},"fr-FR":{singular:"Impossible de modifier le commentaire"},"ja-JP":{singular:"コメントを編集できません"},"ko-KR":{singular:"소감을 편집할 수 없습니다."},"pt-BR":{singular:"N\xe3o foi poss\xedvel editar o coment\xe1rio"},"zh-CN":{singular:"无法编辑评论"}}}),errorCommentId:x}:null}}:v)(e,O,n,r,s,h)}function v(e,t,n,r,i){let a=(0,g.R)(),u=(0,m.D1)(e),{privacy:d}=(0,y.V)(e),[p,{loading:h,error:O}]=(0,s.l)(),{revalidateComments:v}=(0,f.O_)(e,n,i),{0:w,1:j}=(0,o.useState)(null),_=async(t,n)=>{j(t),await p({where:{videoId:e,commentId:(0,m.Pd)(t)},variables:n,select:["metadata.connections.replies.total","text","richtext","uri","metadata.connections.user","createdTime","replies.text","replies.richtext","replies.createdTime","replies.metadata.connections.user","replies.uri","replies.userName","metadata","timeCode","userName"]}),P(t,n)},P=(e,n)=>{if(!h&&!O){let o=null;if(v(t=>t?.filter(e=>!!e).map(t=>b(b({},t),{},{data:t.data?.map(t=>t.uri===e?o=b(b({},t),n):t)}))),r){let i=n?.richtext||o?.richtext||"",s=(0,m.ZG)(i),l=b(b({},r),{},{commentContextFields:{comment_id:(0,m.Pd)(e),is_reply:!1,comment_length:n?.richtext?.length??null,is_mention:s}});n?.richtext||n?.coordinates?(0,c.Or)(u,d?.view,!1,l,a,!!o?.timeCode,t?.uploader?.link,n?.coordinates?"annotation":"text"):n?.status&&(0,c.f4)("closed"===n.status,u,d?.view,l,a,!!o?.timeCode,t?.uploader?.link)}}};return{updateCommentText:async(e,t)=>{_(e,{richtext:t})},resolveComment:async e=>{_(e,{status:"closed"})},unresolveComment:async e=>{_(e,{status:"open"})},updateCommentPosition:async(e,t)=>{_(e,{coordinates:t})},editCommentLoading:h,editCommentError:O?{errorMessage:(0,l.Iu)({singular:"Unable to edit comment",dictionary:{es:{singular:"No se puede editar el comentario"},"de-DE":{singular:"Kommentar kann nicht bearbeitet werden"},"fr-FR":{singular:"Impossible de modifier le commentaire"},"ja-JP":{singular:"コメントを編集できません"},"ko-KR":{singular:"소감을 편집할 수 없습니다."},"pt-BR":{singular:"N\xe3o foi poss\xedvel editar o coment\xe1rio"},"zh-CN":{singular:"无法编辑评论"}}}),errorCommentId:w}:null}}},656703:function(e,t,n){n.d(t,{I2:function(){return m},UC:function(){return g},ih:function(){return p}});var r=n(867932),o=n(271870),i=n(165152),a=n(649094),s=n(291615),l=n(420426),u=n(839179);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n,r){let o=g(e,{shouldFetch:t},r),i=p(e,{shouldFetch:!t,videoVersionUri:n?.videoVersionUri,targetApiVersion:n?.targetApiVersion});return t?o:i}function p(e,t){let{videoData:n}=(0,u.C)(e),{data:r,isLoading:o,error:i,mutate:s}=(0,a.rU)(()=>e&&t.shouldFetch?{where:{videoId:e},select:["uri"],query:{includeDeletedComments:!0,page:1,perPage:1,versionUri:t?.videoVersionUri||void 0},headers:d({},t?.targetApiVersion?{Accept:`application/vnd.vimeo.*+json;version=${t.targetApiVersion}`}:{})}:null,{revalidateOnFocus:!1,revalidateAll:!0,revalidateFirstPage:!1,revalidateIfStale:!1,parallel:!1});return{commentsCount:r?.[0]?.filteredTotal??0,changeCommentsCount:{increaseCommentsCount:()=>{s(e=>e?.filter(e=>!!e).map(e=>d(d({},e),{},{data:[...e.data],total:e.total?e.total+1:1})))},decreaseCommentsCount:()=>{s(e=>e?.filter(e=>!!e).map(e=>d(d({},e),{},{data:[...e.data],total:e.total&&e.total>0?e.total-1:0})))}},revalidateCommentCount:s,isLoading:o,isReady:!!r||!!i,error:i}}function g(e,t,n){let r=(0,i.mY)(()=>{if(!e||!t.shouldFetch||n)return null;let r=(0,s.l)(e);return{where:{videoId:e},select:["uri"],query:(0,l.Xc)(r)}}),a=(0,o.hG)(()=>{if(!e||!t.shouldFetch||!n)return null;let r=(0,l.BO)(n);return{where:{albumId:n,videoId:e},select:["uri"],query:(0,l.Xc)(r)}}),{data:u,mutate:c,isLoading:m,error:p}=n?a:r;return{commentsCount:u?.[0]?.filteredTotal??0,changeCommentsCount:{increaseCommentsCount:()=>{c(e=>e?.filter(e=>!!e).map(e=>d(d({},e),{},{data:[...e.data],filteredTotal:e.filteredTotal?e.filteredTotal+1:1})))},decreaseCommentsCount:()=>{c(e=>e?.filter(e=>!!e).map(e=>d(d({},e),{},{data:[...e.data],filteredTotal:e.filteredTotal&&e.filteredTotal>0?e.filteredTotal-1:0})))}},revalidateCommentCount:c,isLoading:m,isReady:!!u||!!p,error:p}}},552599:function(e,t,n){n.d(t,{O_:function(){return v},dD:function(){return O},hb:function(){return b}});var r=n(867932),o=n(652983),i=n(839698),a=n(271870),s=n(165152),l=n(649094),u=n(702185),c=n(291615),d=n(734528),m=n(420426),p=n(650269),g=n(833770),f=n(261840);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t,n,r,o){return(t?O:v)(e,n,r,o)}function O(e,t,n,r){let i=(0,f.R)(),{isOwner:l,canDelete:y}=(0,g.Q)(e),{guestUser:b}=(0,o.useContext)(p.hf),O=b?JSON.parse(b)?.guestUserId:null,v=(0,s.mY)(()=>{if(!e||r)return null;let o=(0,c.l)(e);return{where:{videoId:e},select:d.RX,query:(0,m.ef)(o,t,n)}},{parallel:!0}),w=(0,a.hG)(()=>{if(!e||!r)return null;let o=(0,m.BO)(r);return{where:{albumId:r,videoId:e},select:d.RX,query:(0,m.ef)(o,t,n)}},{parallel:!0}),{data:j,mutate:_,isLoading:P,error:C,size:E,setSize:R}=r?w:v,x=!j?.[j?.length-1]?.paging.next,S=!j&&!C||E>0&&j&&void 0===j[E-1];return{comments:(0,o.useMemo)(()=>{let e=e=>{let t=!1;return i?.user&&i?.user?.uri===e.metadata?.connections?.user?.uri?t=!0:O&&O===(0,m.x2)(e.metadata?.connections?.guestUser?.uri)&&(t=!0),{text:e.richtext??e.text,plainText:e.text,user:{name:e.metadata?.connections?.user?.name||e.metadata?.connections?.guestUser?.name||null,link:!i?.isFromCopyrightRestrictedRegion&&e.metadata?.connections?.user?.link?e.metadata?.connections?.user?.link:null,pictures:e.metadata?.connections?.user?.pictures||null,id:e.metadata?.connections?.user?.uri||null,badge:e.metadata?.connections?.user?.badge||null,isStaffPicked:e.metadata?.connections?.user?.isStaffPicked||!1,uri:e.metadata?.connections?.user?.uri||null},id:e.uri,createdTime:e.createdOn,isRichComment:!!e.richtext,isOwnVideo:l||y,isOwnComment:t,textDecorations:e.textDecorations,deletedOn:e.deletedOn,editedTime:e.lastEditedOn??void 0}};return j?.filter(e=>!!e)?.flatMap(e=>e.data.flatMap(e=>e))?.map(t=>h(h({},e(t)),{},{replies:t.replies?.map(t=>e(t))}))},[j,l,y,i?.user,i?.isFromCopyrightRestrictedRegion,O]),totalComments:j?j[0]?.filteredTotal:0,commentsLoading:P,commentsError:C,revalidateComments:_,loadMoreComments:e=>{R(e??E+1)},isCommentsDone:x,isLoadingMoreComments:S,page:E,copyComment:(t,n="")=>{let o=i?.vimeoHttpsUrl,a=`comment=${(0,m.Pd)(n||t)}`,s=r?`/showcase/${r}?video=${e.split?.(":")?.[0]}&${a}`:`/${e.replace(":","/")}?${a}`;n&&(s=s.concat(`&reply=${(0,m.Pd)(t)}`)),(0,u.Z)(`${o}${s}`)}}}function v(e,t,n){let{isOwner:r,canDelete:a}=(0,g.Q)(e),s=(0,f.R)(),{data:c,isLoading:d,error:p,size:y,setSize:b,mutate:O}=(0,l.rU)(()=>e?{where:{videoId:e},select:["metadata.connections.replies.total","text","richtext","uri","metadata.connections.user","createdTime","replies.text","replies.richtext","replies.createdTime","replies.metadata.connections.user","replies.uri","replies.userName","replies.lastEditedTime","metadata","timeCode","userName","status","textDecorations","deletedOn","lastEditedTime","coordinates"],query:{includeDeletedComments:!0,sort:t?.type,direction:t?.direction,status:n?.status,commented_user_type:["team","non_team"].includes(n?.userType||"")?n?.userType:void 0,mentions_and_replies:n?.mentionAndReplies||void 0,versionUri:n?.videoVersionUri||void 0},headers:h({},n?.targetApiVersion?{Accept:`application/vnd.vimeo.*+json;version=${n.targetApiVersion}`}:{})}:null,{parallel:!0}),v=!c?.[c?.length-1]?.paging.next,w=!c&&!p,j=w||y>0&&c&&void 0===c[y-1];return{comments:(0,o.useMemo)(()=>{let e=e=>({text:e.richtext??e.text,textDecorations:e.textDecorations,plainText:e.text,user:{name:e.userName||null,link:!s?.isFromCopyrightRestrictedRegion&&e.metadata?.connections?.user?.link?e.metadata.connections?.user?.link:null,pictures:e.metadata?.connections?.user?.pictures||null,id:e.metadata?.connections?.user?.uri||null,isStaffPicked:e.metadata?.connections?.user?.isStaffPicked||!1,uri:e.metadata?.connections?.user?.uri||null},id:e.uri,createdTime:e.createdTime,isRichComment:!!e.richtext,isOwnVideo:r||a,isOwnComment:!!s?.user&&s?.user?.uri===e.metadata?.connections?.user?.uri,status:e.status,deletedOn:e.deletedOn,editedTime:e.lastEditedTime??void 0,coordinates:e.coordinates});return c?.filter(e=>!!e)?.flatMap(e=>e.data.flatMap(e=>e))?.map(t=>h({timeCode:t.timeCode?t.timeCode:null,formattedTimeCode:t.timeCode?i.hf(t.timeCode):null,replies:t.replies?.map(t=>e(t))||[]},e(t)))||[]},[r,a,c,s?.user,s?.isFromCopyrightRestrictedRegion]),totalComments:c?c[0]?.total:0,commentsLoading:d||w,commentsError:p,revalidateComments:O,loadMoreComments:e=>{b(e??y+1)},isCommentsDone:v,isLoadingMoreComments:j,page:y,copyComment:(e,t="")=>{let n=s?.vimeoHttpsUrl,r=`${window.location.pathname}?comment=${(0,m.Pd)(t||e)}`;t&&(r=r.concat(`&reply=${(0,m.Pd)(e)}`)),(0,u.Z)(`${n}${r}`)}}}},853842:function(e,t,n){n.d(t,{V:function(){return u}});var r=n(918458),o=n(662555),i=n(74987),a=n(45093),s=n(480225),l=n(261840);let u=e=>{let t=(0,l.R)(),{data:n,isLoading:u}=(0,i.m)(()=>t?{where:{videoId:e},select:["privacy"]}:null),c=(0,r.pm)(),[d]=(0,a.r)(),m=async r=>{await d({where:{videoId:e},select:["privacy"],variables:{privacy:{comments:r?"anybody":"nobody"}}}).then(()=>{(0,s.nn)(r,"Allow Viewer Comments",e,!1,n?.privacy?.view,{webContextFields:{page_name:"single_video_view_manage"}},n?.user?.uri,t),c({duration:3e3,title:(0,o.Iu)({singular:"Preferences updated",dictionary:{es:{singular:"Preferencias actualizadas"},"de-DE":{singular:"Einstellungen wurden aktualisiert"},"fr-FR":{singular:"Pr\xe9f\xe9rences mises \xe0 jour"},"ja-JP":{singular:"設定が更新されました"},"ko-KR":{singular:"기본 설정이 업데이트되었습니다."},"pt-BR":{singular:"Prefer\xeancias atualizadas"},"zh-CN":{singular:"偏好设置已更新"}}})})})};return{privacy:n?.privacy,isLoading:u,saveViewerCommentsSetting:m}}},650269:function(e,t,n){n.d(t,{hf:function(){return S},qy:function(){return $}});var r=n(867932),o=n(643819),i=n.n(o),a=n(652983),s=n(173898),l=n(628463),u=n(996240),c=n(502349),d=n(987580),m=n(296638),p=n(848568);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(){let{mutate:e}=(0,m.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:o}=(0,p.r)(),[i,s]=(0,c.AC)();return[(0,a.useCallback)(async i=>{s({type:"REQUEST"});try{let a=await e(`/guest_users${(0,c.Y$)(i)}`,(0,d.f)(f(f({},i),{},{baseUrl:t,headers:f(f({},i.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":o??"en"})})),!1);s({type:"SUCCESS",payload:a})}catch(e){s({type:"FAILURE",payload:e})}},[t,r,n,o,s]),i]}"true"===n(173656).env.STORYBOOK&&(0,c.MR)(y,{endpoint:"/guest_users",method:"POST"});var h=n(580447),b=n(734528),O=n(594),v=n(853842),w=n(680795),j=n(261840),_=n(397458);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let E=i()(async()=>await Promise.all([n.e(18361),n.e(84702),n.e(48883),n.e(97059),n.e(40481),n.e(62305),n.e(23117),n.e(59642)]).then(n.bind(n,530335)),{loadableGenerated:{webpack:()=>[530335]}}),R=()=>Error("Function is not initialized"),x={xsrft:"",isActive:!1,isGuestCommentWithEmail:!0,isSubmitLoading:!1,emailErrorCode:null},S=(0,a.createContext)({modalState:x,updateModalState:R,toggleGuestLoginModal:R,setStashedGuestUser:R}),k=({children:e})=>{let{0:t,1:n}=(0,a.useState)(x),r=(0,j.R)(),o=(0,O.K)(),{value:i,set:s}=(0,l.Z)(b.k8,null,.25,o),u=e=>{n(t=>C(C({},t),e))};return(0,a.useEffect)(()=>{r&&!t.xsrft&&u({xsrft:r.xsrft})},[t,r]),(0,_.jsx)(S.Provider,{value:{modalState:t,updateModalState:u,toggleGuestLoginModal:e=>{n(t=>C(C({},t),{},{isActive:e}))},guestUser:i,setStashedGuestUser:s},children:e})},I=()=>{let{modalState:e,updateModalState:t,guestUser:n,setStashedGuestUser:r}=(0,a.useContext)(S),[o,{loading:i,error:l,data:c}]=y(),d=(0,a.useCallback)(async(e,t)=>{o({select:["uri","name","metadata.interactions.comments"],variables:{name:e,email:t??""}})},[o]),m=(0,a.useCallback)(()=>{t(x),window.location.reload()},[t]),p=(0,a.useCallback)(()=>{t({isActive:!1})},[t]),g=(0,a.useCallback)(e=>{t({emailErrorCode:e})},[t]);return(0,a.useEffect)(()=>{(async()=>{if(e.isSubmitLoading!==i&&t({isSubmitLoading:i}),i||l||!c||n){if(l instanceof u.F7&&!l.res.bodyUsed){let e=await l.res.json();t({emailErrorCode:e?.error_code})}}else r(JSON.stringify({guestUserName:c.name,guestUserId:c.uri.split("/").pop(),guestUserJwt:c.metadata.interactions.comments})),t({isActive:!1})})()},[e,i,l,c,t,r,n]),(0,_.jsx)(s.ThemeProvider,{theme:h.themes.light,children:(0,_.jsx)(E,C(C({},e),{},{closeModal:p,onSuccessfulLogin:m,submitCommentAsGuest:d,resetEmailErrorCode:g}))})},$=e=>t=>{let{privacy:n}=(0,v.V)(t.clipRequestId),r=n?.view==="unlisted"?I:w._A;return(0,_.jsx)(k,{children:(0,_.jsxs)(w.U2,{children:[(0,_.jsx)(e,C({},t)),(0,_.jsx)(r,{})]})})}},680795:function(e,t,n){n.d(t,{NK:function(){return b},U2:function(){return y},_A:function(){return h}});var r=n(867932),o=n(643819),i=n.n(o),a=n(652983),s=n(173898),l=n(580447),u=n(261840),c=n(397458);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let p=i()(async()=>{let{LoginJoinModal:e}=await Promise.all([n.e(18361),n.e(84702),n.e(48883),n.e(97059),n.e(40481),n.e(62305),n.e(23117),n.e(74469)]).then(n.bind(n,188400));return e},{loadableGenerated:{webpack:()=>[188400]}}),g={type:"login",isShowing:!1,xsrft:"",onDismiss:()=>console.warn("Without dismiss function, LoginJoinModal isShowing props might be out of sync"),onSuccess:()=>console.warn("LoginJoinModal: onSuccess callback is not initialized")},f=(0,a.createContext)({modalState:g,setModalState:()=>Error("Setter function is not initialized"),toggleLoginModal:()=>Error("Toggle function is not initialized")}),y=({children:e})=>{let{0:t,1:n}=(0,a.useState)(g),r=(0,a.useCallback)(e=>n(t=>m(m({},t),e)),[]),o=(0,a.useCallback)((e,t)=>{r({isShowing:e,type:t||"login"})},[r]);return(0,c.jsx)(f.Provider,{value:{modalState:t,setModalState:r,toggleLoginModal:o},children:e})},h=()=>{let{modalState:e}=(0,a.useContext)(f);return(0,c.jsx)(s.ThemeProvider,{theme:l.themes.light,children:(0,c.jsx)(p,m({},e))})};function b(){let e=(0,u.R)(),{modalState:t,setModalState:n,toggleLoginModal:r}=(0,a.useContext)(f),o=t.redirectUrl;return(0,a.useEffect)(()=>{e&&n({xsrft:e.xsrft,onDismiss:()=>r(!1),onSuccess:()=>{o?window.location.assign(o):window.location.reload()}})},[e,n,r,o]),{toggleLoginModal:r,setRedirectUrl:e=>n({redirectUrl:e})}}},833770:function(e,t,n){n.d(t,{Q:function(){return i}});var r=n(74987),o=n(261840);function i(e){let t=(0,o.R)(),{data:n}=(0,r.m)(()=>t&&e?{where:{videoId:e},select:["user.uri","user.metadata.interactions.follow","metadata.interactions.edit","metadata.interactions.delete","metadata.interactions.watchlater","metadata.interactions.like","metadata.interactions.ask_ai_viewer","metadata.interactions.flag_clip","metadata.interactions.interact"]}:null,{revalidateOnFocus:!1}),i=(0,o.l)(),a=i?.user?.uri,s=n?.user?.uri,l=n?.metadata.interactions;return{isOwner:!!a&&s===a,canEdit:!!l?.edit,canDelete:!!l?.delete}}},839179:function(e,t,n){n.d(t,{C:function(){return u}});var r=n(867932),o=n(92575),i=n(74987),a=n(261840);let s=["data","isLoading"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let u=e=>{let t=(0,a.R)(),n=(0,i.m)(()=>t?{where:{videoId:e},select:["app.uri","name","createdTime","stats.plays","contentRating","status","spatial.stereoFormat","privacy.comments","privacy.view","privacy.download","embed.badges.dolby_vision","embed.badges.hdr_10","embed.badges.hdr_10_plus","license","descriptionHtml","manageLink","metadata.is_screen_record","metadata.is_vimeo_create","metadata.connections.privateComments.isEnabled","type","tags.name","tags.canonical","user.backgroundVideo.aspectRatio","user.backgroundVideo.clipId","user.backgroundVideo.configUrl","user.backgroundVideo.endTime","user.backgroundVideo.firstFrameUrl","user.backgroundVideo.startTime","user.backgroundVideo.yPosition","user.link","user.name","user.capabilities","user.pictures.sizes.link","user.pictures.sizes.width","user.locationDetails.formattedAddress","user.skills","user.metadata.connections.followers.total","uploader.link","uploader.name","uploader.pictures.sizes","metadata.interactions.view_team_members","show_svv_footer_banner","metadata.connections.versions.latestIncompleteVersion","metadata.interactions.invite","metadata.ai_content","allow_guest_comments","page","metadata.interactions.edit","metadata.interactions.canComment"]}:null),{data:u,isLoading:c}=n;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({videoData:u,videoDataLoading:c||!u},(0,o.Z)(n,s))}},261840:function(e,t,n){n.d(t,{R:function(){return i},l:function(){return a}});var r=n(652983),o=n(16871);function i(){return(0,r.useContext)(o.Z)}function a(){let e=(0,r.useContext)(o.Z),t=!!e?.user;return e&&t?e:null}},480225:function(e,t,n){n.d(t,{$s:function(){return I},KM:function(){return k},MO:function(){return C},OD:function(){return S},Or:function(){return D},SR:function(){return z},TC:function(){return R},WR:function(){return $},_x:function(){return N},ez:function(){return K},f4:function(){return F},hk:function(){return T},kB:function(){return B},kp:function(){return A},lo:function(){return P},m4:function(){return Z},nn:function(){return U},oT:function(){return E},xH:function(){return x}});var r=n(867932),o=n(902213),i=n(467426),a=n(560583),s=n(185822),l=n(298467),u=n(297099),c=n(923801),d=n(297715),m=n(411594),p=n(126371),g=n(420426);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let h=()=>(0,i.kD)({action_type:"click",feature:null}),b=e=>(0,a.g9)(y(y({page_name:e.page_name,path:window.location.pathname},document.referrer&&{referrer:document.referrer}),e)),O=()=>(0,s.lg)({is_integration:!1,integration_id:null,integration_name:null,managed_user_id:null,app_id:null,integration_type:null,partner_bucket:null,is_partner:null}),v=(e={})=>(0,s.lg)(y({is_integration:!1,integration_id:null,integration_name:null,managed_user_id:null,app_id:null,integration_type:null,partner_bucket:null,is_partner:null},e)),w=e=>(0,l.ms)(y(y({},{comment_length:null,comment_owner_id:0,existing_reply_counts:null,allow_comment_toggle:null,is_mention:null,mentionee_email:null,mentionee_permission:null,mentionee_id:null,is_pending:null}),e)),j=e=>(0,u.TA)({viewer_home_session_id:e}),_=(e,t)=>{let n=h(),r=b(e),o=t?.teamUser?(0,c.Yr)(t?.teamUser):(0,c._X)(t?.team);return y(y(y({},n),r),o)},P=(e,t,n,r)=>{let i=_(n.webContextFields,r),a=n?.commentContextFields?w(n?.commentContextFields):{},s=(0,d.Qt)({video_id:parseFloat(e)}),l=(0,m.FI)(y({product:"viewer_home",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"button",copy:null,device_type:(0,o.Z)()},n?.productContextFields)),u=j(t),c=y(y(y(y(y({},i),s),l),u),a);(0,p.Ou)("vimeo.select_user_profile_button",c)},C=(e,t,n,r,i,a,s)=>{let l=i?.user?.id||-1,u=(0,g.eZ)(s||""),c=_(r.webContextFields,i),f=(0,d.Qt)({video_id:parseFloat(e),video_privacy:t}),h=(0,m.FI)(y({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"ellipses",copy:"Delete",entity_type:"video",device_type:(0,o.Z)(),is_user_facing_data:!1},r?.productContextFields)),b=v(r?.thirdPartyContextFields),O=r?.commentContextFields?w(r?.commentContextFields):{},j=y(y(y(y(y({},c),f),h),O),b),P=!i?.user?.uri;(0,p.Ou)("vimeo.delete_comment",j,13,{posted_by_uploader:l===u,posted_by_guest:P,is_timecoded:a,is_internal:!n,value:null,option:null,comments_format:null})},E=(e,t,n,r,i,a,s=!1)=>{let l=i?.user?.id||0,u=(0,g.eZ)(a||""),c=_(r.webContextFields,i),f=(0,d.Qt)({video_id:parseFloat(e),video_privacy:t}),h=(0,m.FI)(y({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"ellipses",copy:"Edit",device_type:(0,o.Z)()},r?.productContextFields)),b=v(r?.thirdPartyContextFields),O=r?.commentContextFields?w(r?.commentContextFields):{},j=y(y(y(y(y({},c),f),h),O),b),P=!i?.user?.uri;(0,p.Ou)("vimeo.edit_comment",j,13,{posted_by_uploader:l===u,posted_by_guest:P,is_timecoded:s,is_internal:!n,value:null,option:null,comments_format:null})},R=(e,t,n,r,i,a=!1,s=!0)=>{let l=i?.user?.id||0;t&&(0,g.hu)(t);let u=_(r.webContextFields,i),c=(0,d.Qt)({video_id:parseFloat(e),video_privacy:t}),f=(0,m.FI)(y({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"button",copy:"Comment",entity_type:"video",device_type:(0,o.Z)()},r?.productContextFields)),h=v(r?.thirdPartyContextFields),b=r?.commentContextFields?w(r?.commentContextFields):{},O=y(y(y(y(y({},u),c),f),b),h),j=!i?.user?.uri;(0,p.Ou)("vimeo.post_comment",O,6,{posted_by_uploader:l===n,posted_by_guest:j,is_timecoded:a,is_internal:!s,value:null})},x=(e,t,n,r,i,a,s)=>{let l=a?.user?.id||0,u=Number((n||"").match(/user(\d+)/)?.[1]||0),c=_(i.webContextFields,a),g=(0,d.Qt)({video_id:parseFloat(e),video_privacy:t}),f=(0,m.FI)({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"ellipses",copy:"Copy link to comment",entity_type:"video",is_user_facing_data:!1,device_type:(0,o.Z)()}),h=O(),b=i?.commentContextFields?w(i?.commentContextFields):{},v=y(y(y(y(y({},c),g),f),b),h);(0,p.Ou)("vimeo.copy_comment_link",v,13,{posted_by_uploader:l===u,posted_by_guest:!l,is_timecoded:s,is_internal:!r,value:null,option:null,comments_format:null})},S=(e,t,n,r,i,a,s)=>{let l=a?.user?.id||0,u=Number((n||"").match(/user(\d+)/)?.[1]||0),c=_(i.webContextFields,a),g=(0,d.Qt)({video_id:parseFloat(e),video_privacy:t}),f=(0,m.FI)({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"ellipses",copy:null,entity_type:"video",is_user_facing_data:!1,device_type:(0,o.Z)()}),h=O(),b=i?.commentContextFields?w(i?.commentContextFields):{},v=y(y(y(y(y({},c),g),f),b),h);(0,p.Ou)("vimeo.open_comment_options",v,13,{posted_by_uploader:l===u,posted_by_guest:!l,is_timecoded:s,is_internal:!r,value:null,option:null,comments_format:null})},k=(e,t="nobody",n,r,a)=>{let s=a?.user?.id||0,l=b(n.webContextFields),u=a?.teamUser?(0,c.Yr)(a?.teamUser):(0,c._X)(a?.team),g=(0,d.Qt)({video_id:e,video_privacy:t}),f=(0,i.kD)({action_type:"type",feature:null}),h=(0,m.FI)(y({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"button",copy:null,device_type:(0,o.Z)()},n?.productContextFields)),v=O(),j=w(y({comment_owner_id:s,allow_comment_toggle:!0,is_mention:!0},n?.commentContextFields)),_=y(y(y(y(y(y(y({},f),h),v),g),j),u),l);(0,p.Ou)("vimeo.mention_box_impression",_,13,{posted_by_uploader:null,posted_by_guest:null,is_timecoded:null,is_internal:!r,value:null,option:null,comments_format:null})},I=(e,t="nobody",n,r,i,a)=>{let s=a?.user?.id||0,l=Number((n||"").match(/user(\d+)/)?.[1]||0),u=_(i.webContextFields,a),c=(0,d.Qt)({video_id:e,video_privacy:t}),g=(0,m.FI)(y({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"text",copy:null,entity_type:"video",device_type:(0,o.Z)(),is_user_facing_data:!1},i?.productContextFields)),f=O(),h=w(y({comment_id:0,comment_owner_id:s,allow_comment_toggle:!0,is_mention:!0},i?.commentContextFields)),b=y(y(y(y(y({},u),c),g),h),f);(0,p.Ou)("vimeo.add_mentionee_to_comment",b,13,{posted_by_uploader:s===l,posted_by_guest:!s,is_timecoded:null,is_internal:!r,value:null,option:null,comments_format:null})},$=(e,t,n,r,i,a,s)=>{let l=s?.user?.id||0,u=Number((r||"").match(/user(\d+)/)?.[1]||0),c=_(a.webContextFields,s),g=(0,d.Qt)({video_id:parseFloat(t),video_privacy:n}),f=(0,m.FI)(y({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"dropdown",copy:e,device_type:(0,o.Z)(),entity_type:"video",is_user_facing_data:!1},a?.productContextFields)),h=v(a?.thirdPartyContextFields),b=a?.commentContextFields?w(a?.commentContextFields):{},O=y(y(y(y(y({},c),g),f),b),h);(0,p.Ou)("vimeo.sort_comment",O,13,{posted_by_uploader:l===u,posted_by_guest:!l,is_timecoded:!1,is_internal:!i,value:null,option:e,comments_format:null})},D=(e,t,n,r,i,a,s,l="text")=>{let u=i?.user?.id||0,c=Number((s||"").match(/user(\d+)/)?.[1]||0),g=_(r.webContextFields,i),f=(0,d.Qt)({video_id:parseFloat(e),video_privacy:t}),h=(0,m.FI)(y({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"button",copy:"Save",device_type:(0,o.Z)(),entity_type:"video",is_user_facing_data:!1},r?.productContextFields)),b=v(r?.thirdPartyContextFields),O=r?.commentContextFields?w(r?.commentContextFields):{},j=y(y(y(y(y({},g),f),h),O),b),P=!i?.user?.uri;(0,p.Ou)("vimeo.post_edited_comment",j,13,{posted_by_uploader:u===c,posted_by_guest:P,is_timecoded:!!a,is_internal:!n,value:null,option:l,comments_format:null})},F=(e,t,n,r,i,a,s)=>{let l=i?.user?.id||0,u=Number((s||"").match(/user(\d+)/)?.[1]||0),c=_(r.webContextFields,i),g=(0,d.Qt)({video_id:parseFloat(t),video_privacy:n}),f=(0,m.FI)(y({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"check_box",copy:null,device_type:(0,o.Z)(),entity_type:"video",is_user_facing_data:!1},r?.productContextFields)),h=v(r?.thirdPartyContextFields),b=r?.commentContextFields?w(r?.commentContextFields):{},O=y(y(y(y(y({},c),g),f),b),h),j=!i?.user?.uri;(0,p.Ou)("vimeo.resolve_comment",O,13,{posted_by_uploader:l===u,posted_by_guest:j,is_timecoded:!!a,is_internal:!0,value:e,option:null,comments_format:null})},T=(e,t,n,r,i,a)=>{let s=_(i.webContextFields,a),l=(0,d.Qt)({video_id:parseFloat(n),video_privacy:r}),u=(0,m.FI)(y({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"sub_menu",copy:e,device_type:(0,o.Z)(),entity_type:"video",is_user_facing_data:!1},i?.productContextFields)),c=v(i?.thirdPartyContextFields),g=i?.commentContextFields?w(i?.commentContextFields):{},f=y(y(y(y(y({},s),l),u),g),c);(0,p.Ou)("vimeo.open_comments_tab",f,13,{posted_by_uploader:null,posted_by_guest:null,is_timecoded:null,is_internal:!t,value:null,option:null,comments_format:null})},A=(e,t,n,r,i)=>{let a=_(r.webContextFields,i),s=(0,d.Qt)({video_id:parseFloat(t),video_privacy:n}),l=(0,m.FI)(y({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"button",copy:"Resolved",device_type:(0,o.Z)(),entity_type:"video",is_user_facing_data:!1},r?.productContextFields)),u=v(r?.thirdPartyContextFields),c=r?.commentContextFields?w(r?.commentContextFields):{},g=y(y(y(y(y({},a),s),l),c),u);(0,p.Ou)("vimeo.toggle_show_resolved_comments",g,13,{posted_by_uploader:null,posted_by_guest:null,is_timecoded:null,is_internal:!0,value:e,option:null,comments_format:null})},N=(e,t,n,r,i,a,s)=>{let l=_(a.webContextFields,s),u=(0,d.Qt)({video_id:parseFloat(n),video_privacy:i}),c=(0,m.FI)(y({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"button",copy:t,device_type:(0,o.Z)(),entity_type:"video",is_user_facing_data:!1},a?.productContextFields)),g=v(a?.thirdPartyContextFields),f=a?.commentContextFields?w(a?.commentContextFields):{},h=y(y(y(y(y({},l),u),c),f),g);(0,p.Ou)("vimeo.filter_comments",h,13,{posted_by_uploader:null,posted_by_guest:null,is_timecoded:null,is_internal:!r,value:null,option:e,comments_format:null})},z=(e,t,n,r,i,a="text",s,l)=>{let u=l?.user?.id||0,c=Number((i||"").match(/user(\d+)/)?.[1]||0),g=_(r.webContextFields,l),f=(0,d.Qt)({video_id:e,video_privacy:t}),h=(0,m.FI)(y({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:a,copy:null,device_type:(0,o.Z)(),entity_type:"video"},r?.productContextFields)),b=v(r?.thirdPartyContextFields),O=r?.commentContextFields?w(r?.commentContextFields):{},j=y(y(y(y(y({},g),f),h),O),b),P=!l?.user?.uri;(0,p.Ou)("vimeo.start_comment",j,13,{posted_by_uploader:u===c,posted_by_guest:P,is_timecoded:s,is_internal:!n,value:null,option:null,comments_format:null})},U=(e,t,n,r,i,a,s,l)=>{let u=_(a.webContextFields,l),c=(0,d.Qt)({video_id:parseFloat(n),video_privacy:i,video_owner_id:(0,g._G)(s??"")}),f=(0,m.FI)(y({product:"collaboration",feature:"comments",location:"comments_panel",modal_name:null,flow:null,element:"dropdown",copy:t,device_type:(0,o.Z)(),entity_type:"video",is_user_facing_data:!1},a?.productContextFields)),h=v(a?.thirdPartyContextFields),b=a?.commentContextFields?w(a?.commentContextFields):{},O=y(y(y(y(y({},u),c),f),b),h);(0,p.Ou)("vimeo.allow_viewer_comments",O,13,{posted_by_uploader:null,posted_by_guest:null,is_timecoded:null,is_internal:!1,value:e,option:null,comments_format:null})},K=(e,t,n,r,o)=>{let i=_(r,o),a=(0,m.FI)({product:"collaboration",feature:"comments",location:"comments_panel",element:"icon",entity_type:"video"}),s=(0,d.Qt)({video_id:t,video_privacy:n}),l=y(y(y({},i),a),s);(0,p.Ou)("vimeo.start_search_comment",l,13,{posted_by_uploader:null,posted_by_guest:null,is_timecoded:null,is_internal:e,value:null,option:null,comments_format:null})},Z=({eventName:e,copy:t,settingValue:n,settingOption:r,element:o,viewer:i,videoId:a,videoOwnerUri:s,videoPrivacy:l="nobody",modalName:u=null,location:c="comments_panel",comments_format:f=null})=>{let h=y(y(y({},_({page_name:"single_video_view_manage",referrer_page_name:"single_video_view_manage",referrer:document.referrer,path:window.location.pathname},i)),(0,m.FI)({product:"collaboration",feature:"comments",location:c,element:o??"dropdown",copy:t,entity_type:"video",modal_name:u})),"number"==typeof a?(0,d.Qt)({video_id:a,video_privacy:l,video_owner_id:(0,g.Pd)(s??"")}):void 0);(0,p.Ou)(e,h,13,{posted_by_uploader:null,posted_by_guest:null,is_timecoded:null,is_internal:null,value:n,option:r,comments_format:f})},B=({viewer:e,videoId:t,commentId:n,videoPrivacy:r="nobody",analyticsProps:o})=>{let i=_(o.webContextFields,e),a=(0,m.FI)({product:"collaboration",feature:"comments",location:"comments_panel",element:"button",entity_type:"video"}),s=(0,d.Qt)({video_id:parseInt(t),video_privacy:r}),l=w(y({comment_id:parseInt(n??"")},o?.commentContextFields)),u=y(y(y(y({},i),a),s),l);(0,p.Ou)("vimeo.open_report_comment_modal",u,13,{})}},734528:function(e,t,n){n.d(t,{Fl:function(){return d},Q0:function(){return m},RX:function(){return u},S0:function(){return a},UJ:function(){return c},ZB:function(){return o},Zx:function(){return r},bn:function(){return s},dp:function(){return p},fO:function(){return i},k8:function(){return l}});let r="anybody",o="password",i="contacts",a="users",s="stashed_comment",l="stashed_guest_user",u=["createdOn","metadata.connections.replies.total","text","richtext","metadata.connections.user.name","metadata.connections.user.link","metadata.connections.user.uri","metadata.connections.user.pictures.sizes","metadata.connections.user.badge","metadata.connections.user.isStaffPicked","metadata.connections.guestUser.name","metadata.connections.guestUser.uri","uri","replies.createdOn","replies.text","replies.richtext","replies.metadata.connections.user.link","replies.metadata.connections.user.name","replies.metadata.connections.user.uri","replies.metadata.connections.user.pictures.sizes","replies.metadata.connections.user.badge","replies.metadata.connections.user.isStaffPicked","replies.metadata.connections.guestUser.name","replies.metadata.connections.guestUser.uri","replies.uri","replies.lastEditedOn","textDecorations","deletedOn","lastEditedOn"],c=["createdOn","link","richtext","metadata.connections.replies.total","text","metadata.connections.user.name","metadata.connections.user.link","metadata.connections.user.uri","metadata.connections.user.pictures.sizes","metadata.connections.user.badge","uri","metadata","replies.createdOn","replies.link","replies.text","replies.richtext","replies.metadata.connections.user.name","replies.metadata.connections.user.link","replies.metadata.connections.user.uri","replies.metadata.connections.user.pictures.sizes","replies.metadata.connections.user.badge","replies.uri"],d=["createdOn","link","metadata.connections.replies.total","text","richtext","metadata.connections.user.name","metadata.connections.user.link","metadata.connections.user.uri","metadata.connections.user.pictures.sizes","metadata.connections.user.badge","uri","metadata"],m=["createdOn","link","metadata.connections.replies.total","text","richtext","metadata.connections.user.name","metadata.connections.user.link","metadata.connections.user.uri","metadata.connections.user.pictures.sizes","metadata.connections.user.badge","uri","metadata","replies.createdOn","replies.link","replies.text","replies.richtext","replies.metadata.connections.user.name","replies.metadata.connections.user.link","replies.metadata.connections.user.uri","replies.metadata.connections.user.pictures.sizes","replies.metadata.connections.user.badge","replies.uri"],p=["createdOn","link","metadata.connections.replies.total","text","richtext","metadata.connections.user.name","metadata.connections.user.link","metadata.connections.user.uri","metadata.connections.user.pictures.sizes","uri","metadata"]},420426:function(e,t,n){n.d(t,{BO:function(){return k},CU:function(){return b},D1:function(){return p},KK:function(){return x},Or:function(){return j},Pd:function(){return u},Xc:function(){return S},Xg:function(){return w},YK:function(){return m},ZG:function(){return P},_G:function(){return y},b:function(){return g},eJ:function(){return O},eZ:function(){return c},ef:function(){return R},f4:function(){return h},hu:function(){return v},uv:function(){return E},vh:function(){return d},x2:function(){return _}});var r=n(867932),o=n(274518),i=n(257095),a=n(734528);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let u=e=>e?parseInt(e.substring(e.lastIndexOf("/")+1),10):0,c=e=>e?Number((e||"").match(/user(\d+)/)?.[1]):0,d=()=>{let e;if(!(e=new URLSearchParams(window.location.search).get("comment"))){let t=window.location.hash.match(/#comment_(\d+)/);e=t?t[1]:void 0}return e},m=()=>{let e=new URLSearchParams(window.location.search).get("reply");return e?Number(e):null},p=e=>e.split(":")[0],g=e=>{let t=e.match(/\/(?:comments|private_comments)\/(\d+)\//);return t?t[1]:null},f=e=>e?parseInt(e.split("/")[4]):null,y=e=>e?parseInt(e.split("/")[2]):null,h=e=>{let t,n,r;let{email:i,name:a,isTeamInvitePending:s,pictures:l,uri:u}=e;u.includes("/team_users/")?t=f(u):u.includes("/guest_users/")?r=u.split("/").pop():u.includes("/users/")&&(n=y(u));let[c,d]=(0,o.gp)(l?.sizes);return{name:a??void 0,email:i??void 0,isPending:s??void 0,teamUserId:t??void 0,userId:n??void 0,guestUserId:r??void 0,src:c,srcSet:d}},b=/^\w+([\+\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,})+$/,O=({name:e,email:t,userId:n,teamUserId:r,guestUserId:o})=>({label:e??t,userId:n,teamUserId:r,guestUserId:o}),v=e=>![a.Zx,a.ZB,a.S0,a.fO].includes(e),w={everyone:{copy:"Everyone",option:"everyone"},team:{copy:"Only from Team",option:"team_only"},non_team:{copy:"Only Guests",option:"guest_only"},mentions_replies:{copy:"Mentions and Replies",option:"mentions_replies"}};function j(e,t){if(t)return(function(e){let t=JSON.parse(e||"");return t.content?.map(e=>e.content?.map(e=>{let t="text"===e.type?e.text.trim():"";return("mention"===e.type?e.attrs?.label:t)??""}).filter(e=>!!e).join(" ")).join(" ")})(t).toLowerCase().includes(e)}let _=e=>e?e.split("/")[2]:null,P=(e="")=>{if(!C(e))return/(^|\W)@\w+(\.\w+)?\b/.test(e);let t=JSON.parse(e);return Array.isArray(t?.content)&&t.content.some(e=>e?.content?.some(e=>"mention"===e.type))},C=e=>{try{return JSON.parse(e),!0}catch{return!1}},E=e=>{let t=JSON.parse(e||""),n=t.content;if(n.length){let e=n[0],r=n[n.length-1];if(e.content){let n=(e=>{if(0===e.length)return e;for(;"hardBreak"===e[0].type;)e.shift();return"text"!==e[0].type||(e[0].text=e[0].text.trimStart(),e[0].text||e.shift()),e})(e.content);t.content[0].content=n}if(r.content){let e=(e=>{if(0===e.length)return e;for(;"hardBreak"===e[e.length-1].type;)e.pop();let t=e.length-1;return e.length>0&&"text"===e[t].type&&(e[t].text=e[t].text.trimEnd(),e[t].text||("mention"===e[t-1].type?e[t].text+=" ":e.pop())),e})(r.content);t.content[n.length-1].content=e}}return t&&JSON.stringify(t)},R=(e,t,n)=>({sort:t?.type,direction:t?.direction,password:e,includeDeletedComments:!0,commented_user_type:["team","non_team"].includes(n?.userType||"")?n?.userType:void 0,mentions_and_replies:n?.mentionAndReplies??void 0}),x=(e,t,n)=>l(l({commentId:e,perPage:25,sort:n?.type,direction:n?.direction},t?{password:t}:null),{},{includeDeletedComments:!0}),S=e=>({password:e,includeDeletedComments:!0,page:1,perPage:1}),k=e=>{let t=`${e}_albumpassword`;return(0,i.hL)(t)}},594:function(e,t,n){n.d(t,{K:function(){return i}});var r=n(867932);class o{constructor(){(0,r.Z)(this,"storage",new Map)}static getInstance(){return o.instance||(o.instance=new o),o.instance}get length(){return this.storage.size}clear(){this.storage.clear()}getItem(e){return this.storage.get(e)??null}key(e){let t=Array.from(this.storage.keys());return t.length>e?t[e]:null}removeItem(e){this.storage.delete(e)}setItem(e,t){this.storage.set(e,t)}}function i(){return!function(e){let t;try{t=window[e];let n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return!1}}("sessionStorage")?o.getInstance():window.sessionStorage}(0,r.Z)(o,"instance",void 0)},987580:function(e,t,n){n.d(t,{f:function(){return u}});var r=n(867932),o=n(92575),i=n(996240);let a=["baseUrl","select","variables"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}async function u(e){let{baseUrl:t,select:n,variables:r}=e,s=(0,o.Z)(e,a),u=await fetch(`${t}/guest_users?fields=${n.map(i.Rb).join(",")}`,l(l({},s),{},{method:"POST",body:JSON.stringify((0,i.mH)(r))}));if(!u.ok)throw new i.F7("A network error occurred",u.status,u);if(204===u.status)return null;if(!u.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let c=await u.json();return(0,i.l_)(c)}},944304:function(e,t,n){n.d(t,{FM:function(){return m},XE:function(){return p},om:function(){return d}});var r=n(867932),o=n(92575),i=n(996240);let a=["baseUrl","select","where","query"],s=["baseUrl","where"],l=["baseUrl","select","variables","where"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}async function d(e){let{baseUrl:t,select:n,where:{videoId:r},query:s}=e,l=(0,o.Z)(e,a),u=await fetch(`${t}/videos/${r}?${(0,i.Ov)(s)}&fields=${n.map(i.Rb).join(",")}`,c(c({},l),{},{method:"GET"}));if(!u.ok)throw new i.F7("A network error occurred",u.status,u);if(204===u.status)return null;if(!u.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let d=await u.json();return(0,i.l_)(d)}async function m(e){let{baseUrl:t,where:{videoId:n}}=e,r=(0,o.Z)(e,s),a=await fetch(`${t}/videos/${n}`,c(c({},r),{},{method:"DELETE"}));if(!a.ok)throw new i.F7("A network error occurred",a.status,a);if(204===a.status)return null;if(!a.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let l=await a.json();return(0,i.l_)(l)}async function p(e){let{baseUrl:t,select:n,variables:r,where:{videoId:a}}=e,s=(0,o.Z)(e,l),u=await fetch(`${t}/videos/${a}?fields=${n.map(i.Rb).join(",")}`,c(c({},s),{},{method:"PATCH",body:JSON.stringify((0,i.mH)(r))}));if(!u.ok)throw new i.F7("A network error occurred",u.status,u);if(204===u.status)return null;if(!u.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let d=await u.json();return(0,i.l_)(d)}},495173:function(e,t,n){n.d(t,{m:function(){return O},M:function(){return v}});var r=n(867932),o=n(502349),i=n(92575),a=n(996240);let s=["baseUrl","where","query"],l=["baseUrl","select","variables","where","query"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}async function d(e){let{baseUrl:t,where:{albumId:n,videoId:r,commentId:o},query:l}=e,u=(0,i.Z)(e,s),d=await fetch(`${t}/albums/${n}/videos/${r}/comments/${o}?${(0,a.Ov)(l)}`,c(c({},u),{},{method:"DELETE"}));if(!d.ok)throw new a.F7("A network error occurred",d.status,d);if(204===d.status)return null;if(!d.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let m=await d.json();return(0,a.l_)(m)}async function m(e){let{baseUrl:t,select:n,variables:r,where:{albumId:o,videoId:s,commentId:u},query:d}=e,m=(0,i.Z)(e,l),p=await fetch(`${t}/albums/${o}/videos/${s}/comments/${u}?${(0,a.Ov)(d)}&fields=${n.map(a.Rb).join(",")}`,c(c({},m),{},{method:"PATCH",body:JSON.stringify((0,a.mH)(r))}));if(!p.ok)throw new a.F7("A network error occurred",p.status,p);if(204===p.status)return null;if(!p.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let g=await p.json();return(0,a.l_)(g)}var p=n(652983),g=n(296638),f=n(848568),y=n(173656);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(){let{mutate:e}=(0,g.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:i}=(0,f.r)(),[a,s]=(0,o.AC)();return[(0,p.useCallback)(async a=>{s({type:"REQUEST"});try{let l=await e(`/albums/${a.where.albumId}/videos/${a.where.videoId}/comments/${a.where.commentId}${(0,o.Y$)(a)}`,d(b(b({},a),{},{baseUrl:t,headers:b(b({},a.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":i??"en"})})),!1);s({type:"SUCCESS",payload:l})}catch(e){s({type:"FAILURE",payload:e})}},[t,r,n,i,s]),a]}function v(){let{mutate:e}=(0,g.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:i}=(0,f.r)(),[a,s]=(0,o.AC)();return[(0,p.useCallback)(async a=>{s({type:"REQUEST"});try{let l=await e(`/albums/${a.where.albumId}/videos/${a.where.videoId}/comments/${a.where.commentId}${(0,o.Y$)(a)}`,m(b(b({},a),{},{baseUrl:t,headers:b(b({},a.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":i??"en"})})),!1);s({type:"SUCCESS",payload:l})}catch(e){s({type:"FAILURE",payload:e})}},[t,r,n,i,s]),a]}"true"===y.env.STORYBOOK&&(0,o.MR)(O,{endpoint:"/albums/:albumId/videos/:videoId/comments/:commentId",method:"DELETE"}),"true"===y.env.STORYBOOK&&(0,o.MR)(v,{endpoint:"/albums/:albumId/videos/:videoId/comments/:commentId",method:"PATCH"})},271870:function(e,t,n){n.d(t,{bG:function(){return w},hG:function(){return j},sr:function(){return _}});var r=n(92575),o=n(867932),i=n(502349),a=n(996240);let s=["baseUrl","select","where","query"],l=["baseUrl","select","variables","where","query"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}async function d(e){let{baseUrl:t,select:n,where:{albumId:o,videoId:i},query:l}=e,u=(0,r.Z)(e,s),d=await fetch(`${t}/albums/${o}/videos/${i}/comments?${(0,a.Ov)(l)}&fields=${n.map(a.Rb).join(",")}`,c(c({},u),{},{method:"GET"}));if(!d.ok)throw new a.F7("A network error occurred",d.status,d);if(204===d.status)return null;if(!d.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let m=await d.json();return(0,a.l_)(m)}async function m(e){let{baseUrl:t,select:n,variables:o,where:{albumId:i,videoId:s},query:u}=e,d=(0,r.Z)(e,l),m=await fetch(`${t}/albums/${i}/videos/${s}/comments?${(0,a.Ov)(u)}&fields=${n.map(a.Rb).join(",")}`,c(c({},d),{},{method:"POST",body:JSON.stringify((0,a.mH)(o))}));if(!m.ok)throw new a.F7("A network error occurred",m.status,m);if(204===m.status)return null;if(!m.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let p=await m.json();return(0,a.l_)(p)}var p=n(652983),g=n(296638),f=n(512959),y=n(848568),h=n(173656);let b=["perPage","page"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t){let n="function"==typeof e?e():e,{baseUrl:r,jwt:o,xVimeoPage:a,locale:s}=(0,y.r)();return(0,g.ZP)(n?`/albums/${n.where.albumId}/videos/${n.where.videoId}/comments${(0,i.Y$)(n)}`:()=>null,n?()=>d(v(v({},n),{},{headers:v(v({},n.headers),{},{"Content-Type":"application/json",Authorization:o?`jwt ${o}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),baseUrl:r})):null,t)}function j(e,t){let n="function"==typeof e?e():e,{baseUrl:o,jwt:i,xVimeoPage:a,locale:s}=(0,y.r)();return(0,f.ZP)((e,t)=>{if(null===n||t&&!t.paging.next)return null;let o=n.query??{},{perPage:i=25,page:a}=o,s=(0,r.Z)(o,b),l=n.select.join(","),u=Object.entries(s??{}).filter(([,e])=>void 0!==e).map(([e,t])=>`${e}=${t}`).join("&");return[`/albums/${n.where.albumId}/videos/${n.where.videoId}/comments?page=${e+1}&perPage=${i}&fields=${l}&${u}`,e]},null!==n?([e,t])=>d(v(v({},n),{},{baseUrl:o,headers:v(v({},n.headers),{},{"Content-Type":"application/json",Authorization:i?`jwt ${i}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),query:v(v({},n.query),{},{page:t+1})})):null,t)}function _(){let{baseUrl:e,jwt:t,xVimeoPage:n,locale:r}=(0,y.r)(),[o,a]=(0,i.AC)();return[(0,p.useCallback)(async o=>{a({type:"REQUEST"});try{let i=await m(v(v({},o),{},{baseUrl:e,headers:v(v({},o.headers),{},{"Content-Type":"application/json",Authorization:t?`jwt ${t}`:"","Vimeo-Page":`${n}`,"Accept-Language":r??"en"})}));a({type:"SUCCESS",payload:i})}catch(e){a({type:"FAILURE",payload:e})}},[e,n,t,r,a]),o]}"true"===h.env.STORYBOOK&&(0,i.MR)(w,{endpoint:"/albums/:albumId/videos/:videoId/comments",method:"GET"}),"true"===h.env.STORYBOOK&&(0,i.MR)(function(){let{mutate:e}=(0,g.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:o}=(0,y.r)(),[a,s]=(0,i.AC)();return[(0,p.useCallback)(async a=>{s({type:"REQUEST"});try{let l=await e(`/albums/${a.where.albumId}/videos/${a.where.videoId}/comments${(0,i.Y$)(a)}`,d(v(v({},a),{},{baseUrl:t,headers:v(v({},a.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":o??"en"})})));s({type:"SUCCESS",payload:l})}catch(e){s({type:"FAILURE",payload:e})}},[t,r,n,o,s]),a]},{endpoint:"/albums/:albumId/videos/:videoId/comments",method:"GET"}),"true"===h.env.STORYBOOK&&(0,i.MR)(j,{endpoint:"/albums/:albumId/videos/:videoId/comments",method:"GET"}),"true"===h.env.STORYBOOK&&(0,i.MR)(_,{endpoint:"/albums/:albumId/videos/:videoId/comments",method:"POST"})},908258:function(e,t,n){n.d(t,{Os:function(){return g},Yu:function(){return f},p4:function(){return p},rw:function(){return m}});var r=n(867932),o=n(502349),i=n(944304),a=n(652983),s=n(296638),l=n(848568),u=n(173656);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){let n="function"==typeof e?e():e,{baseUrl:r,jwt:a,xVimeoPage:u,locale:c}=(0,l.r)();return(0,s.ZP)(n?`/videos/${n.where.videoId}${(0,o.Y$)(n)}`:()=>null,n?()=>(0,i.om)(d(d({},n),{},{headers:d(d({},n.headers),{},{"Content-Type":"application/json",Authorization:a?`jwt ${a}`:"","Vimeo-Page":`${u}`,"Accept-Language":c??"en"}),baseUrl:r})):null,t)}function p(){let{mutate:e}=(0,s.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:u}=(0,l.r)(),[c,m]=(0,o.AC)();return[(0,a.useCallback)(async a=>{m({type:"REQUEST"});try{let s=await e(`/videos/${a.where.videoId}${(0,o.Y$)(a)}`,(0,i.om)(d(d({},a),{},{baseUrl:t,headers:d(d({},a.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":u??"en"})})));m({type:"SUCCESS",payload:s})}catch(e){m({type:"FAILURE",payload:e})}},[t,r,n,u,m]),c]}function g(){let{mutate:e}=(0,s.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:u}=(0,l.r)(),[c,m]=(0,o.AC)();return[(0,a.useCallback)(async a=>{m({type:"REQUEST"});try{let s=await e(`/videos/${a.where.videoId}${(0,o.Y$)(a)}`,(0,i.FM)(d(d({},a),{},{baseUrl:t,headers:d(d({},a.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":u??"en"})})),!1);m({type:"SUCCESS",payload:s})}catch(e){m({type:"FAILURE",payload:e})}},[t,r,n,u,m]),c]}function f(){let{mutate:e}=(0,s.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:u}=(0,l.r)(),[c,m]=(0,o.AC)();return[(0,a.useCallback)(async a=>{m({type:"REQUEST"});try{let s=await e(`/videos/${a.where.videoId}${(0,o.Y$)(a)}`,(0,i.XE)(d(d({},a),{},{baseUrl:t,headers:d(d({},a.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":u??"en"})})),!1);m({type:"SUCCESS",payload:s})}catch(e){m({type:"FAILURE",payload:e})}},[t,r,n,u,m]),c]}"true"===u.env.STORYBOOK&&(0,o.MR)(m,{endpoint:"/videos/:videoId",method:"GET"}),"true"===u.env.STORYBOOK&&(0,o.MR)(p,{endpoint:"/videos/:videoId",method:"GET"}),"true"===u.env.STORYBOOK&&(0,o.MR)(g,{endpoint:"/videos/:videoId",method:"DELETE"}),"true"===u.env.STORYBOOK&&(0,o.MR)(f,{endpoint:"/videos/:videoId",method:"PATCH"})},275733:function(e,t,n){n.d(t,{qM:function(){return w},kS:function(){return j}});var r=n(867932),o=n(502349),i=n(92575),a=n(996240);let s=["baseUrl","select","where"],l=["baseUrl","where","query"],u=["baseUrl","select","variables","where","query"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}async function m(e){let{baseUrl:t,select:n,where:{videoId:r,commentId:o}}=e,l=(0,i.Z)(e,s),u=await fetch(`${t}/videos/${r}/comments/${o}?fields=${n.map(a.Rb).join(",")}`,d(d({},l),{},{method:"GET"}));if(!u.ok)throw new a.F7("A network error occurred",u.status,u);if(204===u.status)return null;if(!u.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let c=await u.json();return(0,a.l_)(c)}async function p(e){let{baseUrl:t,where:{videoId:n,commentId:r},query:o}=e,s=(0,i.Z)(e,l),u=await fetch(`${t}/videos/${n}/comments/${r}?${(0,a.Ov)(o)}`,d(d({},s),{},{method:"DELETE"}));if(!u.ok)throw new a.F7("A network error occurred",u.status,u);if(204===u.status)return null;if(!u.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let c=await u.json();return(0,a.l_)(c)}async function g(e){let{baseUrl:t,select:n,variables:r,where:{videoId:o,commentId:s},query:l}=e,c=(0,i.Z)(e,u),m=await fetch(`${t}/videos/${o}/comments/${s}?${(0,a.Ov)(l)}&fields=${n.map(a.Rb).join(",")}`,d(d({},c),{},{method:"PATCH",body:JSON.stringify((0,a.mH)(r))}));if(!m.ok)throw new a.F7("A network error occurred",m.status,m);if(204===m.status)return null;if(!m.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let p=await m.json();return(0,a.l_)(p)}var f=n(652983),y=n(296638),h=n(848568),b=n(173656);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(){let{mutate:e}=(0,y.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:i}=(0,h.r)(),[a,s]=(0,o.AC)();return[(0,f.useCallback)(async a=>{s({type:"REQUEST"});try{let l=await e(`/videos/${a.where.videoId}/comments/${a.where.commentId}${(0,o.Y$)(a)}`,p(v(v({},a),{},{baseUrl:t,headers:v(v({},a.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":i??"en"})})),!1);s({type:"SUCCESS",payload:l})}catch(e){s({type:"FAILURE",payload:e})}},[t,r,n,i,s]),a]}function j(){let{mutate:e}=(0,y.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:i}=(0,h.r)(),[a,s]=(0,o.AC)();return[(0,f.useCallback)(async a=>{s({type:"REQUEST"});try{let l=await e(`/videos/${a.where.videoId}/comments/${a.where.commentId}${(0,o.Y$)(a)}`,g(v(v({},a),{},{baseUrl:t,headers:v(v({},a.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":i??"en"})})),!1);s({type:"SUCCESS",payload:l})}catch(e){s({type:"FAILURE",payload:e})}},[t,r,n,i,s]),a]}"true"===b.env.STORYBOOK&&(0,o.MR)(function(e,t){let n="function"==typeof e?e():e,{baseUrl:r,jwt:i,xVimeoPage:a,locale:s}=(0,h.r)();return(0,y.ZP)(n?`/videos/${n.where.videoId}/comments/${n.where.commentId}${(0,o.Y$)(n)}`:()=>null,n?()=>m(v(v({},n),{},{headers:v(v({},n.headers),{},{"Content-Type":"application/json",Authorization:i?`jwt ${i}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),baseUrl:r})):null,t)},{endpoint:"/videos/:videoId/comments/:commentId",method:"GET"}),"true"===b.env.STORYBOOK&&(0,o.MR)(function(){let{mutate:e}=(0,y.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:i}=(0,h.r)(),[a,s]=(0,o.AC)();return[(0,f.useCallback)(async a=>{s({type:"REQUEST"});try{let l=await e(`/videos/${a.where.videoId}/comments/${a.where.commentId}${(0,o.Y$)(a)}`,m(v(v({},a),{},{baseUrl:t,headers:v(v({},a.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":i??"en"})})));s({type:"SUCCESS",payload:l})}catch(e){s({type:"FAILURE",payload:e})}},[t,r,n,i,s]),a]},{endpoint:"/videos/:videoId/comments/:commentId",method:"GET"}),"true"===b.env.STORYBOOK&&(0,o.MR)(w,{endpoint:"/videos/:videoId/comments/:commentId",method:"DELETE"}),"true"===b.env.STORYBOOK&&(0,o.MR)(j,{endpoint:"/videos/:videoId/comments/:commentId",method:"PATCH"})},165152:function(e,t,n){n.d(t,{gV:function(){return w},mY:function(){return j},NE:function(){return _}});var r=n(92575),o=n(867932),i=n(502349),a=n(996240);let s=["baseUrl","select","where","query"],l=["baseUrl","select","variables","where","query"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}async function d(e){let{baseUrl:t,select:n,where:{videoId:o},query:i}=e,l=(0,r.Z)(e,s),u=await fetch(`${t}/videos/${o}/comments?${(0,a.Ov)(i)}&fields=${n.map(a.Rb).join(",")}`,c(c({},l),{},{method:"GET"}));if(!u.ok)throw new a.F7("A network error occurred",u.status,u);if(204===u.status)return null;if(!u.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let d=await u.json();return(0,a.l_)(d)}async function m(e){let{baseUrl:t,select:n,variables:o,where:{videoId:i},query:s}=e,u=(0,r.Z)(e,l),d=await fetch(`${t}/videos/${i}/comments?${(0,a.Ov)(s)}&fields=${n.map(a.Rb).join(",")}`,c(c({},u),{},{method:"POST",body:JSON.stringify((0,a.mH)(o))}));if(!d.ok)throw new a.F7("A network error occurred",d.status,d);if(204===d.status)return null;if(!d.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let m=await d.json();return(0,a.l_)(m)}var p=n(652983),g=n(296638),f=n(512959),y=n(848568),h=n(173656);let b=["perPage","page"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t){let n="function"==typeof e?e():e,{baseUrl:r,jwt:o,xVimeoPage:a,locale:s}=(0,y.r)();return(0,g.ZP)(n?`/videos/${n.where.videoId}/comments${(0,i.Y$)(n)}`:()=>null,n?()=>d(v(v({},n),{},{headers:v(v({},n.headers),{},{"Content-Type":"application/json",Authorization:o?`jwt ${o}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),baseUrl:r})):null,t)}function j(e,t){let n="function"==typeof e?e():e,{baseUrl:o,jwt:i,xVimeoPage:a,locale:s}=(0,y.r)();return(0,f.ZP)((e,t)=>{if(null===n||t&&!t.paging.next)return null;let o=n.query??{},{perPage:i=25,page:a}=o,s=(0,r.Z)(o,b),l=n.select.join(","),u=Object.entries(s??{}).filter(([,e])=>void 0!==e).map(([e,t])=>`${e}=${t}`).join("&");return[`/videos/${n.where.videoId}/comments?page=${e+1}&perPage=${i}&fields=${l}&${u}`,e]},null!==n?([e,t])=>d(v(v({},n),{},{baseUrl:o,headers:v(v({},n.headers),{},{"Content-Type":"application/json",Authorization:i?`jwt ${i}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),query:v(v({},n.query),{},{page:t+1})})):null,t)}function _(){let{baseUrl:e,jwt:t,xVimeoPage:n,locale:r}=(0,y.r)(),[o,a]=(0,i.AC)();return[(0,p.useCallback)(async o=>{a({type:"REQUEST"});try{let i=await m(v(v({},o),{},{baseUrl:e,headers:v(v({},o.headers),{},{"Content-Type":"application/json",Authorization:t?`jwt ${t}`:"","Vimeo-Page":`${n}`,"Accept-Language":r??"en"})}));a({type:"SUCCESS",payload:i})}catch(e){a({type:"FAILURE",payload:e})}},[e,n,t,r,a]),o]}"true"===h.env.STORYBOOK&&(0,i.MR)(w,{endpoint:"/videos/:videoId/comments",method:"GET"}),"true"===h.env.STORYBOOK&&(0,i.MR)(function(){let{mutate:e}=(0,g.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:o}=(0,y.r)(),[a,s]=(0,i.AC)();return[(0,p.useCallback)(async a=>{s({type:"REQUEST"});try{let l=await e(`/videos/${a.where.videoId}/comments${(0,i.Y$)(a)}`,d(v(v({},a),{},{baseUrl:t,headers:v(v({},a.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":o??"en"})})));s({type:"SUCCESS",payload:l})}catch(e){s({type:"FAILURE",payload:e})}},[t,r,n,o,s]),a]},{endpoint:"/videos/:videoId/comments",method:"GET"}),"true"===h.env.STORYBOOK&&(0,i.MR)(j,{endpoint:"/videos/:videoId/comments",method:"GET"}),"true"===h.env.STORYBOOK&&(0,i.MR)(_,{endpoint:"/videos/:videoId/comments",method:"POST"})},918879:function(e,t,n){n.d(t,{o:function(){return O},l:function(){return v}});var r=n(867932),o=n(502349),i=n(92575),a=n(996240);let s=["baseUrl","where"],l=["baseUrl","select","variables","where"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}async function d(e){let{baseUrl:t,where:{videoId:n,commentId:r}}=e,o=(0,i.Z)(e,s),l=await fetch(`${t}/videos/${n}/private_comments/${r}`,c(c({},o),{},{method:"DELETE"}));if(!l.ok)throw new a.F7("A network error occurred",l.status,l);if(204===l.status)return null;if(!l.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let u=await l.json();return(0,a.l_)(u)}async function m(e){let{baseUrl:t,select:n,variables:r,where:{videoId:o,commentId:s}}=e,u=(0,i.Z)(e,l),d=await fetch(`${t}/videos/${o}/private_comments/${s}?fields=${n.map(a.Rb).join(",")}`,c(c({},u),{},{method:"PATCH",body:JSON.stringify((0,a.mH)(r))}));if(!d.ok)throw new a.F7("A network error occurred",d.status,d);if(204===d.status)return null;if(!d.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let m=await d.json();return(0,a.l_)(m)}var p=n(652983),g=n(296638),f=n(848568),y=n(173656);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(){let{mutate:e}=(0,g.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:i}=(0,f.r)(),[a,s]=(0,o.AC)();return[(0,p.useCallback)(async a=>{s({type:"REQUEST"});try{let l=await e(`/videos/${a.where.videoId}/private_comments/${a.where.commentId}${(0,o.Y$)(a)}`,d(b(b({},a),{},{baseUrl:t,headers:b(b({},a.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":i??"en"})})),!1);s({type:"SUCCESS",payload:l})}catch(e){s({type:"FAILURE",payload:e})}},[t,r,n,i,s]),a]}function v(){let{mutate:e}=(0,g.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:i}=(0,f.r)(),[a,s]=(0,o.AC)();return[(0,p.useCallback)(async a=>{s({type:"REQUEST"});try{let l=await e(`/videos/${a.where.videoId}/private_comments/${a.where.commentId}${(0,o.Y$)(a)}`,m(b(b({},a),{},{baseUrl:t,headers:b(b({},a.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":i??"en"})})),!1);s({type:"SUCCESS",payload:l})}catch(e){s({type:"FAILURE",payload:e})}},[t,r,n,i,s]),a]}"true"===y.env.STORYBOOK&&(0,o.MR)(O,{endpoint:"/videos/:videoId/private_comments/:commentId",method:"DELETE"}),"true"===y.env.STORYBOOK&&(0,o.MR)(v,{endpoint:"/videos/:videoId/private_comments/:commentId",method:"PATCH"})},649094:function(e,t,n){n.d(t,{cz:function(){return w},rU:function(){return j},UQ:function(){return _}});var r=n(92575),o=n(867932),i=n(502349),a=n(996240);let s=["baseUrl","select","where","query"],l=["baseUrl","select","variables","where"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}async function d(e){let{baseUrl:t,select:n,where:{videoId:o},query:i}=e,l=(0,r.Z)(e,s),u=await fetch(`${t}/videos/${o}/private_comments?${(0,a.Ov)(i)}&fields=${n.map(a.Rb).join(",")}`,c(c({},l),{},{method:"GET"}));if(!u.ok)throw new a.F7("A network error occurred",u.status,u);if(204===u.status)return null;if(!u.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let d=await u.json();return(0,a.l_)(d)}async function m(e){let{baseUrl:t,select:n,variables:o,where:{videoId:i}}=e,s=(0,r.Z)(e,l),u=await fetch(`${t}/videos/${i}/private_comments?fields=${n.map(a.Rb).join(",")}`,c(c({},s),{},{method:"POST",body:JSON.stringify((0,a.mH)(o))}));if(!u.ok)throw new a.F7("A network error occurred",u.status,u);if(204===u.status)return null;if(!u.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let d=await u.json();return(0,a.l_)(d)}var p=n(652983),g=n(296638),f=n(512959),y=n(848568),h=n(173656);let b=["perPage","page"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t){let n="function"==typeof e?e():e,{baseUrl:r,jwt:o,xVimeoPage:a,locale:s}=(0,y.r)();return(0,g.ZP)(n?`/videos/${n.where.videoId}/private_comments${(0,i.Y$)(n)}`:()=>null,n?()=>d(v(v({},n),{},{headers:v(v({},n.headers),{},{"Content-Type":"application/json",Authorization:o?`jwt ${o}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),baseUrl:r})):null,t)}function j(e,t){let n="function"==typeof e?e():e,{baseUrl:o,jwt:i,xVimeoPage:a,locale:s}=(0,y.r)();return(0,f.ZP)((e,t)=>{if(null===n||t&&!t.paging.next)return null;let o=n.query??{},{perPage:i=25,page:a}=o,s=(0,r.Z)(o,b),l=n.select.join(","),u=Object.entries(s??{}).filter(([,e])=>void 0!==e).map(([e,t])=>`${e}=${t}`).join("&");return[`/videos/${n.where.videoId}/private_comments?page=${e+1}&perPage=${i}&fields=${l}&${u}`,e]},null!==n?([e,t])=>d(v(v({},n),{},{baseUrl:o,headers:v(v({},n.headers),{},{"Content-Type":"application/json",Authorization:i?`jwt ${i}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),query:v(v({},n.query),{},{page:t+1})})):null,t)}function _(){let{baseUrl:e,jwt:t,xVimeoPage:n,locale:r}=(0,y.r)(),[o,a]=(0,i.AC)();return[(0,p.useCallback)(async o=>{a({type:"REQUEST"});try{let i=await m(v(v({},o),{},{baseUrl:e,headers:v(v({},o.headers),{},{"Content-Type":"application/json",Authorization:t?`jwt ${t}`:"","Vimeo-Page":`${n}`,"Accept-Language":r??"en"})}));a({type:"SUCCESS",payload:i})}catch(e){a({type:"FAILURE",payload:e})}},[e,n,t,r,a]),o]}"true"===h.env.STORYBOOK&&(0,i.MR)(w,{endpoint:"/videos/:videoId/private_comments",method:"GET"}),"true"===h.env.STORYBOOK&&(0,i.MR)(function(){let{mutate:e}=(0,g.kY)(),{baseUrl:t,jwt:n,xVimeoPage:r,locale:o}=(0,y.r)(),[a,s]=(0,i.AC)();return[(0,p.useCallback)(async a=>{s({type:"REQUEST"});try{let l=await e(`/videos/${a.where.videoId}/private_comments${(0,i.Y$)(a)}`,d(v(v({},a),{},{baseUrl:t,headers:v(v({},a.headers),{},{"Content-Type":"application/json",Authorization:n?`jwt ${n}`:"","Vimeo-Page":`${r}`,"Accept-Language":o??"en"})})));s({type:"SUCCESS",payload:l})}catch(e){s({type:"FAILURE",payload:e})}},[t,r,n,o,s]),a]},{endpoint:"/videos/:videoId/private_comments",method:"GET"}),"true"===h.env.STORYBOOK&&(0,i.MR)(j,{endpoint:"/videos/:videoId/private_comments",method:"GET"}),"true"===h.env.STORYBOOK&&(0,i.MR)(_,{endpoint:"/videos/:videoId/private_comments",method:"POST"})},510067:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(652983),o=n(194067),i=n(419650);function a(e,t,n,a,s=!0,l="540p",u=1,c){let{PlayerConstructor:d,playerType:m}=(0,r.useContext)(o.E),p=(0,r.useRef)(!1),{0:g,1:f}=(0,r.useState)(null),y=(0,r.useRef)(null),{0:h,1:b}=(0,r.useReducer)(e=>e+1,0),O=(0,r.useCallback)(()=>{if(p.current=!0,m===i.G.BarebonePlayer)new d(e.current,a).then(e=>{e.loop=s,e.quality=l,e.volume=u,f(e),y.current=e,p.current=!1}).catch(()=>{p.current=!1});else{let t=new d(e.current,a,!0,c||{});f(t),y.current=t,p.current=!1}},[d,e,a,m,s,l,u,c]),v=(0,r.useCallback)(()=>{y.current&&(y.current.unload?.(),f(null),y.current=null)},[]),w=()=>{y.current&&(y.current.destroy?.(),f(null),y.current=null)},j=(0,r.useCallback)(()=>{v(),b()},[v]);return(0,r.useEffect)(function(){(!y.current||y.current?.videoId!==Number(t))&&d&&n&&e.current&&t&&a&&!p.current&&(e.current.innerHTML="",O())},[d,g?.videoId,h,e,t,a,n,s,l,O]),(0,r.useEffect)(function(){return()=>{w()}},[]),{player:g,flushPlayer:v,forceReload:j}}},702185:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){if(!document)return!1;let t=document.createElement("input");if(t.setAttribute("style","position: absolute; left: -2000px"),t.setAttribute("value",e),document.body.appendChild(t),navigator.userAgent.match(/ipad|ipod|iphone/i)){t.contentEditable=!0,t.readOnly=!1;let e=document.createRange();e.selectNodeContents(t);let n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(e)),t.setSelectionRange(0,999999)}else t.select();try{return document.execCommand("copy"),document.body.removeChild(t),!0}catch(e){return document.body.removeChild(t),!1}}},298467:function(e,t,n){n.d(t,{Y0:function(){return s},g7:function(){return a},ms:function(){return l}});var r=n(867932),o=n(900409);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}let a="comment_context",s=3,l=e=>({comment_context:new o.EventContext(a,s,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))})},297715:function(e,t,n){n.d(t,{Qt:function(){return d},wr:function(){return l},zi:function(){return u}});var r=n(867932),o=n(900409),i=n(126371);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let l="video_context",u=7,c=(0,i.LF)(["content_rating","duration","is_auto_cc_enabled","is_demo","orientation","resolution","title","upload_method_api","upload_method_api_id","video_embed_privacy","video_height","video_owner_id","video_privacy","video_width","has_embed_available","video_categories","video_version_id","existing_like_counts","existing_comment_counts","existing_view_counts","listed_categories_counts","has_like_available","has_watch_later_available","has_share_available","has_embed_available","viewer_home_session_id"]),d=e=>({video_context:new o.EventContext(l,u,s(s({},c),e))})},297099:function(e,t,n){n.d(t,{TA:function(){return d},pV:function(){return u},su:function(){return l}});var r=n(867932),o=n(900409),i=n(126371);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let l="video_view_context",u=4,c=(0,i.LF)(["has_like_available","has_watch_later_available","has_share_available","has_comment_available","existing_like_counts","existing_comment_counts","existing_view_counts","listed_categories_counts","has_ai","viewer_home_view_mode"]),d=e=>({video_view_context:new o.EventContext(l,u,s(s({},c),e))})},74987:function(e,t,n){n.d(t,{m:function(){return l}});var r=n(867932),o=n(908258),i=n(291615);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){let n="function"==typeof e?e():e,r=n?(0,i.l)(n?.where.videoId):null,a=n?s(s({},n),{},{query:s(s({},n?.query),r&&{password:r})}):null;return(0,o.rw)(a,t)}},45093:function(e,t,n){n.d(t,{r:function(){return l}});var r=n(867932),o=n(908258),i=n(291615);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(){let[e,t]=(0,o.Yu)();return[async t=>{let n=(0,i.l)(t?.where.videoId);return e(s(s({},t),{},{query:s({},n&&{password:n})}))},t]}},291615:function(e,t,n){n.d(t,{l:function(){return o}});var r=n(257095);let o=e=>{let t=`${e}_password`;return(0,r.hL)(t)}}}]);
//# sourceMappingURL=69359-f1f32812ba88b5f2.js.map